var HP=Object.defineProperty,$P=Object.defineProperties,zP=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,WP=Object.prototype.hasOwnProperty,GP=Object.prototype.propertyIsEnumerable,bE=(ct,Le,F)=>Le in ct?HP(ct,Le,{enumerable:!0,configurable:!0,writable:!0,value:F}):ct[Le]=F,Iu=(ct,Le)=>{for(var F in Le||(Le={}))WP.call(Le,F)&&bE(ct,F,Le[F]);if(_E)for(var F of _E(Le))GP.call(Le,F)&&bE(ct,F,Le[F]);return ct},Jy=(ct,Le)=>$P(ct,zP(Le));(self.webpackChunkenspect=self.webpackChunkenspect||[]).push([[179],{8255:ct=>{function Le(F){return Promise.resolve().then(()=>{var A=new Error("Cannot find module '"+F+"'");throw A.code="MODULE_NOT_FOUND",A})}Le.keys=()=>[],Le.resolve=Le,Le.id=8255,ct.exports=Le},8583:(ct,Le,F)=>{"use strict";F.d(Le,{mr:()=>Ae,ez:()=>Li,K0:()=>ue,Do:()=>je,Nd:()=>ac,V_:()=>W,Ye:()=>Ke,S$:()=>Pe,mk:()=>gi,sg:()=>li,O5:()=>dr,PC:()=>Tr,RF:()=>mi,n9:()=>po,ED:()=>Bo,tP:()=>Di,b0:()=>ge,lw:()=>oe,EM:()=>Mi,JF:()=>as,NF:()=>hl,w_:()=>ce,bD:()=>Ki,q:()=>z,Mx:()=>os,HT:()=>ee});var A=F(8720);let b=null;function z(){return b}function ee(q){b||(b=q)}class ce{}const ue=new A.OlP("DocumentToken");let oe=(()=>{class q{historyGo(C){throw new Error("Not implemented")}}return q.\u0275fac=function(C){return new(C||q)},q.\u0275prov=(0,A.Yz7)({factory:j,token:q,providedIn:"platform"}),q})();function j(){return(0,A.LFG)(ne)}const W=new A.OlP("Location Initialized");let ne=(()=>{class q extends oe{constructor(C){super(),this._doc=C,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(C){const y=z().getGlobalEventTarget(this._doc,"window");return y.addEventListener("popstate",C,!1),()=>y.removeEventListener("popstate",C)}onHashChange(C){const y=z().getGlobalEventTarget(this._doc,"window");return y.addEventListener("hashchange",C,!1),()=>y.removeEventListener("hashchange",C)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(C){this.location.pathname=C}pushState(C,y,w){G()?this._history.pushState(C,y,w):this.location.hash=w}replaceState(C,y,w){G()?this._history.replaceState(C,y,w):this.location.hash=w}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return q.\u0275fac=function(C){return new(C||q)(A.LFG(ue))},q.\u0275prov=(0,A.Yz7)({factory:le,token:q,providedIn:"platform"}),q})();function G(){return!!window.history.pushState}function le(){return new ne((0,A.LFG)(ue))}function Ce(q,me){if(0==q.length)return me;if(0==me.length)return q;let C=0;return q.endsWith("/")&&C++,me.startsWith("/")&&C++,2==C?q+me.substring(1):1==C?q+me:q+"/"+me}function ae(q){const me=q.match(/#|\?|$/),C=me&&me.index||q.length;return q.slice(0,C-("/"===q[C-1]?1:0))+q.slice(C)}function _e(q){return q&&"?"!==q[0]?"?"+q:q}let Pe=(()=>{class q{historyGo(C){throw new Error("Not implemented")}}return q.\u0275fac=function(C){return new(C||q)},q.\u0275prov=(0,A.Yz7)({factory:De,token:q,providedIn:"root"}),q})();function De(q){const me=(0,A.LFG)(ue).location;return new ge((0,A.LFG)(oe),me&&me.origin||"")}const Ae=new A.OlP("appBaseHref");let ge=(()=>{class q extends Pe{constructor(C,y){if(super(),this._platformLocation=C,this._removeListenerFns=[],null==y&&(y=this._platformLocation.getBaseHrefFromDOM()),null==y)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=y}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return Ce(this._baseHref,C)}path(C=!1){const y=this._platformLocation.pathname+_e(this._platformLocation.search),w=this._platformLocation.hash;return w&&C?`${y}${w}`:y}pushState(C,y,w,V){const Z=this.prepareExternalUrl(w+_e(V));this._platformLocation.pushState(C,y,Z)}replaceState(C,y,w,V){const Z=this.prepareExternalUrl(w+_e(V));this._platformLocation.replaceState(C,y,Z)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(C=0){var y,w;null===(w=(y=this._platformLocation).historyGo)||void 0===w||w.call(y,C)}}return q.\u0275fac=function(C){return new(C||q)(A.LFG(oe),A.LFG(Ae,8))},q.\u0275prov=A.Yz7({token:q,factory:q.\u0275fac}),q})(),je=(()=>{class q extends Pe{constructor(C,y){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=y&&(this._baseHref=y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let y=this._platformLocation.hash;return null==y&&(y="#"),y.length>0?y.substring(1):y}prepareExternalUrl(C){const y=Ce(this._baseHref,C);return y.length>0?"#"+y:y}pushState(C,y,w,V){let Z=this.prepareExternalUrl(w+_e(V));0==Z.length&&(Z=this._platformLocation.pathname),this._platformLocation.pushState(C,y,Z)}replaceState(C,y,w,V){let Z=this.prepareExternalUrl(w+_e(V));0==Z.length&&(Z=this._platformLocation.pathname),this._platformLocation.replaceState(C,y,Z)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(C=0){var y,w;null===(w=(y=this._platformLocation).historyGo)||void 0===w||w.call(y,C)}}return q.\u0275fac=function(C){return new(C||q)(A.LFG(oe),A.LFG(Ae,8))},q.\u0275prov=A.Yz7({token:q,factory:q.\u0275fac}),q})(),Ke=(()=>{class q{constructor(C,y){this._subject=new A.vpe,this._urlChangeListeners=[],this._platformStrategy=C;const w=this._platformStrategy.getBaseHref();this._platformLocation=y,this._baseHref=ae(Ye(w)),this._platformStrategy.onPopState(V=>{this._subject.emit({url:this.path(!0),pop:!0,state:V.state,type:V.type})})}path(C=!1){return this.normalize(this._platformStrategy.path(C))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(C,y=""){return this.path()==this.normalize(C+_e(y))}normalize(C){return q.stripTrailingSlash(function(q,me){return q&&me.startsWith(q)?me.substring(q.length):me}(this._baseHref,Ye(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._platformStrategy.prepareExternalUrl(C)}go(C,y="",w=null){this._platformStrategy.pushState(w,"",C,y),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+_e(y)),w)}replaceState(C,y="",w=null){this._platformStrategy.replaceState(w,"",C,y),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+_e(y)),w)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(C=0){var y,w;null===(w=(y=this._platformStrategy).historyGo)||void 0===w||w.call(y,C)}onUrlChange(C){this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(y=>{this._notifyUrlChangeListeners(y.url,y.state)}))}_notifyUrlChangeListeners(C="",y){this._urlChangeListeners.forEach(w=>w(C,y))}subscribe(C,y,w){return this._subject.subscribe({next:C,error:y,complete:w})}}return q.\u0275fac=function(C){return new(C||q)(A.LFG(Pe),A.LFG(oe))},q.normalizeQueryParams=_e,q.joinWithSlash=Ce,q.stripTrailingSlash=ae,q.\u0275prov=(0,A.Yz7)({factory:Mt,token:q,providedIn:"root"}),q})();function Mt(){return new Ke((0,A.LFG)(Pe),(0,A.LFG)(oe))}function Ye(q){return q.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Zero=0]="Zero",re[re.One=1]="One",re[re.Two=2]="Two",re[re.Few=3]="Few",re[re.Many=4]="Many",re[re.Other=5]="Other",re))();const oi=A.kL8;class Yr{}let _n=(()=>{class q extends Yr{constructor(C){super(),this.locale=C}getPluralCategory(C,y){switch(oi(y||this.locale)(C)){case re.Zero:return"zero";case re.One:return"one";case re.Two:return"two";case re.Few:return"few";case re.Many:return"many";default:return"other"}}}return q.\u0275fac=function(C){return new(C||q)(A.LFG(A.soG))},q.\u0275prov=A.Yz7({token:q,factory:q.\u0275fac}),q})();function os(q,me){me=encodeURIComponent(me);for(const C of q.split(";")){const y=C.indexOf("="),[w,V]=-1==y?[C,""]:[C.slice(0,y),C.slice(y+1)];if(w.trim()===me)return decodeURIComponent(V)}return null}let gi=(()=>{class q{constructor(C,y,w,V){this._iterableDiffers=C,this._keyValueDiffers=y,this._ngEl=w,this._renderer=V,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(C){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof C?C.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(C){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof C?C.split(/\s+/):C,this._rawClass&&((0,A.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const C=this._iterableDiffer.diff(this._rawClass);C&&this._applyIterableChanges(C)}else if(this._keyValueDiffer){const C=this._keyValueDiffer.diff(this._rawClass);C&&this._applyKeyValueChanges(C)}}_applyKeyValueChanges(C){C.forEachAddedItem(y=>this._toggleClass(y.key,y.currentValue)),C.forEachChangedItem(y=>this._toggleClass(y.key,y.currentValue)),C.forEachRemovedItem(y=>{y.previousValue&&this._toggleClass(y.key,!1)})}_applyIterableChanges(C){C.forEachAddedItem(y=>{if("string"!=typeof y.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,A.AaK)(y.item)}`);this._toggleClass(y.item,!0)}),C.forEachRemovedItem(y=>this._toggleClass(y.item,!1))}_applyClasses(C){C&&(Array.isArray(C)||C instanceof Set?C.forEach(y=>this._toggleClass(y,!0)):Object.keys(C).forEach(y=>this._toggleClass(y,!!C[y])))}_removeClasses(C){C&&(Array.isArray(C)||C instanceof Set?C.forEach(y=>this._toggleClass(y,!1)):Object.keys(C).forEach(y=>this._toggleClass(y,!1)))}_toggleClass(C,y){(C=C.trim())&&C.split(/\s+/g).forEach(w=>{y?this._renderer.addClass(this._ngEl.nativeElement,w):this._renderer.removeClass(this._ngEl.nativeElement,w)})}}return q.\u0275fac=function(C){return new(C||q)(A.Y36(A.ZZ4),A.Y36(A.aQg),A.Y36(A.SBq),A.Y36(A.Qsj))},q.\u0275dir=A.lG2({type:q,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),q})();class Pi{constructor(me,C,y,w){this.$implicit=me,this.ngForOf=C,this.index=y,this.count=w}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let li=(()=>{class q{constructor(C,y,w){this._viewContainer=C,this._template=y,this._differs=w,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;if(!this._differ&&C)try{this._differ=this._differs.find(C).create(this.ngForTrackBy)}catch(y){throw new Error(`Cannot find a differ supporting object '${C}' of type '${function(q){return q.name||typeof q}(C)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const y=[];C.forEachOperation((w,V,Z)=>{if(null==w.previousIndex){const be=this._viewContainer.createEmbeddedView(this._template,new Pi(null,this._ngForOf,-1,-1),null===Z?void 0:Z),We=new Es(w,be);y.push(We)}else if(null==Z)this._viewContainer.remove(null===V?void 0:V);else if(null!==V){const be=this._viewContainer.get(V);this._viewContainer.move(be,Z);const We=new Es(w,be);y.push(We)}});for(let w=0;w<y.length;w++)this._perViewChange(y[w].view,y[w].record);for(let w=0,V=this._viewContainer.length;w<V;w++){const Z=this._viewContainer.get(w);Z.context.index=w,Z.context.count=V,Z.context.ngForOf=this._ngForOf}C.forEachIdentityChange(w=>{this._viewContainer.get(w.currentIndex).context.$implicit=w.item})}_perViewChange(C,y){C.context.$implicit=y.item}static ngTemplateContextGuard(C,y){return!0}}return q.\u0275fac=function(C){return new(C||q)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))},q.\u0275dir=A.lG2({type:q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),q})();class Es{constructor(me,C){this.record=me,this.view=C}}let dr=(()=>{class q{constructor(C,y){this._viewContainer=C,this._context=new to,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=y}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){Fo("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){Fo("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,y){return!0}}return q.\u0275fac=function(C){return new(C||q)(A.Y36(A.s_b),A.Y36(A.Rgc))},q.\u0275dir=A.lG2({type:q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),q})();class to{constructor(){this.$implicit=null,this.ngIf=null}}function Fo(q,me){if(me&&!me.createEmbeddedView)throw new Error(`${q} must be a TemplateRef, but received '${(0,A.AaK)(me)}'.`)}class Gs{constructor(me,C){this._viewContainerRef=me,this._templateRef=C,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(me){me&&!this._created?this.create():!me&&this._created&&this.destroy()}}let mi=(()=>{class q{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(C){this._ngSwitch=C,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(C){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(C)}_matchCase(C){const y=C==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),y}_updateDefaultCases(C){if(this._defaultViews&&C!==this._defaultUsed){this._defaultUsed=C;for(let y=0;y<this._defaultViews.length;y++)this._defaultViews[y].enforceState(C)}}}return q.\u0275fac=function(C){return new(C||q)},q.\u0275dir=A.lG2({type:q,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),q})(),po=(()=>{class q{constructor(C,y,w){this.ngSwitch=w,w._addCase(),this._view=new Gs(C,y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return q.\u0275fac=function(C){return new(C||q)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(mi,9))},q.\u0275dir=A.lG2({type:q,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),q})(),Bo=(()=>{class q{constructor(C,y,w){w._addDefault(new Gs(C,y))}}return q.\u0275fac=function(C){return new(C||q)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(mi,9))},q.\u0275dir=A.lG2({type:q,selectors:[["","ngSwitchDefault",""]]}),q})(),Tr=(()=>{class q{constructor(C,y,w){this._ngEl=C,this._differs=y,this._renderer=w,this._ngStyle=null,this._differ=null}set ngStyle(C){this._ngStyle=C,!this._differ&&C&&(this._differ=this._differs.find(C).create())}ngDoCheck(){if(this._differ){const C=this._differ.diff(this._ngStyle);C&&this._applyChanges(C)}}_setStyle(C,y){const[w,V]=C.split(".");null!=(y=null!=y&&V?`${y}${V}`:y)?this._renderer.setStyle(this._ngEl.nativeElement,w,y):this._renderer.removeStyle(this._ngEl.nativeElement,w)}_applyChanges(C){C.forEachRemovedItem(y=>this._setStyle(y.key,null)),C.forEachAddedItem(y=>this._setStyle(y.key,y.currentValue)),C.forEachChangedItem(y=>this._setStyle(y.key,y.currentValue))}}return q.\u0275fac=function(C){return new(C||q)(A.Y36(A.SBq),A.Y36(A.aQg),A.Y36(A.Qsj))},q.\u0275dir=A.lG2({type:q,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),q})(),Di=(()=>{class q{constructor(C){this._viewContainerRef=C,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(C){if(C.ngTemplateOutlet){const y=this._viewContainerRef;this._viewRef&&y.remove(y.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?y.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&C.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return q.\u0275fac=function(C){return new(C||q)(A.Y36(A.s_b))},q.\u0275dir=A.lG2({type:q,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[A.TTD]}),q})(),ac=(()=>{class q{constructor(C){this.differs=C,this.keyValues=[],this.compareFn=Vo}transform(C,y=Vo){if(!C||!(C instanceof Map)&&"object"!=typeof C)return null;this.differ||(this.differ=this.differs.find(C).create());const w=this.differ.diff(C),V=y!==this.compareFn;return w&&(this.keyValues=[],w.forEachItem(Z=>{this.keyValues.push(function(q,me){return{key:q,value:me}}(Z.key,Z.currentValue))})),(w||V)&&(this.keyValues.sort(y),this.compareFn=y),this.keyValues}}return q.\u0275fac=function(C){return new(C||q)(A.Y36(A.aQg,16))},q.\u0275pipe=A.Yjl({name:"keyvalue",type:q,pure:!1}),q})();function Vo(q,me){const C=q.key,y=me.key;if(C===y)return 0;if(void 0===C)return 1;if(void 0===y)return-1;if(null===C)return 1;if(null===y)return-1;if("string"==typeof C&&"string"==typeof y)return C<y?-1:1;if("number"==typeof C&&"number"==typeof y)return C-y;if("boolean"==typeof C&&"boolean"==typeof y)return C<y?-1:1;const w=String(C),V=String(y);return w==V?0:w<V?-1:1}let Li=(()=>{class q{}return q.\u0275fac=function(C){return new(C||q)},q.\u0275mod=A.oAB({type:q}),q.\u0275inj=A.cJS({providers:[{provide:Yr,useClass:_n}]}),q})();const Ki="browser";function hl(q){return q===Ki}let Mi=(()=>{class q{}return q.\u0275prov=(0,A.Yz7)({token:q,providedIn:"root",factory:()=>new Yi((0,A.LFG)(ue),window)}),q})();class Yi{constructor(me,C){this.document=me,this.window=C,this.offset=()=>[0,0]}setOffset(me){this.offset=Array.isArray(me)?()=>me:me}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(me){this.supportsScrolling()&&this.window.scrollTo(me[0],me[1])}scrollToAnchor(me){if(!this.supportsScrolling())return;const C=function(q,me){const C=q.getElementById(me)||q.getElementsByName(me)[0];if(C)return C;if("function"==typeof q.createTreeWalker&&q.body&&(q.body.createShadowRoot||q.body.attachShadow)){const y=q.createTreeWalker(q.body,NodeFilter.SHOW_ELEMENT);let w=y.currentNode;for(;w;){const V=w.shadowRoot;if(V){const Z=V.getElementById(me)||V.querySelector(`[name="${me}"]`);if(Z)return Z}w=y.nextNode()}}return null}(this.document,me);C&&(this.scrollToElement(C),this.attemptFocus(C))}setHistoryScrollRestoration(me){if(this.supportScrollRestoration()){const C=this.window.history;C&&C.scrollRestoration&&(C.scrollRestoration=me)}}scrollToElement(me){const C=me.getBoundingClientRect(),y=C.left+this.window.pageXOffset,w=C.top+this.window.pageYOffset,V=this.offset();this.window.scrollTo(y-V[0],w-V[1])}attemptFocus(me){return me.focus(),this.document.activeElement===me}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const me=ps(this.window.history)||ps(Object.getPrototypeOf(this.window.history));return!(!me||!me.writable&&!me.set)}catch(me){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(me){return!1}}}function ps(q){return Object.getOwnPropertyDescriptor(q,"scrollRestoration")}class as{}},8720:(ct,Le,F)=>{"use strict";F.d(Le,{deG:()=>xr,tb:()=>MT,AFp:()=>OT,ip1:()=>z0,CZH:()=>tg,hGG:()=>WO,z2F:()=>Hm,sBO:()=>Lx,Sil:()=>jm,_Vd:()=>Qp,EJc:()=>IT,SBq:()=>sc,qLn:()=>Na,vpe:()=>oc,gxx:()=>jd,tBr:()=>Wu,XFs:()=>an,OlP:()=>hr,zs3:()=>Ei,ZZ4:()=>My,aQg:()=>Ay,soG:()=>Hy,YKP:()=>mC,v3s:()=>xO,h0i:()=>Oh,PXZ:()=>yO,R0b:()=>ul,FiY:()=>Ma,Lbi:()=>DT,g9A:()=>PT,Qsj:()=>Cx,FYo:()=>Dy,JOm:()=>Hi,Tiy:()=>y0,q3G:()=>ti,tp0:()=>Sl,EAV:()=>PO,Rgc:()=>Dm,dDg:()=>LT,DyG:()=>Ya,GfV:()=>lC,s_b:()=>Ry,ifc:()=>ir,eFA:()=>HT,G48:()=>dO,Gpc:()=>Ce,_c5:()=>BO,VLi:()=>cO,c2e:()=>AT,zSh:()=>Bc,wAp:()=>wn,vHH:()=>De,EiD:()=>Pn,mCW:()=>qu,qzn:()=>Aa,JVY:()=>au,pB0:()=>Wh,eBb:()=>Tf,L6k:()=>Cf,LAX:()=>Ef,cg1:()=>Sh,Tjo:()=>LO,kL8:()=>Tm,yhl:()=>bf,dqk:()=>En,sIi:()=>Cr,CqO:()=>Fp,QGY:()=>dm,F4k:()=>Wv,RDi:()=>q,AaK:()=>ne,z3N:()=>Jo,qOj:()=>it,TTD:()=>yo,_Bn:()=>rC,xp6:()=>Kf,uIk:()=>Qg,Gre:()=>Rr,ekj:()=>vm,Suo:()=>iT,Xpm:()=>Vn,lG2:()=>Lr,Yz7:()=>fn,cJS:()=>Rn,oAB:()=>Gi,Yjl:()=>Oi,Y36:()=>Bl,_UZ:()=>lm,BQk:()=>Jd,ynx:()=>um,qZA:()=>Zd,TgZ:()=>am,EpF:()=>cm,n5z:()=>te,Ikx:()=>Xt,LFG:()=>Vi,$8M:()=>Ve,NdJ:()=>fm,CRH:()=>sT,kcU:()=>Jr,O4$:()=>Lu,oxw:()=>Yv,ALo:()=>ZC,lcZ:()=>JC,Hsn:()=>Ch,F$t:()=>Xv,Q6J:()=>Lp,VKq:()=>zC,WLB:()=>WC,kEZ:()=>GC,iGM:()=>nT,MAs:()=>Yg,Jf7:()=>mu,CHM:()=>kn,oJD:()=>tl,LSH:()=>Ku,kYT:()=>Qi,Udp:()=>$p,YNc:()=>Kg,W1O:()=>uT,_uU:()=>xh,hij:()=>zp,Gf:()=>rT});var A=F(7709),b=F(5319),z=F(7574),de=F(6682),ee=F(4458),ce=F(1307);function ue(){return new A.xQ}function j(e){for(let t in e)if(e[t]===j)return t;throw Error("Could not find renamed property on target object.")}function W(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ne(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ne).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function G(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const le=j({__forward_ref__:j});function Ce(e){return e.__forward_ref__=Ce,e.toString=function(){return ne(this())},e}function ae(e){return _e(e)?e():e}function _e(e){return"function"==typeof e&&e.hasOwnProperty(le)&&e.__forward_ref__===Ce}class De extends Error{constructor(t,r){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,r)),this.code=t}}function je(e){return"string"==typeof e?e:null==e?"":String(e)}function Ke(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():je(e)}function Y(e,t){const r=t?` in ${t}`:"";throw new De("201",`No provider for ${Ke(e)} found${r}`)}function jt(e,t){null==e&&function(e,t,r,l){throw new Error(`ASSERTION ERROR: ${e}`+(null==l?"":` [Expected=> ${r} ${l} ${t} <=Actual]`))}(t,e,null,"!=")}function fn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Rn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Sr(e){return Tn(e,wi)||Tn(e,qn)}function Tn(e,t){return e.hasOwnProperty(t)?e[t]:null}function rr(e){return e&&(e.hasOwnProperty(Nr)||e.hasOwnProperty(Wi))?e[Nr]:null}const wi=j({\u0275prov:j}),Nr=j({\u0275inj:j}),qn=j({ngInjectableDef:j}),Wi=j({ngInjectorDef:j});var an=(()=>((an=an||{})[an.Default=0]="Default",an[an.Host=1]="Host",an[an.Self=2]="Self",an[an.SkipSelf=4]="SkipSelf",an[an.Optional=8]="Optional",an))();let Hn;function Mr(e){const t=Hn;return Hn=e,t}function gr(e,t,r){const l=Sr(e);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:r&an.Optional?null:void 0!==t?t:void Y(ne(e),"Injector")}function Jn(e){return{toString:e}.toString()}var Kt=(()=>((Kt=Kt||{})[Kt.OnPush=0]="OnPush",Kt[Kt.Default=1]="Default",Kt))(),ir=(()=>((ir=ir||{})[ir.Emulated=0]="Emulated",ir[ir.None=2]="None",ir[ir.ShadowDom=3]="ShadowDom",ir))();const Wr="undefined"!=typeof globalThis&&globalThis,Is="undefined"!=typeof window&&window,Si="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,En=Wr||"undefined"!=typeof global&&global||Is||Si,pn={},Fn=[],hi=j({\u0275cmp:j}),ss=j({\u0275dir:j}),fo=j({\u0275pipe:j}),Oe=j({\u0275mod:j}),Ne=j({\u0275loc:j}),qe=j({\u0275fac:j}),pt=j({__NG_ELEMENT_ID__:j});let Ht=0;function Vn(e){return Jn(()=>{const r={},l={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Fn,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ir.Emulated,id:"c",styles:e.styles||Fn,_:null,setInput:null,schemas:e.schemas||null,tView:null},f=e.directives,h=e.features,_=e.pipes;return l.id+=Ht++,l.inputs=Et(e.inputs,r),l.outputs=Et(e.outputs),h&&h.forEach(x=>x(l)),l.directiveDefs=f?()=>("function"==typeof f?f():f).map(sr):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(mr):null,l})}function sr(e){return er(e)||function(e){return e[ss]||null}(e)}function mr(e){return function(e){return e[fo]||null}(e)}const nn={};function Gi(e){return Jn(()=>{const t={type:e.type,bootstrap:e.bootstrap||Fn,declarations:e.declarations||Fn,imports:e.imports||Fn,exports:e.exports||Fn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(nn[e.id]=e.type),t})}function Qi(e,t){return Jn(()=>{const r=ai(e,!0);r.declarations=t.declarations||Fn,r.imports=t.imports||Fn,r.exports=t.exports||Fn})}function Et(e,t){if(null==e)return pn;const r={};for(const l in e)if(e.hasOwnProperty(l)){let f=e[l],h=f;Array.isArray(f)&&(h=f[1],f=f[0]),r[f]=l,t&&(t[f]=h)}return r}const Lr=Vn;function Oi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function er(e){return e[hi]||null}function ai(e,t){const r=e[Oe]||null;if(!r&&!0===t)throw new Error(`Type ${ne(e)} does not have '\u0275mod' property.`);return r}function Tr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Di(e){return Array.isArray(e)&&!0===e[1]}function Dr(e){return 0!=(8&e.flags)}function $n(e){return 2==(2&e.flags)}function no(e){return 1==(1&e.flags)}function Br(e){return null!==e.template}function ja(e){return 0!=(512&e[2])}function Ki(e,t){return e.hasOwnProperty(qe)?e[qe]:null}class vo{constructor(t,r,l){this.previousValue=t,this.currentValue=r,this.firstChange=l}isFirstChange(){return this.firstChange}}function yo(){return fl}function fl(e){return e.type.prototype.ngOnChanges&&(e.setInput=Kc),hl}function hl(){const e=jo(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===pn)e.previous=t;else for(let l in t)r[l]=t[l];e.current=null,this.ngOnChanges(t)}}function Kc(e,t,r,l){const f=jo(e)||function(e,t){return e[fr]=t}(e,{previous:pn,current:null}),h=f.current||(f.current={}),_=f.previous,x=this.declaredInputs[r],M=_[x];h[x]=new vo(M&&M.currentValue,t,_===pn),e[l]=t}yo.ngInherit=!0;const fr="__ngSimpleChanges__";function jo(e){return e[fr]||null}const _o="http://www.w3.org/2000/svg";let as;function q(e){as=e}function me(){return void 0!==as?as:"undefined"!=typeof document?document:void 0}function y(e){return!!e.listen}const V={createRenderer:(e,t)=>me()};function be(e){for(;Array.isArray(e);)e=e[0];return e}function rt(e,t){return be(t[e])}function ut(e,t){return be(t[e.index])}function St(e,t){return e.data[t]}function It(e,t){return e[t]}function zt(e,t){const r=t[e];return Tr(r)?r:r[0]}function Gt(e){return 4==(4&e[2])}function Wt(e){return 128==(128&e[2])}function un(e,t){return null==t?null:e[t]}function Wn(e){e[18]=0}function ur(e,t){e[5]+=t;let r=e,l=e[3];for(;null!==l&&(1===t&&1===r[5]||-1===t&&0===r[5]);)l[5]+=t,r=l,l=l[3]}const tn={lFrame:yi(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vi(){return tn.bindingsEnabled}function Nt(){return tn.lFrame.lView}function Zn(){return tn.lFrame.tView}function kn(e){return tn.lFrame.contextLView=e,e[8]}function Ar(){let e=Ga();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ga(){return tn.lFrame.currentTNode}function Zr(e,t){const r=tn.lFrame;r.currentTNode=e,r.isParent=t}function ci(){return tn.lFrame.isParent}function Hr(){tn.lFrame.isParent=!1}function Ss(){return tn.isInCheckNoChangesMode}function $r(e){tn.isInCheckNoChangesMode=e}function gs(){const e=tn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ho(){return tn.lFrame.bindingIndex++}function Bi(e){const t=tn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Ru(e,t){const r=tn.lFrame;r.bindingIndex=r.bindingRootIndex=e,ro(t)}function ro(e){tn.lFrame.currentDirectiveIndex=e}function ba(){return tn.lFrame.currentQueryIndex}function Ks(e){tn.lFrame.currentQueryIndex=e}function lc(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Ca(e,t,r){if(r&an.SkipSelf){let f=t,h=e;for(;!(f=f.parent,null!==f||r&an.Host||(f=lc(h),null===f||(h=h[15],10&f.type))););if(null===f)return!1;t=f,e=h}const l=tn.lFrame=bo();return l.currentTNode=t,l.lView=e,!0}function ms(e){const t=bo(),r=e[1];tn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function bo(){const e=tn.lFrame,t=null===e?null:e.child;return null===t?yi(e):t}function yi(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Nu(){const e=tn.lFrame;return tn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ql=Nu;function Qa(){const e=Nu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _i(){return tn.lFrame.selectedIndex}function vs(e){tn.lFrame.selectedIndex=e}function Gr(){const e=tn.lFrame;return St(e.tView,e.selectedIndex)}function Lu(){tn.lFrame.currentNamespace=_o}function Jr(){tn.lFrame.currentNamespace=null}function To(e,t){for(let r=t.directiveStart,l=t.directiveEnd;r<l;r++){const h=e.data[r].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:x,ngAfterViewInit:M,ngAfterViewChecked:$,ngOnDestroy:se}=h;_&&(e.contentHooks||(e.contentHooks=[])).push(-r,_),x&&((e.contentHooks||(e.contentHooks=[])).push(r,x),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,x)),M&&(e.viewHooks||(e.viewHooks=[])).push(-r,M),$&&((e.viewHooks||(e.viewHooks=[])).push(r,$),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,$)),null!=se&&(e.destroyHooks||(e.destroyHooks=[])).push(r,se)}}function ml(e,t,r){Fu(e,t,3,r)}function Ta(e,t,r,l){(3&e[2])===r&&Fu(e,t,r,l)}function Ii(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function Fu(e,t,r,l){const h=null!=l?l:-1,_=t.length-1;let x=0;for(let M=void 0!==l?65535&e[18]:0;M<_;M++)if("number"==typeof t[M+1]){if(x=t[M],null!=l&&x>=l)break}else t[M]<0&&(e[18]+=65536),(x<h||-1==h)&&(qa(e,r,t,M),e[18]=(4294901760&e[18])+M+2),M++}function qa(e,t,r,l){const f=r[l]<0,h=r[l+1],x=e[f?-r[l]:r[l]];if(f){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{h.call(x)}finally{}}}else try{h.call(x)}finally{}}class Ea{constructor(t,r,l){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=l}}function ls(e,t,r){const l=y(e);let f=0;for(;f<r.length;){const h=r[f];if("number"==typeof h){if(0!==h)break;f++;const _=r[f++],x=r[f++],M=r[f++];l?e.setAttribute(t,x,M,_):t.setAttributeNS(_,x,M)}else{const _=h,x=r[++f];Ys(_)?l&&e.setProperty(t,_,x):l?e.setAttribute(t,_,x):t.setAttribute(_,x),f++}}return f}function xa(e){return 3===e||4===e||6===e}function Ys(e){return 64===e.charCodeAt(0)}function Eo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?r=f:0===r||uc(e,r,f,null,-1===r||2===r?t[++l]:null)}}return e}function uc(e,t,r,l,f){let h=0,_=e.length;if(-1===t)_=-1;else for(;h<e.length;){const x=e[h++];if("number"==typeof x){if(x===t){_=-1;break}if(x>t){_=h-1;break}}}for(;h<e.length;){const x=e[h];if("number"==typeof x)break;if(x===r){if(null===l)return void(null!==f&&(e[h+1]=f));if(l===e[h+1])return void(e[h+2]=f)}h++,null!==l&&h++,null!==f&&h++}-1!==_&&(e.splice(_,0,t),h=_+1),e.splice(h++,0,r),null!==l&&e.splice(h++,0,l),null!==f&&e.splice(h++,0,f)}function Vu(e){return-1!==e}function wa(e){return 32767&e}function Qo(e,t){let r=function(e){return e>>16}(e),l=t;for(;r>0;)l=l[15],r--;return l}let qo=!0;function ju(e){const t=qo;return qo=e,t}let Sa=0;function ki(e,t){const r=Ka(e,t);if(-1!==r)return r;const l=t[1];l.firstCreatePass&&(e.injectorIndex=t.length,dc(l.data,e),dc(t,null),dc(l.blueprint,null));const f=bl(e,t),h=e.injectorIndex;if(Vu(f)){const _=wa(f),x=Qo(f,t),M=x[1].data;for(let $=0;$<8;$++)t[h+$]=x[_+$]|M[_+$]}return t[h+8]=f,h}function dc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ka(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function bl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,l=null,f=t;for(;null!==f;){const h=f[1],_=h.type;if(l=2===_?h.declTNode:1===_?f[6]:null,null===l)return-1;if(r++,f=f[15],-1!==l.injectorIndex)return l.injectorIndex|r<<16}return-1}function Oa(e,t,r){!function(e,t,r){let l;"string"==typeof r?l=r.charCodeAt(0)||0:r.hasOwnProperty(pt)&&(l=r[pt]),null==l&&(l=r[pt]=Sa++);const f=255&l;t.data[e+(f>>5)]|=1<<f}(e,t,r)}function Zc(e,t,r){if(r&an.Optional)return e;Y(t,"NodeInjector")}function Os(e,t,r,l){if(r&an.Optional&&void 0===l&&(l=null),0==(r&(an.Self|an.Host))){const f=e[9],h=Mr(void 0);try{return f?f.get(t,l,r&an.Optional):gr(t,l,r&an.Optional)}finally{Mr(h)}}return Zc(l,t,r)}function Ci(e,t,r,l=an.Default,f){if(null!==e){const h=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(pt)?e[pt]:void 0;return"number"==typeof t?t>=0?255&t:Jl:t}(r);if("function"==typeof h){if(!Ca(t,e,l))return l&an.Host?Zc(f,r,l):Os(t,r,l,f);try{const _=h(l);if(null!=_||l&an.Optional)return _;Y(r)}finally{ql()}}else if("number"==typeof h){let _=null,x=Ka(e,t),M=-1,$=l&an.Host?t[16][6]:null;for((-1===x||l&an.SkipSelf)&&(M=-1===x?bl(e,t):t[x+8],-1!==M&&P(l,!1)?(_=t[1],x=wa(M),t=Qo(M,t)):x=-1);-1!==x;){const se=t[1];if(D(h,x,se.data)){const Ee=fc(x,t,r,_,l,$);if(Ee!==Ko)return Ee}M=t[x+8],-1!==M&&P(l,t[1].data[x+8]===$)&&D(h,x,t)?(_=se,x=wa(M),t=Qo(M,t)):x=-1}}}return Os(t,r,l,f)}const Ko={};function Jl(){return new H(Ar(),Nt())}function fc(e,t,r,l,f,h){const _=t[1],x=_.data[e+8],se=Hu(x,_,r,null==l?$n(x)&&qo:l!=_&&0!=(3&x.type),f&an.Host&&h===x);return null!==se?Ps(t,_,se,x):Ko}function Hu(e,t,r,l,f){const h=e.providerIndexes,_=t.data,x=1048575&h,M=e.directiveStart,se=h>>20,Ie=f?x+se:e.directiveEnd;for(let $e=l?x:x+se;$e<Ie;$e++){const Xe=_[$e];if($e<M&&r===Xe||$e>=M&&Xe.type===r)return $e}if(f){const $e=_[M];if($e&&Br($e)&&$e.type===r)return M}return null}function Ps(e,t,r,l){let f=e[r];const h=t.data;if(function(e){return e instanceof Ea}(f)){const _=f;_.resolving&&function(e,t){throw new De("200",`Circular dependency in DI detected for ${e}`)}(Ke(h[r]));const x=ju(_.canSeeViewProviders);_.resolving=!0;const M=_.injectImpl?Mr(_.injectImpl):null;Ca(e,l,an.Default);try{f=e[r]=_.factory(void 0,h,e,l),t.firstCreatePass&&r>=l.directiveStart&&function(e,t,r){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:h}=t.type.prototype;if(l){const _=fl(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,_),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,_)}f&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,f),h&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,h),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,h))}(r,h[r],t)}finally{null!==M&&Mr(M),ju(x),_.resolving=!1,ql()}}return f}function D(e,t,r){return!!(r[t+(e>>5)]&1<<e)}function P(e,t){return!(e&an.Self||e&an.Host&&t)}class H{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,l){return Ci(this._tNode,this._lView,t,l,r)}}function te(e){return Jn(()=>{const t=e.prototype.constructor,r=t[qe]||ye(t),l=Object.prototype;let f=Object.getPrototypeOf(e.prototype).constructor;for(;f&&f!==l;){const h=f[qe]||ye(f);if(h&&h!==r)return h;f=Object.getPrototypeOf(f)}return h=>new h})}function ye(e){return _e(e)?()=>{const t=ye(ae(e));return t&&t()}:Ki(e)}function Ve(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const l=r.length;let f=0;for(;f<l;){const h=r[f];if(xa(h))break;if(0===h)f+=2;else if("number"==typeof h)for(f++;f<l&&"string"==typeof r[f];)f++;else{if(h===t)return r[f+1];f+=2}}}return null}(Ar(),e)}const _t="__parameters__";function tr(e,t,r){return Jn(()=>{const l=function(e){return function(...r){if(e){const l=e(...r);for(const f in l)this[f]=l[f]}}}(t);function f(...h){if(this instanceof f)return l.apply(this,h),this;const _=new f(...h);return x.annotation=_,x;function x(M,$,se){const Ee=M.hasOwnProperty(_t)?M[_t]:Object.defineProperty(M,_t,{value:[]})[_t];for(;Ee.length<=se;)Ee.push(null);return(Ee[se]=Ee[se]||[]).push(_),M}}return r&&(f.prototype=Object.create(r.prototype)),f.prototype.ngMetadataName=e,f.annotationCls=f,f})}class hr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=fn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xr=new hr("AnalyzeForEntryComponents"),Ya=Function;function Fs(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let l=e[r];Array.isArray(l)?(t===e&&(t=e.slice(0,r)),Fs(l,t)):t!==e&&t.push(l)}return t}function Yo(e,t){e.forEach(r=>Array.isArray(r)?Yo(r,t):t(r))}function hc(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Xo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function so(e,t){const r=[];for(let l=0;l<e;l++)r.push(t);return r}function Xs(e,t,r){let l=Tl(e,t);return l>=0?e[1|l]=r:(l=~l,function(e,t,r,l){let f=e.length;if(f==t)e.push(r,l);else if(1===f)e.push(l,e[0]),e[0]=r;else{for(f--,e.push(e[f-1],e[f]);f>t;)e[f]=e[f-2],f--;e[t]=r,e[t+1]=l}}(e,l,t,r)),l}function cf(e,t){const r=Tl(e,t);if(r>=0)return e[1|r]}function Tl(e,t){return function(e,t,r){let l=0,f=e.length>>r;for(;f!==l;){const h=l+(f-l>>1),_=e[h<<r];if(t===_)return h<<r;_>t?f=h:l=h+1}return~(f<<r)}(e,t,1)}const tu={},nu="__NG_DI_FLAG__",ru="ngTempTokenPath",pf=/\n/gm,pc="__source",xl=j({provide:String,useValue:j});let ys;function Zo(e){const t=ys;return ys=e,t}function Bs(e,t=an.Default){if(void 0===ys)throw new Error("inject() must be called from an injection context");return null===ys?gr(e,void 0,t):ys.get(e,t&an.Optional?null:void 0,t)}function Vi(e,t=an.Default){return(Hn||Bs)(ae(e),t)}function Da(e){const t=[];for(let r=0;r<e.length;r++){const l=ae(e[r]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let f,h=an.Default;for(let _=0;_<l.length;_++){const x=l[_],M=Uh(x);"number"==typeof M?-1===M?f=x.token:h|=M:f=x}t.push(Vi(f,h))}else t.push(Vi(l))}return t}function wl(e,t){return e[nu]=t,e.prototype[nu]=t,e}function Uh(e){return e[nu]}function Vh(e,t,r,l){const f=e[ru];throw t[pc]&&f.unshift(t[pc]),e.message=function(e,t,r,l=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let f=ne(t);if(Array.isArray(t))f=t.map(ne).join(" -> ");else if("object"==typeof t){let h=[];for(let _ in t)if(t.hasOwnProperty(_)){let x=t[_];h.push(_+":"+("string"==typeof x?JSON.stringify(x):ne(x)))}f=`{${h.join(", ")}}`}return`${r}${l?"("+l+")":""}[${f}]: ${e.replace(pf,"\n  ")}`}("\n"+e.message,f,r,l),e.ngTokenPath=f,e[ru]=null,e}const Wu=wl(tr("Inject",e=>({token:e})),-1),Ma=wl(tr("Optional"),8),Sl=wl(tr("SkipSelf"),4);let Ol,bc;function So(e){var t;return(null===(t=function(){if(void 0===Ol&&(Ol=null,En.trustedTypes))try{Ol=En.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Ol}())||void 0===t?void 0:t.createHTML(e))||e}function Pl(e){var t;return(null===(t=function(){if(void 0===bc&&(bc=null,En.trustedTypes))try{bc=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return bc}())||void 0===t?void 0:t.createHTML(e))||e}class iu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class su extends iu{getTypeName(){return"HTML"}}class ou extends iu{getTypeName(){return"Style"}}class vf extends iu{getTypeName(){return"Script"}}class yf extends iu{getTypeName(){return"URL"}}class _f extends iu{getTypeName(){return"ResourceURL"}}function Jo(e){return e instanceof iu?e.changingThisBreaksApplicationSecurity:e}function Aa(e,t){const r=bf(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===t}function bf(e){return e instanceof iu&&e.getTypeName()||null}function au(e){return new su(e)}function Cf(e){return new ou(e)}function Tf(e){return new vf(e)}function Ef(e){return new yf(e)}function Wh(e){return new _f(e)}class xf{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(So(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class Cc{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const l=this.inertDocument.createElement("body");r.appendChild(l)}}getInertBodyElement(t){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=So(t),r;const l=this.inertDocument.createElement("body");return l.innerHTML=So(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(t){const r=t.attributes;for(let f=r.length-1;0<f;f--){const _=r.item(f).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&t.removeAttribute(_)}let l=t.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const wf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,dd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qu(e){return(e=String(e)).match(wf)||e.match(dd)?e:"unsafe:"+e}function Ia(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Tc(...e){const t={};for(const r of e)for(const l in r)r.hasOwnProperty(l)&&(t[l]=!0);return t}const Sf=Ia("area,br,col,hr,img,wbr"),Ec=Ia("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fd=Ia("rp,rt"),hd=Tc(Sf,Tc(Ec,Ia("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Tc(fd,Ia("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Tc(fd,Ec)),xc=Ia("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dl=Ia("srcset"),gn=Tc(xc,Dl,Ia("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ia("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zi=Ia("script,style,template");class ka{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,l=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?l=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,l&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let f=this.checkClobberedElement(r,r.nextSibling);if(f){r=f;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!hd.hasOwnProperty(r))return this.sanitizedSomething=!0,!Zi.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const l=t.attributes;for(let f=0;f<l.length;f++){const h=l.item(f),_=h.name,x=_.toLowerCase();if(!gn.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let M=h.value;xc[x]&&(M=qu(M)),Dl[x]&&(e=M,M=(e=String(e)).split(",").map(t=>qu(t.trim())).join(", ")),this.buf.push(" ",_,'="',pd(M),'"')}var e;return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();hd.hasOwnProperty(r)&&!Sf.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(pd(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const wc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uu=/([^\#-~ |!])/g;function pd(e){return e.replace(/&/g,"&amp;").replace(wc,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(uu,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cu;function Pn(e,t){let r=null;try{cu=cu||function(e){const t=new Cc(e);return function(){try{return!!(new window.DOMParser).parseFromString(So(""),"text/html")}catch(e){return!1}}()?new xf(t):t}(e);let l=t?String(t):"";r=cu.getInertBodyElement(l);let f=5,h=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=h,h=r.innerHTML,r=cu.getInertBodyElement(l)}while(l!==h);return So((new ka).sanitizeChildren(du(r)||r))}finally{if(r){const l=du(r)||r;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function du(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ti=(()=>((ti=ti||{})[ti.NONE=0]="NONE",ti[ti.HTML=1]="HTML",ti[ti.STYLE=2]="STYLE",ti[ti.SCRIPT=3]="SCRIPT",ti[ti.URL=4]="URL",ti[ti.RESOURCE_URL=5]="RESOURCE_URL",ti))();function tl(e){const t=fu();return t?Pl(t.sanitize(ti.HTML,e)||""):Aa(e,"HTML")?Pl(Jo(e)):Pn(me(),je(e))}function Ku(e){const t=fu();return t?t.sanitize(ti.URL,e)||"":Aa(e,"URL")?Jo(e):qu(je(e))}function fu(){const e=Nt();return e&&e[12]}const _d="__ngContext__";function ni(e,t){e[_d]=t}function Pc(e){const t=function(e){return e[_d]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Mc(e){return e.ngOriginalError}function rn(e,...t){e.error(...t)}class Na{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t),l=this._findContext(t),f=(e=t)&&e.ngErrorLogger||rn;var e;f(this._console,"ERROR",t),r&&f(this._console,"ORIGINAL ERROR",r),l&&f(this._console,"ERROR CONTEXT",l)}_findContext(t){return t?t.ngDebugContext||this._findContext(Mc(t)):null}_findOriginalError(t){let r=t&&Mc(t);for(;r&&Mc(r);)r=Mc(r);return r||null}}const Od=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(En))();function mu(e){return e.ownerDocument.defaultView}function La(e){return e instanceof Function?e():e}var Hi=(()=>((Hi=Hi||{})[Hi.Important=1]="Important",Hi[Hi.DashCase=2]="DashCase",Hi))();function us(e,t){return undefined(e,t)}function bs(e){const t=e[3];return Di(t)?t[3]:t}function Cs(e){return kf(e[13])}function Ju(e){return kf(e[4])}function kf(e){for(;null!==e&&!Di(e);)e=e[4];return e}function Oo(e,t,r,l,f){if(null!=l){let h,_=!1;Di(l)?h=l:Tr(l)&&(_=!0,l=l[0]);const x=be(l);0===e&&null!==r?null==f?Rc(t,r,x):Po(t,r,x,f||null,!0):1===e&&null!==r?Po(t,r,x,f||null,!0):2===e?function(e,t,r){const l=nl(e,t);l&&function(e,t,r,l){y(e)?e.removeChild(t,r,l):t.removeChild(r)}(e,l,t,r)}(t,x,_):3===e&&t.destroyNode(x),null!=h&&function(e,t,r,l,f){const h=r[7];h!==be(r)&&Oo(t,e,l,h,f);for(let x=10;x<r.length;x++){const M=r[x];Lc(M[1],M,e,t,l,h)}}(t,e,h,r,f)}}function kc(e,t,r){return y(e)?e.createElement(t,r):null===r?e.createElement(t):e.createElementNS(r,t)}function rp(e,t){const r=e[9],l=r.indexOf(t),f=t[3];1024&t[2]&&(t[2]&=-1025,ur(f,-1)),r.splice(l,1)}function Dd(e,t){if(e.length<=10)return;const r=10+t,l=e[r];if(l){const f=l[17];null!==f&&f!==e&&rp(f,l),t>0&&(e[r-1][4]=l[4]);const h=Xo(e,10+t);!function(e,t){Lc(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(l[1],l);const _=h[19];null!==_&&_.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Vf(e,t){if(!(256&t[2])){const r=t[11];y(r)&&r.destroyNode&&Lc(e,t,r,3,null,null),function(e){let t=e[13];if(!t)return yu(e[1],e);for(;t;){let r=null;if(Tr(t))r=t[13];else{const l=t[10];l&&(r=l)}if(!r){for(;t&&!t[4]&&t!==e;)Tr(t)&&yu(t[1],t),t=t[3];null===t&&(t=e),Tr(t)&&yu(t[1],t),r=t&&t[4]}t=r}}(t)}}function yu(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let l=0;l<r.length;l+=2){const f=t[r[l]];if(!(f instanceof Ea)){const h=r[l+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const x=f[h[_]],M=h[_+1];try{M.call(x)}finally{}}else try{h.call(f)}finally{}}}}(e,t),function(e,t){const r=e.cleanup,l=t[7];let f=-1;if(null!==r)for(let h=0;h<r.length-1;h+=2)if("string"==typeof r[h]){const _=r[h+1],x="function"==typeof _?_(t):be(t[_]),M=l[f=r[h+2]],$=r[h+3];"boolean"==typeof $?x.removeEventListener(r[h],M,$):$>=0?l[f=$]():l[f=-$].unsubscribe(),h+=2}else{const _=l[f=r[h+1]];r[h].call(_)}if(null!==l){for(let h=f+1;h<l.length;h++)l[h]();t[7]=null}}(e,t),1===t[1].type&&y(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&Di(t[3])){r!==t[3]&&rp(r,t);const l=t[19];null!==l&&l.detachView(e)}}}function sp(e,t,r){return function(e,t,r){let l=t;for(;null!==l&&40&l.type;)l=(t=l).parent;if(null===l)return r[0];if(2&l.flags){const f=e.data[l.directiveStart].encapsulation;if(f===ir.None||f===ir.Emulated)return null}return ut(l,r)}(e,t.parent,r)}function Po(e,t,r,l,f){y(e)?e.insertBefore(t,r,l,f):t.insertBefore(r,l,f)}function Rc(e,t,r){y(e)?e.appendChild(t,r):t.appendChild(r)}function op(e,t,r,l,f){null!==l?Po(e,t,r,l,f):Rc(e,t,r)}function nl(e,t){return y(e)?e.parentNode(t):t.parentNode}function Md(e,t,r){return Hf(e,t,r)}let Hf=function(e,t,r){return 40&e.type?ut(e,r):null};function Nc(e,t,r,l){const f=sp(e,l,t),h=t[11],x=Md(l.parent||t[6],l,t);if(null!=f)if(Array.isArray(r))for(let M=0;M<r.length;M++)op(h,f,r[M],x,!1);else op(h,f,r,x,!1)}function ec(e,t){if(null!==t){const r=t.type;if(3&r)return ut(t,e);if(4&r)return bu(-1,e[t.index]);if(8&r){const l=t.child;if(null!==l)return ec(e,l);{const f=e[t.index];return Di(f)?bu(-1,f):be(f)}}if(32&r)return us(t,e)()||be(e[t.index]);{const l=ap(e,t);return null!==l?Array.isArray(l)?l[0]:ec(bs(e[16]),l):ec(e,t.next)}}return null}function ap(e,t){return null!==t?e[16][6].projection[t.projection]:null}function bu(e,t){const r=10+e+1;if(r<t.length){const l=t[r],f=l[1].firstChild;if(null!==f)return ec(l,f)}return t[7]}function zf(e,t,r,l,f,h,_){for(;null!=r;){const x=l[r.index],M=r.type;if(_&&0===t&&(x&&ni(be(x),l),r.flags|=4),64!=(64&r.flags))if(8&M)zf(e,t,r.child,l,f,h,!1),Oo(t,e,f,x,h);else if(32&M){const $=us(r,l);let se;for(;se=$();)Oo(t,e,f,se,h);Oo(t,e,f,x,h)}else 16&M?Wf(e,t,l,r,f,h):Oo(t,e,f,x,h);r=_?r.projectionNext:r.next}}function Lc(e,t,r,l,f,h){zf(r,l,e.firstChild,t,f,h,!1)}function Wf(e,t,r,l,f,h){const _=r[16],M=_[6].projection[l.projection];if(Array.isArray(M))for(let $=0;$<M.length;$++)Oo(t,e,f,M[$],h);else zf(e,t,M,_[3],f,h,!0)}function lp(e,t,r){y(e)?e.setAttribute(t,"style",r):t.style.cssText=r}function Gf(e,t,r){y(e)?""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r):t.className=r}function up(e,t,r){let l=e.length;for(;;){const f=e.indexOf(t,r);if(-1===f)return f;if(0===f||e.charCodeAt(f-1)<=32){const h=t.length;if(f+h===l||e.charCodeAt(f+h)<=32)return f}r=f+1}}const Qf="ng-template";function cp(e,t,r){let l=0;for(;l<e.length;){let f=e[l++];if(r&&"class"===f){if(f=e[l],-1!==up(f.toLowerCase(),t,0))return!0}else if(1===f){for(;l<e.length&&"string"==typeof(f=e[l++]);)if(f.toLowerCase()===t)return!0;return!1}}return!1}function kd(e){return 4===e.type&&e.value!==Qf}function Rd(e,t,r){return t===(4!==e.type||r?e.value:Qf)}function tc(e,t,r){let l=4;const f=e.attrs||[],h=function(e){for(let t=0;t<e.length;t++)if(xa(e[t]))return t;return e.length}(f);let _=!1;for(let x=0;x<t.length;x++){const M=t[x];if("number"!=typeof M){if(!_)if(4&l){if(l=2|1&l,""!==M&&!Rd(e,M,r)||""===M&&1===t.length){if(ea(l))return!1;_=!0}}else{const $=8&l?M:t[++x];if(8&l&&null!==e.attrs){if(!cp(e.attrs,$,r)){if(ea(l))return!1;_=!0}continue}const Ee=wg(8&l?"class":M,f,kd(e),r);if(-1===Ee){if(ea(l))return!1;_=!0;continue}if(""!==$){let Ie;Ie=Ee>h?"":f[Ee+1].toLowerCase();const $e=8&l?Ie:null;if($e&&-1!==up($e,$,0)||2&l&&$!==Ie){if(ea(l))return!1;_=!0}}}}else{if(!_&&!ea(l)&&!ea(M))return!1;if(_&&ea(M))continue;_=!1,l=M|1&l}}return ea(l)||_}function ea(e){return 0==(1&e)}function wg(e,t,r,l){if(null===t)return-1;let f=0;if(l||!r){let h=!1;for(;f<t.length;){const _=t[f];if(_===e)return f;if(3===_||6===_)h=!0;else{if(1===_||2===_){let x=t[++f];for(;"string"==typeof x;)x=t[++f];continue}if(4===_)break;if(0===_){f+=4;continue}}f+=h?1:2}return-1}return function(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const l=e[r];if("number"==typeof l)return-1;if(l===t)return r;r++}return-1}(t,e)}function Nd(e,t,r=!1){for(let l=0;l<t.length;l++)if(tc(e,t[l],r))return!0;return!1}function Og(e,t){e:for(let r=0;r<t.length;r++){const l=t[r];if(e.length===l.length){for(let f=0;f<e.length;f++)if(e[f]!==l[f])continue e;return!0}}return!1}function fp(e,t){return e?":not("+t.trim()+")":t}function Pg(e){let t=e[0],r=1,l=2,f="",h=!1;for(;r<e.length;){let _=e[r];if("string"==typeof _)if(2&l){const x=e[++r];f+="["+_+(x.length>0?'="'+x+'"':"")+"]"}else 8&l?f+="."+_:4&l&&(f+=" "+_);else""!==f&&!ea(_)&&(t+=fp(h,f),f=""),l=_,h=h||!ea(l);r++}return""!==f&&(t+=fp(h,f)),t}const Nn={};function Kf(e){pp(Zn(),Nt(),_i()+e,Ss())}function pp(e,t,r,l){if(!l)if(3==(3&t[2])){const h=e.preOrderCheckHooks;null!==h&&ml(t,h,r)}else{const h=e.preOrderHooks;null!==h&&Ta(t,h,0,r)}vs(r)}function Fd(e,t){return e<<17|t<<2}function ta(e){return e>>17&32767}function Xf(e){return 2|e}function rl(e){return(131068&e)>>2}function Zf(e,t){return-131069&e|t<<2}function Jf(e){return 1|e}function sa(e,t){const r=e.contentQueries;if(null!==r)for(let l=0;l<r.length;l+=2){const f=r[l],h=r[l+1];if(-1!==h){const _=e.data[h];Ks(f),_.contentQueries(2,t[h],h)}}}function Vr(e,t,r,l,f,h,_,x,M,$){const se=t.blueprint.slice();return se[0]=f,se[2]=140|l,Wn(se),se[3]=se[15]=e,se[8]=r,se[10]=_||e&&e[10],se[11]=x||e&&e[11],se[12]=M||e&&e[12]||null,se[9]=$||e&&e[9]||null,se[6]=h,se[16]=2==t.type?e[16]:se,se}function Tu(e,t,r,l,f){let h=e.data[t];if(null===h)h=function(e,t,r,l,f){const h=Ga(),_=ci(),M=e.data[t]=function(e,t,r,l,f,h){return{type:r,index:l,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,r,t,l,f);return null===e.firstChild&&(e.firstChild=M),null!==h&&(_?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M)),M}(e,t,r,l,f),tn.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=r,h.value=l,h.attrs=f;const _=function(){const e=tn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Zr(h,!0),h}function Fa(e,t,r,l){if(0===r)return-1;const f=t.length;for(let h=0;h<r;h++)t.push(l),e.blueprint.push(l),e.data.push(null);return f}function kl(e,t,r){ms(t);try{const l=e.viewQuery;null!==l&&Cp(1,l,r);const f=e.template;null!==f&&ov(e,t,f,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&sa(e,t),e.staticViewQueries&&Cp(2,e.viewQuery,r);const h=e.components;null!==h&&function(e,t){for(let r=0;r<t.length;r++)Eu(e,t[r])}(t,h)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[2]&=-5,Qa()}}function Io(e,t,r,l){const f=t[2];if(256==(256&f))return;ms(t);const h=Ss();try{Wn(t),function(e){tn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&ov(e,t,r,2,l);const _=3==(3&f);if(!h)if(_){const $=e.preOrderCheckHooks;null!==$&&ml(t,$,null)}else{const $=e.preOrderHooks;null!==$&&Ta(t,$,0,null),Ii(t,0)}if(function(e){for(let t=Cs(e);null!==t;t=Ju(t)){if(!t[2])continue;const r=t[9];for(let l=0;l<r.length;l++){const f=r[l],h=f[3];0==(1024&f[2])&&ur(h,1),f[2]|=1024}}}(t),function(e){for(let t=Cs(e);null!==t;t=Ju(t))for(let r=10;r<t.length;r++){const l=t[r],f=l[1];Wt(l)&&Io(f,l,f.template,l[8])}}(t),null!==e.contentQueries&&sa(e,t),!h)if(_){const $=e.contentCheckHooks;null!==$&&ml(t,$)}else{const $=e.contentHooks;null!==$&&Ta(t,$,1),Ii(t,1)}!function(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let l=0;l<r.length;l++){const f=r[l];if(f<0)vs(~f);else{const h=f,_=r[++l],x=r[++l];Ru(_,h),x(2,t[h])}}}finally{vs(-1)}}(e,t);const x=e.components;null!==x&&function(e,t){for(let r=0;r<t.length;r++)d_(e,t[r])}(t,x);const M=e.viewQuery;if(null!==M&&Cp(2,M,l),!h)if(_){const $=e.viewCheckHooks;null!==$&&ml(t,$)}else{const $=e.viewHooks;null!==$&&Ta(t,$,2),Ii(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),h||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ur(t[3],-1))}finally{Qa()}}function eh(e,t,r,l){const f=t[10],h=!Ss(),_=Gt(t);try{h&&!_&&f.begin&&f.begin(),_&&kl(e,t,l),Io(e,t,r,l)}finally{h&&!_&&f.end&&f.end()}}function ov(e,t,r,l,f){const h=_i(),_=2&l;try{vs(-1),_&&t.length>20&&pp(e,t,20,Ss()),r(l,f)}finally{vs(h)}}function av(e,t,r){if(Dr(t)){const f=t.directiveEnd;for(let h=t.directiveStart;h<f;h++){const _=e.data[h];_.contentQueries&&_.contentQueries(1,r[h],h)}}}function vp(e,t,r){!vi()||(function(e,t,r,l){const f=r.directiveStart,h=r.directiveEnd;e.firstCreatePass||ki(r,t),ni(l,t);const _=r.initialInputs;for(let x=f;x<h;x++){const M=e.data[x],$=Br(M);$&&yp(t,r,M);const se=Ps(t,e,x,r);ni(se,t),null!==_&&Vd(0,x-f,se,M,0,_),$&&(zt(r.index,t)[8]=se)}}(e,t,r,ut(r,t)),128==(128&r.flags)&&function(e,t,r){const l=r.directiveStart,f=r.directiveEnd,_=r.index,x=tn.lFrame.currentDirectiveIndex;try{vs(_);for(let M=l;M<f;M++){const $=e.data[M],se=t[M];ro(M),(null!==$.hostBindings||0!==$.hostVars||null!==$.hostAttrs)&&fv($,se)}}finally{vs(-1),ro(x)}}(e,t,r))}function Ag(e,t,r=ut){const l=t.localNames;if(null!==l){let f=t.index+1;for(let h=0;h<l.length;h+=2){const _=l[h+1],x=-1===_?r(t,e):e[_];e[f++]=x}}}function th(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function nh(e,t,r,l,f,h,_,x,M,$){const se=20+l,Ee=se+f,Ie=function(e,t){const r=[];for(let l=0;l<t;l++)r.push(l<e?null:Nn);return r}(se,Ee),$e="function"==typeof $?$():$;return Ie[1]={type:e,blueprint:Ie,template:r,queries:null,viewQuery:x,declTNode:t,data:Ie.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:M,consts:$e,incompleteFirstPass:!1}}function Fc(e,t,r,l){const f=Bg(t);null===r?f.push(l):(f.push(r),e.firstCreatePass&&yv(e).push(l,f.length-1))}function lv(e,t,r){for(let l in e)if(e.hasOwnProperty(l)){const f=e[l];(r=null===r?{}:r).hasOwnProperty(l)?r[l].push(t,f):r[l]=[t,f]}return r}function oa(e,t,r,l,f,h,_,x){const M=ut(t,r);let se,$=t.inputs;!x&&null!=$&&(se=$[l])?(Cv(e,r,se,l,f),$n(t)&&function(e,t){const r=zt(t,e);16&r[2]||(r[2]|=64)}(r,t.index)):3&t.type&&(l=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(l),f=null!=_?_(f,t.value||"",l):f,y(h)?h.setProperty(M,l,f):Ys(l)||(M.setProperty?M.setProperty(l,f):M[l]=f))}function kg(e,t,r,l){let f=!1;if(vi()){const h=function(e,t,r){const l=e.directiveRegistry;let f=null;if(l)for(let h=0;h<l.length;h++){const _=l[h];Nd(r,_.selectors,!1)&&(f||(f=[]),Oa(ki(r,t),e,_.type),Br(_)?(Rg(e,r),f.unshift(_)):f.push(_))}return f}(e,t,r),_=null===l?null:{"":-1};if(null!==h){f=!0,hv(r,e.data.length,h.length);for(let se=0;se<h.length;se++){const Ee=h[se];Ee.providersResolver&&Ee.providersResolver(Ee)}let x=!1,M=!1,$=Fa(e,t,h.length,null);for(let se=0;se<h.length;se++){const Ee=h[se];r.mergedAttrs=Eo(r.mergedAttrs,Ee.hostAttrs),Ng(e,r,t,$,Ee),oh($,Ee,_),null!==Ee.contentQueries&&(r.flags|=8),(null!==Ee.hostBindings||null!==Ee.hostAttrs||0!==Ee.hostVars)&&(r.flags|=128);const Ie=Ee.type.prototype;!x&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),x=!0),!M&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),M=!0),$++}!function(e,t){const l=t.directiveEnd,f=e.data,h=t.attrs,_=[];let x=null,M=null;for(let $=t.directiveStart;$<l;$++){const se=f[$],Ee=se.inputs,Ie=null===h||kd(t)?null:pv(Ee,h);_.push(Ie),x=lv(Ee,$,x),M=lv(se.outputs,$,M)}null!==x&&(x.hasOwnProperty("class")&&(t.flags|=16),x.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=_,t.inputs=x,t.outputs=M}(e,r)}_&&function(e,t,r){if(t){const l=e.localNames=[];for(let f=0;f<t.length;f+=2){const h=r[t[f+1]];if(null==h)throw new De("301",`Export of name '${t[f+1]}' not found!`);l.push(t[f],h)}}}(r,l,_)}return r.mergedAttrs=Eo(r.mergedAttrs,r.attrs),f}function Ud(e,t,r,l,f,h){const _=h.hostBindings;if(_){let x=e.hostBindingOpCodes;null===x&&(x=e.hostBindingOpCodes=[]);const M=~t.index;(function(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(x)!=M&&x.push(M),x.push(l,f,_)}}function fv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Rg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function oh(e,t,r){if(r){if(t.exportAs)for(let l=0;l<t.exportAs.length;l++)r[t.exportAs[l]]=e;Br(t)&&(r[""]=e)}}function hv(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function Ng(e,t,r,l,f){e.data[l]=f;const h=f.factory||(f.factory=Ki(f.type)),_=new Ea(h,Br(f),null);e.blueprint[l]=_,r[l]=_,Ud(e,t,0,l,Fa(e,r,f.hostVars,Nn),f)}function yp(e,t,r){const l=ut(t,e),f=th(r),h=e[10],_=_p(e,Vr(e,f,null,r.onPush?64:16,l,t,h,h.createRenderer(l,r),null,null));e[t.index]=_}function Rl(e,t,r,l,f,h){const _=ut(e,t);!function(e,t,r,l,f,h,_){if(null==h)y(e)?e.removeAttribute(t,f,r):t.removeAttribute(f);else{const x=null==_?je(h):_(h,l||"",f);y(e)?e.setAttribute(t,f,x,r):r?t.setAttributeNS(r,f,x):t.setAttribute(f,x)}}(t[11],_,h,e.value,r,l,f)}function Vd(e,t,r,l,f,h){const _=h[t];if(null!==_){const x=l.setInput;for(let M=0;M<_.length;){const $=_[M++],se=_[M++],Ee=_[M++];null!==x?l.setInput(r,Ee,$,se):r[se]=Ee}}}function pv(e,t){let r=null,l=0;for(;l<t.length;){const f=t[l];if(0!==f)if(5!==f){if("number"==typeof f)break;e.hasOwnProperty(f)&&(null===r&&(r=[]),r.push(f,e[f],t[l+1])),l+=2}else l+=2;else l+=4}return r}function Fg(e,t,r,l){return new Array(e,!0,!1,t,null,0,l,r,null,null)}function d_(e,t){const r=zt(t,e);if(Wt(r)){const l=r[1];80&r[2]?Io(l,r,l.template,r[8]):r[5]>0&&ah(r)}}function ah(e){for(let l=Cs(e);null!==l;l=Ju(l))for(let f=10;f<l.length;f++){const h=l[f];if(1024&h[2]){const _=h[1];Io(_,h,_.template,h[8])}else h[5]>0&&ah(h)}const r=e[1].components;if(null!==r)for(let l=0;l<r.length;l++){const f=zt(r[l],e);Wt(f)&&f[5]>0&&ah(f)}}function Eu(e,t){const r=zt(t,e),l=r[1];(function(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])})(l,r),kl(l,r,r[8])}function _p(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function lh(e){for(;e;){e[2]|=64;const t=bs(e);if(ja(e)&&!t)return e;e=t}return null}function bp(e,t,r){const l=t[10];l.begin&&l.begin();try{Io(e,t,e.template,r)}catch(f){throw bv(t,f),f}finally{l.end&&l.end()}}function sl(e){!function(e){for(let t=0;t<e.components.length;t++){const r=e.components[t],l=Pc(r),f=l[1];eh(f,l,f.template,r)}}(e[8])}function Cp(e,t,r){Ks(0),t(e,r)}const vv=(()=>Promise.resolve(null))();function Bg(e){return e[7]||(e[7]=[])}function yv(e){return e.cleanup||(e.cleanup=[])}function bv(e,t){const r=e[9],l=r?r.get(Na,null):null;l&&l.handleError(t)}function Cv(e,t,r,l,f){for(let h=0;h<r.length;){const _=r[h++],x=r[h++],M=t[_],$=e.data[_];null!==$.setInput?$.setInput(M,f,l,x):M[x]=f}}function Nl(e,t,r){const l=rt(t,e);!function(e,t,r){y(e)?e.setValue(t,r):t.textContent=r}(e[11],l,r)}function Tp(e,t,r){let l=r?e.styles:null,f=r?e.classes:null,h=0;if(null!==t)for(let _=0;_<t.length;_++){const x=t[_];"number"==typeof x?h=x:1==h?f=G(f,x):2==h&&(l=G(l,x+": "+t[++_]+";"))}r?e.styles=l:e.stylesWithoutHost=l,r?e.classes=f:e.classesWithoutHost=f}const jd=new hr("INJECTOR",-1);class ch{get(t,r=tu){if(r===tu){const l=new Error(`NullInjectorError: No provider for ${ne(t)}!`);throw l.name="NullInjectorError",l}return r}}const Bc=new hr("Set Injector scope."),dh={},m_={};let Ug;function fh(){return void 0===Ug&&(Ug=new ch),Ug}function Ev(e,t=null,r=null,l){return new v_(e,r,t||fh(),l)}class v_{constructor(t,r,l,f=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];r&&Yo(r,x=>this.processProvider(x,t,r)),Yo([t],x=>this.processInjectorType(x,[],h)),this.records.set(jd,Hd(void 0,this));const _=this.records.get(Bc);this.scope=null!=_?_.value:null,this.source=f||("object"==typeof t?null:ne(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,r=tu,l=an.Default){this.assertNotDestroyed();const f=Zo(this),h=Mr(void 0);try{if(!(l&an.SkipSelf)){let x=this.records.get(t);if(void 0===x){const M=("function"==typeof(e=t)||"object"==typeof e&&e instanceof hr)&&Sr(t);x=M&&this.injectableDefInScope(M)?Hd(Vg(t),dh):null,this.records.set(t,x)}if(null!=x)return this.hydrate(t,x)}return(l&an.Self?fh():this.parent).get(t,r=l&an.Optional&&r===tu?null:r)}catch(_){if("NullInjectorError"===_.name){if((_[ru]=_[ru]||[]).unshift(ne(t)),f)throw _;return Vh(_,t,"R3InjectorError",this.source)}throw _}finally{Mr(h),Zo(f)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((l,f)=>t.push(ne(f))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,r,l){if(!(t=ae(t)))return!1;let f=rr(t);const h=null==f&&t.ngModule||void 0,_=void 0===h?t:h,x=-1!==l.indexOf(_);if(void 0!==h&&(f=rr(h)),null==f)return!1;if(null!=f.imports&&!x){let se;l.push(_);try{Yo(f.imports,Ee=>{this.processInjectorType(Ee,r,l)&&(void 0===se&&(se=[]),se.push(Ee))})}finally{}if(void 0!==se)for(let Ee=0;Ee<se.length;Ee++){const{ngModule:Ie,providers:$e}=se[Ee];Yo($e,Xe=>this.processProvider(Xe,Ie,$e||Fn))}}this.injectorDefTypes.add(_);const M=Ki(_)||(()=>new _);this.records.set(_,Hd(M,dh));const $=f.providers;if(null!=$&&!x){const se=t;Yo($,Ee=>this.processProvider(Ee,se,$))}return void 0!==h&&void 0!==t.providers}processProvider(t,r,l){let f=$d(t=ae(t))?t:ae(t&&t.provide);const h=wv(e=t)?Hd(void 0,e.useValue):Hd(xv(e),dh);var e;if($d(t)||!0!==t.multi)this.records.get(f);else{let _=this.records.get(f);_||(_=Hd(void 0,dh,!0),_.factory=()=>Da(_.multi),this.records.set(f,_)),f=t,_.multi.push(t)}this.records.set(f,h)}hydrate(t,r){return r.value===dh&&(r.value=m_,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(e=r.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const r=ae(t.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function Vg(e){const t=Sr(e),r=null!==t?t.factory:Ki(e);if(null!==r)return r;if(e instanceof hr)throw new Error(`Token ${ne(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const l=so(t,"?");throw new Error(`Can't resolve all parameters for ${ne(e)}: (${l.join(", ")}).`)}const r=function(e){const t=e&&(e[wi]||e[qn]);if(t){const r=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Error("unreachable")}function xv(e,t,r){let l;if($d(e)){const f=ae(e);return Ki(f)||Vg(f)}if(wv(e))l=()=>ae(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))l=()=>e.useFactory(...Da(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))l=()=>Vi(ae(e.useExisting));else{const f=ae(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ki(f)||Vg(f);l=()=>new f(...Da(e.deps))}return l}function Hd(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function wv(e){return null!==e&&"object"==typeof e&&xl in e}function $d(e){return"function"==typeof e}const Ov=function(e,t,r){return function(e,t=null,r=null,l){const f=Ev(e,t,r,l);return f._resolveInjectorDefTypes(),f}({name:r},t,e,r)};let Ei=(()=>{class e{static create(r,l){return Array.isArray(r)?Ov(r,l,""):Ov(r.providers,r.parent,r.name||"")}}return e.THROW_IF_NOT_FOUND=tu,e.NULL=new ch,e.\u0275prov=fn({token:e,providedIn:"any",factory:()=>Vi(jd)}),e.__NG_ELEMENT_ID__=-1,e})();function we(e,t){To(Pc(e)[1],Ar())}function it(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const l=[e];for(;t;){let f;if(Br(e))f=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");f=t.\u0275dir}if(f){if(r){l.push(f);const _=e;_.inputs=xt(e.inputs),_.declaredInputs=xt(e.declaredInputs),_.outputs=xt(e.outputs);const x=f.hostBindings;x&&Jt(e,x);const M=f.viewQuery,$=f.contentQueries;if(M&&wt(e,M),$&&$t(e,$),W(e.inputs,f.inputs),W(e.declaredInputs,f.declaredInputs),W(e.outputs,f.outputs),Br(f)&&f.data.animation){const se=e.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const h=f.features;if(h)for(let _=0;_<h.length;_++){const x=h[_];x&&x.ngInherit&&x(e),x===it&&(r=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,r=null;for(let l=e.length-1;l>=0;l--){const f=e[l];f.hostVars=t+=f.hostVars,f.hostAttrs=Eo(f.hostAttrs,r=Eo(r,f.hostAttrs))}}(l)}function xt(e){return e===pn?{}:e===Fn?[]:e}function wt(e,t){const r=e.viewQuery;e.viewQuery=r?(l,f)=>{t(l,f),r(l,f)}:t}function $t(e,t){const r=e.contentQueries;e.contentQueries=r?(l,f,h)=>{t(l,f,h),r(l,f,h)}:t}function Jt(e,t){const r=e.hostBindings;e.hostBindings=r?(l,f)=>{t(l,f),r(l,f)}:t}let pr=null;function Qr(){if(!pr){const e=En.Symbol;if(e&&e.iterator)pr=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<t.length;++r){const l=t[r];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(pr=l)}}}return pr}class ii{constructor(t){this.wrapped=t}static wrap(t){return new ii(t)}static unwrap(t){return ii.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ii}}function Cr(e){return!!ko(e)&&(Array.isArray(e)||!(e instanceof Map)&&Qr()in e)}function ko(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ns(e,t,r){return e[t]=r}function zi(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function ca(e,t,r,l){const f=zi(e,t,r);return zi(e,t+1,l)||f}function Qg(e,t,r,l){const f=Nt();return zi(f,Ho(),t)&&(Zn(),Rl(Gr(),f,e,t,r,l)),Qg}function Wd(e,t,r,l){return zi(e,Ho(),r)?t+je(r)+l:Nn}function Kg(e,t,r,l,f,h,_,x){const M=Nt(),$=Zn(),se=e+20,Ee=$.firstCreatePass?function(e,t,r,l,f,h,_,x,M){const $=t.consts,se=Tu(t,e,4,_||null,un($,x));kg(t,r,se,un($,M)),To(t,se);const Ee=se.tViews=nh(2,se,l,f,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,$);return null!==t.queries&&(t.queries.template(t,se),Ee.queries=t.queries.embeddedTView(se)),se}(se,$,M,t,r,l,f,h,_):$.data[se];Zr(Ee,!1);const Ie=M[11].createComment("");Nc($,M,Ie,Ee),ni(Ie,M),_p(M,M[se]=Fg(Ie,M,Ie,Ee)),no(Ee)&&vp($,M,Ee),null!=_&&Ag(M,Ee,x)}function Yg(e){return It(tn.lFrame.contextLView,20+e)}function Bl(e,t=an.Default){const r=Nt();return null===r?Vi(e,t):Ci(Ar(),r,ae(e),t)}function Lp(e,t,r){const l=Nt();return zi(l,Ho(),t)&&oa(Zn(),Gr(),l,e,t,l[11],r,!1),Lp}function _h(e,t,r,l,f){const _=f?"class":"style";Cv(e,r,t.inputs[_],_,l)}function am(e,t,r,l){const f=Nt(),h=Zn(),_=20+e,x=f[11],M=f[_]=kc(x,t,tn.lFrame.currentNamespace),$=h.firstCreatePass?function(e,t,r,l,f,h,_){const x=t.consts,$=Tu(t,e,2,f,un(x,h));return kg(t,r,$,un(x,_)),null!==$.attrs&&Tp($,$.attrs,!1),null!==$.mergedAttrs&&Tp($,$.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,$),$}(_,h,f,0,t,r,l):h.data[_];Zr($,!0);const se=$.mergedAttrs;null!==se&&ls(x,M,se);const Ee=$.classes;null!==Ee&&Gf(x,M,Ee);const Ie=$.styles;null!==Ie&&lp(x,M,Ie),64!=(64&$.flags)&&Nc(h,f,M,$),0===tn.lFrame.elementDepthCount&&ni(M,f),tn.lFrame.elementDepthCount++,no($)&&(vp(h,f,$),av(h,$,f)),null!==l&&Ag(f,$)}function Zd(){let e=Ar();ci()?Hr():(e=e.parent,Zr(e,!1));const t=e;tn.lFrame.elementDepthCount--;const r=Zn();r.firstCreatePass&&(To(r,e),Dr(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&_h(r,t,Nt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&_h(r,t,Nt(),t.stylesWithoutHost,!1)}function lm(e,t,r,l){am(e,t,r,l),Zd()}function um(e,t,r){const l=Nt(),f=Zn(),h=e+20,_=f.firstCreatePass?function(e,t,r,l,f){const h=t.consts,_=un(h,l),x=Tu(t,e,8,"ng-container",_);return null!==_&&Tp(x,_,!0),kg(t,r,x,un(h,f)),null!==t.queries&&t.queries.elementStart(t,x),x}(h,f,l,t,r):f.data[h];Zr(_,!0);const x=l[h]=l[11].createComment("");Nc(f,l,x,_),ni(x,l),no(_)&&(vp(f,l,_),av(f,_,l)),null!=r&&Ag(l,_)}function Jd(){let e=Ar();const t=Zn();ci()?Hr():(e=e.parent,Zr(e,!1)),t.firstCreatePass&&(To(t,e),Dr(e)&&t.queries.elementEnd(e))}function cm(){return Nt()}function dm(e){return!!e&&"function"==typeof e.then}function Wv(e){return!!e&&"function"==typeof e.subscribe}const Fp=Wv;function fm(e,t,r,l){const f=Nt(),h=Zn(),_=Ar();return function(e,t,r,l,f,h,_,x){const M=no(l),se=e.firstCreatePass&&yv(e),Ee=t[8],Ie=Bg(t);let $e=!0;if(3&l.type||x){const at=ut(l,t),Vt=x?x(at):at,At=Ie.length,vn=x?Bn=>x(be(Bn[l.index])):l.index;if(y(r)){let Bn=null;if(!x&&M&&(Bn=function(e,t,r,l){const f=e.cleanup;if(null!=f)for(let h=0;h<f.length-1;h+=2){const _=f[h];if(_===r&&f[h+1]===l){const x=t[7],M=f[h+2];return x.length>M?x[M]:null}"string"==typeof _&&(h+=2)}return null}(e,t,f,l.index)),null!==Bn)(Bn.__ngLastListenerFn__||Bn).__ngNextListenerFn__=h,Bn.__ngLastListenerFn__=h,$e=!1;else{h=hm(l,t,Ee,h,!1);const _r=r.listen(Vt,f,h);Ie.push(h,_r),se&&se.push(f,vn,At,At+1)}}else h=hm(l,t,Ee,h,!0),Vt.addEventListener(f,h,_),Ie.push(h),se&&se.push(f,vn,At,_)}else h=hm(l,t,Ee,h,!1);const Xe=l.outputs;let mt;if($e&&null!==Xe&&(mt=Xe[f])){const at=mt.length;if(at)for(let Vt=0;Vt<at;Vt+=2){const $s=t[mt[Vt]][mt[Vt+1]].subscribe(h),$l=Ie.length;Ie.push(h,$s),se&&se.push(f,l.index,$l,-($l+1))}}}(h,f,f[11],_,e,t,!!r,l),fm}function Kv(e,t,r,l){try{return!1!==r(l)}catch(f){return bv(e,f),!1}}function hm(e,t,r,l,f){return function h(_){if(_===Function)return l;const x=2&e.flags?zt(e.index,t):t;0==(32&t[2])&&lh(x);let M=Kv(t,0,l,_),$=h.__ngNextListenerFn__;for(;$;)M=Kv(t,0,$,_)&&M,$=$.__ngNextListenerFn__;return f&&!1===M&&(_.preventDefault(),_.returnValue=!1),M}}function Yv(e=1){return function(e){return(tn.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,tn.lFrame.contextLView))[8]}(e)}function z_(e,t){let r=null;const l=function(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(0==(1&r))return t[r+1]}return null}(e);for(let f=0;f<t.length;f++){const h=t[f];if("*"!==h){if(null===l?Nd(e,h,!0):Og(l,h))return f}else r=f}return r}function Xv(e){const t=Nt()[16][6];if(!t.projection){const l=t.projection=so(e?e.length:1,null),f=l.slice();let h=t.child;for(;null!==h;){const _=e?z_(h,e):0;null!==_&&(f[_]?f[_].projectionNext=h:l[_]=h,f[_]=h),h=h.next}}}function Ch(e,t=0,r){const l=Nt(),f=Zn(),h=Tu(f,20+e,16,null,r||null);null===h.projection&&(h.projection=t),Hr(),64!=(64&h.flags)&&function(e,t,r){Wf(t[11],0,t,r,sp(e,r,t),Md(r.parent||t[6],r,t))}(f,l,h)}function ry(e,t,r,l,f){const h=e[r+1],_=null===t;let x=l?ta(h):rl(h),M=!1;for(;0!==x&&(!1===M||_);){const se=e[x+1];iy(e[x],t)&&(M=!0,e[x+1]=l?Jf(se):Xf(se)),x=l?ta(se):rl(se)}M&&(e[r+1]=l?Xf(h):Jf(h))}function iy(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Tl(e,t)>=0}const ds={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jp(e){return e.substring(ds.key,ds.keyEnd)}function sy(e,t){const r=ds.textEnd;return r===t?-1:(t=ds.keyEnd=function(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,ds.key=t,r),tf(e,t,r))}function tf(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function $p(e,t,r){return al(e,t,r,!1),$p}function vm(e,t){return al(e,t,null,!0),vm}function Ul(e,t){for(let r=function(e){return function(e){ds.key=0,ds.keyEnd=0,ds.value=0,ds.valueEnd=0,ds.textEnd=e.length}(e),sy(e,tf(e,0,ds.textEnd))}(t);r>=0;r=sy(t,r))Xs(e,jp(t),!0)}function al(e,t,r,l){const f=Nt(),h=Zn(),_=Bi(2);h.firstUpdatePass&&uy(h,e,_,l),t!==Nn&&zi(f,_,t)&&_m(h,h.data[_i()],f,f[11],e,f[_+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ne(Jo(e)))),e}(t,r),l,_)}function ly(e,t){return t>=e.expandoStartIndex}function uy(e,t,r,l){const f=e.data;if(null===f[r+1]){const h=f[_i()],_=ly(e,r);Cm(h,l)&&null===t&&!_&&(t=!1),t=function(e,t,r,l){const f=function(e){const t=tn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let h=l?t.residualClasses:t.residualStyles;if(null===f)0===(l?t.classBindings:t.styleBindings)&&(r=Su(r=ic(null,e,t,r,l),t.attrs,l),h=null);else{const _=t.directiveStylingLast;if(-1===_||e[_]!==f)if(r=ic(f,e,t,r,l),null===h){let M=function(e,t,r){const l=r?t.classBindings:t.styleBindings;if(0!==rl(l))return e[ta(l)]}(e,t,l);void 0!==M&&Array.isArray(M)&&(M=ic(null,e,t,M[1],l),M=Su(M,t.attrs,l),function(e,t,r,l){e[ta(r?t.classBindings:t.styleBindings)]=l}(e,t,l,M))}else h=function(e,t,r){let l;const f=t.directiveEnd;for(let h=1+t.directiveStylingLast;h<f;h++)l=Su(l,e[h].hostAttrs,r);return Su(l,t.attrs,r)}(e,t,l)}return void 0!==h&&(l?t.residualClasses=h:t.residualStyles=h),r}(f,h,t,l),function(e,t,r,l,f,h){let _=h?t.classBindings:t.styleBindings,x=ta(_),M=rl(_);e[l]=r;let se,$=!1;if(Array.isArray(r)){const Ee=r;se=Ee[1],(null===se||Tl(Ee,se)>0)&&($=!0)}else se=r;if(f)if(0!==M){const Ie=ta(e[x+1]);e[l+1]=Fd(Ie,x),0!==Ie&&(e[Ie+1]=Zf(e[Ie+1],l)),e[x+1]=function(e,t){return 131071&e|t<<17}(e[x+1],l)}else e[l+1]=Fd(x,0),0!==x&&(e[x+1]=Zf(e[x+1],l)),x=l;else e[l+1]=Fd(M,0),0===x?x=l:e[M+1]=Zf(e[M+1],l),M=l;$&&(e[l+1]=Xf(e[l+1])),ry(e,se,l,!0),ry(e,se,l,!1),function(e,t,r,l,f){const h=f?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof t&&Tl(h,t)>=0&&(r[l+1]=Jf(r[l+1]))}(t,se,e,l,h),_=Fd(x,M),h?t.classBindings=_:t.styleBindings=_}(f,h,t,r,_,l)}}function ic(e,t,r,l,f){let h=null;const _=r.directiveEnd;let x=r.directiveStylingLast;for(-1===x?x=r.directiveStart:x++;x<_&&(h=t[x],l=Su(l,h.hostAttrs,f),h!==e);)x++;return null!==e&&(r.directiveStylingLast=x),l}function Su(e,t,r){const l=r?1:2;let f=-1;if(null!==t)for(let h=0;h<t.length;h++){const _=t[h];"number"==typeof _?f=_:f===l&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xs(e,_,!!r||t[++h]))}return void 0===e?null:e}function _m(e,t,r,l,f,h,_,x){if(!(3&t.type))return;const M=e.data,$=M[x+1];nf(function(e){return 1==(1&e)}($)?bm(M,t,r,f,rl($),_):void 0)||(nf(h)||function(e){return 2==(2&e)}($)&&(h=bm(M,null,r,f,x,_)),function(e,t,r,l,f){const h=y(e);if(t)f?h?e.addClass(r,l):r.classList.add(l):h?e.removeClass(r,l):r.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:Hi.DashCase;if(null==f)h?e.removeStyle(r,l,_):r.style.removeProperty(l);else{const x="string"==typeof f&&f.endsWith("!important");x&&(f=f.slice(0,-10),_|=Hi.Important),h?e.setStyle(r,l,f,_):r.style.setProperty(l,f,x?"important":"")}}}(l,_,rt(_i(),r),f,h))}function bm(e,t,r,l,f,h){const _=null===t;let x;for(;f>0;){const M=e[f],$=Array.isArray(M),se=$?M[1]:M,Ee=null===se;let Ie=r[f+1];Ie===Nn&&(Ie=Ee?Fn:void 0);let $e=Ee?cf(Ie,l):se===l?Ie:void 0;if($&&!nf($e)&&($e=cf(M,l)),nf($e)&&(x=$e,_))return x;const Xe=e[f+1];f=_?ta(Xe):rl(Xe)}if(null!==t){let M=h?t.residualClasses:t.residualStyles;null!=M&&(x=cf(M,l))}return x}function nf(e){return void 0!==e}function Cm(e,t){return 0!=(e.flags&(t?16:32))}function xh(e,t=""){const r=Nt(),l=Zn(),f=e+20,h=l.firstCreatePass?Tu(l,f,1,t,null):l.data[f],_=r[f]=function(e,t){return y(e)?e.createText(t):e.createTextNode(t)}(r[11],t);Nc(l,r,_,h),Zr(h,!1)}function zp(e,t,r){const l=Nt(),f=Wd(l,e,t,r);return f!==Nn&&Nl(l,_i(),f),zp}function Rr(e,t,r){!function(e,t,r,l){const f=Zn(),h=Bi(2);f.firstUpdatePass&&uy(f,null,h,l);const _=Nt();if(r!==Nn&&zi(_,h,r)){const x=f.data[_i()];if(Cm(x,l)&&!ly(f,h)){let M=l?x.classesWithoutHost:x.stylesWithoutHost;null!==M&&(r=G(M,r||"")),_h(f,x,_,r,l)}else!function(e,t,r,l,f,h,_,x){f===Nn&&(f=Fn);let M=0,$=0,se=0<f.length?f[0]:null,Ee=0<h.length?h[0]:null;for(;null!==se||null!==Ee;){const Ie=M<f.length?f[M+1]:void 0,$e=$<h.length?h[$+1]:void 0;let mt,Xe=null;se===Ee?(M+=2,$+=2,Ie!==$e&&(Xe=Ee,mt=$e)):null===Ee||null!==se&&se<Ee?(M+=2,Xe=se):($+=2,Xe=Ee,mt=$e),null!==Xe&&_m(e,t,r,l,Xe,mt,_,x),se=M<f.length?f[M]:null,Ee=$<h.length?h[$]:null}}(f,x,_,_[11],_[h+1],_[h+1]=function(e,t,r){if(null==r||""===r)return Fn;const l=[],f=Jo(r);if(Array.isArray(f))for(let h=0;h<f.length;h++)e(l,f[h],!0);else if("object"==typeof f)for(const h in f)f.hasOwnProperty(h)&&e(l,h,f[h]);else"string"==typeof f&&t(l,f);return l}(e,t,r),l,h)}}(Xs,Ul,Wd(Nt(),e,t,r),!0)}function Xt(e,t,r){const l=Nt();return zi(l,Ho(),t)&&oa(Zn(),Gr(),l,e,t,l[11],r,!0),Xt}const Bt=void 0;var Ts=["en",[["a","p"],["AM","PM"],Bt],[["AM","PM"],Bt,Bt],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bt,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bt,"{1} 'at' {0}",Bt],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let fs={};function Sh(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Em(t);if(r)return r;const l=t.split("-")[0];if(r=Em(l),r)return r;if("en"===l)return Ts;throw new Error(`Missing locale data for the locale "${e}".`)}function Tm(e){return Sh(e)[wn.PluralCase]}function Em(e){return e in fs||(fs[e]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[e]),fs[e]}var wn=(()=>((wn=wn||{})[wn.LocaleId=0]="LocaleId",wn[wn.DayPeriodsFormat=1]="DayPeriodsFormat",wn[wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",wn[wn.DaysFormat=3]="DaysFormat",wn[wn.DaysStandalone=4]="DaysStandalone",wn[wn.MonthsFormat=5]="MonthsFormat",wn[wn.MonthsStandalone=6]="MonthsStandalone",wn[wn.Eras=7]="Eras",wn[wn.FirstDayOfWeek=8]="FirstDayOfWeek",wn[wn.WeekendRange=9]="WeekendRange",wn[wn.DateFormat=10]="DateFormat",wn[wn.TimeFormat=11]="TimeFormat",wn[wn.DateTimeFormat=12]="DateTimeFormat",wn[wn.NumberSymbols=13]="NumberSymbols",wn[wn.NumberFormats=14]="NumberFormats",wn[wn.CurrencyCode=15]="CurrencyCode",wn[wn.CurrencySymbol=16]="CurrencySymbol",wn[wn.CurrencyName=17]="CurrencyName",wn[wn.Currencies=18]="Currencies",wn[wn.Directionality=19]="Directionality",wn[wn.PluralCase=20]="PluralCase",wn[wn.ExtraData=21]="ExtraData",wn))();const Ey="en-US";let Ib=Ey;function c0(e){jt(e,"Expected localeId to be defined"),"string"==typeof e&&(Ib=e.toLowerCase().replace(/_/g,"-"))}function h0(e,t,r,l,f){if(e=ae(e),Array.isArray(e))for(let h=0;h<e.length;h++)h0(e[h],t,r,l,f);else{const h=Zn(),_=Nt();let x=$d(e)?e:ae(e.provide),M=xv(e);const $=Ar(),se=1048575&$.providerIndexes,Ee=$.directiveStart,Ie=$.providerIndexes>>20;if($d(e)||!e.multi){const $e=new Ea(M,f,Bl),Xe=g0(x,t,f?se:se+Ie,Ee);-1===Xe?(Oa(ki($,_),h,x),p0(h,e,t.length),t.push(x),$.directiveStart++,$.directiveEnd++,f&&($.providerIndexes+=1048576),r.push($e),_.push($e)):(r[Xe]=$e,_[Xe]=$e)}else{const $e=g0(x,t,se+Ie,Ee),Xe=g0(x,t,se,se+Ie),mt=$e>=0&&r[$e],at=Xe>=0&&r[Xe];if(f&&!at||!f&&!mt){Oa(ki($,_),h,x);const Vt=function(e,t,r,l,f){const h=new Ea(e,r,Bl);return h.multi=[],h.index=t,h.componentProviders=0,nC(h,f,l&&!r),h}(f?px:hx,r.length,f,l,M);!f&&at&&(r[Xe].providerFactory=Vt),p0(h,e,t.length,0),t.push(x),$.directiveStart++,$.directiveEnd++,f&&($.providerIndexes+=1048576),r.push(Vt),_.push(Vt)}else p0(h,e,$e>-1?$e:Xe,nC(r[f?Xe:$e],M,!f&&l));!f&&l&&at&&r[Xe].componentProviders++}}}function p0(e,t,r,l){const f=$d(t);if(f||function(e){return!!e.useClass}(t)){const _=(t.useClass||t).prototype.ngOnDestroy;if(_){const x=e.destroyHooks||(e.destroyHooks=[]);if(!f&&t.multi){const M=x.indexOf(r);-1===M?x.push(r,[l,_]):x[M+1].push(l,_)}else x.push(r,_)}}}function nC(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function g0(e,t,r,l){for(let f=r;f<l;f++)if(t[f]===e)return f;return-1}function hx(e,t,r,l){return m0(this.multi,[])}function px(e,t,r,l){const f=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,x=Ps(r,r[1],this.providerFactory.index,l);h=x.slice(0,_),m0(f,h);for(let M=_;M<x.length;M++)h.push(x[M])}else h=[],m0(f,h);return h}function m0(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function rC(e,t=[]){return r=>{r.providersResolver=(l,f)=>function(e,t,r){const l=Zn();if(l.firstCreatePass){const f=Br(e);h0(r,l.data,l.blueprint,f,!0),h0(t,l.data,l.blueprint,f,!1)}}(l,f?f(e):e,t)}}class iC{}const oC="ngComponent";class vx{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${ne(e)}. Did you add it to @NgModule.entryComponents?`);return t[oC]=e,t}(t)}}let Qp=(()=>{class e{}return e.NULL=new vx,e})();function Py(...e){}function qp(e,t){return new sc(ut(e,t))}const bx=function(){return qp(Ar(),Nt())};let sc=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=bx,e})();function aC(e){return e instanceof sc?e.nativeElement:e}class Dy{}let Cx=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ex(),e})();const Ex=function(){const e=Nt(),r=zt(Ar().index,e);return function(e){return e[11]}(Tr(r)?r:e)};let y0=(()=>{class e{}return e.\u0275prov=fn({token:e,providedIn:"root",factory:()=>null}),e})();class lC{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const uC=new lC("12.2.16");class cC{constructor(){}supports(t){return Cr(t)}create(t){return new Ox(t)}}const Sx=(e,t)=>t;class Ox{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Sx}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,l=this._removalsHead,f=0,h=null;for(;r||l;){const _=!l||r&&r.currentIndex<fC(l,f,h)?r:l,x=fC(_,f,h),M=_.currentIndex;if(_===l)f--,l=l._nextRemoved;else if(r=r._next,null==_.previousIndex)f++;else{h||(h=[]);const $=x-f,se=M-f;if($!=se){for(let Ie=0;Ie<$;Ie++){const $e=Ie<h.length?h[Ie]:h[Ie]=0,Xe=$e+Ie;se<=Xe&&Xe<$&&(h[Ie]=$e+1)}h[_.previousIndex]=se-$}}x!==M&&t(_,x,M)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Cr(t))throw new Error(`Error trying to diff '${ne(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let f,h,_,r=this._itHead,l=!1;if(Array.isArray(t)){this.length=t.length;for(let x=0;x<this.length;x++)h=t[x],_=this._trackByFn(x,h),null!==r&&Object.is(r.trackById,_)?(l&&(r=this._verifyReinsertion(r,h,_,x)),Object.is(r.item,h)||this._addIdentityChange(r,h)):(r=this._mismatch(r,h,_,x),l=!0),r=r._next}else f=0,function(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Qr()]();let l;for(;!(l=r.next()).done;)t(l.value)}}(t,x=>{_=this._trackByFn(f,x),null!==r&&Object.is(r.trackById,_)?(l&&(r=this._verifyReinsertion(r,x,_,f)),Object.is(r.item,x)||this._addIdentityChange(r,x)):(r=this._mismatch(r,x,_,f),l=!0),r=r._next,f++}),this.length=f;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,l,f){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,h,f)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,h,f)):t=this._addAfter(new Px(r,l),h,f),t}_verifyReinsertion(t,r,l,f){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?t=this._reinsertAfter(h,t._prev,f):t.currentIndex!=f&&(t.currentIndex=f,this._addToMoves(t,f)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const f=t._prevRemoved,h=t._nextRemoved;return null===f?this._removalsHead=h:f._nextRemoved=h,null===h?this._removalsTail=f:h._prevRemoved=f,this._insertAfter(t,r,l),this._addToMoves(t,l),t}_moveAfter(t,r,l){return this._unlink(t),this._insertAfter(t,r,l),this._addToMoves(t,l),t}_addAfter(t,r,l){return this._insertAfter(t,r,l),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,l){const f=null===r?this._itHead:r._next;return t._next=f,t._prev=r,null===f?this._itTail=t:f._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new dC),this._linkedRecords.put(t),t.currentIndex=l,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,l=t._next;return null===r?this._itHead=l:r._next=l,null===l?this._itTail=r:l._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Px{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===r||r<=l.currentIndex)&&Object.is(l.trackById,t))return l;return null}remove(t){const r=t._prevDup,l=t._nextDup;return null===r?this._head=l:r._nextDup=l,null===l?this._tail=r:l._prevDup=r,null===this._head}}class dC{constructor(){this.map=new Map}put(t){const r=t.trackById;let l=this.map.get(r);l||(l=new Dx,this.map.set(r,l)),l.add(t)}get(t,r){const f=this.map.get(t);return f?f.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fC(e,t,r){const l=e.previousIndex;if(null===l)return l;let f=0;return r&&l<r.length&&(f=r[l]),l+t+f}class hC{constructor(){}supports(t){return t instanceof Map||ko(t)}create(){return new Mx}}class Mx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||ko(t)))throw new Error(`Error trying to diff '${ne(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(l,f)=>{if(r&&r.key===f)this._maybeAddToChanges(r,l),this._appendAfter=r,r=r._next;else{const h=this._getOrCreateRecordForKey(f,l);r=this._insertBeforeOrAppend(r,h)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let l=r;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const l=t._prev;return r._next=t,r._prev=l,t._prev=r,l&&(l._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const f=this._records.get(t);this._maybeAddToChanges(f,r);const h=f._prev,_=f._next;return h&&(h._next=_),_&&(_._prev=h),f._next=null,f._prev=null,f}const l=new Ax(t);return this._records.set(t,l),l.currentValue=r,this._addToAdditions(l),l}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(l=>r(t[l],l))}}class Ax{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pC(){return new My([new cC])}let My=(()=>{class e{constructor(r){this.factories=r}static create(r,l){if(null!=l){const f=l.factories.slice();r=r.concat(f)}return new e(r)}static extend(r){return{provide:e,useFactory:l=>e.create(r,l||pC()),deps:[[e,new Sl,new Ma]]}}find(r){const l=this.factories.find(f=>f.supports(r));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(e){return e.name||typeof e}(r)}'`)}}return e.\u0275prov=fn({token:e,providedIn:"root",factory:pC}),e})();function gC(){return new Ay([new hC])}let Ay=(()=>{class e{constructor(r){this.factories=r}static create(r,l){if(l){const f=l.factories.slice();r=r.concat(f)}return new e(r)}static extend(r){return{provide:e,useFactory:l=>e.create(r,l||gC()),deps:[[e,new Sl,new Ma]]}}find(r){const l=this.factories.find(f=>f.supports(r));if(l)return l;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return e.\u0275prov=fn({token:e,providedIn:"root",factory:gC}),e})();function Iy(e,t,r,l,f=!1){for(;null!==r;){const h=t[r.index];if(null!==h&&l.push(be(h)),Di(h))for(let x=10;x<h.length;x++){const M=h[x],$=M[1].firstChild;null!==$&&Iy(M[1],M,$,l)}const _=r.type;if(8&_)Iy(e,t,r.child,l);else if(32&_){const x=us(r,t);let M;for(;M=x();)l.push(M)}else if(16&_){const x=ap(t,r);if(Array.isArray(x))l.push(...x);else{const M=bs(t[16]);Iy(M[1],M,x,l,!0)}}r=f?r.projectionNext:r.next}return l}class Pm{constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,r=t[1];return Iy(r,t,r.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Di(t)){const r=t[8],l=r?r.indexOf(this):-1;l>-1&&(Dd(t,l),Xo(r,l))}this._attachedToViewContainer=!1}Vf(this._lView[1],this._lView)}onDestroy(t){Fc(this._lView[1],this._lView,null,t)}markForCheck(){lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,r){$r(!0);try{bp(e,t,r)}finally{$r(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Lc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class kx extends Pm{constructor(t){super(t),this._view=t}detectChanges(){sl(this._view)}checkNoChanges(){!function(e){$r(!0);try{sl(e)}finally{$r(!1)}}(this._view)}get context(){return null}}const Nx=function(e){return function(e,t,r){if($n(e)&&!r){const l=zt(e.index,t);return new Pm(l,l)}return 47&e.type?new Pm(t[16],t):null}(Ar(),Nt(),16==(16&e))};let Lx=(()=>{class e{}return e.__NG_ELEMENT_ID__=Nx,e})();const Ux=[new hC],jx=new My([new cC]),Hx=new Ay(Ux),zx=function(){return ky(Ar(),Nt())};let Dm=(()=>{class e{}return e.__NG_ELEMENT_ID__=zx,e})();const Wx=Dm,Gx=class extends Wx{constructor(t,r,l){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=l}createEmbeddedView(t){const r=this._declarationTContainer.tViews,l=Vr(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(r)),kl(r,l,t),new Pm(l)}};function ky(e,t){return 4&e.type?new Gx(t,e,qp(e,t)):null}class Oh{}class mC{}const Kx=function(){return _C(Ar(),Nt())};let Ry=(()=>{class e{}return e.__NG_ELEMENT_ID__=Kx,e})();const Xx=Ry,vC=class extends Xx{constructor(t,r,l){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=l}get element(){return qp(this._hostTNode,this._hostLView)}get injector(){return new H(this._hostTNode,this._hostLView)}get parentInjector(){const t=bl(this._hostTNode,this._hostLView);if(Vu(t)){const r=Qo(t,this._hostLView),l=wa(t);return new H(r[1].data[l+8],r)}return new H(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=yC(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,r,l){const f=t.createEmbeddedView(r||{});return this.insert(f,l),f}createComponent(t,r,l,f,h){const _=l||this.parentInjector;if(!h&&null==t.ngModule&&_){const M=_.get(Oh,null);M&&(h=M)}const x=t.create(_,f,void 0,h);return this.insert(x.hostView,r),x}insert(t,r){const l=t._lView,f=l[1];if(Di(l[3])){const se=this.indexOf(t);if(-1!==se)this.detach(se);else{const Ee=l[3],Ie=new vC(Ee,Ee[6],Ee[3]);Ie.detach(Ie.indexOf(t))}}const h=this._adjustIndex(r),_=this._lContainer;!function(e,t,r,l){const f=10+l,h=r.length;l>0&&(r[f-1][4]=t),l<h-10?(t[4]=r[f],hc(r,10+l,t)):(r.push(t),t[4]=null),t[3]=r;const _=t[17];null!==_&&r!==_&&function(e,t){const r=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(_,t);const x=t[19];null!==x&&x.insertView(e),t[2]|=128}(f,l,_,h);const x=bu(h,_),M=l[11],$=nl(M,_[7]);return null!==$&&function(e,t,r,l,f,h){l[0]=f,l[6]=t,Lc(e,l,r,1,f,h)}(f,_[6],M,l,$,x),t.attachToViewContainerRef(),hc(_0(_),h,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=yC(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),l=Dd(this._lContainer,r);l&&(Xo(_0(this._lContainer),r),Vf(l[1],l))}detach(t){const r=this._adjustIndex(t,-1),l=Dd(this._lContainer,r);return l&&null!=Xo(_0(this._lContainer),r)?new Pm(l):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function yC(e){return e[8]}function _0(e){return e[8]||(e[8]=[])}function _C(e,t){let r;const l=t[e.index];if(Di(l))r=l;else{let f;if(8&e.type)f=be(l);else{const h=t[11];f=h.createComment("");const _=ut(e,t);Po(h,nl(h,_),f,function(e,t){return y(e)?e.nextSibling(t):t.nextSibling}(h,_),!1)}t[e.index]=r=Fg(l,t,f,e),_p(t,r)}return new vC(r,e,t)}const Zp={};class UC extends Qp{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=er(t);return new jC(r,this.ngModule)}}function VC(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}const Qw=new hr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Od});class jC extends iC{constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=t.selectors.map(Pg).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return VC(this.componentDef.inputs)}get outputs(){return VC(this.componentDef.outputs)}create(t,r,l,f){const h=(f=f||this.ngModule)?function(e,t){return{get:(r,l,f)=>{const h=e.get(r,Zp,f);return h!==Zp||l===Zp?h:t.get(r,l,f)}}}(t,f.injector):t,_=h.get(Dy,V),x=h.get(y0,null),M=_.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",se=l?function(e,t,r){if(y(e))return e.selectRootElement(t,r===ir.ShadowDom);let l="string"==typeof t?e.querySelector(t):t;return l.textContent="",l}(M,l,this.componentDef.encapsulation):kc(_.createRenderer(null,this.componentDef),$,function(e){const t=e.toLowerCase();return"svg"===t?_o:"math"===t?"http://www.w3.org/1998/MathML/":null}($)),Ee=this.componentDef.onPush?576:528,Ie=function(e,t){return{components:[],scheduler:e||Od,clean:vv,playerHandler:t||null,flags:0}}(),$e=nh(0,null,null,1,0,null,null,null,null,null),Xe=Vr(null,$e,Ie,Ee,null,null,_,M,x,h);let mt,at;ms(Xe);try{const Vt=function(e,t,r,l,f,h){const _=r[1];r[20]=e;const M=Tu(_,20,2,"#host",null),$=M.mergedAttrs=t.hostAttrs;null!==$&&(Tp(M,$,!0),null!==e&&(ls(f,e,$),null!==M.classes&&Gf(f,e,M.classes),null!==M.styles&&lp(f,e,M.styles)));const se=l.createRenderer(e,t),Ee=Vr(r,th(t),null,t.onPush?64:16,r[20],M,l,se,h||null,null);return _.firstCreatePass&&(Oa(ki(M,r),_,t.type),Rg(_,M),hv(M,r.length,1)),_p(r,Ee),r[20]=Ee}(se,this.componentDef,Xe,_,M);if(se)if(l)ls(M,se,["ng-version",uC.full]);else{const{attrs:At,classes:vn}=function(e){const t=[],r=[];let l=1,f=2;for(;l<e.length;){let h=e[l];if("string"==typeof h)2===f?""!==h&&t.push(h,e[++l]):8===f&&r.push(h);else{if(!ea(f))break;f=h}l++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);At&&ls(M,se,At),vn&&vn.length>0&&Gf(M,se,vn.join(" "))}if(at=St($e,20),void 0!==r){const At=at.projection=[];for(let vn=0;vn<this.ngContentSelectors.length;vn++){const Bn=r[vn];At.push(null!=Bn?Array.from(Bn):null)}}mt=function(e,t,r,l,f){const h=r[1],_=function(e,t,r){const l=Ar();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),Ng(e,l,t,Fa(e,t,1,null),r));const f=Ps(t,e,l.directiveStart,l);ni(f,t);const h=ut(l,t);return h&&ni(h,t),f}(h,r,t);if(l.components.push(_),e[8]=_,f&&f.forEach(M=>M(_,t)),t.contentQueries){const M=Ar();t.contentQueries(1,_,M.directiveStart)}const x=Ar();return!h.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(vs(x.index),Ud(r[1],x,0,x.directiveStart,x.directiveEnd,t),fv(t,_)),_}(Vt,this.componentDef,Xe,Ie,[we]),kl($e,Xe,null)}finally{Qa()}return new Yw(this.componentType,mt,qp(at,Xe),Xe,at)}}class Yw extends class{}{constructor(t,r,l,f,h){super(),this.location=l,this._rootLView=f,this._tNode=h,this.instance=r,this.hostView=this.changeDetectorRef=new kx(f),this.componentType=t}get injector(){return new H(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Jp=new Map;class Jw extends Oh{constructor(t,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new UC(this);const l=ai(t),f=t[Ne]||null;f&&c0(f),this._bootstrapComponents=La(l.bootstrap),this._r3Injector=Ev(t,r,[{provide:Oh,useValue:this},{provide:Qp,useValue:this.componentFactoryResolver}],ne(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,r=Ei.THROW_IF_NOT_FOUND,l=an.Default){return t===Ei||t===Oh||t===jd?this:this._r3Injector.get(t,r,l)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class I0 extends mC{constructor(t){super(),this.moduleType=t,null!==ai(t)&&function(e){const t=new Set;!function r(l){const f=ai(l,!0),h=f.id;null!==h&&(function(e,t,r){if(t&&t!==r)throw new Error(`Duplicate module registered for ${e} - ${ne(t)} vs ${ne(t.name)}`)}(h,Jp.get(h),l),Jp.set(h,l));const _=La(f.imports);for(const x of _)t.has(x)||(t.add(x),r(x))}(e)}(t)}create(t){return new Jw(this.moduleType,t)}}function zC(e,t,r,l){return QC(Nt(),gs(),e,t,r,l)}function WC(e,t,r,l,f){return function(e,t,r,l,f,h,_){const x=t+r;return ca(e,x,f,h)?ns(e,x+2,_?l.call(_,f,h):l(f,h)):Fm(e,x+2)}(Nt(),gs(),e,t,r,l,f)}function GC(e,t,r,l,f,h){return function(e,t,r,l,f,h,_,x){const M=t+r;return function(e,t,r,l,f){const h=ca(e,t,r,l);return zi(e,t+2,f)||h}(e,M,f,h,_)?ns(e,M+3,x?l.call(x,f,h,_):l(f,h,_)):Fm(e,M+3)}(Nt(),gs(),e,t,r,l,f,h)}function Fm(e,t){const r=e[t];return r===Nn?void 0:r}function QC(e,t,r,l,f,h){const _=t+r;return zi(e,_,f)?ns(e,_+1,h?l.call(h,f):l(f)):Fm(e,_+1)}function ZC(e,t){const r=Zn();let l;const f=e+20;r.firstCreatePass?(l=function(e,t){if(t)for(let r=t.length-1;r>=0;r--){const l=t[r];if(e===l.name)return l}throw new De("302",`The pipe '${e}' could not be found!`)}(t,r.pipeRegistry),r.data[f]=l,l.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(f,l.onDestroy)):l=r.data[f];const h=l.factory||(l.factory=Ki(l.type)),_=Mr(Bl);try{const x=ju(!1),M=h();return ju(x),function(e,t,r,l){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=l}(r,Nt(),f,M),M}finally{Mr(_)}}function JC(e,t,r){const l=e+20,f=Nt(),h=It(f,l);return function(e,t){ii.isWrapped(t)&&(t=ii.unwrap(t),e[tn.lFrame.bindingIndex]=Nn);return t}(f,function(e,t){return e[1].data[t].pure}(f,l)?QC(f,gs(),t,h.transform,r,h):h.transform(r))}function k0(e){return t=>{setTimeout(e,void 0,t)}}const oc=class extends A.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,l){var f,h,_;let x=t,M=r||(()=>null),$=l;if(t&&"object"==typeof t){const Ee=t;x=null===(f=Ee.next)||void 0===f?void 0:f.bind(Ee),M=null===(h=Ee.error)||void 0===h?void 0:h.bind(Ee),$=null===(_=Ee.complete)||void 0===_?void 0:_.bind(Ee)}this.__isAsync&&(M=k0(M),x&&(x=k0(x)),$&&($=k0($)));const se=super.subscribe({next:x,error:M,complete:$});return t instanceof b.w&&t.add(se),se}};function hS(){return this._results[Qr()]()}class Uy{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Qr(),l=Uy.prototype;l[r]||(l[r]=hS)}get changes(){return this._changes||(this._changes=new oc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const l=this;l.dirty=!1;const f=Fs(t);(this._changesDetected=!function(e,t,r){if(e.length!==t.length)return!1;for(let l=0;l<e.length;l++){let f=e[l],h=t[l];if(r&&(f=r(f),h=r(h)),h!==f)return!1}return!0}(l._results,f,r))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class R0{constructor(t){this.queryList=t,this.matches=null}clone(){return new R0(this.queryList)}setDirty(){this.queryList.setDirty()}}class N0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const l=null!==t.contentQueries?t.contentQueries[0]:r.length,f=[];for(let h=0;h<l;h++){const _=r.getByIndex(h);f.push(this.queries[_.indexInDeclarationView].clone())}return new N0(f)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==lT(t,r).matches&&this.queries[r].setDirty()}}class eT{constructor(t,r,l=null){this.predicate=t,this.flags=r,this.read=l}}class L0{constructor(t=[]){this.queries=t}elementStart(t,r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let l=0;l<this.length;l++){const f=null!==r?r.length:0,h=this.getByIndex(l).embeddedTView(t,f);h&&(h.indexInDeclarationView=l,null!==r?r.push(h):r=[h])}return null!==r?new L0(r):null}template(t,r){for(let l=0;l<this.queries.length;l++)this.queries[l].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class F0{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new F0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let l=t.parent;for(;null!==l&&8&l.type&&l.index!==r;)l=l.parent;return r===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const h=l[f];this.matchTNodeWithReadOption(t,r,mS(r,h)),this.matchTNodeWithReadOption(t,r,Hu(r,t,h,!1,!1))}else l===Dm?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Hu(r,t,l,!1,!1))}matchTNodeWithReadOption(t,r,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===sc||f===Ry||f===Dm&&4&r.type)this.addMatch(r.index,-2);else{const h=Hu(r,t,f,!1,!1);null!==h&&this.addMatch(r.index,h)}else this.addMatch(r.index,l)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function mS(e,t){const r=e.localNames;if(null!==r)for(let l=0;l<r.length;l+=2)if(r[l]===t)return r[l+1];return null}function yS(e,t,r,l){return-1===r?function(e,t){return 11&e.type?qp(e,t):4&e.type?ky(e,t):null}(t,e):-2===r?function(e,t,r){return r===sc?qp(t,e):r===Dm?ky(t,e):r===Ry?_C(t,e):void 0}(e,t,l):Ps(e,e[1],r,t)}function tT(e,t,r,l){const f=t[19].queries[l];if(null===f.matches){const h=e.data,_=r.matches,x=[];for(let M=0;M<_.length;M+=2){const $=_[M];x.push($<0?null:yS(t,h[$],_[M+1],r.metadata.read))}f.matches=x}return f.matches}function B0(e,t,r,l){const f=e.queries.getByIndex(r),h=f.matches;if(null!==h){const _=tT(e,t,f,r);for(let x=0;x<h.length;x+=2){const M=h[x];if(M>0)l.push(_[x/2]);else{const $=h[x+1],se=t[-M];for(let Ee=10;Ee<se.length;Ee++){const Ie=se[Ee];Ie[17]===Ie[3]&&B0(Ie[1],Ie,$,l)}if(null!==se[9]){const Ee=se[9];for(let Ie=0;Ie<Ee.length;Ie++){const $e=Ee[Ie];B0($e[1],$e,$,l)}}}}}return l}function nT(e){const t=Nt(),r=Zn(),l=ba();Ks(l+1);const f=lT(r,l);if(e.dirty&&Gt(t)===(2==(2&f.metadata.flags))){if(null===f.matches)e.reset([]);else{const h=f.crossesNgTemplate?B0(r,t,l,[]):tT(r,t,f,l);e.reset(h,aC),e.notifyOnChanges()}return!0}return!1}function rT(e,t,r){const l=Zn();l.firstCreatePass&&(aT(l,new eT(e,t,r),-1),2==(2&t)&&(l.staticViewQueries=!0)),oT(l,Nt(),t)}function iT(e,t,r,l){const f=Zn();if(f.firstCreatePass){const h=Ar();aT(f,new eT(t,r,l),h.index),function(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(f,e),2==(2&r)&&(f.staticContentQueries=!0)}oT(f,Nt(),r)}function sT(){return e=Nt(),t=ba(),e[19].queries[t].queryList;var e,t}function oT(e,t,r){const l=new Uy(4==(4&r));Fc(e,t,l,l.destroy),null===t[19]&&(t[19]=new N0),t[19].queries.push(new R0(l))}function aT(e,t,r){null===e.queries&&(e.queries=new L0),e.queries.track(new F0(t,r))}function lT(e,t){return e.queries.getByIndex(t)}function uT(e,t){return ky(e,t)}const z0=new hr("Application Initializer");let tg=(()=>{class e{constructor(r){this.appInits=r,this.resolve=Py,this.reject=Py,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f})}runInitializers(){if(this.initialized)return;const r=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const h=this.appInits[f]();if(dm(h))r.push(h);else if(Fp(h)){const _=new Promise((x,M)=>{h.subscribe({complete:x,error:M})});r.push(_)}}Promise.all(r).then(()=>{l()}).catch(f=>{this.reject(f)}),0===r.length&&l(),this.initialized=!0}}return e.\u0275fac=function(r){return new(r||e)(Vi(z0,8))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();const OT=new hr("AppId"),qS={provide:OT,useFactory:function(){return`${W0()}${W0()}${W0()}`},deps:[]};function W0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PT=new hr("Platform Initializer"),DT=new hr("Platform ID"),MT=new hr("appBootstrapListener");let AT=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();const Hy=new hr("LocaleId"),IT=new hr("DefaultCurrencyCode");class YS{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}const G0=function(e){return new I0(e)},XS=G0,ZS=function(e){return Promise.resolve(G0(e))},kT=function(e){const t=G0(e),l=La(ai(e).declarations).reduce((f,h)=>{const _=er(h);return _&&f.push(new jC(_)),f},[]);return new YS(t,l)},JS=kT,eO=function(e){return Promise.resolve(kT(e))};let jm=(()=>{class e{constructor(){this.compileModuleSync=XS,this.compileModuleAsync=ZS,this.compileModuleAndAllComponentsSync=JS,this.compileModuleAndAllComponentsAsync=eO}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();const rO=(()=>Promise.resolve(0))();function Q0(e){"undefined"==typeof Zone?rO.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ul{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oc(!1),this.onMicrotaskEmpty=new oc(!1),this.onStable=new oc(!1),this.onError=new oc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&r,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let e=En.requestAnimationFrame,t=En.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const l=t[Zone.__symbol__("OriginalDelegate")];l&&(t=l)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(En,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,K0(e),e.isCheckStableRunning=!0,q0(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),K0(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,l,f,h,_,x)=>{try{return RT(e),r.invokeTask(f,h,_,x)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&t(),NT(e)}},onInvoke:(r,l,f,h,_,x,M)=>{try{return RT(e),r.invoke(f,h,_,x,M)}finally{e.shouldCoalesceRunChangeDetection&&t(),NT(e)}},onHasTask:(r,l,f,h)=>{r.hasTask(f,h),l===f&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,K0(e),q0(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(r,l,f,h)=>(r.handleError(f,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ul.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ul.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,r,l){return this._inner.run(t,r,l)}runTask(t,r,l,f){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+f,t,sO,Py,Py);try{return h.runTask(_,r,l)}finally{h.cancelTask(_)}}runGuarded(t,r,l){return this._inner.runGuarded(t,r,l)}runOutsideAngular(t){return this._outer.run(t)}}const sO={};function q0(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function K0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function RT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function NT(e){e._nesting--,q0(e)}class lO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oc,this.onMicrotaskEmpty=new oc,this.onStable=new oc,this.onError=new oc}run(t,r,l){return t.apply(r,l)}runGuarded(t,r,l){return t.apply(r,l)}runOutsideAngular(t){return t()}runTask(t,r,l,f){return t.apply(r,l)}}let LT=(()=>{class e{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ul.assertNotInAngularZone(),Q0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Q0(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(r)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,l,f){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),r(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:r,timeoutId:h,updateCb:f})}whenStable(r,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,l,f){return[]}}return e.\u0275fac=function(r){return new(r||e)(Vi(ul))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})(),FT=(()=>{class e{constructor(){this._applications=new Map,Y0.addToWindow(this)}registerApplication(r,l){this._applications.set(r,l)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,l=!0){return Y0.findTestabilityInTree(this,r,l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();class uO{addToWindow(t){}findTestabilityInTree(t,r,l){return null}}function cO(e){Y0=e}let Y0=new uO,BT=!0,UT=!1;function dO(){if(UT)throw new Error("Cannot enable prod mode after platform setup.");BT=!1}let Du;const jT=new hr("AllowMultipleToken");class yO{constructor(t,r){this.name=t,this.token=r}}function HT(e,t,r=[]){const l=`Platform: ${t}`,f=new hr(l);return(h=[])=>{let _=$T();if(!_||_.injector.get(jT,!1))if(e)e(r.concat(h).concat({provide:f,useValue:!0}));else{const x=r.concat(h).concat({provide:f,useValue:!0},{provide:Bc,useValue:"platform"});!function(e){if(Du&&!Du.destroyed&&!Du.injector.get(jT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Du=e.get(zT);const t=e.get(PT,null);t&&t.forEach(r=>r())}(Ei.create({providers:x,name:l}))}return function(e){const t=$T();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(f)}}function $T(){return Du&&!Du.destroyed?Du:null}let zT=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,l){const x=function(e,t){let r;return r="noop"===e?new lO:("zone.js"===e?void 0:e)||new ul({enableLongStackTrace:(UT=!0,BT),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),r}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),M=[{provide:ul,useValue:x}];return x.run(()=>{const $=Ei.create({providers:M,parent:this.injector,name:r.moduleType.name}),se=r.create($),Ee=se.injector.get(Na,null);if(!Ee)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return x.runOutsideAngular(()=>{const Ie=x.onError.subscribe({next:$e=>{Ee.handleError($e)}});se.onDestroy(()=>{X0(this._modules,se),Ie.unsubscribe()})}),function(e,t,r){try{const l=r();return dm(l)?l.catch(f=>{throw t.runOutsideAngular(()=>e.handleError(f)),f}):l}catch(l){throw t.runOutsideAngular(()=>e.handleError(l)),l}}(Ee,x,()=>{const Ie=se.injector.get(tg);return Ie.runInitializers(),Ie.donePromise.then(()=>(c0(se.injector.get(Hy,Ey)||Ey),this._moduleDoBootstrap(se),se))})})}bootstrapModule(r,l=[]){const f=WT({},l);return function(e,t,r){const l=new I0(r);return Promise.resolve(l)}(0,0,r).then(h=>this.bootstrapModuleFactory(h,f))}_moduleDoBootstrap(r){const l=r.injector.get(Hm);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${ne(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(l)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(r){return new(r||e)(Vi(Ei))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();function WT(e,t){return Array.isArray(t)?t.reduce(WT,e):Object.assign(Object.assign({},e),t)}let Hm=(()=>{class e{constructor(r,l,f,h,_){this._zone=r,this._injector=l,this._exceptionHandler=f,this._componentFactoryResolver=h,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new z.y($=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{$.next(this._stable),$.complete()})}),M=new z.y($=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{ul.assertNotInAngularZone(),Q0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,$.next(!0))})})});const Ee=this._zone.onUnstable.subscribe(()=>{ul.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{$.next(!1)}))});return()=>{se.unsubscribe(),Ee.unsubscribe()}});this.isStable=(0,de.T)(x,M.pipe(e=>(0,ce.x)()((0,ee.O)(ue)(e))))}bootstrap(r,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=r instanceof iC?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(f.componentType);const h=function(e){return e.isBoundToModule}(f)?void 0:this._injector.get(Oh),x=f.create(Ei.NULL,[],l||f.selector,h),M=x.location.nativeElement,$=x.injector.get(LT,null),se=$&&x.injector.get(FT);return $&&se&&se.registerApplication(M,$),x.onDestroy(()=>{this.detachView(x.hostView),X0(this.components,x),se&&se.unregisterApplication(M)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const l=r;this._views.push(l),l.attachToAppRef(this)}detachView(r){const l=r;X0(this._views,l),l.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(MT,[]).concat(this._bootstrapListeners).forEach(f=>f(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(r){return new(r||e)(Vi(ul),Vi(Ei),Vi(Na),Vi(Qp),Vi(tg))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();function X0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class xO{}class SO{}const OO={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let PO=(()=>{class e{constructor(r,l){this._compiler=r,this._config=l||OO}load(r){return this.loadAndCompile(r)}loadAndCompile(r){let[l,f]=r.split("#");return void 0===f&&(f="default"),F(8255)(l).then(h=>h[f]).then(h=>KT(h,l,f)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(r){let[l,f]=r.split("#"),h="NgFactory";return void 0===f&&(f="default",h=""),F(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(_=>_[f+h]).then(_=>KT(_,l,f))}}return e.\u0275fac=function(r){return new(r||e)(Vi(jm),Vi(SO,8))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();function KT(e,t,r){if(!e)throw new Error(`Cannot find '${r}' in '${t}'`);return e}const LO=function(e){return null},BO=HT(null,"core",[{provide:DT,useValue:"unknown"},{provide:zT,deps:[Ei]},{provide:FT,deps:[]},{provide:AT,deps:[]}]),$O=[{provide:Hm,useClass:Hm,deps:[ul,Ei,Na,Qp,tg]},{provide:Qw,deps:[ul],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(r){t.push(r)}}},{provide:tg,useClass:tg,deps:[[new Ma,z0]]},{provide:jm,useClass:jm,deps:[]},qS,{provide:My,useFactory:function(){return jx},deps:[]},{provide:Ay,useFactory:function(){return Hx},deps:[]},{provide:Hy,useFactory:function(e){return c0(e=e||"undefined"!=typeof $localize&&$localize.locale||Ey),e},deps:[[new Wu(Hy),new Ma,new Sl]]},{provide:IT,useValue:"USD"}];let WO=(()=>{class e{constructor(r){}}return e.\u0275fac=function(r){return new(r||e)(Vi(Hm))},e.\u0275mod=Gi({type:e}),e.\u0275inj=Rn({providers:$O}),e})()},3256:(ct,Le,F)=>{"use strict";F.d(Le,{m2:()=>Mr,F0:()=>bi,Bz:()=>ki,lC:()=>Eo});var A=F(8583),b=F(8720),z=F(4869),de=F(9796),ee=F(7393);class ce extends ee.L{notifyNext(D,P,H,te,ye){this.destination.next(P)}notifyError(D,P){this.destination.error(D)}notifyComplete(D){this.destination.complete()}}class ue extends ee.L{constructor(D,P,H){super(),this.parent=D,this.outerValue=P,this.outerIndex=H,this.index=0}_next(D){this.parent.notifyNext(this.outerValue,D,this.outerIndex,this.index++,this)}_error(D){this.parent.notifyError(D,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var oe=F(7444),j=F(7574);function W(I,D,P,H,te=new ue(I,P,H)){if(!te.closed)return D instanceof j.y?D.subscribe(te):(0,oe.s)(D)(te)}var ne=F(6693);const G={};class Ce{constructor(D){this.resultSelector=D}call(D,P){return P.subscribe(new ae(D,this.resultSelector))}}class ae extends ce{constructor(D,P){super(D),this.resultSelector=P,this.active=0,this.values=[],this.observables=[]}_next(D){this.values.push(G),this.observables.push(D)}_complete(){const D=this.observables,P=D.length;if(0===P)this.destination.complete();else{this.active=P,this.toRespond=P;for(let H=0;H<P;H++)this.add(W(this,D[H],void 0,H))}}notifyComplete(D){0==(this.active-=1)&&this.destination.complete()}notifyNext(D,P,H){const te=this.values,Ve=this.toRespond?te[H]===G?--this.toRespond:this.toRespond:0;te[H]=P,0===Ve&&(this.resultSelector?this._tryResultSelector(te):this.destination.next(te.slice()))}_tryResultSelector(D){let P;try{P=this.resultSelector.apply(this,D)}catch(H){return void this.destination.error(H)}this.destination.next(P)}}const Pe=(()=>{function I(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return I.prototype=Object.create(Error.prototype),I})();var De=F(4402),Ae=F(5917),ge=F(6215),je=F(8071),Ke=F(1439),Mt=F(9193),dt=F(2441),Ye=F(7709);function Y(I,D){let P=!1;return arguments.length>=2&&(P=!0),function(te){return te.lift(new B(I,D,P))}}class B{constructor(D,P,H=!1){this.accumulator=D,this.seed=P,this.hasSeed=H}call(D,P){return P.subscribe(new re(D,this.accumulator,this.seed,this.hasSeed))}}class re extends ee.L{constructor(D,P,H,te){super(D),this.accumulator=P,this._seed=H,this.hasSeed=te,this.index=0}get seed(){return this._seed}set seed(D){this.hasSeed=!0,this._seed=D}_next(D){if(this.hasSeed)return this._tryNext(D);this.seed=D,this.destination.next(D)}_tryNext(D){const P=this.index++;let H;try{H=this.accumulator(this.seed,D,P)}catch(te){this.destination.error(te)}this.seed=H,this.destination.next(H)}}var pe=F(5435),xe=F(7108);function Fe(I){return function(P){return 0===I?(0,Mt.c)():P.lift(new Re(I))}}class Re{constructor(D){if(this.total=D,this.total<0)throw new xe.W}call(D,P){return P.subscribe(new Je(D,this.total))}}class Je extends ee.L{constructor(D,P){super(D),this.total=P,this.ring=new Array,this.count=0}_next(D){const P=this.ring,H=this.total,te=this.count++;P.length<H?P.push(D):P[te%H]=D}_complete(){const D=this.destination;let P=this.count;if(P>0){const H=this.count>=this.total?this.total:this.count,te=this.ring;for(let ye=0;ye<H;ye++){const Ve=P++%H;D.next(te[Ve])}}D.complete()}}function ft(I=He){return D=>D.lift(new vt(I))}class vt{constructor(D){this.errorFactory=D}call(D,P){return P.subscribe(new lt(D,this.errorFactory))}}class lt extends ee.L{constructor(D,P){super(D),this.errorFactory=P,this.hasValue=!1}_next(D){this.hasValue=!0,this.destination.next(D)}_complete(){if(this.hasValue)return this.destination.complete();{let D;try{D=this.errorFactory()}catch(P){D=P}this.destination.error(D)}}}function He(){return new Pe}function nt(I=null){return D=>D.lift(new ht(I))}class ht{constructor(D){this.defaultValue=D}call(D,P){return P.subscribe(new jt(D,this.defaultValue))}}class jt extends ee.L{constructor(D,P){super(D),this.defaultValue=P,this.isEmpty=!0}_next(D){this.isEmpty=!1,this.destination.next(D)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Rt=F(4487),Un=F(5257);function Sn(I,D){const P=arguments.length>=2;return H=>H.pipe(I?(0,pe.h)((te,ye)=>I(te,ye,H)):Rt.y,(0,Un.q)(1),P?nt(D):ft(()=>new Pe))}var fn=F(5319);class Rn{constructor(D){this.callback=D}call(D,P){return P.subscribe(new Sr(D,this.callback))}}class Sr extends ee.L{constructor(D,P){super(D),this.add(new fn.w(P))}}var Tn=F(8002),oi=F(3190),qr=F(9761),rr=F(5304),wi=F(4612),Nr=F(9773),qn=F(8307),Wi=F(1307),an=F(3282);class Hn{constructor(D,P){this.id=D,this.url=P}}class Or extends Hn{constructor(D,P,H="imperative",te=null){super(D,P),this.navigationTrigger=H,this.restoredState=te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mr extends Hn{constructor(D,P,H){super(D,P),this.urlAfterRedirects=H}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gr extends Hn{constructor(D,P,H){super(D,P),this.reason=H}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Va extends Hn{constructor(D,P,H){super(D,P),this.error=H}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jn extends Hn{constructor(D,P,H,te){super(D,P),this.urlAfterRedirects=H,this.state=te}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kt extends Hn{constructor(D,P,H,te){super(D,P),this.urlAfterRedirects=H,this.state=te}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yn extends Hn{constructor(D,P,H,te,ye){super(D,P),this.urlAfterRedirects=H,this.state=te,this.shouldActivate=ye}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lo extends Hn{constructor(D,P,H,te){super(D,P),this.urlAfterRedirects=H,this.state=te}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir extends Hn{constructor(D,P,H,te){super(D,P),this.urlAfterRedirects=H,this.state=te}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Is{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Si{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ga{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class co{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xn{constructor(D,P,H){this.routerEvent=D,this.position=P,this.anchor=H}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pn="primary";class Fn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const P=this.params[D];return Array.isArray(P)?P[0]:P}return null}getAll(D){if(this.has(D)){const P=this.params[D];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function hi(I){return new Fn(I)}const ss="ngNavigationCancelingError";function fo(I){const D=Error("NavigationCancelingError: "+I);return D[ss]=!0,D}function Ne(I,D,P){const H=P.path.split("/");if(H.length>I.length||"full"===P.pathMatch&&(D.hasChildren()||H.length<I.length))return null;const te={};for(let ye=0;ye<H.length;ye++){const Ve=H[ye],Ge=I[ye];if(Ve.startsWith(":"))te[Ve.substring(1)]=Ge;else if(Ve!==Ge.path)return null}return{consumed:I.slice(0,H.length),posParams:te}}function pt(I,D){const P=I?Object.keys(I):void 0,H=D?Object.keys(D):void 0;if(!P||!H||P.length!=H.length)return!1;let te;for(let ye=0;ye<P.length;ye++)if(te=P[ye],!Ht(I[te],D[te]))return!1;return!0}function Ht(I,D){if(Array.isArray(I)&&Array.isArray(D)){if(I.length!==D.length)return!1;const P=[...I].sort(),H=[...D].sort();return P.every((te,ye)=>H[ye]===te)}return I===D}function Vn(I){return Array.prototype.concat.apply([],I)}function jn(I){return I.length>0?I[I.length-1]:null}function mr(I,D){for(const P in I)I.hasOwnProperty(P)&&D(I[P],P)}function nn(I){return(0,b.CqO)(I)?I:(0,b.QGY)(I)?(0,De.D)(Promise.resolve(I)):(0,Ae.of)(I)}const Qi={exact:function er(I,D,P){if(!Pr(I.segments,D.segments)||!pi(I.segments,D.segments,P)||I.numberOfChildren!==D.numberOfChildren)return!1;for(const H in D.children)if(!I.children[H]||!er(I.children[H],D.children[H],P))return!1;return!0},subset:Kr},Et={exact:function(I,D){return pt(I,D)},subset:function(I,D){return Object.keys(D).length<=Object.keys(I).length&&Object.keys(D).every(P=>Ht(I[P],D[P]))},ignored:()=>!0};function Lr(I,D,P){return Qi[P.paths](I.root,D.root,P.matrixParams)&&Et[P.queryParams](I.queryParams,D.queryParams)&&!("exact"===P.fragment&&I.fragment!==D.fragment)}function Kr(I,D,P){return ai(I,D,D.segments,P)}function ai(I,D,P,H){if(I.segments.length>P.length){const te=I.segments.slice(0,P.length);return!(!Pr(te,P)||D.hasChildren()||!pi(te,P,H))}if(I.segments.length===P.length){if(!Pr(I.segments,P)||!pi(I.segments,P,H))return!1;for(const te in D.children)if(!I.children[te]||!Kr(I.children[te],D.children[te],H))return!1;return!0}{const te=P.slice(0,I.segments.length),ye=P.slice(I.segments.length);return!!(Pr(I.segments,te)&&pi(I.segments,te,H)&&I.children[pn])&&ai(I.children[pn],D,ye,H)}}function pi(I,D,P){return D.every((H,te)=>Et[P](I[te].parameters,H.parameters))}class In{constructor(D,P,H){this.root=D,this.queryParams=P,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hi(this.queryParams)),this._queryParamMap}toString(){return br.serialize(this)}}class yt{constructor(D,P){this.segments=D,this.children=P,this.parent=null,mr(P,(H,te)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yr(this)}}class On{constructor(D,P){this.path=D,this.parameters=P}get parameterMap(){return this._parameterMap||(this._parameterMap=hi(this.parameters)),this._parameterMap}toString(){return li(this)}}function Pr(I,D){return I.length===D.length&&I.every((P,H)=>P.path===D[H].path)}class Kn{}class Ws{parse(D){const P=new Bo(D);return new In(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(D){var I;return`${`/${Ni(D.root,!0)}`}${function(I){const D=Object.keys(I).map(P=>{const H=I[P];return Array.isArray(H)?H.map(te=>`${ho(P)}=${ho(te)}`).join("&"):`${ho(P)}=${ho(H)}`}).filter(P=>!!P);return D.length?`?${D.join("&")}`:""}(D.queryParams)}${"string"==typeof D.fragment?`#${I=D.fragment,encodeURI(I)}`:""}`}}const br=new Ws;function Yr(I){return I.segments.map(D=>li(D)).join("/")}function Ni(I,D){if(!I.hasChildren())return Yr(I);if(D){const P=I.children[pn]?Ni(I.children[pn],!1):"",H=[];return mr(I.children,(te,ye)=>{ye!==pn&&H.push(`${ye}:${Ni(te,!1)}`)}),H.length>0?`${P}(${H.join("//")})`:P}{const P=function(I,D){let P=[];return mr(I.children,(H,te)=>{te===pn&&(P=P.concat(D(H,te)))}),mr(I.children,(H,te)=>{te!==pn&&(P=P.concat(D(H,te)))}),P}(I,(H,te)=>te===pn?[Ni(I.children[pn],!1)]:[`${te}:${Ni(H,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[pn]?`${Yr(I)}/${P[0]}`:`${Yr(I)}/(${P.join("//")})`}}function _n(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ho(I){return _n(I).replace(/%3B/gi,";")}function gi(I){return _n(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ks(I){return decodeURIComponent(I)}function Pi(I){return ks(I.replace(/\+/g,"%20"))}function li(I){return`${gi(I.path)}${function(I){return Object.keys(I).map(D=>`;${gi(D)}=${gi(I[D])}`).join("")}(I.parameters)}`}const dr=/^[^\/()?;=#]+/;function to(I){const D=I.match(dr);return D?D[0]:""}const Fo=/^[^=?&#]+/,mi=/^[^?&#]+/;class Bo{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(D.length>0||Object.keys(P).length>0)&&(H[pn]=new yt(D,P)),H}parseSegment(){const D=to(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new On(ks(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const P=to(this.remaining);if(!P)return;this.capture(P);let H="";if(this.consumeOptional("=")){const te=to(this.remaining);te&&(H=te,this.capture(H))}D[ks(P)]=ks(H)}parseQueryParam(D){const P=function(I){const D=I.match(Fo);return D?D[0]:""}(this.remaining);if(!P)return;this.capture(P);let H="";if(this.consumeOptional("=")){const Ve=function(I){const D=I.match(mi);return D?D[0]:""}(this.remaining);Ve&&(H=Ve,this.capture(H))}const te=Pi(P),ye=Pi(H);if(D.hasOwnProperty(te)){let Ve=D[te];Array.isArray(Ve)||(Ve=[Ve],D[te]=Ve),Ve.push(ye)}else D[te]=ye}parseParens(D){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=to(this.remaining),te=this.remaining[H.length];if("/"!==te&&")"!==te&&";"!==te)throw new Error(`Cannot parse url '${this.url}'`);let ye;H.indexOf(":")>-1?(ye=H.substr(0,H.indexOf(":")),this.capture(ye),this.capture(":")):D&&(ye=pn);const Ve=this.parseChildren();P[ye]=1===Object.keys(Ve).length?Ve[pn]:new yt([],Ve),this.consumeOptional("//")}return P}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class Qs{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const P=this.pathFromRoot(D);return P.length>1?P[P.length-2]:null}children(D){const P=jr(D,this._root);return P?P.children.map(H=>H.value):[]}firstChild(D){const P=jr(D,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(D){const P=ln(D,this._root);return P.length<2?[]:P[P.length-2].children.map(te=>te.value).filter(te=>te!==D)}pathFromRoot(D){return ln(D,this._root).map(P=>P.value)}}function jr(I,D){if(I===D.value)return D;for(const P of D.children){const H=jr(I,P);if(H)return H}return null}function ln(I,D){if(I===D.value)return[D];for(const P of D.children){const H=ln(I,P);if(H.length)return H.unshift(D),H}return[]}class Tr{constructor(D,P){this.value=D,this.children=P}toString(){return`TreeNode(${this.value})`}}function Di(I){const D={};return I&&I.children.forEach(P=>D[P.value.outlet]=P),D}class Dr extends Qs{constructor(D,P){super(D),this.snapshot=P,ma(this,D)}toString(){return this.snapshot.toString()}}function $n(I,D){const P=function(I,D){const Ve=new go([],{},{},"",{},pn,D,null,I.root,-1,{});return new Ha("",new Tr(Ve,[]))}(I,D),H=new ge.X([new On("",{})]),te=new ge.X({}),ye=new ge.X({}),Ve=new ge.X({}),Ge=new ge.X(""),_t=new Br(H,te,Ve,Ge,ye,pn,D,P.root);return _t.snapshot=P.root,new Dr(new Tr(_t,[]),P)}class Br{constructor(D,P,H,te,ye,Ve,Ge,_t){this.url=D,this.params=P,this.queryParams=H,this.fragment=te,this.data=ye,this.outlet=Ve,this.component=Ge,this._futureSnapshot=_t}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tn.U)(D=>hi(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tn.U)(D=>hi(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ja(I,D="emptyOnly"){const P=I.pathFromRoot;let H=0;if("always"!==D)for(H=P.length-1;H>=1;){const te=P[H],ye=P[H-1];if(te.routeConfig&&""===te.routeConfig.path)H--;else{if(ye.component)break;H--}}return function(I){return I.reduce((D,P)=>({params:Object.assign(Object.assign({},D.params),P.params),data:Object.assign(Object.assign({},D.data),P.data),resolve:Object.assign(Object.assign({},D.resolve),P._resolvedData)}),{params:{},data:{},resolve:{}})}(P.slice(H))}class go{constructor(D,P,H,te,ye,Ve,Ge,_t,qt,Yn,mn){this.url=D,this.params=P,this.queryParams=H,this.fragment=te,this.data=ye,this.outlet=Ve,this.component=Ge,this.routeConfig=_t,this._urlSegment=qt,this._lastPathIndex=Yn,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ha extends Qs{constructor(D,P){super(P),this.url=D,ma(this,P)}toString(){return cl(this._root)}}function ma(I,D){D.value._routerState=I,D.children.forEach(P=>ma(I,P))}function cl(I){const D=I.children.length>0?` { ${I.children.map(cl).join(", ")} } `:"";return`${I.value}${D}`}function Er(I){if(I.snapshot){const D=I.snapshot,P=I._futureSnapshot;I.snapshot=P,pt(D.queryParams,P.queryParams)||I.queryParams.next(P.queryParams),D.fragment!==P.fragment&&I.fragment.next(P.fragment),pt(D.params,P.params)||I.params.next(P.params),function(I,D){if(I.length!==D.length)return!1;for(let P=0;P<I.length;++P)if(!pt(I[P],D[P]))return!1;return!0}(D.url,P.url)||I.url.next(P.url),pt(D.data,P.data)||I.data.next(P.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Wl(I,D){return pt(I.params,D.params)&&function(I,D){return Pr(I,D)&&I.every((P,H)=>pt(P.parameters,D[H].parameters))}(I.url,D.url)&&!(!I.parent!=!D.parent)&&(!I.parent||Wl(I.parent,D.parent))}function $a(I,D,P){if(P&&I.shouldReuseRoute(D.value,P.value.snapshot)){const H=P.value;H._futureSnapshot=D.value;const te=function(I,D,P){return D.children.map(H=>{for(const te of P.children)if(I.shouldReuseRoute(H.value,te.value.snapshot))return $a(I,H,te);return $a(I,H)})}(I,D,P);return new Tr(H,te)}{if(I.shouldAttach(D.value)){const ye=I.retrieve(D.value);if(null!==ye){const Ve=ye.route;return ku(D,Ve),Ve}}const H=function(I){return new Br(new ge.X(I.url),new ge.X(I.params),new ge.X(I.queryParams),new ge.X(I.fragment),new ge.X(I.data),I.outlet,I.component,I)}(D.value),te=D.children.map(ye=>$a(I,ye));return new Tr(H,te)}}function ku(I,D){if(I.value.routeConfig!==D.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(I.children.length!==D.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");D.value._futureSnapshot=I.value;for(let P=0;P<I.children.length;++P)ku(I.children[P],D.children[P])}function Vo(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function za(I){return"object"==typeof I&&null!=I&&I.outlets}function Wa(I,D,P,H,te){let ye={};return H&&mr(H,(Ve,Ge)=>{ye[Ge]=Array.isArray(Ve)?Ve.map(_t=>`${_t}`):`${Ve}`}),new In(P.root===I?D:dl(P.root,I,D),ye,te)}function dl(I,D,P){const H={};return mr(I.children,(te,ye)=>{H[ye]=te===D?P:dl(te,D,P)}),new yt(I.segments,H)}class xs{constructor(D,P,H){if(this.isAbsolute=D,this.numberOfDoubleDots=P,this.commands=H,D&&H.length>0&&Vo(H[0]))throw new Error("Root segment cannot have matrix parameters");const te=H.find(za);if(te&&te!==jn(H))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class va{constructor(D,P,H){this.segmentGroup=D,this.processChildren=P,this.index=H}}function vo(I,D,P){if(I||(I=new yt([],{})),0===I.segments.length&&I.hasChildren())return yo(I,D,P);const H=function(I,D,P){let H=0,te=D;const ye={match:!1,pathIndex:0,commandIndex:0};for(;te<I.segments.length;){if(H>=P.length)return ye;const Ve=I.segments[te],Ge=P[H];if(za(Ge))break;const _t=`${Ge}`,qt=H<P.length-1?P[H+1]:null;if(te>0&&void 0===_t)break;if(_t&&qt&&"object"==typeof qt&&void 0===qt.outlets){if(!jo(_t,qt,Ve))return ye;H+=2}else{if(!jo(_t,{},Ve))return ye;H++}te++}return{match:!0,pathIndex:te,commandIndex:H}}(I,D,P),te=P.slice(H.commandIndex);if(H.match&&H.pathIndex<I.segments.length){const ye=new yt(I.segments.slice(0,H.pathIndex),{});return ye.children[pn]=new yt(I.segments.slice(H.pathIndex),I.children),yo(ye,0,te)}return H.match&&0===te.length?new yt(I.segments,{}):H.match&&!I.hasChildren()?hl(I,D,P):H.match?yo(I,0,te):hl(I,D,P)}function yo(I,D,P){if(0===P.length)return new yt(I.segments,{});{const H=function(I){return za(I[0])?I[0].outlets:{[pn]:I}}(P),te={};return mr(H,(ye,Ve)=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(te[Ve]=vo(I.children[Ve],D,ye))}),mr(I.children,(ye,Ve)=>{void 0===H[Ve]&&(te[Ve]=ye)}),new yt(I.segments,te)}}function hl(I,D,P){const H=I.segments.slice(0,D);let te=0;for(;te<P.length;){const ye=P[te];if(za(ye)){const _t=Kc(ye.outlets);return new yt(H,_t)}if(0===te&&Vo(P[0])){H.push(new On(I.segments[D].path,fr(P[0]))),te++;continue}const Ve=za(ye)?ye.outlets[pn]:`${ye}`,Ge=te<P.length-1?P[te+1]:null;Ve&&Ge&&Vo(Ge)?(H.push(new On(Ve,fr(Ge))),te+=2):(H.push(new On(Ve,{})),te++)}return new yt(H,{})}function Kc(I){const D={};return mr(I,(P,H)=>{"string"==typeof P&&(P=[P]),null!==P&&(D[H]=hl(new yt([],{}),0,P))}),D}function fr(I){const D={};return mr(I,(P,H)=>D[H]=`${P}`),D}function jo(I,D,P){return I==P.path&&pt(D,P.parameters)}class Mi{constructor(D,P,H,te){this.routeReuseStrategy=D,this.futureState=P,this.currState=H,this.forwardEvent=te}activate(D){const P=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,H,D),Er(this.futureState.root),this.activateChildRoutes(P,H,D)}deactivateChildRoutes(D,P,H){const te=Di(P);D.children.forEach(ye=>{const Ve=ye.value.outlet;this.deactivateRoutes(ye,te[Ve],H),delete te[Ve]}),mr(te,(ye,Ve)=>{this.deactivateRouteAndItsChildren(ye,H)})}deactivateRoutes(D,P,H){const te=D.value,ye=P?P.value:null;if(te===ye)if(te.component){const Ve=H.getContext(te.outlet);Ve&&this.deactivateChildRoutes(D,P,Ve.children)}else this.deactivateChildRoutes(D,P,H);else ye&&this.deactivateRouteAndItsChildren(P,H)}deactivateRouteAndItsChildren(D,P){this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,P):this.deactivateRouteAndOutlet(D,P)}detachAndStoreRouteSubtree(D,P){const H=P.getContext(D.value.outlet);if(H&&H.outlet){const te=H.outlet.detach(),ye=H.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:te,route:D,contexts:ye})}}deactivateRouteAndOutlet(D,P){const H=P.getContext(D.value.outlet),te=H&&D.value.component?H.children:P,ye=Di(D);for(const Ve of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[Ve],te);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(D,P,H){const te=Di(P);D.children.forEach(ye=>{this.activateRoutes(ye,te[ye.value.outlet],H),this.forwardEvent(new co(ye.value.snapshot))}),D.children.length&&this.forwardEvent(new ga(D.value.snapshot))}activateRoutes(D,P,H){const te=D.value,ye=P?P.value:null;if(Er(te),te===ye)if(te.component){const Ve=H.getOrCreateContext(te.outlet);this.activateChildRoutes(D,P,Ve.children)}else this.activateChildRoutes(D,P,H);else if(te.component){const Ve=H.getOrCreateContext(te.outlet);if(this.routeReuseStrategy.shouldAttach(te.snapshot)){const Ge=this.routeReuseStrategy.retrieve(te.snapshot);this.routeReuseStrategy.store(te.snapshot,null),Ve.children.onOutletReAttached(Ge.contexts),Ve.attachRef=Ge.componentRef,Ve.route=Ge.route.value,Ve.outlet&&Ve.outlet.attach(Ge.componentRef,Ge.route.value),Yi(Ge.route)}else{const Ge=function(I){for(let D=I.parent;D;D=D.parent){const P=D.routeConfig;if(P&&P._loadedConfig)return P._loadedConfig;if(P&&P.component)return null}return null}(te.snapshot),_t=Ge?Ge.module.componentFactoryResolver:null;Ve.attachRef=null,Ve.route=te,Ve.resolver=_t,Ve.outlet&&Ve.outlet.activateWith(te,_t),this.activateChildRoutes(D,null,Ve.children)}}else this.activateChildRoutes(D,null,H)}}function Yi(I){Er(I.value),I.children.forEach(Yi)}class _o{constructor(D,P){this.routes=D,this.module=P}}function Zt(I){return"function"==typeof I}function q(I){return I instanceof In}const V=Symbol("INITIAL_VALUE");function Z(){return(0,oi.w)(I=>function(...I){let D,P;return(0,z.K)(I[I.length-1])&&(P=I.pop()),"function"==typeof I[I.length-1]&&(D=I.pop()),1===I.length&&(0,de.k)(I[0])&&(I=I[0]),(0,ne.n)(I,P).lift(new Ce(D))}(I.map(D=>D.pipe((0,Un.q)(1),(0,qr.O)(V)))).pipe(Y((D,P)=>{let H=!1;return P.reduce((te,ye,Ve)=>te!==V?te:(ye===V&&(H=!0),H||!1!==ye&&Ve!==P.length-1&&!q(ye)?te:ye),D)},V),(0,pe.h)(D=>D!==V),(0,Tn.U)(D=>q(D)?D:!0===D),(0,Un.q)(1)))}let be=(()=>{class I{}return I.\u0275fac=function(P){return new(P||I)},I.\u0275cmp=b.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(P,H){1&P&&b._UZ(0,"router-outlet")},directives:function(){return[Eo]},encapsulation:2}),I})();function We(I,D=""){for(let P=0;P<I.length;P++){const H=I[P];ot(H,rt(D,H))}}function ot(I,D){I.children&&We(I.children,D)}function rt(I,D){return D?I||D.path?I&&!D.path?`${I}/`:!I&&D.path?D.path:`${I}/${D.path}`:"":I}function ut(I){const D=I.children&&I.children.map(ut),P=D?Object.assign(Object.assign({},I),{children:D}):Object.assign({},I);return!P.component&&(D||P.loadChildren)&&P.outlet&&P.outlet!==pn&&(P.component=be),P}function Ot(I){return I.outlet||pn}function St(I,D){const P=I.filter(H=>Ot(H)===D);return P.push(...I.filter(H=>Ot(H)!==D)),P}const It={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function zt(I,D,P){var H;if(""===D.path)return"full"===D.pathMatch&&(I.hasChildren()||P.length>0)?Object.assign({},It):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ye=(D.matcher||Ne)(P,I,D);if(!ye)return Object.assign({},It);const Ve={};mr(ye.posParams,(_t,qt)=>{Ve[qt]=_t.path});const Ge=ye.consumed.length>0?Object.assign(Object.assign({},Ve),ye.consumed[ye.consumed.length-1].parameters):Ve;return{matched:!0,consumedSegments:ye.consumed,lastChild:ye.consumed.length,parameters:Ge,positionalParamSegments:null!==(H=ye.posParams)&&void 0!==H?H:{}}}function Gt(I,D,P,H,te="corrected"){if(P.length>0&&function(I,D,P){return P.some(H=>ur(I,D,H)&&Ot(H)!==pn)}(I,P,H)){const Ve=new yt(D,function(I,D,P,H){const te={};te[pn]=H,H._sourceSegment=I,H._segmentIndexShift=D.length;for(const ye of P)if(""===ye.path&&Ot(ye)!==pn){const Ve=new yt([],{});Ve._sourceSegment=I,Ve._segmentIndexShift=D.length,te[Ot(ye)]=Ve}return te}(I,D,H,new yt(P,I.children)));return Ve._sourceSegment=I,Ve._segmentIndexShift=D.length,{segmentGroup:Ve,slicedSegments:[]}}if(0===P.length&&function(I,D,P){return P.some(H=>ur(I,D,H))}(I,P,H)){const Ve=new yt(I.segments,function(I,D,P,H,te,ye){const Ve={};for(const Ge of H)if(ur(I,P,Ge)&&!te[Ot(Ge)]){const _t=new yt([],{});_t._sourceSegment=I,_t._segmentIndexShift="legacy"===ye?I.segments.length:D.length,Ve[Ot(Ge)]=_t}return Object.assign(Object.assign({},te),Ve)}(I,D,P,H,I.children,te));return Ve._sourceSegment=I,Ve._segmentIndexShift=D.length,{segmentGroup:Ve,slicedSegments:P}}const ye=new yt(I.segments,I.children);return ye._sourceSegment=I,ye._segmentIndexShift=D.length,{segmentGroup:ye,slicedSegments:P}}function ur(I,D,P){return(!(I.hasChildren()||D.length>0)||"full"!==P.pathMatch)&&""===P.path}function tn(I,D,P,H){return!!(Ot(I)===H||H!==pn&&ur(D,P,I))&&("**"===I.path||zt(D,I,P).matched)}function ui(I,D,P){return 0===D.length&&!I.children[P]}class Ur{constructor(D){this.segmentGroup=D||null}}class Ai{constructor(D){this.urlTree=D}}function vr(I){return new j.y(D=>D.error(new Ur(I)))}function vi(I){return new j.y(D=>D.error(new Ai(I)))}function Fi(I){return new j.y(D=>D.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I}'`)))}class Zn{constructor(D,P,H,te,ye){this.configLoader=P,this.urlSerializer=H,this.urlTree=te,this.config=ye,this.allowRedirects=!0,this.ngModule=D.get(b.h0i)}apply(){const D=Gt(this.urlTree.root,[],[],this.config).segmentGroup,P=new yt(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,P,pn).pipe((0,Tn.U)(ye=>this.createUrlTree(Ar(ye),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,rr.K)(ye=>{if(ye instanceof Ai)return this.allowRedirects=!1,this.match(ye.urlTree);throw ye instanceof Ur?this.noMatchError(ye):ye}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,pn).pipe((0,Tn.U)(te=>this.createUrlTree(Ar(te),D.queryParams,D.fragment))).pipe((0,rr.K)(te=>{throw te instanceof Ur?this.noMatchError(te):te}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,P,H){const te=D.segments.length>0?new yt([],{[pn]:D}):D;return new In(te,P,H)}expandSegmentGroup(D,P,H,te){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(D,P,H).pipe((0,Tn.U)(ye=>new yt([],ye))):this.expandSegment(D,H,P,H.segments,te,!0)}expandChildren(D,P,H){const te=[];for(const ye of Object.keys(H.children))"primary"===ye?te.unshift(ye):te.push(ye);return(0,De.D)(te).pipe((0,wi.b)(ye=>{const Ve=H.children[ye],Ge=St(P,ye);return this.expandSegmentGroup(D,Ge,Ve,ye).pipe((0,Tn.U)(_t=>({segment:_t,outlet:ye})))}),Y((ye,Ve)=>(ye[Ve.outlet]=Ve.segment,ye),{}),function(I,D){const P=arguments.length>=2;return H=>H.pipe(I?(0,pe.h)((te,ye)=>I(te,ye,H)):Rt.y,Fe(1),P?nt(D):ft(()=>new Pe))}())}expandSegment(D,P,H,te,ye,Ve){return(0,De.D)(H).pipe((0,wi.b)(Ge=>this.expandSegmentAgainstRoute(D,P,H,Ge,te,ye,Ve).pipe((0,rr.K)(qt=>{if(qt instanceof Ur)return(0,Ae.of)(null);throw qt}))),Sn(Ge=>!!Ge),(0,rr.K)((Ge,_t)=>{if(Ge instanceof Pe||"EmptyError"===Ge.name){if(ui(P,te,ye))return(0,Ae.of)(new yt([],{}));throw new Ur(P)}throw Ge}))}expandSegmentAgainstRoute(D,P,H,te,ye,Ve,Ge){return tn(te,P,ye,Ve)?void 0===te.redirectTo?this.matchSegmentAgainstRoute(D,P,te,ye,Ve):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,P,H,te,ye,Ve):vr(P):vr(P)}expandSegmentAgainstRouteUsingRedirect(D,P,H,te,ye,Ve){return"**"===te.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,H,te,Ve):this.expandRegularSegmentAgainstRouteUsingRedirect(D,P,H,te,ye,Ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,P,H,te){const ye=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?vi(ye):this.lineralizeSegments(H,ye).pipe((0,Nr.zg)(Ve=>{const Ge=new yt(Ve,{});return this.expandSegment(D,Ge,P,Ve,te,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,P,H,te,ye,Ve){const{matched:Ge,consumedSegments:_t,lastChild:qt,positionalParamSegments:Yn}=zt(P,te,ye);if(!Ge)return vr(P);const mn=this.applyRedirectCommands(_t,te.redirectTo,Yn);return te.redirectTo.startsWith("/")?vi(mn):this.lineralizeSegments(te,mn).pipe((0,Nr.zg)(tr=>this.expandSegment(D,P,H,tr.concat(ye.slice(qt)),Ve,!1)))}matchSegmentAgainstRoute(D,P,H,te,ye){if("**"===H.path)return H.loadChildren?(H._loadedConfig?(0,Ae.of)(H._loadedConfig):this.configLoader.load(D.injector,H)).pipe((0,Tn.U)(tr=>(H._loadedConfig=tr,new yt(te,{})))):(0,Ae.of)(new yt(te,{}));const{matched:Ve,consumedSegments:Ge,lastChild:_t}=zt(P,H,te);if(!Ve)return vr(P);const qt=te.slice(_t);return this.getChildConfig(D,H,te).pipe((0,Nr.zg)(mn=>{const tr=mn.module,Gn=mn.routes,{segmentGroup:Ui,slicedSegments:Ns}=Gt(P,Ge,qt,Gn),Ls=new yt(Ui.segments,Ui.children);if(0===Ns.length&&Ls.hasChildren())return this.expandChildren(tr,Gn,Ls).pipe((0,Tn.U)(Cl=>new yt(Ge,Cl)));if(0===Gn.length&&0===Ns.length)return(0,Ae.of)(new yt(Ge,{}));const Pa=Ot(H)===ye;return this.expandSegment(tr,Ls,Gn,Ns,Pa?pn:ye,!0).pipe((0,Tn.U)(xr=>new yt(Ge.concat(xr.segments),xr.children)))}))}getChildConfig(D,P,H){return P.children?(0,Ae.of)(new _o(P.children,D)):P.loadChildren?void 0!==P._loadedConfig?(0,Ae.of)(P._loadedConfig):this.runCanLoadGuards(D.injector,P,H).pipe((0,Nr.zg)(te=>{return te?this.configLoader.load(D.injector,P).pipe((0,Tn.U)(ye=>(P._loadedConfig=ye,ye))):(I=P,new j.y(D=>D.error(fo(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`))));var I})):(0,Ae.of)(new _o([],D))}runCanLoadGuards(D,P,H){const te=P.canLoad;if(!te||0===te.length)return(0,Ae.of)(!0);const ye=te.map(Ve=>{const Ge=D.get(Ve);let _t;if((I=Ge)&&Zt(I.canLoad))_t=Ge.canLoad(P,H);else{if(!Zt(Ge))throw new Error("Invalid CanLoad guard");_t=Ge(P,H)}var I;return nn(_t)});return(0,Ae.of)(ye).pipe(Z(),(0,qn.b)(Ve=>{if(!q(Ve))return;const Ge=fo(`Redirecting to "${this.urlSerializer.serialize(Ve)}"`);throw Ge.url=Ve,Ge}),(0,Tn.U)(Ve=>!0===Ve))}lineralizeSegments(D,P){let H=[],te=P.root;for(;;){if(H=H.concat(te.segments),0===te.numberOfChildren)return(0,Ae.of)(H);if(te.numberOfChildren>1||!te.children[pn])return Fi(D.redirectTo);te=te.children[pn]}}applyRedirectCommands(D,P,H){return this.applyRedirectCreatreUrlTree(P,this.urlSerializer.parse(P),D,H)}applyRedirectCreatreUrlTree(D,P,H,te){const ye=this.createSegmentGroup(D,P.root,H,te);return new In(ye,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(D,P){const H={};return mr(D,(te,ye)=>{if("string"==typeof te&&te.startsWith(":")){const Ge=te.substring(1);H[ye]=P[Ge]}else H[ye]=te}),H}createSegmentGroup(D,P,H,te){const ye=this.createSegments(D,P.segments,H,te);let Ve={};return mr(P.children,(Ge,_t)=>{Ve[_t]=this.createSegmentGroup(D,Ge,H,te)}),new yt(ye,Ve)}createSegments(D,P,H,te){return P.map(ye=>ye.path.startsWith(":")?this.findPosParam(D,ye,te):this.findOrReturn(ye,H))}findPosParam(D,P,H){const te=H[P.path.substring(1)];if(!te)throw new Error(`Cannot redirect to '${D}'. Cannot find '${P.path}'.`);return te}findOrReturn(D,P){let H=0;for(const te of P){if(te.path===D.path)return P.splice(H),te;H++}return D}}function Ar(I){const D={};for(const H of Object.keys(I.children)){const ye=Ar(I.children[H]);(ye.segments.length>0||ye.hasChildren())&&(D[H]=ye)}return function(I){if(1===I.numberOfChildren&&I.children[pn]){const D=I.children[pn];return new yt(I.segments.concat(D.segments),D.children)}return I}(new yt(I.segments,D))}class Xr{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Zr{constructor(D,P){this.component=D,this.route=P}}function ci(I,D,P){const H=I._root;return Ss(H,D?D._root:null,P,[H.value])}function qs(I,D,P){const H=function(I){if(!I)return null;for(let D=I.parent;D;D=D.parent){const P=D.routeConfig;if(P&&P._loadedConfig)return P._loadedConfig}return null}(D);return(H?H.module.injector:P).get(I)}function Ss(I,D,P,H,te={canDeactivateChecks:[],canActivateChecks:[]}){const ye=Di(D);return I.children.forEach(Ve=>{(function(I,D,P,H,te={canDeactivateChecks:[],canActivateChecks:[]}){const ye=I.value,Ve=D?D.value:null,Ge=P?P.getContext(I.value.outlet):null;if(Ve&&ye.routeConfig===Ve.routeConfig){const _t=function(I,D,P){if("function"==typeof P)return P(I,D);switch(P){case"pathParamsChange":return!Pr(I.url,D.url);case"pathParamsOrQueryParamsChange":return!Pr(I.url,D.url)||!pt(I.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wl(I,D)||!pt(I.queryParams,D.queryParams);case"paramsChange":default:return!Wl(I,D)}}(Ve,ye,ye.routeConfig.runGuardsAndResolvers);_t?te.canActivateChecks.push(new Xr(H)):(ye.data=Ve.data,ye._resolvedData=Ve._resolvedData),Ss(I,D,ye.component?Ge?Ge.children:null:P,H,te),_t&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&te.canDeactivateChecks.push(new Zr(Ge.outlet.component,Ve))}else Ve&&Rs(D,Ge,te),te.canActivateChecks.push(new Xr(H)),Ss(I,null,ye.component?Ge?Ge.children:null:P,H,te)})(Ve,ye[Ve.value.outlet],P,H.concat([Ve.value]),te),delete ye[Ve.value.outlet]}),mr(ye,(Ve,Ge)=>Rs(Ve,P.getContext(Ge),te)),te}function Rs(I,D,P){const H=Di(I),te=I.value;mr(H,(ye,Ve)=>{Rs(ye,te.component?D?D.children.getContext(Ve):null:D,P)}),P.canDeactivateChecks.push(new Zr(te.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,te))}class zo{}function ba(I){return new j.y(D=>D.error(I))}class lc{constructor(D,P,H,te,ye,Ve){this.rootComponentType=D,this.config=P,this.urlTree=H,this.url=te,this.paramsInheritanceStrategy=ye,this.relativeLinkResolution=Ve}recognize(){const D=Gt(this.urlTree.root,[],[],this.config.filter(Ve=>void 0===Ve.redirectTo),this.relativeLinkResolution).segmentGroup,P=this.processSegmentGroup(this.config,D,pn);if(null===P)return null;const H=new go([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pn,this.rootComponentType,null,this.urlTree.root,-1,{}),te=new Tr(H,P),ye=new Ha(this.url,te);return this.inheritParamsAndData(ye._root),ye}inheritParamsAndData(D){const P=D.value,H=ja(P,this.paramsInheritanceStrategy);P.params=Object.freeze(H.params),P.data=Object.freeze(H.data),D.children.forEach(te=>this.inheritParamsAndData(te))}processSegmentGroup(D,P,H){return 0===P.segments.length&&P.hasChildren()?this.processChildren(D,P):this.processSegment(D,P,P.segments,H)}processChildren(D,P){const H=[];for(const ye of Object.keys(P.children)){const Ve=P.children[ye],Ge=St(D,ye),_t=this.processSegmentGroup(Ge,Ve,ye);if(null===_t)return null;H.push(..._t)}const te=yi(H);return te.sort((D,P)=>D.value.outlet===pn?-1:P.value.outlet===pn?1:D.value.outlet.localeCompare(P.value.outlet)),te}processSegment(D,P,H,te){for(const ye of D){const Ve=this.processSegmentAgainstRoute(ye,P,H,te);if(null!==Ve)return Ve}return ui(P,H,te)?[]:null}processSegmentAgainstRoute(D,P,H,te){if(D.redirectTo||!tn(D,P,H,te))return null;let ye,Ve=[],Ge=[];if("**"===D.path){const Gn=H.length>0?jn(H).parameters:{};ye=new go(H,Gn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gl(D),Ot(D),D.component,D,ql(P),Qa(P)+H.length,Kl(D))}else{const Gn=zt(P,D,H);if(!Gn.matched)return null;Ve=Gn.consumedSegments,Ge=H.slice(Gn.lastChild),ye=new go(Ve,Gn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gl(D),Ot(D),D.component,D,ql(P),Qa(P)+Ve.length,Kl(D))}const _t=(I=D).children?I.children:I.loadChildren?I._loadedConfig.routes:[],{segmentGroup:qt,slicedSegments:Yn}=Gt(P,Ve,Ge,_t.filter(Gn=>void 0===Gn.redirectTo),this.relativeLinkResolution);var I;if(0===Yn.length&&qt.hasChildren()){const Gn=this.processChildren(_t,qt);return null===Gn?null:[new Tr(ye,Gn)]}if(0===_t.length&&0===Yn.length)return[new Tr(ye,[])];const mn=Ot(D)===te,tr=this.processSegment(_t,qt,Yn,mn?pn:te);return null===tr?null:[new Tr(ye,tr)]}}function bo(I){const D=I.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function yi(I){const D=[],P=new Set;for(const H of I){if(!bo(H)){D.push(H);continue}const te=D.find(ye=>H.value.routeConfig===ye.value.routeConfig);void 0!==te?(te.children.push(...H.children),P.add(te)):D.push(H)}for(const H of P){const te=yi(H.children);D.push(new Tr(H.value,te))}return D.filter(H=>!P.has(H))}function ql(I){let D=I;for(;D._sourceSegment;)D=D._sourceSegment;return D}function Qa(I){let D=I,P=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,P+=D._segmentIndexShift?D._segmentIndexShift:0;return P-1}function gl(I){return I.data||{}}function Kl(I){return I.resolve||{}}function Jr(I){return(0,oi.w)(D=>{const P=I(D);return P?(0,De.D)(P).pipe((0,Tn.U)(()=>D)):(0,Ae.of)(D)})}class Wo extends class{shouldDetach(D){return!1}store(D,P){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,P){return D.routeConfig===P.routeConfig}}{}const To=new b.OlP("ROUTES");class ml{constructor(D,P,H,te){this.loader=D,this.compiler=P,this.onLoadStartListener=H,this.onLoadEndListener=te}load(D,P){if(P._loader$)return P._loader$;this.onLoadStartListener&&this.onLoadStartListener(P);const te=this.loadModuleFactory(P.loadChildren).pipe((0,Tn.U)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(P);const Ve=ye.create(D);return new _o(Vn(Ve.injector.get(To,void 0,b.XFs.Self|b.XFs.Optional)).map(ut),Ve)}),(0,rr.K)(ye=>{throw P._loader$=void 0,ye}));return P._loader$=new dt.c(te,()=>new Ye.xQ).pipe((0,Wi.x)()),P._loader$}loadModuleFactory(D){return"string"==typeof D?(0,De.D)(this.loader.load(D)):nn(D()).pipe((0,Nr.zg)(P=>P instanceof b.YKP?(0,Ae.of)(P):(0,De.D)(this.compiler.compileModuleAsync(P))))}}class Ta{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ii,this.attachRef=null}}class Ii{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const H=this.getOrCreateContext(D);H.outlet=P,this.contexts.set(D,H)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new Ta,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}}class qa{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}}function io(I){throw I}function Ea(I,D,P){return D.parse("/")}function Bu(I,D){return(0,Ae.of)(null)}const vl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Go={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class I{constructor(P,H,te,ye,Ve,Ge,_t,qt){this.rootComponentType=P,this.urlSerializer=H,this.rootContexts=te,this.location=ye,this.config=qt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ye.xQ,this.errorHandler=io,this.malformedUriErrorHandler=Ea,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Bu,afterPreactivation:Bu},this.urlHandlingStrategy=new qa,this.routeReuseStrategy=new Wo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ve.get(b.h0i),this.console=Ve.get(b.c2e);const tr=Ve.get(b.R0b);this.isNgZoneEnabled=tr instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(qt),this.currentUrlTree=new In(new yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ml(Ge,_t,Gn=>this.triggerEvent(new Wr(Gn)),Gn=>this.triggerEvent(new Is(Gn))),this.routerState=$n(this.currentUrlTree,this.rootComponentType),this.transitions=new ge.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var P;return null===(P=this.location.getState())||void 0===P?void 0:P.\u0275routerPageId}setupNavigations(P){const H=this.events;return P.pipe((0,pe.h)(te=>0!==te.id),(0,Tn.U)(te=>Object.assign(Object.assign({},te),{extractedUrl:this.urlHandlingStrategy.extract(te.rawUrl)})),(0,oi.w)(te=>{let ye=!1,Ve=!1;return(0,Ae.of)(te).pipe((0,qn.b)(Ge=>{this.currentNavigation={id:Ge.id,initialUrl:Ge.currentRawUrl,extractedUrl:Ge.extractedUrl,trigger:Ge.source,extras:Ge.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,oi.w)(Ge=>{const _t=this.browserUrlTree.toString(),qt=!this.navigated||Ge.extractedUrl.toString()!==_t||_t!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||qt)&&this.urlHandlingStrategy.shouldProcessUrl(Ge.rawUrl))return yl(Ge.source)&&(this.browserUrlTree=Ge.extractedUrl),(0,Ae.of)(Ge).pipe((0,oi.w)(mn=>{const tr=this.transitions.getValue();return H.next(new Or(mn.id,this.serializeUrl(mn.extractedUrl),mn.source,mn.restoredState)),tr!==this.transitions.getValue()?Mt.E:Promise.resolve(mn)}),function(I,D,P,H){return(0,oi.w)(te=>function(I,D,P,H,te){return new Zn(I,D,P,H,te).apply()}(I,D,P,te.extractedUrl,H).pipe((0,Tn.U)(ye=>Object.assign(Object.assign({},te),{urlAfterRedirects:ye}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qn.b)(mn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:mn.urlAfterRedirects})}),function(I,D,P,H,te){return(0,Nr.zg)(ye=>function(I,D,P,H,te="emptyOnly",ye="legacy"){try{const Ve=new lc(I,D,P,H,te,ye).recognize();return null===Ve?ba(new zo):(0,Ae.of)(Ve)}catch(Ve){return ba(Ve)}}(I,D,ye.urlAfterRedirects,P(ye.urlAfterRedirects),H,te).pipe((0,Tn.U)(Ve=>Object.assign(Object.assign({},ye),{targetSnapshot:Ve}))))}(this.rootComponentType,this.config,mn=>this.serializeUrl(mn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qn.b)(mn=>{"eager"===this.urlUpdateStrategy&&(mn.extras.skipLocationChange||this.setBrowserUrl(mn.urlAfterRedirects,mn),this.browserUrlTree=mn.urlAfterRedirects);const tr=new Jn(mn.id,this.serializeUrl(mn.extractedUrl),this.serializeUrl(mn.urlAfterRedirects),mn.targetSnapshot);H.next(tr)}));if(qt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:tr,extractedUrl:Gn,source:Ui,restoredState:Ns,extras:Ls}=Ge,Pa=new Or(tr,this.serializeUrl(Gn),Ui,Ns);H.next(Pa);const hr=$n(Gn,this.rootComponentType).snapshot;return(0,Ae.of)(Object.assign(Object.assign({},Ge),{targetSnapshot:hr,urlAfterRedirects:Gn,extras:Object.assign(Object.assign({},Ls),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ge.rawUrl,this.browserUrlTree=Ge.urlAfterRedirects,Ge.resolve(null),Mt.E}),Jr(Ge=>{const{targetSnapshot:_t,id:qt,extractedUrl:Yn,rawUrl:mn,extras:{skipLocationChange:tr,replaceUrl:Gn}}=Ge;return this.hooks.beforePreactivation(_t,{navigationId:qt,appliedUrlTree:Yn,rawUrlTree:mn,skipLocationChange:!!tr,replaceUrl:!!Gn})}),(0,qn.b)(Ge=>{const _t=new Kt(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot);this.triggerEvent(_t)}),(0,Tn.U)(Ge=>Object.assign(Object.assign({},Ge),{guards:ci(Ge.targetSnapshot,Ge.currentSnapshot,this.rootContexts)})),function(I,D){return(0,Nr.zg)(P=>{const{targetSnapshot:H,currentSnapshot:te,guards:{canActivateChecks:ye,canDeactivateChecks:Ve}}=P;return 0===Ve.length&&0===ye.length?(0,Ae.of)(Object.assign(Object.assign({},P),{guardsResult:!0})):function(I,D,P,H){return(0,De.D)(I).pipe((0,Nr.zg)(te=>function(I,D,P,H,te){const ye=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ye||0===ye.length)return(0,Ae.of)(!0);const Ve=ye.map(Ge=>{const _t=qs(Ge,D,te);let qt;if(function(I){return I&&Zt(I.canDeactivate)}(_t))qt=nn(_t.canDeactivate(I,D,P,H));else{if(!Zt(_t))throw new Error("Invalid CanDeactivate guard");qt=nn(_t(I,D,P,H))}return qt.pipe(Sn())});return(0,Ae.of)(Ve).pipe(Z())}(te.component,te.route,P,D,H)),Sn(te=>!0!==te,!0))}(Ve,H,te,I).pipe((0,Nr.zg)(Ge=>Ge&&function(I){return"boolean"==typeof I}(Ge)?function(I,D,P,H){return(0,De.D)(D).pipe((0,wi.b)(te=>(0,je.z)(function(I,D){return null!==I&&D&&D(new Si(I)),(0,Ae.of)(!0)}(te.route.parent,H),function(I,D){return null!==I&&D&&D(new En(I)),(0,Ae.of)(!0)}(te.route,H),function(I,D,P){const H=D[D.length-1],ye=D.slice(0,D.length-1).reverse().map(Ve=>function(I){const D=I.routeConfig?I.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:I,guards:D}:null}(Ve)).filter(Ve=>null!==Ve).map(Ve=>(0,Ke.P)(()=>{const Ge=Ve.guards.map(_t=>{const qt=qs(_t,Ve.node,P);let Yn;if(function(I){return I&&Zt(I.canActivateChild)}(qt))Yn=nn(qt.canActivateChild(H,I));else{if(!Zt(qt))throw new Error("Invalid CanActivateChild guard");Yn=nn(qt(H,I))}return Yn.pipe(Sn())});return(0,Ae.of)(Ge).pipe(Z())}));return(0,Ae.of)(ye).pipe(Z())}(I,te.path,P),function(I,D,P){const H=D.routeConfig?D.routeConfig.canActivate:null;if(!H||0===H.length)return(0,Ae.of)(!0);const te=H.map(ye=>(0,Ke.P)(()=>{const Ve=qs(ye,D,P);let Ge;if(function(I){return I&&Zt(I.canActivate)}(Ve))Ge=nn(Ve.canActivate(D,I));else{if(!Zt(Ve))throw new Error("Invalid CanActivate guard");Ge=nn(Ve(D,I))}return Ge.pipe(Sn())}));return(0,Ae.of)(te).pipe(Z())}(I,te.route,P))),Sn(te=>!0!==te,!0))}(H,ye,I,D):(0,Ae.of)(Ge)),(0,Tn.U)(Ge=>Object.assign(Object.assign({},P),{guardsResult:Ge})))})}(this.ngModule.injector,Ge=>this.triggerEvent(Ge)),(0,qn.b)(Ge=>{if(q(Ge.guardsResult)){const qt=fo(`Redirecting to "${this.serializeUrl(Ge.guardsResult)}"`);throw qt.url=Ge.guardsResult,qt}const _t=new yn(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot,!!Ge.guardsResult);this.triggerEvent(_t)}),(0,pe.h)(Ge=>!!Ge.guardsResult||(this.restoreHistory(Ge),this.cancelNavigationTransition(Ge,""),!1)),Jr(Ge=>{if(Ge.guards.canActivateChecks.length)return(0,Ae.of)(Ge).pipe((0,qn.b)(_t=>{const qt=new Lo(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot);this.triggerEvent(qt)}),(0,oi.w)(_t=>{let qt=!1;return(0,Ae.of)(_t).pipe(function(I,D){return(0,Nr.zg)(P=>{const{targetSnapshot:H,guards:{canActivateChecks:te}}=P;if(!te.length)return(0,Ae.of)(P);let ye=0;return(0,De.D)(te).pipe((0,wi.b)(Ve=>function(I,D,P,H){return function(I,D,P,H){const te=Object.keys(I);if(0===te.length)return(0,Ae.of)({});const ye={};return(0,De.D)(te).pipe((0,Nr.zg)(Ve=>function(I,D,P,H){const te=qs(I,D,H);return nn(te.resolve?te.resolve(D,P):te(D,P))}(I[Ve],D,P,H).pipe((0,qn.b)(Ge=>{ye[Ve]=Ge}))),Fe(1),(0,Nr.zg)(()=>Object.keys(ye).length===te.length?(0,Ae.of)(ye):Mt.E))}(I._resolve,I,D,H).pipe((0,Tn.U)(ye=>(I._resolvedData=ye,I.data=Object.assign(Object.assign({},I.data),ja(I,P).resolve),null)))}(Ve.route,H,I,D)),(0,qn.b)(()=>ye++),Fe(1),(0,Nr.zg)(Ve=>ye===te.length?(0,Ae.of)(P):Mt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qn.b)({next:()=>qt=!0,complete:()=>{qt||(this.restoreHistory(_t),this.cancelNavigationTransition(_t,"At least one route resolver didn't emit any value."))}}))}),(0,qn.b)(_t=>{const qt=new ir(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot);this.triggerEvent(qt)}))}),Jr(Ge=>{const{targetSnapshot:_t,id:qt,extractedUrl:Yn,rawUrl:mn,extras:{skipLocationChange:tr,replaceUrl:Gn}}=Ge;return this.hooks.afterPreactivation(_t,{navigationId:qt,appliedUrlTree:Yn,rawUrlTree:mn,skipLocationChange:!!tr,replaceUrl:!!Gn})}),(0,Tn.U)(Ge=>{const _t=function(I,D,P){const H=$a(I,D._root,P?P._root:void 0);return new Dr(H,D)}(this.routeReuseStrategy,Ge.targetSnapshot,Ge.currentRouterState);return Object.assign(Object.assign({},Ge),{targetRouterState:_t})}),(0,qn.b)(Ge=>{this.currentUrlTree=Ge.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ge.urlAfterRedirects,Ge.rawUrl),this.routerState=Ge.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ge.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ge),this.browserUrlTree=Ge.urlAfterRedirects)}),((I,D,P)=>(0,Tn.U)(H=>(new Mi(D,H.targetRouterState,H.currentRouterState,P).activate(I),H)))(this.rootContexts,this.routeReuseStrategy,Ge=>this.triggerEvent(Ge)),(0,qn.b)({next(){ye=!0},complete(){ye=!0}}),function(I){return D=>D.lift(new Rn(I))}(()=>{var Ge;if(!ye&&!Ve){const _t=`Navigation ID ${te.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(te),this.cancelNavigationTransition(te,_t)):this.cancelNavigationTransition(te,_t)}(null===(Ge=this.currentNavigation)||void 0===Ge?void 0:Ge.id)===te.id&&(this.currentNavigation=null)}),(0,rr.K)(Ge=>{if(Ve=!0,function(I){return I&&I[ss]}(Ge)){const _t=q(Ge.url);_t||(this.navigated=!0,this.restoreHistory(te,!0));const qt=new gr(te.id,this.serializeUrl(te.extractedUrl),Ge.message);H.next(qt),_t?setTimeout(()=>{const Yn=this.urlHandlingStrategy.merge(Ge.url,this.rawUrlTree),mn={skipLocationChange:te.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yl(te.source)};this.scheduleNavigation(Yn,"imperative",null,mn,{resolve:te.resolve,reject:te.reject,promise:te.promise})},0):te.resolve(!1)}else{this.restoreHistory(te,!0);const _t=new Va(te.id,this.serializeUrl(te.extractedUrl),Ge);H.next(_t);try{te.resolve(this.errorHandler(Ge))}catch(qt){te.reject(qt)}}return Mt.E}))}))}resetRootComponentType(P){this.rootComponentType=P,this.routerState.root.component=this.rootComponentType}getTransition(){const P=this.transitions.value;return P.urlAfterRedirects=this.browserUrlTree,P}setTransition(P){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),P))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(P=>{const H=this.extractLocationChangeInfoFromEvent(P);this.shouldScheduleNavigation(this.lastLocationChangeInfo,H)&&setTimeout(()=>{const{source:te,state:ye,urlTree:Ve}=H,Ge={replaceUrl:!0};if(ye){const _t=Object.assign({},ye);delete _t.navigationId,delete _t.\u0275routerPageId,0!==Object.keys(_t).length&&(Ge.state=_t)}this.scheduleNavigation(Ve,te,ye,Ge)},0),this.lastLocationChangeInfo=H}))}extractLocationChangeInfoFromEvent(P){var H;return{source:"popstate"===P.type?"popstate":"hashchange",urlTree:this.parseUrl(P.url),state:(null===(H=P.state)||void 0===H?void 0:H.navigationId)?P.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(P,H){if(!P)return!0;const te=H.urlTree.toString()===P.urlTree.toString();return H.transitionId!==P.transitionId||!te||!("hashchange"===H.source&&"popstate"===P.source||"popstate"===H.source&&"hashchange"===P.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(P){this.events.next(P)}resetConfig(P){We(P),this.config=P.map(ut),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(P,H={}){const{relativeTo:te,queryParams:ye,fragment:Ve,queryParamsHandling:Ge,preserveFragment:_t}=H,qt=te||this.routerState.root,Yn=_t?this.currentUrlTree.fragment:Ve;let mn=null;switch(Ge){case"merge":mn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ye);break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=ye||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),function(I,D,P,H,te){if(0===P.length)return Wa(D.root,D.root,D,H,te);const ye=function(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new xs(!0,0,I);let D=0,P=!1;const H=I.reduce((te,ye,Ve)=>{if("object"==typeof ye&&null!=ye){if(ye.outlets){const Ge={};return mr(ye.outlets,(_t,qt)=>{Ge[qt]="string"==typeof _t?_t.split("/"):_t}),[...te,{outlets:Ge}]}if(ye.segmentPath)return[...te,ye.segmentPath]}return"string"!=typeof ye?[...te,ye]:0===Ve?(ye.split("/").forEach((Ge,_t)=>{0==_t&&"."===Ge||(0==_t&&""===Ge?P=!0:".."===Ge?D++:""!=Ge&&te.push(Ge))}),te):[...te,ye]},[]);return new xs(P,D,H)}(P);if(ye.toRoot())return Wa(D.root,new yt([],{}),D,H,te);const Ve=function(I,D,P){if(I.isAbsolute)return new va(D.root,!0,0);if(-1===P.snapshot._lastPathIndex){const ye=P.snapshot._urlSegment;return new va(ye,ye===D.root,0)}const H=Vo(I.commands[0])?0:1;return function(I,D,P){let H=I,te=D,ye=P;for(;ye>te;){if(ye-=te,H=H.parent,!H)throw new Error("Invalid number of '../'");te=H.segments.length}return new va(H,!1,te-ye)}(P.snapshot._urlSegment,P.snapshot._lastPathIndex+H,I.numberOfDoubleDots)}(ye,D,I),Ge=Ve.processChildren?yo(Ve.segmentGroup,Ve.index,ye.commands):vo(Ve.segmentGroup,Ve.index,ye.commands);return Wa(Ve.segmentGroup,Ge,D,H,te)}(qt,this.currentUrlTree,P,mn,null!=Yn?Yn:null)}navigateByUrl(P,H={skipLocationChange:!1}){const te=q(P)?P:this.parseUrl(P),ye=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(ye,"imperative",null,H)}navigate(P,H={skipLocationChange:!1}){return function(I){for(let D=0;D<I.length;D++){const P=I[D];if(null==P)throw new Error(`The requested path contains ${P} segment at index ${D}`)}}(P),this.navigateByUrl(this.createUrlTree(P,H),H)}serializeUrl(P){return this.urlSerializer.serialize(P)}parseUrl(P){let H;try{H=this.urlSerializer.parse(P)}catch(te){H=this.malformedUriErrorHandler(te,this.urlSerializer,P)}return H}isActive(P,H){let te;if(te=!0===H?Object.assign({},vl):!1===H?Object.assign({},Go):H,q(P))return Lr(this.currentUrlTree,P,te);const ye=this.parseUrl(P);return Lr(this.currentUrlTree,ye,te)}removeEmptyProps(P){return Object.keys(P).reduce((H,te)=>{const ye=P[te];return null!=ye&&(H[te]=ye),H},{})}processNavigations(){this.navigations.subscribe(P=>{this.navigated=!0,this.lastSuccessfulId=P.id,this.currentPageId=P.targetPageId,this.events.next(new Mr(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,P.resolve(!0)},P=>{this.console.warn(`Unhandled Navigation Error: ${P}`)})}scheduleNavigation(P,H,te,ye,Ve){var Ge,_t;if(this.disposed)return Promise.resolve(!1);const qt=this.getTransition(),Yn=yl(H)&&qt&&!yl(qt.source),Gn=(this.lastSuccessfulId===qt.id||this.currentNavigation?qt.rawUrl:qt.urlAfterRedirects).toString()===P.toString();if(Yn&&Gn)return Promise.resolve(!0);let Ui,Ns,Ls;Ve?(Ui=Ve.resolve,Ns=Ve.reject,Ls=Ve.promise):Ls=new Promise((xr,Cl)=>{Ui=xr,Ns=Cl});const Pa=++this.navigationId;let hr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(te=this.location.getState()),hr=te&&te.\u0275routerPageId?te.\u0275routerPageId:ye.replaceUrl||ye.skipLocationChange?null!==(Ge=this.browserPageId)&&void 0!==Ge?Ge:0:(null!==(_t=this.browserPageId)&&void 0!==_t?_t:0)+1):hr=0,this.setTransition({id:Pa,targetPageId:hr,source:H,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:P,extras:ye,resolve:Ui,reject:Ns,promise:Ls,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ls.catch(xr=>Promise.reject(xr))}setBrowserUrl(P,H){const te=this.urlSerializer.serialize(P),ye=Object.assign(Object.assign({},H.extras.state),this.generateNgRouterState(H.id,H.targetPageId));this.location.isCurrentPathEqualTo(te)||H.extras.replaceUrl?this.location.replaceState(te,"",ye):this.location.go(te,"",ye)}restoreHistory(P,H=!1){var te,ye;if("computed"===this.canceledNavigationResolution){const Ve=this.currentPageId-P.targetPageId;"popstate"!==P.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(te=this.currentNavigation)||void 0===te?void 0:te.finalUrl)||0===Ve?this.currentUrlTree===(null===(ye=this.currentNavigation)||void 0===ye?void 0:ye.finalUrl)&&0===Ve&&(this.resetState(P),this.browserUrlTree=P.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ve)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(P),this.resetUrlToCurrentUrlTree())}resetState(P){this.routerState=P.currentRouterState,this.currentUrlTree=P.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,P.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(P,H){const te=new gr(P.id,this.serializeUrl(P.extractedUrl),H);this.triggerEvent(te),P.resolve(!1)}generateNgRouterState(P,H){return"computed"===this.canceledNavigationResolution?{navigationId:P,\u0275routerPageId:H}:{navigationId:P}}}return I.\u0275fac=function(P){return new(P||I)(b.LFG(b.DyG),b.LFG(Kn),b.LFG(Ii),b.LFG(A.Ye),b.LFG(b.zs3),b.LFG(b.v3s),b.LFG(b.Sil),b.LFG(void 0))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})();function yl(I){return"imperative"!==I}let Eo=(()=>{class I{constructor(P,H,te,ye,Ve){this.parentContexts=P,this.location=H,this.resolver=te,this.changeDetector=Ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.name=ye||pn,P.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const P=this.parentContexts.getContext(this.name);P&&P.route&&(P.attachRef?this.attach(P.attachRef,P.route):this.activateWith(P.route,P.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const P=this.activated;return this.activated=null,this._activatedRoute=null,P}attach(P,H){this.activated=P,this._activatedRoute=H,this.location.insert(P.hostView)}deactivate(){if(this.activated){const P=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(P)}}activateWith(P,H){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=P;const Ve=(H=H||this.resolver).resolveComponentFactory(P._futureSnapshot.routeConfig.component),Ge=this.parentContexts.getOrCreateContext(this.name).children,_t=new uc(P,Ge,this.location.injector);this.activated=this.location.createComponent(Ve,this.location.length,_t),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(P){return new(P||I)(b.Y36(Ii),b.Y36(b.s_b),b.Y36(b._Vd),b.$8M("name"),b.Y36(b.sBO))},I.\u0275dir=b.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),I})();class uc{constructor(D,P,H){this.route=D,this.childContexts=P,this.parent=H}get(D,P){return D===Br?this.route:D===Ii?this.childContexts:this.parent.get(D,P)}}class Vu{}class Xc{preload(D,P){return(0,Ae.of)(null)}}let Qo=(()=>{class I{constructor(P,H,te,ye,Ve){this.router=P,this.injector=ye,this.preloadingStrategy=Ve,this.loader=new ml(H,te,qt=>P.triggerEvent(new Wr(qt)),qt=>P.triggerEvent(new Is(qt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,pe.h)(P=>P instanceof Mr),(0,wi.b)(()=>this.preload())).subscribe(()=>{})}preload(){const P=this.injector.get(b.h0i);return this.processRoutes(P,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(P,H){const te=[];for(const ye of H)if(ye.loadChildren&&!ye.canLoad&&ye._loadedConfig){const Ve=ye._loadedConfig;te.push(this.processRoutes(Ve.module,Ve.routes))}else ye.loadChildren&&!ye.canLoad?te.push(this.preloadConfig(P,ye)):ye.children&&te.push(this.processRoutes(P,ye.children));return(0,De.D)(te).pipe((0,an.J)(),(0,Tn.U)(ye=>{}))}preloadConfig(P,H){return this.preloadingStrategy.preload(H,()=>(H._loadedConfig?(0,Ae.of)(H._loadedConfig):this.loader.load(P.injector,H)).pipe((0,Nr.zg)(ye=>(H._loadedConfig=ye,this.processRoutes(ye.module,ye.routes)))))}}return I.\u0275fac=function(P){return new(P||I)(b.LFG(bi),b.LFG(b.v3s),b.LFG(b.Sil),b.LFG(b.zs3),b.LFG(Vu))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})(),qo=(()=>{class I{constructor(P,H,te={}){this.router=P,this.viewportScroller=H,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(P=>{P instanceof Or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=P.navigationTrigger,this.restoredId=P.restoredState?P.restoredState.navigationId:0):P instanceof Mr&&(this.lastId=P.id,this.scheduleScrollEvent(P,this.router.parseUrl(P.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(P=>{P instanceof Xn&&(P.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(P.position):P.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(P.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(P,H){this.router.triggerEvent(new Xn(P,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(P){return new(P||I)(b.LFG(bi),b.LFG(A.EM),b.LFG(void 0))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})();const xo=new b.OlP("ROUTER_CONFIGURATION"),Xl=new b.OlP("ROUTER_FORROOT_GUARD"),Sa=[A.Ye,{provide:Kn,useClass:Ws},{provide:bi,useFactory:function(I,D,P,H,te,ye,Ve,Ge={},_t,qt){const Yn=new bi(null,I,D,P,H,te,ye,Vn(Ve));return _t&&(Yn.urlHandlingStrategy=_t),qt&&(Yn.routeReuseStrategy=qt),function(I,D){I.errorHandler&&(D.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(D.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(D.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(D.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(D.urlUpdateStrategy=I.urlUpdateStrategy)}(Ge,Yn),Ge.enableTracing&&Yn.events.subscribe(mn=>{var tr,Gn;null===(tr=console.group)||void 0===tr||tr.call(console,`Router Event: ${mn.constructor.name}`),console.log(mn.toString()),console.log(mn),null===(Gn=console.groupEnd)||void 0===Gn||Gn.call(console)}),Yn},deps:[Kn,Ii,A.Ye,b.zs3,b.v3s,b.Sil,To,xo,[class{},new b.FiY],[class{},new b.FiY]]},Ii,{provide:Br,useFactory:function(I){return I.routerState.root},deps:[bi]},{provide:b.v3s,useClass:b.EAV},Qo,Xc,class{preload(D,P){return P().pipe((0,rr.K)(()=>(0,Ae.of)(null)))}},{provide:xo,useValue:{enableTracing:!1}}];function cc(){return new b.PXZ("Router",bi)}let ki=(()=>{class I{constructor(P,H){}static forRoot(P,H){return{ngModule:I,providers:[Sa,Oa(P),{provide:Xl,useFactory:bl,deps:[[bi,new b.FiY,new b.tp0]]},{provide:xo,useValue:H||{}},{provide:A.S$,useFactory:Ka,deps:[A.lw,[new b.tBr(A.mr),new b.FiY],xo]},{provide:qo,useFactory:dc,deps:[bi,A.EM,xo]},{provide:Vu,useExisting:H&&H.preloadingStrategy?H.preloadingStrategy:Xc},{provide:b.PXZ,multi:!0,useFactory:cc},[Ci,{provide:b.ip1,multi:!0,useFactory:Ko,deps:[Ci]},{provide:fc,useFactory:Jl,deps:[Ci]},{provide:b.tb,multi:!0,useExisting:fc}]]}}static forChild(P){return{ngModule:I,providers:[Oa(P)]}}}return I.\u0275fac=function(P){return new(P||I)(b.LFG(Xl,8),b.LFG(bi,8))},I.\u0275mod=b.oAB({type:I}),I.\u0275inj=b.cJS({}),I})();function dc(I,D,P){return P.scrollOffset&&D.setOffset(P.scrollOffset),new qo(I,D,P)}function Ka(I,D,P={}){return P.useHash?new A.Do(I,D):new A.b0(I,D)}function bl(I){return"guarded"}function Oa(I){return[{provide:b.deG,multi:!0,useValue:I},{provide:To,multi:!0,useValue:I}]}let Ci=(()=>{class I{constructor(P){this.injector=P,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ye.xQ}appInitializer(){return this.injector.get(A.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let H=null;const te=new Promise(Ge=>H=Ge),ye=this.injector.get(bi),Ve=this.injector.get(xo);return"disabled"===Ve.initialNavigation?(ye.setUpLocationChangeListener(),H(!0)):"enabled"===Ve.initialNavigation||"enabledBlocking"===Ve.initialNavigation?(ye.hooks.afterPreactivation=()=>this.initNavigation?(0,Ae.of)(null):(this.initNavigation=!0,H(!0),this.resultOfPreactivationDone),ye.initialNavigation()):H(!0),te})}bootstrapListener(P){const H=this.injector.get(xo),te=this.injector.get(Qo),ye=this.injector.get(qo),Ve=this.injector.get(bi),Ge=this.injector.get(b.z2F);P===Ge.components[0]&&(("enabledNonBlocking"===H.initialNavigation||void 0===H.initialNavigation)&&Ve.initialNavigation(),te.setUpPreloading(),ye.init(),Ve.resetRootComponentType(Ge.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(P){return new(P||I)(b.LFG(b.zs3))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac}),I})();function Ko(I){return I.appInitializer.bind(I)}function Jl(I){return I.bootstrapListener.bind(I)}const fc=new b.OlP("Router Initializer")},7974:(ct,Le,F)=>{"use strict";var A=F(4897);ct.exports=function(ee,ce){return void 0===ce&&(ce=!1),function(ue,oe,j){if(ue)ee(ue);else if(oe.statusCode>=400&&oe.statusCode<=599){var W=j;if(ce)if(A.TextDecoder){var ne=(void 0===(de=oe.headers&&oe.headers["content-type"])&&(de=""),de.toLowerCase().split(";").reduce(function(ee,ce){var ue=ce.split("="),j=ue[1];return"charset"===ue[0].trim()?j.trim():ee},"utf-8"));try{W=new TextDecoder(ne).decode(j)}catch(G){}}else W=String.fromCharCode.apply(null,new Uint8Array(j));ee({cause:W})}else{var de;ee(null,j)}}}},2472:(ct,Le,F)=>{"use strict";var A=F(4897),b=F(6549),z=F(1315);function ue(G,le,Ce){var ae=G;return z(le)?(Ce=le,"string"==typeof G&&(ae={uri:G})):ae=b({},le,{uri:G}),ae.callback=Ce,ae}function oe(G,le,Ce){return j(le=ue(G,le,Ce))}function j(G){if(void 0===G.callback)throw new Error("callback argument missing");var le=!1,Ce=function(Fe,Re,Je){le||(le=!0,G.callback(Fe,Re,Je))};function _e(){var xe=void 0;if(xe=Ae.response?Ae.response:Ae.responseText||function(G){try{if("document"===G.responseType)return G.responseXML;if(""===G.responseType&&(!G.responseXML||"parsererror"!==G.responseXML.documentElement.nodeName))return G.responseXML}catch(Ce){}return null}(Ae),B)try{xe=JSON.parse(xe)}catch(Fe){}return xe}function Pe(xe){return clearTimeout(re),xe instanceof Error||(xe=new Error(""+(xe||"Unknown XMLHttpRequest Error"))),xe.statusCode=0,Ce(xe,pe)}function De(){if(!je){var xe;clearTimeout(re);var Fe=pe,Re=null;return 0!==(xe=G.useXDR&&void 0===Ae.status?200:1223===Ae.status?204:Ae.status)?(Fe={body:_e(),statusCode:xe,method:Mt,headers:{},url:Ke,rawRequest:Ae},Ae.getAllResponseHeaders&&(Fe.headers=function(le){var Ce={};return le&&le.trim().split("\n").forEach(function(ae){var _e=ae.indexOf(":"),Pe=ae.slice(0,_e).trim().toLowerCase(),De=ae.slice(_e+1).trim();void 0===Ce[Pe]?Ce[Pe]=De:Array.isArray(Ce[Pe])?Ce[Pe].push(De):Ce[Pe]=[Ce[Pe],De]}),Ce}(Ae.getAllResponseHeaders()))):Re=new Error("Internal XMLHttpRequest Error"),Ce(Re,Fe,Fe.body)}}var Ae=G.xhr||null;Ae||(Ae=G.cors||G.useXDR?new oe.XDomainRequest:new oe.XMLHttpRequest);var ge,je,re,Ke=Ae.url=G.uri||G.url,Mt=Ae.method=G.method||"GET",dt=G.body||G.data,Ye=Ae.headers=G.headers||{},Y=!!G.sync,B=!1,pe={body:void 0,headers:{},statusCode:0,method:Mt,url:Ke,rawRequest:Ae};if("json"in G&&!1!==G.json&&(B=!0,Ye.accept||Ye.Accept||(Ye.Accept="application/json"),"GET"!==Mt&&"HEAD"!==Mt&&(Ye["content-type"]||Ye["Content-Type"]||(Ye["Content-Type"]="application/json"),dt=JSON.stringify(!0===G.json?dt:G.json))),Ae.onreadystatechange=function(){4===Ae.readyState&&setTimeout(De,0)},Ae.onload=De,Ae.onerror=Pe,Ae.onprogress=function(){},Ae.onabort=function(){je=!0},Ae.ontimeout=Pe,Ae.open(Mt,Ke,!Y,G.username,G.password),Y||(Ae.withCredentials=!!G.withCredentials),!Y&&G.timeout>0&&(re=setTimeout(function(){if(!je){je=!0,Ae.abort("timeout");var xe=new Error("XMLHttpRequest timeout");xe.code="ETIMEDOUT",Pe(xe)}},G.timeout)),Ae.setRequestHeader)for(ge in Ye)Ye.hasOwnProperty(ge)&&Ae.setRequestHeader(ge,Ye[ge]);else if(G.headers&&!function(G){for(var le in G)if(G.hasOwnProperty(le))return!1;return!0}(G.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in G&&(Ae.responseType=G.responseType),"beforeSend"in G&&"function"==typeof G.beforeSend&&G.beforeSend(Ae),Ae.send(dt||null),Ae}oe.httpHandler=F(7974),ct.exports=oe,ct.exports.default=oe,oe.XMLHttpRequest=A.XMLHttpRequest||function(){},oe.XDomainRequest="withCredentials"in new oe.XMLHttpRequest?oe.XMLHttpRequest:A.XDomainRequest,function(G,le){for(var Ce=0;Ce<G.length;Ce++)le(G[Ce])}(["get","put","post","patch","head","delete"],function(G){oe["delete"===G?"del":G]=function(le,Ce,ae){return(Ce=ue(le,Ce,ae)).method=G.toUpperCase(),j(Ce)}})},1558:(ct,Le,F)=>{"use strict";F.d(Le,{g7:()=>ue});var A=null,b={},z=1,ee="@wry/context:Slot",ce=Array,ue=ce[ee]||function(){var ae=function(){function ae(){this.id=["slot",z++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return ae.prototype.hasValue=function(){for(var _e=A;_e;_e=_e.parent)if(this.id in _e.slots){var Pe=_e.slots[this.id];if(Pe===b)break;return _e!==A&&(A.slots[this.id]=Pe),!0}return A&&(A.slots[this.id]=b),!1},ae.prototype.getValue=function(){if(this.hasValue())return A.slots[this.id]},ae.prototype.withValue=function(_e,Pe,De,Ae){var ge,je=((ge={__proto__:null})[this.id]=_e,ge),Ke=A;A={parent:Ke,slots:je};try{return Pe.apply(Ae,De)}finally{A=Ke}},ae.bind=function(_e){var Pe=A;return function(){var De=A;try{return A=Pe,_e.apply(this,arguments)}finally{A=De}}},ae.noContext=function(_e,Pe,De){if(!A)return _e.apply(De,Pe);var Ae=A;try{return A=null,_e.apply(De,Pe)}finally{A=Ae}},ae}();try{Object.defineProperty(ce,ee,{value:ce[ee]=ae,enumerable:!1,writable:!1,configurable:!1})}finally{return ae}}()},1913:(ct,Le,F)=>{"use strict";F.d(Le,{D:()=>ce});var A=Object.prototype,b=A.toString,z=A.hasOwnProperty,de=Function.prototype.toString,ee=new Map;function ce(le,Ce){try{return ue(le,Ce)}finally{ee.clear()}}function ue(le,Ce){if(le===Ce)return!0;var ae=b.call(le);if(ae!==b.call(Ce))return!1;switch(ae){case"[object Array]":if(le.length!==Ce.length)return!1;case"[object Object]":if(G(le,Ce))return!0;var Pe=oe(le),De=oe(Ce),Ae=Pe.length;if(Ae!==De.length)return!1;for(var ge=0;ge<Ae;++ge)if(!z.call(Ce,Pe[ge]))return!1;for(ge=0;ge<Ae;++ge){var je=Pe[ge];if(!ue(le[je],Ce[je]))return!1}return!0;case"[object Error]":return le.name===Ce.name&&le.message===Ce.message;case"[object Number]":if(le!=le)return Ce!=Ce;case"[object Boolean]":case"[object Date]":return+le==+Ce;case"[object RegExp]":case"[object String]":return le==""+Ce;case"[object Map]":case"[object Set]":if(le.size!==Ce.size)return!1;if(G(le,Ce))return!0;for(var Ke=le.entries(),Mt="[object Map]"===ae;;){var dt=Ke.next();if(dt.done)break;var Ye=dt.value,Y=Ye[0],B=Ye[1];if(!Ce.has(Y)||Mt&&!ue(B,Ce.get(Y)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":le=new Uint8Array(le),Ce=new Uint8Array(Ce);case"[object DataView]":var re=le.byteLength;if(re===Ce.byteLength)for(;re--&&le[re]===Ce[re];);return-1===re;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var pe=de.call(le);return pe===de.call(Ce)&&!function(le,Ce){var ae=le.length-Ce.length;return ae>=0&&le.indexOf(Ce,ae)===ae}(pe,W)}return!1}function oe(le){return Object.keys(le).filter(j,le)}function j(le){return void 0!==this[le]}var W="{ [native code] }";function G(le,Ce){var ae=ee.get(le);if(ae){if(ae.has(Ce))return!0}else ee.set(le,ae=new Set);return ae.add(Ce),!1}},2844:(ct,Le,F)=>{"use strict";F.d(Le,{B:()=>ee});var A=function(){return Object.create(null)},b=Array.prototype,z=b.forEach,de=b.slice,ee=function(){function ue(oe,j){void 0===oe&&(oe=!0),void 0===j&&(j=A),this.weakness=oe,this.makeData=j}return ue.prototype.lookup=function(){for(var oe=[],j=0;j<arguments.length;j++)oe[j]=arguments[j];return this.lookupArray(oe)},ue.prototype.lookupArray=function(oe){var j=this;return z.call(oe,function(W){return j=j.getChildTrie(W)}),j.data||(j.data=this.makeData(de.call(oe)))},ue.prototype.getChildTrie=function(oe){var j=this.weakness&&function(ue){switch(typeof ue){case"object":if(null===ue)break;case"function":return!0}return!1}(oe)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),W=j.get(oe);return W||j.set(oe,W=new ue(this.weakness,this.makeData)),W},ue}()},1351:(ct,Le)=>{"use strict";function F(z,de){return void 0===de&&(de=Object),de&&"function"==typeof de.freeze?de.freeze(z):z}var A=F({HTML:"text/html",isHTML:function(z){return z===A.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),b=F({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(z){return z===b.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Le.freeze=F,Le.MIME_TYPE=A,Le.NAMESPACE=b},9818:(ct,Le,F)=>{var b=F(1351),z=F(3577),de=F(3079),ee=F(6483),ce=z.DOMImplementation,ue=b.NAMESPACE,oe=ee.ParseError,j=ee.XMLReader;function W(Pe){this.options=Pe||{locator:{}}}function G(){this.cdata=!1}function le(Pe,De){De.lineNumber=Pe.lineNumber,De.columnNumber=Pe.columnNumber}function Ce(Pe){if(Pe)return"\n@"+(Pe.systemId||"")+"#[line:"+Pe.lineNumber+",col:"+Pe.columnNumber+"]"}function ae(Pe,De,Ae){return"string"==typeof Pe?Pe.substr(De,Ae):Pe.length>=De+Ae||De?new java.lang.String(Pe,De,Ae)+"":Pe}function _e(Pe,De){Pe.currentElement?Pe.currentElement.appendChild(De):Pe.doc.appendChild(De)}W.prototype.parseFromString=function(Pe,De){var Ae=this.options,ge=new j,je=Ae.domBuilder||new G,Ke=Ae.errorHandler,Mt=Ae.locator,dt=Ae.xmlns||{},Ye=/\/x?html?$/.test(De),Y=Ye?de.HTML_ENTITIES:de.XML_ENTITIES;return Mt&&je.setDocumentLocator(Mt),ge.errorHandler=function(Pe,De,Ae){if(!Pe){if(De instanceof G)return De;Pe=De}var ge={},je=Pe instanceof Function;function Ke(Mt){var dt=Pe[Mt];!dt&&je&&(dt=2==Pe.length?function(Ye){Pe(Mt,Ye)}:Pe),ge[Mt]=dt&&function(Ye){dt("[xmldom "+Mt+"]\t"+Ye+Ce(Ae))}||function(){}}return Ae=Ae||{},Ke("warning"),Ke("error"),Ke("fatalError"),ge}(Ke,je,Mt),ge.domBuilder=Ae.domBuilder||je,Ye&&(dt[""]=ue.HTML),dt.xml=dt.xml||ue.XML,Pe&&"string"==typeof Pe?ge.parse(Pe,dt,Y):ge.errorHandler.error("invalid doc source"),je.doc},G.prototype={startDocument:function(){this.doc=(new ce).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(Pe,De,Ae,ge){var je=this.doc,Ke=je.createElementNS(Pe,Ae||De),Mt=ge.length;_e(this,Ke),this.currentElement=Ke,this.locator&&le(this.locator,Ke);for(var dt=0;dt<Mt;dt++){Pe=ge.getURI(dt);var Ye=ge.getValue(dt),Y=(Ae=ge.getQName(dt),je.createAttributeNS(Pe,Ae));this.locator&&le(ge.getLocator(dt),Y),Y.value=Y.nodeValue=Ye,Ke.setAttributeNode(Y)}},endElement:function(Pe,De,Ae){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(Pe,De){},endPrefixMapping:function(Pe){},processingInstruction:function(Pe,De){var Ae=this.doc.createProcessingInstruction(Pe,De);this.locator&&le(this.locator,Ae),_e(this,Ae)},ignorableWhitespace:function(Pe,De,Ae){},characters:function(Pe,De,Ae){if(Pe=ae.apply(this,arguments)){if(this.cdata)var ge=this.doc.createCDATASection(Pe);else ge=this.doc.createTextNode(Pe);this.currentElement?this.currentElement.appendChild(ge):/^\s*$/.test(Pe)&&this.doc.appendChild(ge),this.locator&&le(this.locator,ge)}},skippedEntity:function(Pe){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(Pe){(this.locator=Pe)&&(Pe.lineNumber=0)},comment:function(Pe,De,Ae){Pe=ae.apply(this,arguments);var ge=this.doc.createComment(Pe);this.locator&&le(this.locator,ge),_e(this,ge)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(Pe,De,Ae){var ge=this.doc.implementation;if(ge&&ge.createDocumentType){var je=ge.createDocumentType(Pe,De,Ae);this.locator&&le(this.locator,je),_e(this,je),this.doc.doctype=je}},warning:function(Pe){console.warn("[xmldom warning]\t"+Pe,Ce(this.locator))},error:function(Pe){console.error("[xmldom error]\t"+Pe,Ce(this.locator))},fatalError:function(Pe){throw new oe(Pe,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(Pe){G.prototype[Pe]=function(){return null}}),Le.DOMParser=W},3577:(ct,Le,F)=>{var b=F(1351).NAMESPACE;function z(Oe){return""!==Oe}function ee(Oe,Ne){return Oe.hasOwnProperty(Ne)||(Oe[Ne]=!0),Oe}function ce(Oe){if(!Oe)return[];var Ne=function(Oe){return Oe?Oe.split(/[\t\n\f\r ]+/).filter(z):[]}(Oe);return Object.keys(Ne.reduce(ee,{}))}function oe(Oe,Ne){for(var qe in Oe)Ne[qe]=Oe[qe]}function j(Oe,Ne){var qe=Oe.prototype;if(!(qe instanceof Ne)){let Ht=function(){};Ht.prototype=Ne.prototype,Ht=new Ht,oe(qe,Ht),Oe.prototype=qe=Ht}qe.constructor!=Oe&&("function"!=typeof Oe&&console.error("unknown Class:"+Oe),qe.constructor=Oe)}var W={},ne=W.ELEMENT_NODE=1,G=W.ATTRIBUTE_NODE=2,le=W.TEXT_NODE=3,Ce=W.CDATA_SECTION_NODE=4,ae=W.ENTITY_REFERENCE_NODE=5,_e=W.ENTITY_NODE=6,Pe=W.PROCESSING_INSTRUCTION_NODE=7,De=W.COMMENT_NODE=8,Ae=W.DOCUMENT_NODE=9,ge=W.DOCUMENT_TYPE_NODE=10,je=W.DOCUMENT_FRAGMENT_NODE=11,Ke=W.NOTATION_NODE=12,Mt={},dt={},B=(Mt.INDEX_SIZE_ERR=(dt[1]="Index size error",1),Mt.DOMSTRING_SIZE_ERR=(dt[2]="DOMString size error",2),Mt.HIERARCHY_REQUEST_ERR=(dt[3]="Hierarchy request error",3)),Re=(Mt.WRONG_DOCUMENT_ERR=(dt[4]="Wrong document",4),Mt.INVALID_CHARACTER_ERR=(dt[5]="Invalid character",5),Mt.NO_DATA_ALLOWED_ERR=(dt[6]="No data allowed",6),Mt.NO_MODIFICATION_ALLOWED_ERR=(dt[7]="No modification allowed",7),Mt.NOT_FOUND_ERR=(dt[8]="Not found",8)),ft=(Mt.NOT_SUPPORTED_ERR=(dt[9]="Not supported",9),Mt.INUSE_ATTRIBUTE_ERR=(dt[10]="Attribute in use",10));function jt(Oe,Ne){if(Ne instanceof Error)var qe=Ne;else qe=this,Error.call(this,dt[Oe]),this.message=dt[Oe],Error.captureStackTrace&&Error.captureStackTrace(this,jt);return qe.code=Oe,Ne&&(this.message=this.message+": "+Ne),qe}function Rt(){}function Qt(Oe,Ne){this._node=Oe,this._refresh=Ne,Un(this)}function Un(Oe){var Ne=Oe._node._inc||Oe._node.ownerDocument._inc;if(Oe._inc!=Ne){var qe=Oe._refresh(Oe._node);ss(Oe,"length",qe.length),oe(qe,Oe),Oe._inc=Ne}}function Sn(){}function fn(Oe,Ne){for(var qe=Oe.length;qe--;)if(Oe[qe]===Ne)return qe}function Mn(Oe,Ne,qe,pt){if(pt?Ne[fn(Ne,pt)]=qe:Ne[Ne.length++]=qe,Oe){qe.ownerElement=Oe;var Ht=Oe.ownerDocument;Ht&&(pt&&Nr(Ht,Oe,pt),function(Oe,Ne,qe){Oe&&Oe._inc++,qe.namespaceURI===b.XMLNS&&(Ne._nsMap[qe.prefix?qe.localName:""]=qe.value)}(Ht,Oe,qe))}}function Rn(Oe,Ne,qe){var pt=fn(Ne,qe);if(!(pt>=0))throw jt(Re,new Error(Oe.tagName+"@"+qe));for(var Ht=Ne.length-1;pt<Ht;)Ne[pt]=Ne[++pt];if(Ne.length=Ht,Oe){var Vn=Oe.ownerDocument;Vn&&(Nr(Vn,Oe,qe),qe.ownerElement=null)}}function Sr(){}function Tn(){}function oi(Oe){return("<"==Oe?"&lt;":">"==Oe&&"&gt;")||"&"==Oe&&"&amp;"||'"'==Oe&&"&quot;"||"&#"+Oe.charCodeAt()+";"}function qr(Oe,Ne){if(Ne(Oe))return!0;if(Oe=Oe.firstChild)do{if(qr(Oe,Ne))return!0}while(Oe=Oe.nextSibling)}function rr(){}function Nr(Oe,Ne,qe,pt){Oe&&Oe._inc++,qe.namespaceURI===b.XMLNS&&delete Ne._nsMap[qe.prefix?qe.localName:""]}function qn(Oe,Ne,qe){if(Oe&&Oe._inc){Oe._inc++;var pt=Ne.childNodes;if(qe)pt[pt.length++]=qe;else{for(var Ht=Ne.firstChild,Vn=0;Ht;)pt[Vn++]=Ht,Ht=Ht.nextSibling;pt.length=Vn}}}function Wi(Oe,Ne){var qe=Ne.previousSibling,pt=Ne.nextSibling;return qe?qe.nextSibling=pt:Oe.firstChild=pt,pt?pt.previousSibling=qe:Oe.lastChild=qe,qn(Oe.ownerDocument,Oe),Ne}function an(Oe,Ne,qe){var pt=Ne.parentNode;if(pt&&pt.removeChild(Ne),Ne.nodeType===je){var Ht=Ne.firstChild;if(null==Ht)return Ne;var Vn=Ne.lastChild}else Ht=Vn=Ne;var jn=qe?qe.previousSibling:Oe.lastChild;Ht.previousSibling=jn,Vn.nextSibling=qe,jn?jn.nextSibling=Ht:Oe.firstChild=Ht,null==qe?Oe.lastChild=Vn:qe.previousSibling=Vn;do{Ht.parentNode=Oe}while(Ht!==Vn&&(Ht=Ht.nextSibling));return qn(Oe.ownerDocument||Oe,Oe),Ne.nodeType==je&&(Ne.firstChild=Ne.lastChild=null),Ne}function Or(){this._nsMap={}}function Mr(){}function gr(){}function Va(){}function Jn(){}function Kt(){}function yn(){}function Lo(){}function ir(){}function Wr(){}function Is(){}function Si(){}function ga(){}function En(Oe,Ne){var qe=[],pt=9==this.nodeType&&this.documentElement||this,Ht=pt.prefix,Vn=pt.namespaceURI;if(Vn&&null==Ht&&null==(Ht=pt.lookupPrefix(Vn)))var jn=[{namespace:Vn,prefix:null}];return pn(this,qe,Oe,Ne,jn),qe.join("")}function co(Oe,Ne,qe){var pt=Oe.prefix||"",Ht=Oe.namespaceURI;if(!Ht||"xml"===pt&&Ht===b.XML||Ht===b.XMLNS)return!1;for(var Vn=qe.length;Vn--;){var jn=qe[Vn];if(jn.prefix===pt)return jn.namespace!==Ht}return!0}function Xn(Oe,Ne,qe){Oe.push(" ",Ne,'="',qe.replace(/[<&"]/g,oi),'"')}function pn(Oe,Ne,qe,pt,Ht){if(Ht||(Ht=[]),pt){if(!(Oe=pt(Oe)))return;if("string"==typeof Oe)return void Ne.push(Oe)}switch(Oe.nodeType){case ne:var Vn=Oe.attributes,jn=Vn.length,sr=Oe.firstChild,mr=Oe.tagName,nn=mr;if(!(qe=b.isHTML(Oe.namespaceURI)||qe)&&!Oe.prefix&&Oe.namespaceURI){for(var Gi,Qi=0;Qi<Vn.length;Qi++)if("xmlns"===Vn.item(Qi).name){Gi=Vn.item(Qi).value;break}if(!Gi)for(var Et=Ht.length-1;Et>=0;Et--)if(""===(Lr=Ht[Et]).prefix&&Lr.namespace===Oe.namespaceURI){Gi=Lr.namespace;break}if(Gi!==Oe.namespaceURI)for(Et=Ht.length-1;Et>=0;Et--){var Lr;if((Lr=Ht[Et]).namespace===Oe.namespaceURI){Lr.prefix&&(nn=Lr.prefix+":"+mr);break}}}Ne.push("<",nn);for(var Oi=0;Oi<jn;Oi++)"xmlns"==(er=Vn.item(Oi)).prefix?Ht.push({prefix:er.localName,namespace:er.value}):"xmlns"==er.nodeName&&Ht.push({prefix:"",namespace:er.value});for(Oi=0;Oi<jn;Oi++){var er,Fr,Kr;co(er=Vn.item(Oi),0,Ht)&&(Xn(Ne,(Fr=er.prefix||"")?"xmlns:"+Fr:"xmlns",Kr=er.namespaceURI),Ht.push({prefix:Fr,namespace:Kr})),pn(er,Ne,qe,pt,Ht)}if(mr===nn&&co(Oe,0,Ht)&&(Xn(Ne,(Fr=Oe.prefix||"")?"xmlns:"+Fr:"xmlns",Kr=Oe.namespaceURI),Ht.push({prefix:Fr,namespace:Kr})),sr||qe&&!/^(?:meta|link|img|br|hr|input)$/i.test(mr)){if(Ne.push(">"),qe&&/^script$/i.test(mr))for(;sr;)sr.data?Ne.push(sr.data):pn(sr,Ne,qe,pt,Ht.slice()),sr=sr.nextSibling;else for(;sr;)pn(sr,Ne,qe,pt,Ht.slice()),sr=sr.nextSibling;Ne.push("</",nn,">")}else Ne.push("/>");return;case Ae:case je:for(sr=Oe.firstChild;sr;)pn(sr,Ne,qe,pt,Ht.slice()),sr=sr.nextSibling;return;case G:return Xn(Ne,Oe.name,Oe.value);case le:return Ne.push(Oe.data.replace(/[<&]/g,oi).replace(/]]>/g,"]]&gt;"));case Ce:return Ne.push("<![CDATA[",Oe.data,"]]>");case De:return Ne.push("\x3c!--",Oe.data,"--\x3e");case ge:var ai=Oe.publicId,pi=Oe.systemId;if(Ne.push("<!DOCTYPE ",Oe.name),ai)Ne.push(" PUBLIC ",ai),pi&&"."!=pi&&Ne.push(" ",pi),Ne.push(">");else if(pi&&"."!=pi)Ne.push(" SYSTEM ",pi,">");else{var In=Oe.internalSubset;In&&Ne.push(" [",In,"]"),Ne.push(">")}return;case Pe:return Ne.push("<?",Oe.target," ",Oe.data,"?>");case ae:return Ne.push("&",Oe.nodeName,";");default:Ne.push("??",Oe.nodeName)}}function Fn(Oe,Ne,qe){var pt;switch(Ne.nodeType){case ne:(pt=Ne.cloneNode(!1)).ownerDocument=Oe;case je:break;case G:qe=!0}if(pt||(pt=Ne.cloneNode(!1)),pt.ownerDocument=Oe,pt.parentNode=null,qe)for(var Ht=Ne.firstChild;Ht;)pt.appendChild(Fn(Oe,Ht,qe)),Ht=Ht.nextSibling;return pt}function hi(Oe,Ne,qe){var pt=new Ne.constructor;for(var Ht in Ne){var Vn=Ne[Ht];"object"!=typeof Vn&&Vn!=pt[Ht]&&(pt[Ht]=Vn)}switch(Ne.childNodes&&(pt.childNodes=new Rt),pt.ownerDocument=Oe,pt.nodeType){case ne:var jn=Ne.attributes,sr=pt.attributes=new Sn,mr=jn.length;sr._ownerElement=pt;for(var nn=0;nn<mr;nn++)pt.setAttributeNode(hi(Oe,jn.item(nn),!0));break;case G:qe=!0}if(qe)for(var Gi=Ne.firstChild;Gi;)pt.appendChild(hi(Oe,Gi,qe)),Gi=Gi.nextSibling;return pt}function ss(Oe,Ne,qe){Oe[Ne]=qe}Mt.INVALID_STATE_ERR=(dt[11]="Invalid state",11),Mt.SYNTAX_ERR=(dt[12]="Syntax error",12),Mt.INVALID_MODIFICATION_ERR=(dt[13]="Invalid modification",13),Mt.NAMESPACE_ERR=(dt[14]="Invalid namespace",14),Mt.INVALID_ACCESS_ERR=(dt[15]="Invalid access",15),jt.prototype=Error.prototype,oe(Mt,jt),Rt.prototype={length:0,item:function(Oe){return this[Oe]||null},toString:function(Oe,Ne){for(var qe=[],pt=0;pt<this.length;pt++)pn(this[pt],qe,Oe,Ne);return qe.join("")}},Qt.prototype.item=function(Oe){return Un(this),this[Oe]},j(Qt,Rt),Sn.prototype={length:0,item:Rt.prototype.item,getNamedItem:function(Oe){for(var Ne=this.length;Ne--;){var qe=this[Ne];if(qe.nodeName==Oe)return qe}},setNamedItem:function(Oe){var Ne=Oe.ownerElement;if(Ne&&Ne!=this._ownerElement)throw new jt(ft);var qe=this.getNamedItem(Oe.nodeName);return Mn(this._ownerElement,this,Oe,qe),qe},setNamedItemNS:function(Oe){var qe,Ne=Oe.ownerElement;if(Ne&&Ne!=this._ownerElement)throw new jt(ft);return qe=this.getNamedItemNS(Oe.namespaceURI,Oe.localName),Mn(this._ownerElement,this,Oe,qe),qe},removeNamedItem:function(Oe){var Ne=this.getNamedItem(Oe);return Rn(this._ownerElement,this,Ne),Ne},removeNamedItemNS:function(Oe,Ne){var qe=this.getNamedItemNS(Oe,Ne);return Rn(this._ownerElement,this,qe),qe},getNamedItemNS:function(Oe,Ne){for(var qe=this.length;qe--;){var pt=this[qe];if(pt.localName==Ne&&pt.namespaceURI==Oe)return pt}return null}},Sr.prototype={hasFeature:function(Oe,Ne){return!0},createDocument:function(Oe,Ne,qe){var pt=new rr;if(pt.implementation=this,pt.childNodes=new Rt,pt.doctype=qe||null,qe&&pt.appendChild(qe),Ne){var Ht=pt.createElementNS(Oe,Ne);pt.appendChild(Ht)}return pt},createDocumentType:function(Oe,Ne,qe){var pt=new yn;return pt.name=Oe,pt.nodeName=Oe,pt.publicId=Ne||"",pt.systemId=qe||"",pt}},Tn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(Oe,Ne){return an(this,Oe,Ne)},replaceChild:function(Oe,Ne){this.insertBefore(Oe,Ne),Ne&&this.removeChild(Ne)},removeChild:function(Oe){return Wi(this,Oe)},appendChild:function(Oe){return this.insertBefore(Oe,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(Oe){return hi(this.ownerDocument||this,this,Oe)},normalize:function(){for(var Oe=this.firstChild;Oe;){var Ne=Oe.nextSibling;Ne&&Ne.nodeType==le&&Oe.nodeType==le?(this.removeChild(Ne),Oe.appendData(Ne.data)):(Oe.normalize(),Oe=Ne)}},isSupported:function(Oe,Ne){return this.ownerDocument.implementation.hasFeature(Oe,Ne)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(Oe){for(var Ne=this;Ne;){var qe=Ne._nsMap;if(qe)for(var pt in qe)if(qe[pt]==Oe)return pt;Ne=Ne.nodeType==G?Ne.ownerDocument:Ne.parentNode}return null},lookupNamespaceURI:function(Oe){for(var Ne=this;Ne;){var qe=Ne._nsMap;if(qe&&Oe in qe)return qe[Oe];Ne=Ne.nodeType==G?Ne.ownerDocument:Ne.parentNode}return null},isDefaultNamespace:function(Oe){return null==this.lookupPrefix(Oe)}},oe(W,Tn),oe(W,Tn.prototype),rr.prototype={nodeName:"#document",nodeType:Ae,doctype:null,documentElement:null,_inc:1,insertBefore:function(Oe,Ne){if(Oe.nodeType==je){for(var qe=Oe.firstChild;qe;){var pt=qe.nextSibling;this.insertBefore(qe,Ne),qe=pt}return Oe}return null==this.documentElement&&Oe.nodeType==ne&&(this.documentElement=Oe),an(this,Oe,Ne),Oe.ownerDocument=this,Oe},removeChild:function(Oe){return this.documentElement==Oe&&(this.documentElement=null),Wi(this,Oe)},importNode:function(Oe,Ne){return Fn(this,Oe,Ne)},getElementById:function(Oe){var Ne=null;return qr(this.documentElement,function(qe){if(qe.nodeType==ne&&qe.getAttribute("id")==Oe)return Ne=qe,!0}),Ne},getElementsByClassName:function(Oe){var Ne=ce(Oe);return new Qt(this,function(qe){var pt=[];return Ne.length>0&&qr(qe.documentElement,function(Ht){if(Ht!==qe&&Ht.nodeType===ne){var Vn=Ht.getAttribute("class");if(Vn){var jn=Oe===Vn;if(!jn){var sr=ce(Vn);jn=Ne.every(function(Oe){return function(Ne){return Oe&&-1!==Oe.indexOf(Ne)}}(sr))}jn&&pt.push(Ht)}}}),pt})},createElement:function(Oe){var Ne=new Or;return Ne.ownerDocument=this,Ne.nodeName=Oe,Ne.tagName=Oe,Ne.localName=Oe,Ne.childNodes=new Rt,(Ne.attributes=new Sn)._ownerElement=Ne,Ne},createDocumentFragment:function(){var Oe=new Is;return Oe.ownerDocument=this,Oe.childNodes=new Rt,Oe},createTextNode:function(Oe){var Ne=new Va;return Ne.ownerDocument=this,Ne.appendData(Oe),Ne},createComment:function(Oe){var Ne=new Jn;return Ne.ownerDocument=this,Ne.appendData(Oe),Ne},createCDATASection:function(Oe){var Ne=new Kt;return Ne.ownerDocument=this,Ne.appendData(Oe),Ne},createProcessingInstruction:function(Oe,Ne){var qe=new Si;return qe.ownerDocument=this,qe.tagName=qe.target=Oe,qe.nodeValue=qe.data=Ne,qe},createAttribute:function(Oe){var Ne=new Mr;return Ne.ownerDocument=this,Ne.name=Oe,Ne.nodeName=Oe,Ne.localName=Oe,Ne.specified=!0,Ne},createEntityReference:function(Oe){var Ne=new Wr;return Ne.ownerDocument=this,Ne.nodeName=Oe,Ne},createElementNS:function(Oe,Ne){var qe=new Or,pt=Ne.split(":"),Ht=qe.attributes=new Sn;return qe.childNodes=new Rt,qe.ownerDocument=this,qe.nodeName=Ne,qe.tagName=Ne,qe.namespaceURI=Oe,2==pt.length?(qe.prefix=pt[0],qe.localName=pt[1]):qe.localName=Ne,Ht._ownerElement=qe,qe},createAttributeNS:function(Oe,Ne){var qe=new Mr,pt=Ne.split(":");return qe.ownerDocument=this,qe.nodeName=Ne,qe.name=Ne,qe.namespaceURI=Oe,qe.specified=!0,2==pt.length?(qe.prefix=pt[0],qe.localName=pt[1]):qe.localName=Ne,qe}},j(rr,Tn),rr.prototype.getElementsByTagName=(Or.prototype={nodeType:ne,hasAttribute:function(Oe){return null!=this.getAttributeNode(Oe)},getAttribute:function(Oe){var Ne=this.getAttributeNode(Oe);return Ne&&Ne.value||""},getAttributeNode:function(Oe){return this.attributes.getNamedItem(Oe)},setAttribute:function(Oe,Ne){var qe=this.ownerDocument.createAttribute(Oe);qe.value=qe.nodeValue=""+Ne,this.setAttributeNode(qe)},removeAttribute:function(Oe){var Ne=this.getAttributeNode(Oe);Ne&&this.removeAttributeNode(Ne)},appendChild:function(Oe){return Oe.nodeType===je?this.insertBefore(Oe,null):function(Oe,Ne){var qe=Ne.parentNode;if(qe){var pt=Oe.lastChild;qe.removeChild(Ne),pt=Oe.lastChild}return pt=Oe.lastChild,Ne.parentNode=Oe,Ne.previousSibling=pt,Ne.nextSibling=null,pt?pt.nextSibling=Ne:Oe.firstChild=Ne,Oe.lastChild=Ne,qn(Oe.ownerDocument,Oe,Ne),Ne}(this,Oe)},setAttributeNode:function(Oe){return this.attributes.setNamedItem(Oe)},setAttributeNodeNS:function(Oe){return this.attributes.setNamedItemNS(Oe)},removeAttributeNode:function(Oe){return this.attributes.removeNamedItem(Oe.nodeName)},removeAttributeNS:function(Oe,Ne){var qe=this.getAttributeNodeNS(Oe,Ne);qe&&this.removeAttributeNode(qe)},hasAttributeNS:function(Oe,Ne){return null!=this.getAttributeNodeNS(Oe,Ne)},getAttributeNS:function(Oe,Ne){var qe=this.getAttributeNodeNS(Oe,Ne);return qe&&qe.value||""},setAttributeNS:function(Oe,Ne,qe){var pt=this.ownerDocument.createAttributeNS(Oe,Ne);pt.value=pt.nodeValue=""+qe,this.setAttributeNode(pt)},getAttributeNodeNS:function(Oe,Ne){return this.attributes.getNamedItemNS(Oe,Ne)},getElementsByTagName:function(Oe){return new Qt(this,function(Ne){var qe=[];return qr(Ne,function(pt){pt!==Ne&&pt.nodeType==ne&&("*"===Oe||pt.tagName==Oe)&&qe.push(pt)}),qe})},getElementsByTagNameNS:function(Oe,Ne){return new Qt(this,function(qe){var pt=[];return qr(qe,function(Ht){Ht!==qe&&Ht.nodeType===ne&&("*"===Oe||Ht.namespaceURI===Oe)&&("*"===Ne||Ht.localName==Ne)&&pt.push(Ht)}),pt})}}).getElementsByTagName,rr.prototype.getElementsByTagNameNS=Or.prototype.getElementsByTagNameNS,j(Or,Tn),Mr.prototype.nodeType=G,j(Mr,Tn),gr.prototype={data:"",substringData:function(Oe,Ne){return this.data.substring(Oe,Oe+Ne)},appendData:function(Oe){this.nodeValue=this.data=Oe=this.data+Oe,this.length=Oe.length},insertData:function(Oe,Ne){this.replaceData(Oe,0,Ne)},appendChild:function(Oe){throw new Error(dt[B])},deleteData:function(Oe,Ne){this.replaceData(Oe,Ne,"")},replaceData:function(Oe,Ne,qe){var pt=this.data.substring(0,Oe),Ht=this.data.substring(Oe+Ne);this.nodeValue=this.data=qe=pt+qe+Ht,this.length=qe.length}},j(gr,Tn),Va.prototype={nodeName:"#text",nodeType:le,splitText:function(Oe){var Ne=this.data,qe=Ne.substring(Oe);Ne=Ne.substring(0,Oe),this.data=this.nodeValue=Ne,this.length=Ne.length;var pt=this.ownerDocument.createTextNode(qe);return this.parentNode&&this.parentNode.insertBefore(pt,this.nextSibling),pt}},j(Va,gr),Jn.prototype={nodeName:"#comment",nodeType:De},j(Jn,gr),Kt.prototype={nodeName:"#cdata-section",nodeType:Ce},j(Kt,gr),yn.prototype.nodeType=ge,j(yn,Tn),Lo.prototype.nodeType=Ke,j(Lo,Tn),ir.prototype.nodeType=_e,j(ir,Tn),Wr.prototype.nodeType=ae,j(Wr,Tn),Is.prototype.nodeName="#document-fragment",Is.prototype.nodeType=je,j(Is,Tn),Si.prototype.nodeType=Pe,j(Si,Tn),ga.prototype.serializeToString=function(Oe,Ne,qe){return En.call(Oe,Ne,qe)},Tn.prototype.toString=En;try{if(Object.defineProperty){let Oe=function(Ne){switch(Ne.nodeType){case ne:case je:var qe=[];for(Ne=Ne.firstChild;Ne;)7!==Ne.nodeType&&8!==Ne.nodeType&&qe.push(Oe(Ne)),Ne=Ne.nextSibling;return qe.join("");default:return Ne.nodeValue}};Object.defineProperty(Qt.prototype,"length",{get:function(){return Un(this),this.$$length}}),Object.defineProperty(Tn.prototype,"textContent",{get:function(){return Oe(this)},set:function(Ne){switch(this.nodeType){case ne:case je:for(;this.firstChild;)this.removeChild(this.firstChild);(Ne||String(Ne))&&this.appendChild(this.ownerDocument.createTextNode(Ne));break;default:this.data=Ne,this.value=Ne,this.nodeValue=Ne}}}),ss=function(Ne,qe,pt){Ne["$$"+qe]=pt}}}catch(Oe){}Le.DocumentType=yn,Le.DOMException=jt,Le.DOMImplementation=Sr,Le.Element=Or,Le.Node=Tn,Le.NodeList=Rt,Le.XMLSerializer=ga},3079:(ct,Le,F)=>{var A=F(1351).freeze;Le.XML_ENTITIES=A({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),Le.HTML_ENTITIES=A({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),Le.entityMap=Le.HTML_ENTITIES},4251:(ct,Le,F)=>{F(3577);Le.DOMParser=F(9818).DOMParser},6483:(ct,Le,F)=>{var A=F(1351).NAMESPACE,b=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=new RegExp("[\\-\\.0-9"+b.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),de=new RegExp("^"+b.source+z.source+"*(?::"+b.source+z.source+"*)?$");function le(Y,B){this.message=Y,this.locator=B,Error.captureStackTrace&&Error.captureStackTrace(this,le)}function Ce(){}function _e(Y,B){return B.lineNumber=Y.lineNumber,B.columnNumber=Y.columnNumber,B}function Pe(Y,B,re,pe,xe,Fe){function Re(ht,jt,Rt){re.attributeNames.hasOwnProperty(ht)&&Fe.fatalError("Attribute "+ht+" redefined"),re.addValue(ht,jt,Rt)}for(var Je,vt=++B,lt=0;;){var He=Y.charAt(vt);switch(He){case"=":if(1===lt)Je=Y.slice(B,vt),lt=3;else{if(2!==lt)throw new Error("attribute equal must after attrName");lt=3}break;case"'":case'"':if(3===lt||1===lt){if(1===lt&&(Fe.warning('attribute value must after "="'),Je=Y.slice(B,vt)),!((vt=Y.indexOf(He,B=vt+1))>0))throw new Error("attribute value no end '"+He+"' match");Re(Je,ft=Y.slice(B,vt).replace(/&#?\w+;/g,xe),B-1),lt=5}else{if(4!=lt)throw new Error('attribute value must after "="');Re(Je,ft=Y.slice(B,vt).replace(/&#?\w+;/g,xe),B),Fe.warning('attribute "'+Je+'" missed start quot('+He+")!!"),B=vt+1,lt=5}break;case"/":switch(lt){case 0:re.setTagName(Y.slice(B,vt));case 5:case 6:case 7:lt=7,re.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Fe.error("unexpected end of input"),0==lt&&re.setTagName(Y.slice(B,vt)),vt;case">":switch(lt){case 0:re.setTagName(Y.slice(B,vt));case 5:case 6:case 7:break;case 4:case 1:"/"===(ft=Y.slice(B,vt)).slice(-1)&&(re.closed=!0,ft=ft.slice(0,-1));case 2:2===lt&&(ft=Je),4==lt?(Fe.warning('attribute "'+ft+'" missed quot(")!'),Re(Je,ft.replace(/&#?\w+;/g,xe),B)):((!A.isHTML(pe[""])||!ft.match(/^(?:disabled|checked|selected)$/i))&&Fe.warning('attribute "'+ft+'" missed value!! "'+ft+'" instead!!'),Re(ft,ft,B));break;case 3:throw new Error("attribute value missed!!")}return vt;case"\x80":He=" ";default:if(He<=" ")switch(lt){case 0:re.setTagName(Y.slice(B,vt)),lt=6;break;case 1:Je=Y.slice(B,vt),lt=2;break;case 4:var ft=Y.slice(B,vt).replace(/&#?\w+;/g,xe);Fe.warning('attribute "'+ft+'" missed quot(")!!'),Re(Je,ft,B);case 5:lt=6}else switch(lt){case 2:(!A.isHTML(pe[""])||!Je.match(/^(?:disabled|checked|selected)$/i))&&Fe.warning('attribute "'+Je+'" missed value!! "'+Je+'" instead2!!'),Re(Je,Je,B),B=vt,lt=1;break;case 5:Fe.warning('attribute space is required"'+Je+'"!!');case 6:lt=1,B=vt;break;case 3:lt=4,B=vt;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}vt++}}function De(Y,B,re){for(var pe=Y.tagName,xe=null,Fe=Y.length;Fe--;){var Re=Y[Fe],Je=Re.qName,ft=Re.value;if((nt=Je.indexOf(":"))>0)var vt=Re.prefix=Je.slice(0,nt),lt=Je.slice(nt+1),He="xmlns"===vt&&lt;else lt=Je,vt=null,He="xmlns"===Je&&"";Re.localName=lt,!1!==He&&(null==xe&&(xe={},je(re,re={})),re[He]=xe[He]=ft,Re.uri=A.XMLNS,B.startPrefixMapping(He,ft))}for(Fe=Y.length;Fe--;)(vt=(Re=Y[Fe]).prefix)&&("xml"===vt&&(Re.uri=A.XML),"xmlns"!==vt&&(Re.uri=re[vt||""]));var nt;(nt=pe.indexOf(":"))>0?(vt=Y.prefix=pe.slice(0,nt),lt=Y.localName=pe.slice(nt+1)):(vt=null,lt=Y.localName=pe);var ht=Y.uri=re[vt||""];if(B.startElement(ht,lt,pe,Y),!Y.closed)return Y.currentNSMap=re,Y.localNSMap=xe,!0;if(B.endElement(ht,lt,pe),xe)for(vt in xe)B.endPrefixMapping(vt)}function Ae(Y,B,re,pe,xe){if(/^(?:script|textarea)$/i.test(re)){var Fe=Y.indexOf("</"+re+">",B),Re=Y.substring(B+1,Fe);if(/[&<]/.test(Re))return/^script$/i.test(re)?(xe.characters(Re,0,Re.length),Fe):(Re=Re.replace(/&#?\w+;/g,pe),xe.characters(Re,0,Re.length),Fe)}return B+1}function ge(Y,B,re,pe){var xe=pe[re];return null==xe&&((xe=Y.lastIndexOf("</"+re+">"))<B&&(xe=Y.lastIndexOf("</"+re)),pe[re]=xe),xe<B}function je(Y,B){for(var re in Y)B[re]=Y[re]}function Ke(Y,B,re,pe){switch(Y.charAt(B+2)){case"-":return"-"===Y.charAt(B+3)?(Fe=Y.indexOf("--\x3e",B+4))>B?(re.comment(Y,B+4,Fe-B-4),Fe+3):(pe.error("Unclosed comment"),-1):-1;default:if("CDATA["==Y.substr(B+3,6)){var Fe=Y.indexOf("]]>",B+9);return re.startCDATA(),re.characters(Y,B+9,Fe-B-9),re.endCDATA(),Fe+3}var Re=function(Y,B){var re,pe=[],xe=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(xe.lastIndex=B,xe.exec(Y);re=xe.exec(Y);)if(pe.push(re),re[1])return pe}(Y,B),Je=Re.length;if(Je>1&&/!doctype/i.test(Re[0][0])){var ft=Re[1][0],vt=!1,lt=!1;Je>3&&(/^public$/i.test(Re[2][0])?(vt=Re[3][0],lt=Je>4&&Re[4][0]):/^system$/i.test(Re[2][0])&&(lt=Re[3][0]));var He=Re[Je-1];return re.startDTD(ft,vt,lt),re.endDTD(),He.index+He[0].length}}return-1}function Mt(Y,B,re){var pe=Y.indexOf("?>",B);if(pe){var xe=Y.substring(B,pe).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return xe?(re.processingInstruction(xe[1],xe[2]),pe+2):-1}return-1}function dt(){this.attributeNames={}}(le.prototype=new Error).name=le.name,Ce.prototype={parse:function(Y,B,re){var pe=this.domBuilder;pe.startDocument(),je(B,B={}),function(Y,B,re,pe,xe){function Re(Hn){var Or=Hn.slice(1,-1);return Or in re?re[Or]:"#"===Or.charAt(0)?function(Hn){return Hn>65535?(Hn-=65536,String.fromCharCode(55296+(Hn>>10),56320+(1023&Hn))):String.fromCharCode(Hn)}(parseInt(Or.substr(1).replace("x","0x"))):(xe.error("entity not found:"+Hn),Hn)}function Je(Hn){if(Hn>Rt){var Or=Y.substring(Rt,Hn).replace(/&#?\w+;/g,Re);nt&&ft(Rt),pe.characters(Or,0,Hn-Rt),Rt=Hn}}function ft(Hn,Or){for(;Hn>=lt&&(Or=He.exec(Y));)lt=(vt=Or.index)+Or[0].length,nt.lineNumber++;nt.columnNumber=Hn-vt+1}for(var vt=0,lt=0,He=/.*(?:\r\n?|\n)|.*$/g,nt=pe.locator,ht=[{currentNSMap:B}],jt={},Rt=0;;){try{var Qt=Y.indexOf("<",Rt);if(Qt<0){if(!Y.substr(Rt).match(/^\s*$/)){var Un=pe.doc,Sn=Un.createTextNode(Y.substr(Rt));Un.appendChild(Sn),pe.currentElement=Sn}return}switch(Qt>Rt&&Je(Qt),Y.charAt(Qt+1)){case"/":var fn=Y.indexOf(">",Qt+3),Mn=Y.substring(Qt+2,fn).replace(/[ \t\n\r]+$/g,""),Rn=ht.pop();fn<0?(Mn=Y.substring(Qt+2).replace(/[\s<].*/,""),xe.error("end tag name: "+Mn+" is not complete:"+Rn.tagName),fn=Qt+1+Mn.length):Mn.match(/\s</)&&(Mn=Mn.replace(/[\s<].*/,""),xe.error("end tag name: "+Mn+" maybe not complete"),fn=Qt+1+Mn.length);var Sr=Rn.localNSMap,Tn=Rn.tagName==Mn;if(Tn||Rn.tagName&&Rn.tagName.toLowerCase()==Mn.toLowerCase()){if(pe.endElement(Rn.uri,Rn.localName,Mn),Sr)for(var qr in Sr)pe.endPrefixMapping(qr);Tn||xe.fatalError("end tag name: "+Mn+" is not match the current start tagName:"+Rn.tagName)}else ht.push(Rn);fn++;break;case"?":nt&&ft(Qt),fn=Mt(Y,Qt,pe);break;case"!":nt&&ft(Qt),fn=Ke(Y,Qt,pe,xe);break;default:nt&&ft(Qt);var rr=new dt,wi=ht[ht.length-1].currentNSMap,Nr=(fn=Pe(Y,Qt,rr,wi,Re,xe),rr.length);if(!rr.closed&&ge(Y,fn,rr.tagName,jt)&&(rr.closed=!0,re.nbsp||xe.warning("unclosed xml attribute")),nt&&Nr){for(var qn=_e(nt,{}),Wi=0;Wi<Nr;Wi++){var an=rr[Wi];ft(an.offset),an.locator=_e(nt,{})}pe.locator=qn,De(rr,pe,wi)&&ht.push(rr),pe.locator=nt}else De(rr,pe,wi)&&ht.push(rr);A.isHTML(rr.uri)&&!rr.closed?fn=Ae(Y,fn,rr.tagName,Re,pe):fn++}}catch(Hn){if(Hn instanceof le)throw Hn;xe.error("element parse error: "+Hn),fn=-1}fn>Rt?Rt=fn:Je(Math.max(Qt,Rt)+1)}}(Y,B,re,pe,this.errorHandler),pe.endDocument()}},dt.prototype={setTagName:function(Y){if(!de.test(Y))throw new Error("invalid tagName:"+Y);this.tagName=Y},addValue:function(Y,B,re){if(!de.test(Y))throw new Error("invalid attribute:"+Y);this.attributeNames[Y]=this.length,this[this.length++]={qName:Y,value:B,offset:re}},length:0,getLocalName:function(Y){return this[Y].localName},getLocator:function(Y){return this[Y].locator},getQName:function(Y){return this[Y].qName},getURI:function(Y){return this[Y].uri},getValue:function(Y){return this[Y].value}},Le.XMLReader=Ce,Le.ParseError=le},8161:(ct,Le,F)=>{var z,A="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},b=F(5893);"undefined"!=typeof document?z=document:(z=A["__GLOBAL_DOCUMENT_CACHE@4"])||(z=A["__GLOBAL_DOCUMENT_CACHE@4"]=b),ct.exports=z},4897:ct=>{var Le;Le="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ct.exports=Le},1315:ct=>{ct.exports=function(A){if(!A)return!1;var b=Le.call(A);return"[object Function]"===b||"function"==typeof A&&"[object RegExp]"!==b||"undefined"!=typeof window&&(A===window.setTimeout||A===window.alert||A===window.confirm||A===window.prompt)};var Le=Object.prototype.toString},3216:(ct,Le)=>{function F(ce){if(ce&&"object"==typeof ce){var ue=ce.which||ce.keyCode||ce.charCode;ue&&(ce=ue)}if("number"==typeof ce)return de[ce];var j,oe=String(ce);return(j=A[oe.toLowerCase()])?j:(j=b[oe.toLowerCase()])||(1===oe.length?oe.charCodeAt(0):void 0)}F.isEventKey=function(ue,oe){if(ue&&"object"==typeof ue){var j=ue.which||ue.keyCode||ue.charCode;if(null==j)return!1;if("string"==typeof oe){var W;if(W=A[oe.toLowerCase()])return W===j;if(W=b[oe.toLowerCase()])return W===j}else if("number"==typeof oe)return oe===j;return!1}};var A=(Le=ct.exports=F).code=Le.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},b=Le.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(z=97;z<123;z++)A[String.fromCharCode(z)]=z-32;for(var z=48;z<58;z++)A[z-48]=z;for(z=1;z<13;z++)A["f"+z]=z+111;for(z=0;z<10;z++)A["numpad "+z]=z+96;var de=Le.names=Le.title={};for(z in A)de[A[z]]=z;for(var ee in b)A[ee]=b[ee]},1001:ct=>{var Le=Math.pow(2,32);ct.exports=function(A){var b=new DataView(A.buffer,A.byteOffset,A.byteLength),z={version:A[0],flags:new Uint8Array(A.subarray(1,4)),references:[],referenceId:b.getUint32(4),timescale:b.getUint32(8)},de=12;0===z.version?(z.earliestPresentationTime=b.getUint32(de),z.firstOffset=b.getUint32(de+4),de+=8):(z.earliestPresentationTime=b.getUint32(de)*Le+b.getUint32(de+4),z.firstOffset=b.getUint32(de+8)*Le+b.getUint32(de+12),de+=16);var ee=b.getUint16(de+=2);for(de+=2;ee>0;de+=12,ee--)z.references.push({referenceType:(128&A[de])>>>7,referencedSize:2147483647&b.getUint32(de),subsegmentDuration:b.getUint32(de+4),startsWithSap:!!(128&A[de+8]),sapType:(112&A[de+8])>>>4,sapDeltaTime:268435455&b.getUint32(de+8)});return z}},9211:ct=>{var F,A,b,z,de,ee,ce;de=function(ue,oe){return F(z(ue,oe))},ee=function(ue,oe){return A(b(ue),oe)},ce=function(ue,oe,j){return b(j?ue:ue-oe)},ct.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:F=function(ue){return 9e4*ue},secondsToAudioTs:A=function(ue,oe){return ue*oe},videoTsToSeconds:b=function(ue){return ue/9e4},audioTsToSeconds:z=function(ue,oe){return ue/oe},audioTsToVideoTs:de,videoTsToAudioTs:ee,metadataTsToSeconds:ce}},2259:(ct,Le,F)=>{"use strict";F.d(Le,{lu:()=>_e,Q3:()=>Ce,Hd:()=>Pe});var A=F(8720),b=F(8583);const z=["nsmContent"],de=["nsmDialog"],ee=["nsmOverlay"],ce=["dynamicContent"];function ue(De,Ae){}function oe(De,Ae){if(1&De){const ge=A.EpF();A.TgZ(0,"button",10),A.NdJ("click",function(){return A.CHM(ge),A.oxw(2).close()}),A.O4$(),A.TgZ(1,"svg",11),A.TgZ(2,"g"),A._UZ(3,"path",12),A.qZA(),A.TgZ(4,"g"),A._UZ(5,"path",13),A.qZA(),A.qZA(),A.qZA()}}const j=function(De,Ae){return{transparent:De,overlay:!0,"nsm-overlay-open":Ae}},W=function(De,Ae){return["nsm-dialog",De,Ae]};function ne(De,Ae){if(1&De){const ge=A.EpF();A.TgZ(0,"div",1,2),A.NdJ("mousedown",function(Ke){return A.CHM(ge),A.oxw().dismiss(Ke)}),A.TgZ(2,"div",3,4),A.TgZ(4,"div",5,6),A.TgZ(6,"div",7),A.YNc(7,ue,0,0,"ng-template",null,8,A.W1O),A.Hsn(9),A.qZA(),A.YNc(10,oe,6,0,"button",9),A.qZA(),A.qZA(),A.qZA()}if(2&De){const ge=A.oxw();A.Udp("z-index",ge.visible?ge.layerPosition-1:-1),A.Q6J("ngClass",A.WLB(11,j,!ge.backdrop,ge.openedClass)),A.xp6(2),A.Udp("z-index",ge.visible?ge.layerPosition:-1),A.Q6J("ngClass",A.WLB(14,W,ge.customClass,ge.openedClass?"nsm-dialog-open":"nsm-dialog-close")),A.uIk("aria-hidden",!ge.openedClass)("aria-label",ge.ariaLabel)("aria-labelledby",ge.ariaLabelledBy)("aria-describedby",ge.ariaDescribedBy),A.xp6(8),A.Q6J("ngIf",ge.closable)}}const G=["*"];let Ce=(()=>{class De{constructor(ge,je,Ke,Mt,dt){this._renderer=ge,this._changeDetectorRef=je,this.componentFactoryResolver=Ke,this._document=Mt,this._platformId=dt,this.closable=!0,this.escapable=!0,this.dismissable=!0,this.identifier="",this.customClass="nsm-dialog-animation-fade",this.visible=!1,this.backdrop=!0,this.force=!0,this.hideDelay=500,this.autostart=!1,this.target="",this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaDescribedBy=null,this.refocus=!0,this.visibleChange=new A.vpe,this.onClose=new A.vpe,this.onCloseFinished=new A.vpe,this.onDismiss=new A.vpe,this.onDismissFinished=new A.vpe,this.onAnyCloseEvent=new A.vpe,this.onAnyCloseEventFinished=new A.vpe,this.onOpen=new A.vpe,this.onOpenFinished=new A.vpe,this.onEscape=new A.vpe,this.onDataAdded=new A.vpe,this.onDataRemoved=new A.vpe,this.layerPosition=1041,this.overlayVisible=!1,this.openedClass=!1,this.createFrom="html"}ngOnInit(){if(!this.identifier||!this.identifier.length)throw new Error("identifier field isn\u2019t set. Please set one before calling <ngx-smart-modal> in a template.");this._sendEvent("create")}ngAfterViewInit(){if(this.contentComponent){const ge=this.componentFactoryResolver.resolveComponentFactory(this.contentComponent);this.createDynamicContent(this.dynamicContentContainer,ge),this.dynamicContentContainer.changes.subscribe(je=>{this.createDynamicContent(je,ge)})}}ngOnDestroy(){this._sendEvent("delete")}open(ge){return this._sendEvent("open",{top:ge}),this}close(){return this._sendEvent("close"),this}dismiss(ge){return this.dismissable&&ge.target.classList.contains("overlay")?(this._sendEvent("dismiss"),this):this}toggle(ge){return this._sendEvent("toggle",{top:ge}),this}addCustomClass(ge){return this.customClass.length?this.customClass+=" "+ge:this.customClass=ge,this}removeCustomClass(ge){return this.customClass=ge?this.customClass.replace(ge,"").trim():"",this}isVisible(){return this.visible}hasData(){return void 0!==this._data}setData(ge,je){return(!this.hasData()||this.hasData()&&je)&&(this._data=ge,this.onDataAdded.emit(this._data),this.markForCheck()),this}getData(){return this._data}removeData(){return this._data=void 0,this.onDataRemoved.emit(!0),this.markForCheck(),this}addBodyClass(){return this._renderer.addClass(this._document.body,"dialog-open"),this}removeBodyClass(){return this._renderer.removeClass(this._document.body,"dialog-open"),this}markForCheck(){try{this._changeDetectorRef.detectChanges()}catch(ge){}this._changeDetectorRef.markForCheck()}targetPlacement(){if(!(this.isBrowser&&this.nsmDialog.length&&this.nsmContent.length&&this.nsmOverlay.length&&this.target))return!1;const ge=this._document.querySelector(this.target);if(!ge)return!1;const je=ge.getBoundingClientRect(),Ke=this.nsmOverlay.first.nativeElement.getBoundingClientRect(),Mt=this.nsmContent.first.nativeElement.getBoundingClientRect(),dt=this.nsmDialog.first.nativeElement.getBoundingClientRect(),Ye=parseInt(getComputedStyle(this.nsmContent.first.nativeElement).marginLeft,10),Y=parseInt(getComputedStyle(this.nsmContent.first.nativeElement).marginTop,10);let B=je.top-dt.top-(Mt.height-je.height)/2,re=je.left-dt.left-(Mt.width-je.width)/2;re+dt.left+Mt.width+2*Ye>Ke.width?re=Ke.width-(dt.left+Mt.width)-2*Ye:re+dt.left<0&&(re=-dt.left),B+dt.top+Mt.height+Y>Ke.height&&(B=Ke.height-(dt.top+Mt.height)-Y),this._renderer.setStyle(this.nsmContent.first.nativeElement,"top",(B<0?0:B)+"px"),this._renderer.setStyle(this.nsmContent.first.nativeElement,"left",re+"px")}_sendEvent(ge,je){if(!this.isBrowser)return!1;const Mt=new CustomEvent("ngx-smart-modal."+ge,{detail:{extraData:je,instance:{id:this.identifier,modal:this}}});return window.dispatchEvent(Mt)}get isBrowser(){return(0,b.NF)(this._platformId)}createDynamicContent(ge,je){ge.forEach(Ke=>{Ke.clear(),Ke.createComponent(je),this.markForCheck()})}}return De.\u0275fac=function(ge){return new(ge||De)(A.Y36(A.Qsj),A.Y36(A.sBO),A.Y36(A._Vd),A.Y36(b.K0),A.Y36(A.Lbi))},De.\u0275cmp=A.Xpm({type:De,selectors:[["ngx-smart-modal"]],viewQuery:function(ge,je){if(1&ge&&(A.Gf(z,5),A.Gf(de,5),A.Gf(ee,5),A.Gf(ce,5,A.s_b)),2&ge){let Ke;A.iGM(Ke=A.CRH())&&(je.nsmContent=Ke),A.iGM(Ke=A.CRH())&&(je.nsmDialog=Ke),A.iGM(Ke=A.CRH())&&(je.nsmOverlay=Ke),A.iGM(Ke=A.CRH())&&(je.dynamicContentContainer=Ke)}},hostBindings:function(ge,je){1&ge&&A.NdJ("resize",function(){return je.targetPlacement()},!1,A.Jf7)},inputs:{closable:"closable",escapable:"escapable",dismissable:"dismissable",identifier:"identifier",customClass:"customClass",visible:"visible",backdrop:"backdrop",force:"force",hideDelay:"hideDelay",autostart:"autostart",target:"target",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",refocus:"refocus"},outputs:{visibleChange:"visibleChange",onClose:"onClose",onCloseFinished:"onCloseFinished",onDismiss:"onDismiss",onDismissFinished:"onDismissFinished",onAnyCloseEvent:"onAnyCloseEvent",onAnyCloseEventFinished:"onAnyCloseEventFinished",onOpen:"onOpen",onOpenFinished:"onOpenFinished",onEscape:"onEscape",onDataAdded:"onDataAdded",onDataRemoved:"onDataRemoved"},ngContentSelectors:G,decls:1,vars:1,consts:[[3,"z-index","ngClass","mousedown",4,"ngIf"],[3,"ngClass","mousedown"],["nsmOverlay",""],[3,"ngClass"],["nsmDialog",""],[1,"nsm-content"],["nsmContent",""],[1,"nsm-body"],["dynamicContent",""],["type","button","aria-label","Close","class","nsm-dialog-btn-close",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"nsm-dialog-btn-close",3,"click"],["xmlns","http://www.w3.org/2000/svg","version","1.1","id","Layer_1","x","0px","y","0px","viewBox","0 0 512 512",0,"xml","space","preserve","width","16px","height","16px"],["d","M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249    C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306    C514.019,27.23,514.019,14.135,505.943,6.058z","fill","currentColor"],["d","M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636    c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z","fill","currentColor"]],template:function(ge,je){1&ge&&(A.F$t(),A.YNc(0,ne,11,17,"div",0)),2&ge&&A.Q6J("ngIf",je.overlayVisible)},directives:[b.O5,b.mk],encapsulation:2}),De})(),ae=(()=>{class De{constructor(){this._modalStack=[]}addModal(ge,je){if(je){const Ke=this._modalStack.findIndex(Mt=>Mt.id===ge.id);Ke>-1?this._modalStack[Ke].modal=ge.modal:this._modalStack.push(ge)}else this._modalStack.push(ge)}getModal(ge){const je=this._modalStack.find(Ke=>Ke.id===ge);if(void 0!==je)return je.modal;throw new Error(`Cannot find modal with identifier ${ge}`)}getModalStack(){return this._modalStack}getOpenedModals(){return this._modalStack.filter(ge=>ge.modal.visible)}getTopOpenedModal(){if(!this.getOpenedModals().length)throw new Error("No modal is opened");return this.getOpenedModals().map(ge=>ge.modal).reduce((ge,je)=>je.layerPosition>ge.layerPosition?je:ge,this.getOpenedModals()[0].modal)}getHigherIndex(){return Math.max(...this._modalStack.map(ge=>ge.modal.layerPosition),1041)+1}getModalStackCount(){return this._modalStack.length}removeModal(ge){const je=this._modalStack.findIndex(Ke=>Ke.id===ge);je>-1&&this._modalStack.splice(je,1)}}return De.\u0275fac=function(ge){return new(ge||De)},De.\u0275prov=A.Yz7({token:De,factory:De.\u0275fac}),De})(),_e=(()=>{class De{constructor(ge,je,Ke,Mt,dt,Ye,Y){this._componentFactoryResolver=ge,this._appRef=je,this._injector=Ke,this._modalStack=Mt,this.applicationRef=dt,this._document=Ye,this._platformId=Y,this._escapeKeyboardEvent=B=>{if("Escape"===B.key)try{const re=this.getTopOpenedModal();return!!re.escapable&&(re.onEscape.emit(re),this.closeLatestModal(),!0)}catch(re){return!1}return!1},this._trapFocusModal=B=>{if("Tab"===B.key)try{const re=this.getTopOpenedModal();return re.nsmDialog.first.nativeElement.contains(document.activeElement)||(B.preventDefault(),B.stopPropagation(),re.nsmDialog.first.nativeElement.focus()),!0}catch(re){return!1}return!1},this._addEvents()}addModal(ge,je){this._modalStack.addModal(ge,je)}getModal(ge){return this._modalStack.getModal(ge)}get(ge){return this.getModal(ge)}open(ge,je=!1){return this._openModal(this.get(ge),je)}close(ge){return this._closeModal(this.get(ge))}closeAll(){this.getOpenedModals().forEach(ge=>{this._closeModal(ge.modal)})}toggle(ge,je=!1){return this._toggleModal(this.get(ge),je)}getModalStack(){return this._modalStack.getModalStack()}getOpenedModals(){return this._modalStack.getOpenedModals()}getTopOpenedModal(){return this._modalStack.getTopOpenedModal()}getHigherIndex(){return this._modalStack.getHigherIndex()}getModalStackCount(){return this._modalStack.getModalStackCount()}removeModal(ge){this._modalStack.removeModal(ge)}setModalData(ge,je,Ke){let Mt;return!!(Mt=this.get(je))&&(Mt.setData(ge,Ke),!0)}getModalData(ge){let je;return(je=this.get(ge))?je.getData():null}resetModalData(ge){if(this._modalStack.getModalStack().find(je=>je.id===ge)){const je=this.getModal(ge).getData();return this.getModal(ge).removeData(),je}return!1}closeLatestModal(){this.getTopOpenedModal().close()}create(ge,je,Ke={}){try{return this.getModal(ge)}catch(Mt){const dt=this._componentFactoryResolver.resolveComponentFactory(Ce),Ye=this._resolveNgContent(je),Y=dt.create(this._injector,Ye);return je instanceof A.DyG&&(Y.instance.contentComponent=je),Y.instance.identifier=ge,Y.instance.createFrom="service","boolean"==typeof Ke.closable&&(Y.instance.closable=Ke.closable),"boolean"==typeof Ke.escapable&&(Y.instance.escapable=Ke.escapable),"boolean"==typeof Ke.dismissable&&(Y.instance.dismissable=Ke.dismissable),"string"==typeof Ke.customClass&&(Y.instance.customClass=Ke.customClass),"boolean"==typeof Ke.backdrop&&(Y.instance.backdrop=Ke.backdrop),"boolean"==typeof Ke.force&&(Y.instance.force=Ke.force),"number"==typeof Ke.hideDelay&&(Y.instance.hideDelay=Ke.hideDelay),"boolean"==typeof Ke.autostart&&(Y.instance.autostart=Ke.autostart),"string"==typeof Ke.target&&(Y.instance.target=Ke.target),"string"==typeof Ke.ariaLabel&&(Y.instance.ariaLabel=Ke.ariaLabel),"string"==typeof Ke.ariaLabelledBy&&(Y.instance.ariaLabelledBy=Ke.ariaLabelledBy),"string"==typeof Ke.ariaDescribedBy&&(Y.instance.ariaDescribedBy=Ke.ariaDescribedBy),"boolean"==typeof Ke.refocus&&(Y.instance.refocus=Ke.refocus),this._appRef.attachView(Y.hostView),this._document.body.appendChild(Y.hostView.rootNodes[0]),Y.instance}}_addEvents(){return!!this.isBrowser&&(window.addEventListener("ngx-smart-modal.create",ge=>{this._initModal(ge.detail.instance)}),window.addEventListener("ngx-smart-modal.delete",ge=>{this._deleteModal(ge.detail.instance)}),window.addEventListener("ngx-smart-modal.open",ge=>{this._openModal(ge.detail.instance.modal,ge.detail.top)}),window.addEventListener("ngx-smart-modal.toggle",ge=>{this._toggleModal(ge.detail.instance.modal,ge.detail.top)}),window.addEventListener("ngx-smart-modal.close",ge=>{this._closeModal(ge.detail.instance.modal)}),window.addEventListener("ngx-smart-modal.dismiss",ge=>{this._dismissModal(ge.detail.instance.modal)}),window.addEventListener("keyup",this._escapeKeyboardEvent),!0)}_initModal(ge){ge.modal.layerPosition+=this.getModalStackCount(),this.addModal(ge,ge.modal.force),ge.modal.autostart&&this.open(ge.id)}_openModal(ge,je){return!ge.visible&&(this.lastElementFocused=document.activeElement,ge.escapable&&window.addEventListener("keyup",this._escapeKeyboardEvent),ge.backdrop&&window.addEventListener("keydown",this._trapFocusModal),je&&(ge.layerPosition=this.getHigherIndex()),ge.addBodyClass(),ge.overlayVisible=!0,ge.visible=!0,ge.onOpen.emit(ge),ge.markForCheck(),setTimeout(()=>{ge.openedClass=!0,ge.target&&ge.targetPlacement(),ge.nsmDialog.first.nativeElement.setAttribute("role","dialog"),ge.nsmDialog.first.nativeElement.setAttribute("tabIndex","-1"),ge.nsmDialog.first.nativeElement.setAttribute("aria-modal","true"),ge.nsmDialog.first.nativeElement.focus(),ge.markForCheck(),ge.onOpenFinished.emit(ge)}),!0)}_toggleModal(ge,je){return ge.visible?this._closeModal(ge):this._openModal(ge,je)}_closeModal(ge){return!!ge.openedClass&&(ge.openedClass=!1,ge.onClose.emit(ge),ge.onAnyCloseEvent.emit(ge),this.getOpenedModals().length<2&&(ge.removeBodyClass(),window.removeEventListener("keyup",this._escapeKeyboardEvent),window.removeEventListener("keydown",this._trapFocusModal)),setTimeout(()=>{ge.visibleChange.emit(ge.visible),ge.visible=!1,ge.overlayVisible=!1,ge.nsmDialog.first.nativeElement.removeAttribute("tabIndex"),ge.markForCheck(),ge.onCloseFinished.emit(ge),ge.onAnyCloseEventFinished.emit(ge),ge.refocus&&this.lastElementFocused.focus()},ge.hideDelay),!0)}_dismissModal(ge){return!!ge.openedClass&&(ge.openedClass=!1,ge.onDismiss.emit(ge),ge.onAnyCloseEvent.emit(ge),this.getOpenedModals().length<2&&ge.removeBodyClass(),setTimeout(()=>{ge.visible=!1,ge.visibleChange.emit(ge.visible),ge.overlayVisible=!1,ge.markForCheck(),ge.onDismissFinished.emit(ge),ge.onAnyCloseEventFinished.emit(ge)},ge.hideDelay),!0)}_deleteModal(ge){this.removeModal(ge.id),this.getModalStack().length||ge.modal.removeBodyClass()}_resolveNgContent(ge){if("string"==typeof ge)return[[this._document.createTextNode(ge)]];if(ge instanceof A.Rgc){const je=ge.createEmbeddedView(null);return this.applicationRef.attachView(je),[je.rootNodes]}return[]}get isBrowser(){return(0,b.NF)(this._platformId)}}return De.\u0275fac=function(ge){return new(ge||De)(A.LFG(A._Vd),A.LFG(A.z2F),A.LFG(A.zs3),A.LFG(ae),A.LFG(A.z2F),A.LFG(b.K0),A.LFG(A.Lbi))},De.\u0275prov=A.Yz7({token:De,factory:De.\u0275fac}),De})(),Pe=(()=>{class De{constructor(ge){this.serivce=ge}static forRoot(){return{ngModule:De,providers:[_e,ae]}}static forChild(){return{ngModule:De,providers:[_e,ae]}}}return De.\u0275fac=function(ge){return new(ge||De)(A.LFG(_e))},De.\u0275mod=A.oAB({type:De}),De.\u0275inj=A.cJS({imports:[[b.ez]]}),De})()},1747:(ct,Le,F)=>{"use strict";F.d(Le,{dP:()=>Re,re:()=>lt});var A=F(2844),b=F(1558);function z(){}var ce,de=function(){function He(nt,ht){void 0===nt&&(nt=1/0),void 0===ht&&(ht=z),this.max=nt,this.dispose=ht,this.map=new Map,this.newest=null,this.oldest=null}return He.prototype.has=function(nt){return this.map.has(nt)},He.prototype.get=function(nt){var ht=this.getNode(nt);return ht&&ht.value},He.prototype.getNode=function(nt){var ht=this.map.get(nt);if(ht&&ht!==this.newest){var jt=ht.older,Rt=ht.newer;Rt&&(Rt.older=jt),jt&&(jt.newer=Rt),ht.older=this.newest,ht.older.newer=ht,ht.newer=null,this.newest=ht,ht===this.oldest&&(this.oldest=Rt)}return ht},He.prototype.set=function(nt,ht){var jt=this.getNode(nt);return jt?jt.value=ht:(jt={key:nt,value:ht,newer:null,older:this.newest},this.newest&&(this.newest.newer=jt),this.newest=jt,this.oldest=this.oldest||jt,this.map.set(nt,jt),jt.value)},He.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},He.prototype.delete=function(nt){var ht=this.map.get(nt);return!!ht&&(ht===this.newest&&(this.newest=ht.older),ht===this.oldest&&(this.oldest=ht.newer),ht.newer&&(ht.newer.older=ht.older),ht.older&&(ht.older.newer=ht.newer),this.map.delete(nt),this.dispose(ht.value,nt),!0)},He}(),ee=new b.g7,ue=Object.prototype.hasOwnProperty,oe=void 0===(ce=Array.from)?function(He){var nt=[];return He.forEach(function(ht){return nt.push(ht)}),nt}:ce;function j(He){var nt=He.unsubscribe;"function"==typeof nt&&(He.unsubscribe=void 0,nt())}var W=[];function G(He,nt){if(!He)throw new Error(nt||"assertion failure")}function Ce(He){switch(He.length){case 0:throw new Error("unknown value");case 1:return He[0];case 2:throw He[1]}}var _e=function(){function He(nt){this.fn=nt,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++He.count}return He.prototype.peek=function(){if(1===this.value.length&&!ge(this))return Pe(this),this.value[0]},He.prototype.recompute=function(nt){return G(!this.recomputing,"already recomputing"),Pe(this),ge(this)?function(He,nt){return re(He),ee.withValue(He,Ae,[He,nt]),function(He,nt){if("function"==typeof He.subscribe)try{j(He),He.unsubscribe=He.subscribe.apply(null,nt)}catch(ht){return He.setDirty(),!1}return!0}(He,nt)&&function(He){He.dirty=!1,!ge(He)&&Mt(He)}(He),Ce(He.value)}(this,nt):Ce(this.value)},He.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ke(this),j(this))},He.prototype.dispose=function(){var nt=this;this.setDirty(),re(this),dt(this,function(ht,jt){ht.setDirty(),pe(ht,nt)})},He.prototype.forget=function(){this.dispose()},He.prototype.dependOn=function(nt){nt.add(this),this.deps||(this.deps=W.pop()||new Set),this.deps.add(nt)},He.prototype.forgetDeps=function(){var nt=this;this.deps&&(oe(this.deps).forEach(function(ht){return ht.delete(nt)}),this.deps.clear(),W.push(this.deps),this.deps=null)},He.count=0,He}();function Pe(He){var nt=ee.getValue();if(nt)return He.parents.add(nt),nt.childValues.has(He)||nt.childValues.set(He,[]),ge(He)?Ye(nt,He):Y(nt,He),nt}function Ae(He,nt){He.recomputing=!0,He.value.length=0;try{He.value[0]=He.fn.apply(null,nt)}catch(ht){He.value[1]=ht}He.recomputing=!1}function ge(He){return He.dirty||!(!He.dirtyChildren||!He.dirtyChildren.size)}function Ke(He){dt(He,Ye)}function Mt(He){dt(He,Y)}function dt(He,nt){var ht=He.parents.size;if(ht)for(var jt=oe(He.parents),Rt=0;Rt<ht;++Rt)nt(jt[Rt],He)}function Ye(He,nt){G(He.childValues.has(nt)),G(ge(nt));var ht=!ge(He);if(He.dirtyChildren){if(He.dirtyChildren.has(nt))return}else He.dirtyChildren=W.pop()||new Set;He.dirtyChildren.add(nt),ht&&Ke(He)}function Y(He,nt){G(He.childValues.has(nt)),G(!ge(nt));var ht=He.childValues.get(nt);0===ht.length?He.childValues.set(nt,function(He){return He.slice(0)}(nt.value)):function(He,nt){var ht=He.length;return ht>0&&ht===nt.length&&He[ht-1]===nt[ht-1]}(ht,nt.value)||He.setDirty(),B(He,nt),!ge(He)&&Mt(He)}function B(He,nt){var ht=He.dirtyChildren;ht&&(ht.delete(nt),0===ht.size&&(W.length<100&&W.push(ht),He.dirtyChildren=null))}function re(He){He.childValues.size>0&&He.childValues.forEach(function(nt,ht){pe(He,ht)}),He.forgetDeps(),G(null===He.dirtyChildren)}function pe(He,nt){nt.parents.delete(He),He.childValues.delete(nt),B(He,nt)}var Fe={setDirty:!0,dispose:!0,forget:!0};function Re(He){var nt=new Map,ht=He&&He.subscribe;function jt(Rt){var Qt=ee.getValue();if(Qt){var Un=nt.get(Rt);Un||nt.set(Rt,Un=new Set),Qt.dependOn(Un),"function"==typeof ht&&(j(Un),Un.unsubscribe=ht(Rt))}}return jt.dirty=function(Qt,Un){var Sn=nt.get(Qt);if(Sn){var fn=Un&&ue.call(Fe,Un)?Un:"setDirty";oe(Sn).forEach(function(Mn){return Mn[fn]()}),nt.delete(Qt),j(Sn)}},jt}function Je(){var He=new A.B("function"==typeof WeakMap);return function(){return He.lookupArray(arguments)}}Je();var vt=new Set;function lt(He,nt){void 0===nt&&(nt=Object.create(null));var ht=new de(nt.max||Math.pow(2,16),function(Mn){return Mn.dispose()}),jt=nt.keyArgs,Rt=nt.makeCacheKey||Je(),Qt=function(){var Mn=Rt.apply(null,jt?jt.apply(null,arguments):arguments);if(void 0===Mn)return He.apply(null,arguments);var Rn=ht.get(Mn);Rn||(ht.set(Mn,Rn=new _e(He)),Rn.subscribe=nt.subscribe,Rn.forget=function(){return ht.delete(Mn)});var Sr=Rn.recompute(Array.prototype.slice.call(arguments));return ht.set(Mn,Rn),vt.add(ht),ee.hasValue()||(vt.forEach(function(Tn){return Tn.clean()}),vt.clear()),Sr};function Un(Mn){var Rn=ht.get(Mn);Rn&&Rn.setDirty()}function Sn(Mn){var Rn=ht.get(Mn);if(Rn)return Rn.peek()}function fn(Mn){return ht.delete(Mn)}return Object.defineProperty(Qt,"size",{get:function(){return ht.map.size},configurable:!1,enumerable:!1}),Qt.dirtyKey=Un,Qt.dirty=function(){Un(Rt.apply(null,arguments))},Qt.peekKey=Sn,Qt.peek=function(){return Sn(Rt.apply(null,arguments))},Qt.forgetKey=fn,Qt.forget=function(){return fn(Rt.apply(null,arguments))},Qt.makeCacheKey=Rt,Qt.getKey=jt?function(){return Rt.apply(null,jt.apply(null,arguments))}:Rt,Object.freeze(Qt)}},6215:(ct,Le,F)=>{"use strict";F.d(Le,{X:()=>z});var A=F(7709),b=F(7971);class z extends A.xQ{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const ce=super._subscribe(ee);return ce&&!ce.closed&&ee.next(this._value),ce}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b.N;return this._value}next(ee){super.next(this._value=ee)}}},3098:(ct,Le,F)=>{"use strict";F.d(Le,{P:()=>ee});var A=F(9193),b=F(5917),z=F(205);class ee{constructor(ue,oe,j){this.kind=ue,this.value=oe,this.error=j,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,oe,j){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return oe&&oe(this.error);case"C":return j&&j()}}accept(ue,oe,j){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,oe,j)}toObservable(){switch(this.kind){case"N":return(0,b.of)(this.value);case"E":return(0,z._)(this.error);case"C":return(0,A.c)()}throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new ee("N",ue):ee.undefinedValueNotification}static createError(ue){return new ee("E",void 0,ue)}static createComplete(){return ee.completeNotification}}ee.completeNotification=new ee("C"),ee.undefinedValueNotification=new ee("N",void 0)},7574:(ct,Le,F)=>{"use strict";F.d(Le,{y:()=>ne});var A=F(7393),z=F(9181),de=F(6490),ce=F(6554),ue=F(4487);var W=F(2494);let ne=(()=>{class le{constructor(ae){this._isScalar=!1,ae&&(this._subscribe=ae)}lift(ae){const _e=new le;return _e.source=this,_e.operator=ae,_e}subscribe(ae,_e,Pe){const{operator:De}=this,Ae=function(le,Ce,ae){if(le){if(le instanceof A.L)return le;if(le[z.b])return le[z.b]()}return le||Ce||ae?new A.L(le,Ce,ae):new A.L(de.c)}(ae,_e,Pe);if(Ae.add(De?De.call(Ae,this.source):this.source||W.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),W.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(ae){try{return this._subscribe(ae)}catch(_e){W.v.useDeprecatedSynchronousErrorHandling&&(ae.syncErrorThrown=!0,ae.syncErrorValue=_e),function(le){for(;le;){const{closed:Ce,destination:ae,isStopped:_e}=le;if(Ce||_e)return!1;le=ae&&ae instanceof A.L?ae:null}return!0}(ae)?ae.error(_e):console.warn(_e)}}forEach(ae,_e){return new(_e=G(_e))((Pe,De)=>{let Ae;Ae=this.subscribe(ge=>{try{ae(ge)}catch(je){De(je),Ae&&Ae.unsubscribe()}},De,Pe)})}_subscribe(ae){const{source:_e}=this;return _e&&_e.subscribe(ae)}[ce.L](){return this}pipe(...ae){return 0===ae.length?this:function(le){return 0===le.length?ue.y:1===le.length?le[0]:function(ae){return le.reduce((_e,Pe)=>Pe(_e),ae)}}(ae)(this)}toPromise(ae){return new(ae=G(ae))((_e,Pe)=>{let De;this.subscribe(Ae=>De=Ae,Ae=>Pe(Ae),()=>_e(De))})}}return le.create=Ce=>new le(Ce),le})();function G(le){if(le||(le=W.v.Promise||Promise),!le)throw new Error("no Promise impl found");return le}},6490:(ct,Le,F)=>{"use strict";F.d(Le,{c:()=>z});var A=F(2494),b=F(4449);const z={closed:!0,next(de){},error(de){if(A.v.useDeprecatedSynchronousErrorHandling)throw de;(0,b.z)(de)},complete(){}}},7709:(ct,Le,F)=>{"use strict";F.d(Le,{xQ:()=>oe,Yc:()=>ue});var A=F(7574),b=F(7393),z=F(5319),de=F(7971);class ee extends z.w{constructor(ne,G){super(),this.subject=ne,this.subscriber=G,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ne=this.subject,G=ne.observers;if(this.subject=null,!G||0===G.length||ne.isStopped||ne.closed)return;const le=G.indexOf(this.subscriber);-1!==le&&G.splice(le,1)}}var ce=F(9181);class ue extends b.L{constructor(ne){super(ne),this.destination=ne}}let oe=(()=>{class W extends A.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new ue(this)}lift(G){const le=new j(this,this);return le.operator=G,le}next(G){if(this.closed)throw new de.N;if(!this.isStopped){const{observers:le}=this,Ce=le.length,ae=le.slice();for(let _e=0;_e<Ce;_e++)ae[_e].next(G)}}error(G){if(this.closed)throw new de.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:le}=this,Ce=le.length,ae=le.slice();for(let _e=0;_e<Ce;_e++)ae[_e].error(G);this.observers.length=0}complete(){if(this.closed)throw new de.N;this.isStopped=!0;const{observers:G}=this,le=G.length,Ce=G.slice();for(let ae=0;ae<le;ae++)Ce[ae].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new de.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new de.N;return this.hasError?(G.error(this.thrownError),z.w.EMPTY):this.isStopped?(G.complete(),z.w.EMPTY):(this.observers.push(G),new ee(this,G))}asObservable(){const G=new A.y;return G.source=this,G}}return W.create=(ne,G)=>new j(ne,G),W})();class j extends oe{constructor(ne,G){super(),this.destination=ne,this.source=G}next(ne){const{destination:G}=this;G&&G.next&&G.next(ne)}error(ne){const{destination:G}=this;G&&G.error&&this.destination.error(ne)}complete(){const{destination:ne}=this;ne&&ne.complete&&this.destination.complete()}_subscribe(ne){const{source:G}=this;return G?this.source.subscribe(ne):z.w.EMPTY}}},7393:(ct,Le,F)=>{"use strict";F.d(Le,{L:()=>ue});var A=F(9105),b=F(6490),z=F(5319),de=F(9181),ee=F(2494),ce=F(4449);class ue extends z.w{constructor(W,ne,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=b.c;break;case 1:if(!W){this.destination=b.c;break}if("object"==typeof W){W instanceof ue?(this.syncErrorThrowable=W.syncErrorThrowable,this.destination=W,W.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,W));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,W,ne,G)}}[de.b](){return this}static create(W,ne,G){const le=new ue(W,ne,G);return le.syncErrorThrowable=!1,le}next(W){this.isStopped||this._next(W)}error(W){this.isStopped||(this.isStopped=!0,this._error(W))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(W){this.destination.next(W)}_error(W){this.destination.error(W),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:W}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=W,this}}class oe extends ue{constructor(W,ne,G,le){super(),this._parentSubscriber=W;let Ce,ae=this;(0,A.m)(ne)?Ce=ne:ne&&(Ce=ne.next,G=ne.error,le=ne.complete,ne!==b.c&&(ae=Object.create(ne),(0,A.m)(ae.unsubscribe)&&this.add(ae.unsubscribe.bind(ae)),ae.unsubscribe=this.unsubscribe.bind(this))),this._context=ae,this._next=Ce,this._error=G,this._complete=le}next(W){if(!this.isStopped&&this._next){const{_parentSubscriber:ne}=this;ee.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?this.__tryOrSetError(ne,this._next,W)&&this.unsubscribe():this.__tryOrUnsub(this._next,W)}}error(W){if(!this.isStopped){const{_parentSubscriber:ne}=this,{useDeprecatedSynchronousErrorHandling:G}=ee.v;if(this._error)G&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,this._error,W),this.unsubscribe()):(this.__tryOrUnsub(this._error,W),this.unsubscribe());else if(ne.syncErrorThrowable)G?(ne.syncErrorValue=W,ne.syncErrorThrown=!0):(0,ce.z)(W),this.unsubscribe();else{if(this.unsubscribe(),G)throw W;(0,ce.z)(W)}}}complete(){if(!this.isStopped){const{_parentSubscriber:W}=this;if(this._complete){const ne=()=>this._complete.call(this._context);ee.v.useDeprecatedSynchronousErrorHandling&&W.syncErrorThrowable?(this.__tryOrSetError(W,ne),this.unsubscribe()):(this.__tryOrUnsub(ne),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(W,ne){try{W.call(this._context,ne)}catch(G){if(this.unsubscribe(),ee.v.useDeprecatedSynchronousErrorHandling)throw G;(0,ce.z)(G)}}__tryOrSetError(W,ne,G){if(!ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,G)}catch(le){return ee.v.useDeprecatedSynchronousErrorHandling?(W.syncErrorValue=le,W.syncErrorThrown=!0,!0):((0,ce.z)(le),!0)}return!1}_unsubscribe(){const{_parentSubscriber:W}=this;this._context=null,this._parentSubscriber=null,W.unsubscribe()}}},5319:(ct,Le,F)=>{"use strict";F.d(Le,{w:()=>ce});var A=F(9796),b=F(1555),z=F(9105);const ee=(()=>{function oe(j){return Error.call(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((W,ne)=>`${ne+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j,this}return oe.prototype=Object.create(Error.prototype),oe})();class ce{constructor(j){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,j&&(this._ctorUnsubscribe=!0,this._unsubscribe=j)}unsubscribe(){let j;if(this.closed)return;let{_parentOrParents:W,_ctorUnsubscribe:ne,_unsubscribe:G,_subscriptions:le}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,W instanceof ce)W.remove(this);else if(null!==W)for(let Ce=0;Ce<W.length;++Ce)W[Ce].remove(this);if((0,z.m)(G)){ne&&(this._unsubscribe=void 0);try{G.call(this)}catch(Ce){j=Ce instanceof ee?ue(Ce.errors):[Ce]}}if((0,A.k)(le)){let Ce=-1,ae=le.length;for(;++Ce<ae;){const _e=le[Ce];if((0,b.K)(_e))try{_e.unsubscribe()}catch(Pe){j=j||[],Pe instanceof ee?j=j.concat(ue(Pe.errors)):j.push(Pe)}}}if(j)throw new ee(j)}add(j){let W=j;if(!j)return ce.EMPTY;switch(typeof j){case"function":W=new ce(j);case"object":if(W===this||W.closed||"function"!=typeof W.unsubscribe)return W;if(this.closed)return W.unsubscribe(),W;if(!(W instanceof ce)){const le=W;W=new ce,W._subscriptions=[le]}break;default:throw new Error("unrecognized teardown "+j+" added to Subscription.")}let{_parentOrParents:ne}=W;if(null===ne)W._parentOrParents=this;else if(ne instanceof ce){if(ne===this)return W;W._parentOrParents=[ne,this]}else{if(-1!==ne.indexOf(this))return W;ne.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[W]:G.push(W),W}remove(j){const W=this._subscriptions;if(W){const ne=W.indexOf(j);-1!==ne&&W.splice(ne,1)}}}var oe;function ue(oe){return oe.reduce((j,W)=>j.concat(W instanceof ee?W.errors:W),[])}ce.EMPTY=((oe=new ce).closed=!0,oe)},2494:(ct,Le,F)=>{"use strict";F.d(Le,{v:()=>b});let A=!1;const b={Promise:void 0,set useDeprecatedSynchronousErrorHandling(z){if(z){const de=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+de.stack)}else A&&console.log("RxJS: Back to a better error behavior. Thank you. <3");A=z},get useDeprecatedSynchronousErrorHandling(){return A}}},5345:(ct,Le,F)=>{"use strict";F.d(Le,{IY:()=>de,Ds:()=>ce,ft:()=>oe});var A=F(7393),b=F(7574),z=F(7444);class de extends A.L{constructor(W){super(),this.parent=W}_next(W){this.parent.notifyNext(W)}_error(W){this.parent.notifyError(W),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends A.L{notifyNext(W){this.destination.next(W)}notifyError(W){this.destination.error(W)}notifyComplete(){this.destination.complete()}}function oe(j,W){if(W.closed)return;if(j instanceof b.y)return j.subscribe(W);let ne;try{ne=(0,z.s)(j)(W)}catch(G){W.error(G)}return ne}},2441:(ct,Le,F)=>{"use strict";F.d(Le,{c:()=>ee,N:()=>ce});var A=F(7709),b=F(7574),z=F(5319),de=F(1307);class ee extends b.y{constructor(ne,G){super(),this.source=ne,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(ne){return this.getSubject().subscribe(ne)}getSubject(){const ne=this._subject;return(!ne||ne.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ne=this._connection;return ne||(this._isComplete=!1,ne=this._connection=new z.w,ne.add(this.source.subscribe(new ue(this.getSubject(),this))),ne.closed&&(this._connection=null,ne=z.w.EMPTY)),ne}refCount(){return(0,de.x)()(this)}}const ce=(()=>{const W=ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:W._subscribe},_isComplete:{value:W._isComplete,writable:!0},getSubject:{value:W.getSubject},connect:{value:W.connect},refCount:{value:W.refCount}}})();class ue extends A.Yc{constructor(ne,G){super(ne),this.connectable=G}_error(ne){this._unsubscribe(),super._error(ne)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ne=this.connectable;if(ne){this.connectable=null;const G=ne._connection;ne._refCount=0,ne._subject=null,ne._connection=null,G&&G.unsubscribe()}}}},8071:(ct,Le,F)=>{"use strict";F.d(Le,{z:()=>de});var A=F(5917),b=F(3282);function de(...ee){return(0,b.J)(1)((0,A.of)(...ee))}},1439:(ct,Le,F)=>{"use strict";F.d(Le,{P:()=>de});var A=F(7574),b=F(4402),z=F(9193);function de(ee){return new A.y(ce=>{let ue;try{ue=ee()}catch(j){return void ce.error(j)}return(ue?(0,b.D)(ue):(0,z.c)()).subscribe(ce)})}},9193:(ct,Le,F)=>{"use strict";F.d(Le,{E:()=>b,c:()=>z});var A=F(7574);const b=new A.y(ee=>ee.complete());function z(ee){return ee?function(ee){return new A.y(ce=>ee.schedule(()=>ce.complete()))}(ee):b}},4402:(ct,Le,F)=>{"use strict";F.d(Le,{D:()=>ae});var A=F(7574),b=F(7444),z=F(5319),de=F(6554),ue=F(4087),oe=F(377),ne=F(4072),G=F(9489);function ae(_e,Pe){return Pe?function(_e,Pe){if(null!=_e){if(function(_e){return _e&&"function"==typeof _e[de.L]}(_e))return function(_e,Pe){return new A.y(De=>{const Ae=new z.w;return Ae.add(Pe.schedule(()=>{const ge=_e[de.L]();Ae.add(ge.subscribe({next(je){Ae.add(Pe.schedule(()=>De.next(je)))},error(je){Ae.add(Pe.schedule(()=>De.error(je)))},complete(){Ae.add(Pe.schedule(()=>De.complete()))}}))})),Ae})}(_e,Pe);if((0,ne.t)(_e))return function(_e,Pe){return new A.y(De=>{const Ae=new z.w;return Ae.add(Pe.schedule(()=>_e.then(ge=>{Ae.add(Pe.schedule(()=>{De.next(ge),Ae.add(Pe.schedule(()=>De.complete()))}))},ge=>{Ae.add(Pe.schedule(()=>De.error(ge)))}))),Ae})}(_e,Pe);if((0,G.z)(_e))return(0,ue.r)(_e,Pe);if(function(_e){return _e&&"function"==typeof _e[oe.hZ]}(_e)||"string"==typeof _e)return function(_e,Pe){if(!_e)throw new Error("Iterable cannot be null");return new A.y(De=>{const Ae=new z.w;let ge;return Ae.add(()=>{ge&&"function"==typeof ge.return&&ge.return()}),Ae.add(Pe.schedule(()=>{ge=_e[oe.hZ](),Ae.add(Pe.schedule(function(){if(De.closed)return;let je,Ke;try{const Mt=ge.next();je=Mt.value,Ke=Mt.done}catch(Mt){return void De.error(Mt)}Ke?De.complete():(De.next(je),this.schedule())}))})),Ae})}(_e,Pe)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}(_e,Pe):_e instanceof A.y?_e:new A.y((0,b.s)(_e))}},6693:(ct,Le,F)=>{"use strict";F.d(Le,{n:()=>de});var A=F(7574),b=F(5015),z=F(4087);function de(ee,ce){return ce?(0,z.r)(ee,ce):new A.y((0,b.V)(ee))}},6682:(ct,Le,F)=>{"use strict";F.d(Le,{T:()=>ee});var A=F(7574),b=F(4869),z=F(3282),de=F(6693);function ee(...ce){let ue=Number.POSITIVE_INFINITY,oe=null,j=ce[ce.length-1];return(0,b.K)(j)?(oe=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(ue=ce.pop())):"number"==typeof j&&(ue=ce.pop()),null===oe&&1===ce.length&&ce[0]instanceof A.y?ce[0]:(0,z.J)(ue)((0,de.n)(ce,oe))}},5917:(ct,Le,F)=>{"use strict";F.d(Le,{of:()=>de});var A=F(4869),b=F(6693),z=F(4087);function de(...ee){let ce=ee[ee.length-1];return(0,A.K)(ce)?(ee.pop(),(0,z.r)(ee,ce)):(0,b.n)(ee)}},205:(ct,Le,F)=>{"use strict";F.d(Le,{_:()=>b});var A=F(7574);function b(de,ee){return new A.y(ee?ce=>ee.schedule(z,0,{error:de,subscriber:ce}):ce=>ce.error(de))}function z({error:de,subscriber:ee}){ee.error(de)}},5304:(ct,Le,F)=>{"use strict";F.d(Le,{K:()=>b});var A=F(5345);function b(ee){return function(ue){const oe=new z(ee),j=ue.lift(oe);return oe.caught=j}}class z{constructor(ce){this.selector=ce}call(ce,ue){return ue.subscribe(new de(ce,this.selector,this.caught))}}class de extends A.Ds{constructor(ce,ue,oe){super(ce),this.selector=ue,this.caught=oe}error(ce){if(!this.isStopped){let ue;try{ue=this.selector(ce,this.caught)}catch(W){return void super.error(W)}this._unsubscribeAndRecycle();const oe=new A.IY(this);this.add(oe);const j=(0,A.ft)(ue,oe);j!==oe&&this.add(j)}}}},4612:(ct,Le,F)=>{"use strict";F.d(Le,{b:()=>b});var A=F(9773);function b(z,de){return(0,A.zg)(z,de,1)}},7519:(ct,Le,F)=>{"use strict";F.d(Le,{x:()=>b});var A=F(7393);function b(ee,ce){return ue=>ue.lift(new z(ee,ce))}class z{constructor(ce,ue){this.compare=ce,this.keySelector=ue}call(ce,ue){return ue.subscribe(new de(ce,this.compare,this.keySelector))}}class de extends A.L{constructor(ce,ue,oe){super(ce),this.keySelector=oe,this.hasKey=!1,"function"==typeof ue&&(this.compare=ue)}compare(ce,ue){return ce===ue}_next(ce){let ue;try{const{keySelector:j}=this;ue=j?j(ce):ce}catch(j){return this.destination.error(j)}let oe=!1;if(this.hasKey)try{const{compare:j}=this;oe=j(this.key,ue)}catch(j){return this.destination.error(j)}else this.hasKey=!0;oe||(this.key=ue,this.destination.next(ce))}}},5435:(ct,Le,F)=>{"use strict";F.d(Le,{h:()=>b});var A=F(7393);function b(ee,ce){return function(oe){return oe.lift(new z(ee,ce))}}class z{constructor(ce,ue){this.predicate=ce,this.thisArg=ue}call(ce,ue){return ue.subscribe(new de(ce,this.predicate,this.thisArg))}}class de extends A.L{constructor(ce,ue,oe){super(ce),this.predicate=ue,this.thisArg=oe,this.count=0}_next(ce){let ue;try{ue=this.predicate.call(this.thisArg,ce,this.count++)}catch(oe){return void this.destination.error(oe)}ue&&this.destination.next(ce)}}},8002:(ct,Le,F)=>{"use strict";F.d(Le,{U:()=>b});var A=F(7393);function b(ee,ce){return function(oe){if("function"!=typeof ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new z(ee,ce))}}class z{constructor(ce,ue){this.project=ce,this.thisArg=ue}call(ce,ue){return ue.subscribe(new de(ce,this.project,this.thisArg))}}class de extends A.L{constructor(ce,ue,oe){super(ce),this.project=ue,this.count=0,this.thisArg=oe||this}_next(ce){let ue;try{ue=this.project.call(this.thisArg,ce,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(ue)}}},3282:(ct,Le,F)=>{"use strict";F.d(Le,{J:()=>z});var A=F(9773),b=F(4487);function z(de=Number.POSITIVE_INFINITY){return(0,A.zg)(b.y,de)}},9773:(ct,Le,F)=>{"use strict";F.d(Le,{zg:()=>de});var A=F(8002),b=F(4402),z=F(5345);function de(oe,j,W=Number.POSITIVE_INFINITY){return"function"==typeof j?ne=>ne.pipe(de((G,le)=>(0,b.D)(oe(G,le)).pipe((0,A.U)((Ce,ae)=>j(G,Ce,le,ae))),W)):("number"==typeof j&&(W=j),ne=>ne.lift(new ee(oe,W)))}class ee{constructor(j,W=Number.POSITIVE_INFINITY){this.project=j,this.concurrent=W}call(j,W){return W.subscribe(new ce(j,this.project,this.concurrent))}}class ce extends z.Ds{constructor(j,W,ne=Number.POSITIVE_INFINITY){super(j),this.project=W,this.concurrent=ne,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(j){this.active<this.concurrent?this._tryNext(j):this.buffer.push(j)}_tryNext(j){let W;const ne=this.index++;try{W=this.project(j,ne)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(W)}_innerSub(j){const W=new z.IY(this),ne=this.destination;ne.add(W);const G=(0,z.ft)(j,W);G!==W&&ne.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(j){this.destination.next(j)}notifyComplete(){const j=this.buffer;this.active--,j.length>0?this._next(j.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4458:(ct,Le,F)=>{"use strict";F.d(Le,{O:()=>b});var A=F(2441);function b(de,ee){return function(ue){let oe;if(oe="function"==typeof de?de:function(){return de},"function"==typeof ee)return ue.lift(new z(oe,ee));const j=Object.create(ue,A.N);return j.source=ue,j.subjectFactory=oe,j}}class z{constructor(ee,ce){this.subjectFactory=ee,this.selector=ce}call(ee,ce){const{selector:ue}=this,oe=this.subjectFactory(),j=ue(oe).subscribe(ee);return j.add(ce.subscribe(oe)),j}}},1307:(ct,Le,F)=>{"use strict";F.d(Le,{x:()=>b});var A=F(7393);function b(){return function(ce){return ce.lift(new z(ce))}}class z{constructor(ce){this.connectable=ce}call(ce,ue){const{connectable:oe}=this;oe._refCount++;const j=new de(ce,oe),W=ue.subscribe(j);return j.closed||(j.connection=oe.connect()),W}}class de extends A.L{constructor(ce,ue){super(ce),this.connectable=ue}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const ue=ce._refCount;if(ue<=0)return void(this.connection=null);if(ce._refCount=ue-1,ue>1)return void(this.connection=null);const{connection:oe}=this,j=ce._connection;this.connection=null,j&&(!oe||j===oe)&&j.unsubscribe()}}},9761:(ct,Le,F)=>{"use strict";F.d(Le,{O:()=>z});var A=F(8071),b=F(4869);function z(...de){const ee=de[de.length-1];return(0,b.K)(ee)?(de.pop(),ce=>(0,A.z)(de,ce,ee)):ce=>(0,A.z)(de,ce)}},3190:(ct,Le,F)=>{"use strict";F.d(Le,{w:()=>de});var A=F(8002),b=F(4402),z=F(5345);function de(ue,oe){return"function"==typeof oe?j=>j.pipe(de((W,ne)=>(0,b.D)(ue(W,ne)).pipe((0,A.U)((G,le)=>oe(W,G,ne,le))))):j=>j.lift(new ee(ue))}class ee{constructor(oe){this.project=oe}call(oe,j){return j.subscribe(new ce(oe,this.project))}}class ce extends z.Ds{constructor(oe,j){super(oe),this.project=j,this.index=0}_next(oe){let j;const W=this.index++;try{j=this.project(oe,W)}catch(ne){return void this.destination.error(ne)}this._innerSub(j)}_innerSub(oe){const j=this.innerSubscription;j&&j.unsubscribe();const W=new z.IY(this),ne=this.destination;ne.add(W),this.innerSubscription=(0,z.ft)(oe,W),this.innerSubscription!==W&&ne.add(this.innerSubscription)}_complete(){const{innerSubscription:oe}=this;(!oe||oe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(oe){this.destination.next(oe)}}},5257:(ct,Le,F)=>{"use strict";F.d(Le,{q:()=>de});var A=F(7393),b=F(7108),z=F(9193);function de(ue){return oe=>0===ue?(0,z.c)():oe.lift(new ee(ue))}class ee{constructor(oe){if(this.total=oe,this.total<0)throw new b.W}call(oe,j){return j.subscribe(new ce(oe,this.total))}}class ce extends A.L{constructor(oe,j){super(oe),this.total=j,this.count=0}_next(oe){const j=this.total,W=++this.count;W<=j&&(this.destination.next(oe),W===j&&(this.destination.complete(),this.unsubscribe()))}}},8307:(ct,Le,F)=>{"use strict";F.d(Le,{b:()=>de});var A=F(7393),b=F(8640),z=F(9105);function de(ue,oe,j){return function(ne){return ne.lift(new ee(ue,oe,j))}}class ee{constructor(oe,j,W){this.nextOrObserver=oe,this.error=j,this.complete=W}call(oe,j){return j.subscribe(new ce(oe,this.nextOrObserver,this.error,this.complete))}}class ce extends A.L{constructor(oe,j,W,ne){super(oe),this._tapNext=b.Z,this._tapError=b.Z,this._tapComplete=b.Z,this._tapError=W||b.Z,this._tapComplete=ne||b.Z,(0,z.m)(j)?(this._context=this,this._tapNext=j):j&&(this._context=j,this._tapNext=j.next||b.Z,this._tapError=j.error||b.Z,this._tapComplete=j.complete||b.Z)}_next(oe){try{this._tapNext.call(this._context,oe)}catch(j){return void this.destination.error(j)}this.destination.next(oe)}_error(oe){try{this._tapError.call(this._context,oe)}catch(j){return void this.destination.error(j)}this.destination.error(oe)}_complete(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}},9426:(ct,Le,F)=>{"use strict";F.d(Le,{p:()=>ue});var A=F(7393),b=F(3637);const z={leading:!0,trailing:!1};function ue(ne,G=b.P,le=z){return Ce=>Ce.lift(new oe(ne,G,le.leading,le.trailing))}class oe{constructor(G,le,Ce,ae){this.duration=G,this.scheduler=le,this.leading=Ce,this.trailing=ae}call(G,le){return le.subscribe(new j(G,this.duration,this.scheduler,this.leading,this.trailing))}}class j extends A.L{constructor(G,le,Ce,ae,_e){super(G),this.duration=le,this.scheduler=Ce,this.leading=ae,this.trailing=_e,this._hasTrailingValue=!1,this._trailingValue=null}_next(G){this.throttled?this.trailing&&(this._trailingValue=G,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(W,this.duration,{subscriber:this})),this.leading?this.destination.next(G):this.trailing&&(this._trailingValue=G,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const G=this.throttled;G&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),G.unsubscribe(),this.remove(G),this.throttled=null)}}function W(ne){const{subscriber:G}=ne;G.clearThrottle()}},4087:(ct,Le,F)=>{"use strict";F.d(Le,{r:()=>z});var A=F(7574),b=F(5319);function z(de,ee){return new A.y(ce=>{const ue=new b.w;let oe=0;return ue.add(ee.schedule(function(){oe!==de.length?(ce.next(de[oe++]),ce.closed||ue.add(this.schedule())):ce.complete()})),ue})}},9474:(ct,Le,F)=>{"use strict";F.d(Le,{o:()=>z});var A=F(5319);class b extends A.w{constructor(ee,ce){super()}schedule(ee,ce=0){return this}}class z extends b{constructor(ee,ce){super(ee,ce),this.scheduler=ee,this.work=ce,this.pending=!1}schedule(ee,ce=0){if(this.closed)return this;this.state=ee;const ue=this.id,oe=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(oe,ue,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(oe,this.id,ce),this}requestAsyncId(ee,ce,ue=0){return setInterval(ee.flush.bind(ee,this),ue)}recycleAsyncId(ee,ce,ue=0){if(null!==ue&&this.delay===ue&&!1===this.pending)return ce;clearInterval(ce)}execute(ee,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ee,ce);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,ce){let oe,ue=!1;try{this.work(ee)}catch(j){ue=!0,oe=!!j&&j||new Error(j)}if(ue)return this.unsubscribe(),oe}_unsubscribe(){const ee=this.id,ce=this.scheduler,ue=ce.actions,oe=ue.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==oe&&ue.splice(oe,1),null!=ee&&(this.id=this.recycleAsyncId(ce,ee,null)),this.delay=null}}},6102:(ct,Le,F)=>{"use strict";F.d(Le,{v:()=>b});let A=(()=>{class z{constructor(ee,ce=z.now){this.SchedulerAction=ee,this.now=ce}schedule(ee,ce=0,ue){return new this.SchedulerAction(this,ee).schedule(ue,ce)}}return z.now=()=>Date.now(),z})();class b extends A{constructor(de,ee=A.now){super(de,()=>b.delegate&&b.delegate!==this?b.delegate.now():ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(de,ee=0,ce){return b.delegate&&b.delegate!==this?b.delegate.schedule(de,ee,ce):super.schedule(de,ee,ce)}flush(de){const{actions:ee}=this;if(this.active)return void ee.push(de);let ce;this.active=!0;do{if(ce=de.execute(de.state,de.delay))break}while(de=ee.shift());if(this.active=!1,ce){for(;de=ee.shift();)de.unsubscribe();throw ce}}}},3637:(ct,Le,F)=>{"use strict";F.d(Le,{z:()=>z,P:()=>de});var A=F(9474);const z=new(F(6102).v)(A.o),de=z},377:(ct,Le,F)=>{"use strict";F.d(Le,{hZ:()=>b});const b="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ct,Le,F)=>{"use strict";F.d(Le,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ct,Le,F)=>{"use strict";F.d(Le,{b:()=>A});const A="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(ct,Le,F)=>{"use strict";F.d(Le,{W:()=>b});const b=(()=>{function z(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return z.prototype=Object.create(Error.prototype),z})()},7971:(ct,Le,F)=>{"use strict";F.d(Le,{N:()=>b});const b=(()=>{function z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return z.prototype=Object.create(Error.prototype),z})()},4449:(ct,Le,F)=>{"use strict";function A(b){setTimeout(()=>{throw b},0)}F.d(Le,{z:()=>A})},4487:(ct,Le,F)=>{"use strict";function A(b){return b}F.d(Le,{y:()=>A})},9796:(ct,Le,F)=>{"use strict";F.d(Le,{k:()=>A});const A=Array.isArray||(b=>b&&"number"==typeof b.length)},9489:(ct,Le,F)=>{"use strict";F.d(Le,{z:()=>A});const A=b=>b&&"number"==typeof b.length&&"function"!=typeof b},9105:(ct,Le,F)=>{"use strict";function A(b){return"function"==typeof b}F.d(Le,{m:()=>A})},1555:(ct,Le,F)=>{"use strict";function A(b){return null!==b&&"object"==typeof b}F.d(Le,{K:()=>A})},4072:(ct,Le,F)=>{"use strict";function A(b){return!!b&&"function"!=typeof b.subscribe&&"function"==typeof b.then}F.d(Le,{t:()=>A})},4869:(ct,Le,F)=>{"use strict";function A(b){return b&&"function"==typeof b.schedule}F.d(Le,{K:()=>A})},8640:(ct,Le,F)=>{"use strict";function A(){}F.d(Le,{Z:()=>A})},7444:(ct,Le,F)=>{"use strict";F.d(Le,{s:()=>ne});var A=F(5015),b=F(4449),de=F(377),ce=F(6554),oe=F(9489),j=F(4072),W=F(1555);const ne=G=>{if(G&&"function"==typeof G[ce.L])return(G=>le=>{const Ce=G[ce.L]();if("function"!=typeof Ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ce.subscribe(le)})(G);if((0,oe.z)(G))return(0,A.V)(G);if((0,j.t)(G))return(G=>le=>(G.then(Ce=>{le.closed||(le.next(Ce),le.complete())},Ce=>le.error(Ce)).then(null,b.z),le))(G);if(G&&"function"==typeof G[de.hZ])return(G=>le=>{const Ce=G[de.hZ]();for(;;){let ae;try{ae=Ce.next()}catch(_e){return le.error(_e),le}if(ae.done){le.complete();break}if(le.next(ae.value),le.closed)break}return"function"==typeof Ce.return&&le.add(()=>{Ce.return&&Ce.return()}),le})(G);{const Ce=`You provided ${(0,W.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ce)}}},5015:(ct,Le,F)=>{"use strict";F.d(Le,{V:()=>A});const A=b=>z=>{for(let de=0,ee=b.length;de<ee&&!z.closed;de++)z.next(b[de]);z.complete()}},1395:ct=>{ct.exports=function(F,A){var b,z=null;try{b=JSON.parse(F,A)}catch(de){z=de}return[z,b]}},9028:function(ct){ct.exports=function(Le){var F={};function A(b){if(F[b])return F[b].exports;var z=F[b]={exports:{},id:b,loaded:!1};return Le[b].call(z.exports,z,z.exports,A),z.loaded=!0,z.exports}return A.m=Le,A.c=F,A.p="",A(0)}([function(Le,F,A){"use strict";Object.defineProperty(F,"__esModule",{value:!0});var b=function(){function ue(oe,j){for(var W=0;W<j.length;W++){var ne=j[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(oe,ne.key,ne)}}return function(oe,j,W){return j&&ue(oe.prototype,j),W&&ue(oe,W),oe}}();var de=A(1),ee=A(3),ce=function(){function ue(oe,j){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,ue),de.initializer.load(this,j,oe),this.begin()}return b(ue,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||!this.pause.status||(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var j=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,j&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var j=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){j.currentElContent&&0!==j.currentElContent.length?j.backspace(j.currentElContent,j.currentElContent.length):j.typewrite(j.strings[j.sequence[j.arrayPos]],j.strPos)},this.startDelay)}},{key:"typewrite",value:function(j,W){var ne=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var G=this.humanizer(this.typeSpeed),le=1;!0!==this.pause.status?this.timeout=setTimeout(function(){W=ee.htmlParser.typeHtmlChars(j,W,ne);var Ce=0,ae=j.substr(W);if("^"===ae.charAt(0)&&/^\^\d+/.test(ae)){var _e=1;_e+=(ae=/\d+/.exec(ae)[0]).length,Ce=parseInt(ae),ne.temporaryPause=!0,ne.options.onTypingPaused(ne.arrayPos,ne),j=j.substring(0,W)+j.substring(W+_e),ne.toggleBlinking(!0)}if("`"===ae.charAt(0)){for(;"`"!==j.substr(W+le).charAt(0)&&(le++,!(W+le>j.length)););var Pe=j.substring(0,W),De=j.substring(Pe.length+1,W+le),Ae=j.substring(W+le+1);j=Pe+De+Ae,le--}ne.timeout=setTimeout(function(){ne.toggleBlinking(!1),W>=j.length?ne.doneTyping(j,W):ne.keepTyping(j,W,le),ne.temporaryPause&&(ne.temporaryPause=!1,ne.options.onTypingResumed(ne.arrayPos,ne))},Ce)},G):this.setPauseStatus(j,W,!0)}},{key:"keepTyping",value:function(j,W,ne){0===W&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var G=j.substr(0,W+=ne);this.replaceText(G),this.typewrite(j,W)}},{key:"doneTyping",value:function(j,W){var ne=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),(this.arrayPos!==this.strings.length-1||(this.complete(),!1!==this.loop&&this.curLoop!==this.loopCount))&&(this.timeout=setTimeout(function(){ne.backspace(j,W)},this.backDelay))}},{key:"backspace",value:function(j,W){var ne=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var G=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){W=ee.htmlParser.backSpaceHtmlChars(j,W,ne);var le=j.substr(0,W);if(ne.replaceText(le),ne.smartBackspace){var Ce=ne.strings[ne.arrayPos+1];ne.stopNum=Ce&&le===Ce.substr(0,W)?W:0}W>ne.stopNum?(W--,ne.backspace(j,W)):W<=ne.stopNum&&(ne.arrayPos++,ne.arrayPos===ne.strings.length?(ne.arrayPos=0,ne.options.onLastStringBackspaced(),ne.shuffleStringsIfNeeded(),ne.begin()):ne.typewrite(ne.strings[ne.sequence[ne.arrayPos]],W))},G)}else this.setPauseStatus(j,W,!1)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(j,W,ne){this.pause.typewrite=ne,this.pause.curString=j,this.pause.curStrPos=W}},{key:"toggleBlinking",value:function(j){!this.cursor||this.pause.status||this.cursorBlinking!==j&&(this.cursorBlinking=j,j?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink"))}},{key:"humanizer",value:function(j){return Math.round(Math.random()*j/2)+j}},{key:"shuffleStringsIfNeeded",value:function(){!this.shuffle||(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var j=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){j.arrayPos++,j.replaceText(""),j.strings.length>j.arrayPos?j.typewrite(j.strings[j.sequence[j.arrayPos]],0):(j.typewrite(j.strings[0],0),j.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(j){this.attr?this.el.setAttribute(this.attr,j):this.isInput?this.el.value=j:"html"===this.contentType?this.el.innerHTML=j:this.el.textContent=j}},{key:"bindFocusEvents",value:function(){var j=this;!this.isInput||(this.el.addEventListener("focus",function(W){j.stop()}),this.el.addEventListener("blur",function(W){j.el.value&&0!==j.el.value.length||j.start()}))}},{key:"insertCursor",value:function(){!this.showCursor||this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling))}}]),ue}();F.default=ce,Le.exports=F.default},function(Le,F,A){"use strict";Object.defineProperty(F,"__esModule",{value:!0});var b=Object.assign||function(W){for(var ne=1;ne<arguments.length;ne++){var G=arguments[ne];for(var le in G)Object.prototype.hasOwnProperty.call(G,le)&&(W[le]=G[le])}return W},z=function(){function W(ne,G){for(var le=0;le<G.length;le++){var Ce=G[le];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ne,Ce.key,Ce)}}return function(ne,G,le){return G&&W(ne.prototype,G),le&&W(ne,le),ne}}();var W,ue=(W=A(2))&&W.__esModule?W:{default:W},oe=function(){function W(){!function(W,ne){if(!(W instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,W)}return z(W,[{key:"load",value:function(G,le,Ce){if(G.el="string"==typeof Ce?document.querySelector(Ce):Ce,G.options=b({},ue.default,le),G.isInput="input"===G.el.tagName.toLowerCase(),G.attr=G.options.attr,G.bindInputFocusEvents=G.options.bindInputFocusEvents,G.showCursor=!G.isInput&&G.options.showCursor,G.cursorChar=G.options.cursorChar,G.cursorBlinking=!0,G.elContent=G.attr?G.el.getAttribute(G.attr):G.el.textContent,G.contentType=G.options.contentType,G.typeSpeed=G.options.typeSpeed,G.startDelay=G.options.startDelay,G.backSpeed=G.options.backSpeed,G.smartBackspace=G.options.smartBackspace,G.backDelay=G.options.backDelay,G.fadeOut=G.options.fadeOut,G.fadeOutClass=G.options.fadeOutClass,G.fadeOutDelay=G.options.fadeOutDelay,G.isPaused=!1,G.strings=G.options.strings.map(function(Ae){return Ae.trim()}),G.stringsElement="string"==typeof G.options.stringsElement?document.querySelector(G.options.stringsElement):G.options.stringsElement,G.stringsElement){G.strings=[],G.stringsElement.style.display="none";var ae=Array.prototype.slice.apply(G.stringsElement.children),_e=ae.length;if(_e)for(var Pe=0;Pe<_e;Pe+=1)G.strings.push(ae[Pe].innerHTML.trim())}for(var Pe in G.strPos=0,G.arrayPos=0,G.stopNum=0,G.loop=G.options.loop,G.loopCount=G.options.loopCount,G.curLoop=0,G.shuffle=G.options.shuffle,G.sequence=[],G.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},G.typingComplete=!1,G.strings)G.sequence[Pe]=Pe;G.currentElContent=this.getCurrentElContent(G),G.autoInsertCss=G.options.autoInsertCss,this.appendAnimationCss(G)}},{key:"getCurrentElContent",value:function(G){return G.attr?G.el.getAttribute(G.attr):G.isInput?G.el.value:"html"===G.contentType?G.el.innerHTML:G.el.textContent}},{key:"appendAnimationCss",value:function(G){var le="data-typed-js-css";if(G.autoInsertCss&&(G.showCursor||G.fadeOut)&&!document.querySelector("["+le+"]")){var Ce=document.createElement("style");Ce.type="text/css",Ce.setAttribute(le,!0);var ae="";G.showCursor&&(ae+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),G.fadeOut&&(ae+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==Ce.length&&(Ce.innerHTML=ae,document.body.appendChild(Ce))}}}]),W}();F.default=oe;var j=new oe;F.initializer=j},function(Le,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(z){},onComplete:function(z){},preStringTyped:function(z,de){},onStringTyped:function(z,de){},onLastStringBackspaced:function(z){},onTypingPaused:function(z,de){},onTypingResumed:function(z,de){},onReset:function(z){},onStop:function(z,de){},onStart:function(z,de){},onDestroy:function(z){}},Le.exports=F.default},function(Le,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0});var A=function(){function ee(ce,ue){for(var oe=0;oe<ue.length;oe++){var j=ue[oe];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(ce,j.key,j)}}return function(ce,ue,oe){return ue&&ee(ce.prototype,ue),oe&&ee(ce,oe),ce}}();var z=function(){function ee(){!function(ee,ce){if(!(ee instanceof ce))throw new TypeError("Cannot call a class as a function")}(this,ee)}return A(ee,[{key:"typeHtmlChars",value:function(ue,oe,j){if("html"!==j.contentType)return oe;var W=ue.substr(oe).charAt(0);if("<"===W||"&"===W){var ne;for(ne="<"===W?">":";";ue.substr(oe+1).charAt(0)!==ne&&!(1+ ++oe>ue.length););oe++}return oe}},{key:"backSpaceHtmlChars",value:function(ue,oe,j){if("html"!==j.contentType)return oe;var W=ue.substr(oe).charAt(0);if(">"===W||";"===W){var ne;for(ne=">"===W?"<":"&";ue.substr(oe-1).charAt(0)!==ne&&!(--oe<0););oe--}return oe}}]),ee}();F.default=z;var de=new z;F.htmlParser=de}])},3958:function(ct){var F,A,b,z,de;F=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,A=/^([^\/?#]*)([^]*)$/,b=/(?:\/|^)\.(?=\/)/g,z=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,ct.exports=de={buildAbsoluteURL:function(ee,ce,ue){if(ue=ue||{},ee=ee.trim(),!(ce=ce.trim())){if(!ue.alwaysNormalize)return ee;var oe=de.parseURL(ee);if(!oe)throw new Error("Error trying to parse base URL.");return oe.path=de.normalizePath(oe.path),de.buildURLFromParts(oe)}var j=de.parseURL(ce);if(!j)throw new Error("Error trying to parse relative URL.");if(j.scheme)return ue.alwaysNormalize?(j.path=de.normalizePath(j.path),de.buildURLFromParts(j)):ce;var W=de.parseURL(ee);if(!W)throw new Error("Error trying to parse base URL.");if(!W.netLoc&&W.path&&"/"!==W.path[0]){var ne=A.exec(W.path);W.netLoc=ne[1],W.path=ne[2]}W.netLoc&&!W.path&&(W.path="/");var G={scheme:W.scheme,netLoc:j.netLoc,path:null,params:j.params,query:j.query,fragment:j.fragment};if(!j.netLoc&&(G.netLoc=W.netLoc,"/"!==j.path[0]))if(j.path){var le=W.path,Ce=le.substring(0,le.lastIndexOf("/")+1)+j.path;G.path=de.normalizePath(Ce)}else G.path=W.path,j.params||(G.params=W.params,j.query||(G.query=W.query));return null===G.path&&(G.path=ue.alwaysNormalize?de.normalizePath(j.path):j.path),de.buildURLFromParts(G)},parseURL:function(ee){var ce=F.exec(ee);return ce?{scheme:ce[1]||"",netLoc:ce[2]||"",path:ce[3]||"",params:ce[4]||"",query:ce[5]||"",fragment:ce[6]||""}:null},normalizePath:function(ee){for(ee=ee.split("").reverse().join("").replace(b,"");ee.length!==(ee=ee.replace(z,"")).length;);return ee.split("").reverse().join("")},buildURLFromParts:function(ee){return ee.scheme+ee.netLoc+ee.path+ee.params+ee.query+ee.fragment}}},3277:(ct,Le,F)=>{var A=F(4897),b=ct.exports={WebVTT:F(6093),VTTCue:F(8281),VTTRegion:F(415)};A.vttjs=b,A.WebVTT=b.WebVTT;var z=b.VTTCue,de=b.VTTRegion,ee=A.VTTCue,ce=A.VTTRegion;b.shim=function(){A.VTTCue=z,A.VTTRegion=de},b.restore=function(){A.VTTCue=ee,A.VTTRegion=ce},A.VTTCue||b.shim()},6093:(ct,Le,F)=>{var A=F(8161),b=Object.create||function(){function Y(){}return function(B){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Y.prototype=B,new Y}}();function z(Y,B){this.name="ParsingError",this.code=Y.code,this.message=B||Y.message}function de(Y){function B(pe,xe,Fe,Re){return 3600*(0|pe)+60*(0|xe)+(0|Fe)+(0|Re)/1e3}var re=Y.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return re?re[3]?B(re[1],re[2],re[3].replace(":",""),re[4]):re[1]>59?B(re[1],re[2],0,re[4]):B(0,re[1],re[2],re[4]):null}function ee(){this.values=b(null)}function ce(Y,B,re,pe){var xe=pe?Y.split(pe):[Y];for(var Fe in xe)if("string"==typeof xe[Fe]){var Re=xe[Fe].split(re);2===Re.length&&B(Re[0],Re[1])}}function ue(Y,B,re){var pe=Y;function xe(){var Je=de(Y);if(null===Je)throw new z(z.Errors.BadTimeStamp,"Malformed timestamp: "+pe);return Y=Y.replace(/^[^\sa-zA-Z-]+/,""),Je}function Re(){Y=Y.replace(/^\s+/,"")}if(Re(),B.startTime=xe(),Re(),"--\x3e"!==Y.substr(0,3))throw new z(z.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+pe);Y=Y.substr(3),Re(),B.endTime=xe(),Re(),function(Je,ft){var vt=new ee;ce(Je,function(lt,He){switch(lt){case"region":for(var nt=re.length-1;nt>=0;nt--)if(re[nt].id===He){vt.set(lt,re[nt].region);break}break;case"vertical":vt.alt(lt,He,["rl","lr"]);break;case"line":var ht=He.split(","),jt=ht[0];vt.integer(lt,jt),vt.percent(lt,jt)&&vt.set("snapToLines",!1),vt.alt(lt,jt,["auto"]),2===ht.length&&vt.alt("lineAlign",ht[1],["start","center","end"]);break;case"position":ht=He.split(","),vt.percent(lt,ht[0]),2===ht.length&&vt.alt("positionAlign",ht[1],["start","center","end"]);break;case"size":vt.percent(lt,He);break;case"align":vt.alt(lt,He,["start","center","end","left","right"])}},/:/,/\s/),ft.region=vt.get("region",null),ft.vertical=vt.get("vertical","");try{ft.line=vt.get("line","auto")}catch(lt){}ft.lineAlign=vt.get("lineAlign","start"),ft.snapToLines=vt.get("snapToLines",!0),ft.size=vt.get("size",100);try{ft.align=vt.get("align","center")}catch(lt){ft.align=vt.get("align","middle")}try{ft.position=vt.get("position","auto")}catch(lt){ft.position=vt.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},ft.align)}ft.positionAlign=vt.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},ft.align)}(Y,B)}(z.prototype=b(Error.prototype)).constructor=z,z.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},ee.prototype={set:function(Y,B){!this.get(Y)&&""!==B&&(this.values[Y]=B)},get:function(Y,B,re){return re?this.has(Y)?this.values[Y]:B[re]:this.has(Y)?this.values[Y]:B},has:function(Y){return Y in this.values},alt:function(Y,B,re){for(var pe=0;pe<re.length;++pe)if(B===re[pe]){this.set(Y,B);break}},integer:function(Y,B){/^-?\d+$/.test(B)&&this.set(Y,parseInt(B,10))},percent:function(Y,B){return!!(B.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(B=parseFloat(B),B>=0&&B<=100))&&(this.set(Y,B),!0)}};var oe=A.createElement&&A.createElement("textarea"),j={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},W={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},ne={v:"title",lang:"lang"},G={rt:"ruby"};function le(Y,B){function re(){if(!B)return null;var Qt,Rt=B.match(/^([^<]*)(<[^>]*>?)?/);return B=B.substr((Qt=Rt[1]?Rt[1]:Rt[2]).length),Qt}function pe(jt){return oe.innerHTML=jt,jt=oe.textContent,oe.textContent="",jt}function Fe(jt,Rt){var Qt=j[jt];if(!Qt)return null;var Un=Y.document.createElement(Qt),Sn=ne[jt];return Sn&&Rt&&(Un[Sn]=Rt.trim()),Un}for(var ft,Re=Y.document.createElement("div"),Je=Re,vt=[];null!==(ft=re());)if("<"!==ft[0])Je.appendChild(Y.document.createTextNode(pe(ft)));else{if("/"===ft[1]){vt.length&&vt[vt.length-1]===ft.substr(2).replace(">","")&&(vt.pop(),Je=Je.parentNode);continue}var He,lt=de(ft.substr(1,ft.length-2));if(lt){He=Y.document.createProcessingInstruction("timestamp",lt),Je.appendChild(He);continue}var nt=ft.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!nt||!(He=Fe(nt[1],nt[3]))||G[(Rt=He).localName]&&G[Rt.localName]!==Je.localName)continue;if(nt[2]){var ht=nt[2].split(".");ht.forEach(function(jt){var Rt=/^bg_/.test(jt),Qt=Rt?jt.slice(3):jt;W.hasOwnProperty(Qt)&&(He.style[Rt?"background-color":"color"]=W[Qt])}),He.className=ht.join(" ")}vt.push(nt[1]),Je.appendChild(He),Je=He}var Rt;return Re}var Ce=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function ae(Y){for(var B=0;B<Ce.length;B++){var re=Ce[B];if(Y>=re[0]&&Y<=re[1])return!0}return!1}function _e(Y){var B=[],re="";if(!Y||!Y.childNodes)return"ltr";function xe(Je,ft){for(var vt=ft.childNodes.length-1;vt>=0;vt--)Je.push(ft.childNodes[vt])}function Fe(Je){if(!Je||!Je.length)return null;var ft=Je.pop(),vt=ft.textContent||ft.innerText;if(vt){var lt=vt.match(/^.*(\n|\r)/);return lt?(Je.length=0,lt[0]):vt}return"ruby"===ft.tagName?Fe(Je):ft.childNodes?(xe(Je,ft),Fe(Je)):void 0}for(xe(B,Y);re=Fe(B);)for(var Re=0;Re<re.length;Re++)if(ae(re.charCodeAt(Re)))return"rtl";return"ltr"}function De(){}function Ae(Y,B,re){De.call(this),this.cue=B,this.cueDiv=le(Y,B.text);var pe={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===B.vertical?"horizontal-tb":"lr"===B.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(pe,this.cueDiv),this.div=Y.document.createElement("div"),pe={direction:_e(this.cueDiv),writingMode:""===B.vertical?"horizontal-tb":"lr"===B.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===B.align?"center":B.align,font:re.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(pe),this.div.appendChild(this.cueDiv);var xe=0;switch(B.positionAlign){case"start":xe=B.position;break;case"center":xe=B.position-B.size/2;break;case"end":xe=B.position-B.size}this.applyStyles(""===B.vertical?{left:this.formatStyle(xe,"%"),width:this.formatStyle(B.size,"%")}:{top:this.formatStyle(xe,"%"),height:this.formatStyle(B.size,"%")}),this.move=function(Fe){this.applyStyles({top:this.formatStyle(Fe.top,"px"),bottom:this.formatStyle(Fe.bottom,"px"),left:this.formatStyle(Fe.left,"px"),right:this.formatStyle(Fe.right,"px"),height:this.formatStyle(Fe.height,"px"),width:this.formatStyle(Fe.width,"px")})}}function ge(Y){var B,re,pe,xe;if(Y.div){re=Y.div.offsetHeight,pe=Y.div.offsetWidth,xe=Y.div.offsetTop;var Fe=(Fe=Y.div.childNodes)&&(Fe=Fe[0])&&Fe.getClientRects&&Fe.getClientRects();Y=Y.div.getBoundingClientRect(),B=Fe?Math.max(Fe[0]&&Fe[0].height||0,Y.height/Fe.length):0}this.left=Y.left,this.right=Y.right,this.top=Y.top||xe,this.height=Y.height||re,this.bottom=Y.bottom||xe+(Y.height||re),this.width=Y.width||pe,this.lineHeight=void 0!==B?B:Y.lineHeight}function je(Y,B,re,pe){var Fe=new ge(B),Re=B.cue,Je=function(Y){if("number"==typeof Y.line&&(Y.snapToLines||Y.line>=0&&Y.line<=100))return Y.line;if(!Y.track||!Y.track.textTrackList||!Y.track.textTrackList.mediaElement)return-1;for(var B=Y.track,re=B.textTrackList,pe=0,xe=0;xe<re.length&&re[xe]!==B;xe++)"showing"===re[xe].mode&&pe++;return-1*++pe}(Re),ft=[];if(Re.snapToLines){var vt;switch(Re.vertical){case"":ft=["+y","-y"],vt="height";break;case"rl":ft=["+x","-x"],vt="width";break;case"lr":ft=["-x","+x"],vt="width"}var lt=Fe.lineHeight,He=lt*Math.round(Je),nt=re[vt]+lt,ht=ft[0];Math.abs(He)>nt&&(He=He<0?-1:1,He*=Math.ceil(nt/lt)*lt),Je<0&&(He+=""===Re.vertical?re.height:re.width,ft=ft.reverse()),Fe.move(ht,He)}else{var jt=Fe.lineHeight/re.height*100;switch(Re.lineAlign){case"center":Je-=jt/2;break;case"end":Je-=jt}switch(Re.vertical){case"":B.applyStyles({top:B.formatStyle(Je,"%")});break;case"rl":B.applyStyles({left:B.formatStyle(Je,"%")});break;case"lr":B.applyStyles({right:B.formatStyle(Je,"%")})}ft=["+y","-x","+x","-y"],Fe=new ge(B)}var Rt=function(Qt,Un){for(var Sn,fn=new ge(Qt),Mn=1,Rn=0;Rn<Un.length;Rn++){for(;Qt.overlapsOppositeAxis(re,Un[Rn])||Qt.within(re)&&Qt.overlapsAny(pe);)Qt.move(Un[Rn]);if(Qt.within(re))return Qt;var Sr=Qt.intersectPercentage(re);Mn>Sr&&(Sn=new ge(Qt),Mn=Sr),Qt=new ge(fn)}return Sn||fn}(Fe,ft);B.move(Rt.toCSSCompatValues(re))}function Ke(){}De.prototype.applyStyles=function(Y,B){for(var re in B=B||this.div,Y)Y.hasOwnProperty(re)&&(B.style[re]=Y[re])},De.prototype.formatStyle=function(Y,B){return 0===Y?0:Y+B},(Ae.prototype=b(De.prototype)).constructor=Ae,ge.prototype.move=function(Y,B){switch(B=void 0!==B?B:this.lineHeight,Y){case"+x":this.left+=B,this.right+=B;break;case"-x":this.left-=B,this.right-=B;break;case"+y":this.top+=B,this.bottom+=B;break;case"-y":this.top-=B,this.bottom-=B}},ge.prototype.overlaps=function(Y){return this.left<Y.right&&this.right>Y.left&&this.top<Y.bottom&&this.bottom>Y.top},ge.prototype.overlapsAny=function(Y){for(var B=0;B<Y.length;B++)if(this.overlaps(Y[B]))return!0;return!1},ge.prototype.within=function(Y){return this.top>=Y.top&&this.bottom<=Y.bottom&&this.left>=Y.left&&this.right<=Y.right},ge.prototype.overlapsOppositeAxis=function(Y,B){switch(B){case"+x":return this.left<Y.left;case"-x":return this.right>Y.right;case"+y":return this.top<Y.top;case"-y":return this.bottom>Y.bottom}},ge.prototype.intersectPercentage=function(Y){return Math.max(0,Math.min(this.right,Y.right)-Math.max(this.left,Y.left))*Math.max(0,Math.min(this.bottom,Y.bottom)-Math.max(this.top,Y.top))/(this.height*this.width)},ge.prototype.toCSSCompatValues=function(Y){return{top:this.top-Y.top,bottom:Y.bottom-this.bottom,left:this.left-Y.left,right:Y.right-this.right,height:this.height,width:this.width}},ge.getSimpleBoxPosition=function(Y){var B=Y.div?Y.div.offsetHeight:Y.tagName?Y.offsetHeight:0,re=Y.div?Y.div.offsetWidth:Y.tagName?Y.offsetWidth:0,pe=Y.div?Y.div.offsetTop:Y.tagName?Y.offsetTop:0;return{left:(Y=Y.div?Y.div.getBoundingClientRect():Y.tagName?Y.getBoundingClientRect():Y).left,right:Y.right,top:Y.top||pe,height:Y.height||B,bottom:Y.bottom||pe+(Y.height||B),width:Y.width||re}},Ke.StringDecoder=function(){return{decode:function(Y){if(!Y)return"";if("string"!=typeof Y)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(Y))}}},Ke.convertCueToDOMTree=function(Y,B){return Y&&B?le(Y,B):null},Ke.processCues=function(Y,B,re){if(!Y||!B||!re)return null;for(;re.firstChild;)re.removeChild(re.firstChild);var pe=Y.document.createElement("div");if(pe.style.position="absolute",pe.style.left="0",pe.style.right="0",pe.style.top="0",pe.style.bottom="0",pe.style.margin="1.5%",re.appendChild(pe),function(lt){for(var He=0;He<lt.length;He++)if(lt[He].hasBeenReset||!lt[He].displayState)return!0;return!1}(B)){var Re=[],Je=ge.getSimpleBoxPosition(pe),vt={font:Math.round(.05*Je.height*100)/100+"px sans-serif"};!function(){for(var lt,He,nt=0;nt<B.length;nt++)lt=new Ae(Y,He=B[nt],vt),pe.appendChild(lt.div),je(0,lt,Je,Re),He.displayState=lt.div,Re.push(ge.getSimpleBoxPosition(lt))}()}else for(var Fe=0;Fe<B.length;Fe++)pe.appendChild(B[Fe].displayState)},(Ke.Parser=function(Y,B,re){re||(re=B,B={}),B||(B={}),this.window=Y,this.vttjs=B,this.state="INITIAL",this.buffer="",this.decoder=re||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(Y){if(!(Y instanceof z))throw Y;this.onparsingerror&&this.onparsingerror(Y)},parse:function(Y){var lt,B=this;function re(){for(var lt=B.buffer,He=0;He<lt.length&&"\r"!==lt[He]&&"\n"!==lt[He];)++He;var nt=lt.substr(0,He);return"\r"===lt[He]&&++He,"\n"===lt[He]&&++He,B.buffer=lt.substr(He),nt}Y&&(B.buffer+=B.decoder.decode(Y,{stream:!0}));try{var Re;if("INITIAL"===B.state){if(!/\r\n|\n/.test(B.buffer))return this;var Je=(Re=re()).match(/^WEBVTT([ \t].*)?$/);if(!Je||!Je[0])throw new z(z.Errors.BadSignature);B.state="HEADER"}for(var ft=!1;B.buffer;){if(!/\r\n|\n/.test(B.buffer))return this;switch(ft?ft=!1:Re=re(),B.state){case"HEADER":/:/.test(Re)?(lt=Re).match(/X-TIMESTAMP-MAP/)?ce(lt,function(He,nt){switch(He){case"X-TIMESTAMP-MAP":!function(lt){var He=new ee;ce(lt,function(nt,ht){switch(nt){case"MPEGT":He.integer(nt+"S",ht);break;case"LOCA":He.set(nt+"L",de(ht))}},/[^\d]:/,/,/),B.ontimestampmap&&B.ontimestampmap({MPEGTS:He.get("MPEGTS"),LOCAL:He.get("LOCAL")})}(nt)}},/=/):ce(lt,function(He,nt){switch(He){case"Region":!function(lt){var He=new ee;if(ce(lt,function(ht,jt){switch(ht){case"id":He.set(ht,jt);break;case"width":He.percent(ht,jt);break;case"lines":He.integer(ht,jt);break;case"regionanchor":case"viewportanchor":var Rt=jt.split(",");if(2!==Rt.length)break;var Qt=new ee;if(Qt.percent("x",Rt[0]),Qt.percent("y",Rt[1]),!Qt.has("x")||!Qt.has("y"))break;He.set(ht+"X",Qt.get("x")),He.set(ht+"Y",Qt.get("y"));break;case"scroll":He.alt(ht,jt,["up"])}},/=/,/\s/),He.has("id")){var nt=new(B.vttjs.VTTRegion||B.window.VTTRegion);nt.width=He.get("width",100),nt.lines=He.get("lines",3),nt.regionAnchorX=He.get("regionanchorX",0),nt.regionAnchorY=He.get("regionanchorY",100),nt.viewportAnchorX=He.get("viewportanchorX",0),nt.viewportAnchorY=He.get("viewportanchorY",100),nt.scroll=He.get("scroll",""),B.onregion&&B.onregion(nt),B.regionList.push({id:He.get("id"),region:nt})}}(nt)}},/:/):Re||(B.state="ID");continue;case"NOTE":Re||(B.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(Re)){B.state="NOTE";break}if(!Re)continue;B.cue=new(B.vttjs.VTTCue||B.window.VTTCue)(0,0,"");try{B.cue.align="center"}catch(lt){B.cue.align="middle"}if(B.state="CUE",-1===Re.indexOf("--\x3e")){B.cue.id=Re;continue}case"CUE":try{ue(Re,B.cue,B.regionList)}catch(lt){B.reportOrThrowError(lt),B.cue=null,B.state="BADCUE";continue}B.state="CUETEXT";continue;case"CUETEXT":var vt=-1!==Re.indexOf("--\x3e");if(!Re||vt&&(ft=!0)){B.oncue&&B.oncue(B.cue),B.cue=null,B.state="ID";continue}B.cue.text&&(B.cue.text+="\n"),B.cue.text+=Re.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":Re||(B.state="ID");continue}}}catch(lt){B.reportOrThrowError(lt),"CUETEXT"===B.state&&B.cue&&B.oncue&&B.oncue(B.cue),B.cue=null,B.state="INITIAL"===B.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var Y=this;try{if(Y.buffer+=Y.decoder.decode(),(Y.cue||"HEADER"===Y.state)&&(Y.buffer+="\n\n",Y.parse()),"INITIAL"===Y.state)throw new z(z.Errors.BadSignature)}catch(B){Y.reportOrThrowError(B)}return Y.onflush&&Y.onflush(),this}},ct.exports=Ke},8281:ct=>{var F={"":1,lr:1,rl:1},A={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function z(ee){return"string"==typeof ee&&!!A[ee.toLowerCase()]&&ee.toLowerCase()}function de(ee,ce,ue){this.hasBeenReset=!1;var oe="",j=!1,W=ee,ne=ce,G=ue,le=null,Ce="",ae=!0,_e="auto",Pe="start",De="auto",Ae="auto",ge=100,je="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return oe},set:function(Ke){oe=""+Ke}},pauseOnExit:{enumerable:!0,get:function(){return j},set:function(Ke){j=!!Ke}},startTime:{enumerable:!0,get:function(){return W},set:function(Ke){if("number"!=typeof Ke)throw new TypeError("Start time must be set to a number.");W=Ke,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return ne},set:function(Ke){if("number"!=typeof Ke)throw new TypeError("End time must be set to a number.");ne=Ke,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return G},set:function(Ke){G=""+Ke,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return le},set:function(Ke){le=Ke,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return Ce},set:function(Ke){var Mt=function(ee){return"string"==typeof ee&&!!F[ee.toLowerCase()]&&ee.toLowerCase()}(Ke);if(!1===Mt)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");Ce=Mt,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return ae},set:function(Ke){ae=!!Ke,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return _e},set:function(Ke){if("number"!=typeof Ke&&"auto"!==Ke)throw new SyntaxError("Line: an invalid number or illegal string was specified.");_e=Ke,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return Pe},set:function(Ke){var Mt=z(Ke);Mt?(Pe=Mt,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return De},set:function(Ke){if(Ke<0||Ke>100)throw new Error("Position must be between 0 and 100.");De=Ke,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return Ae},set:function(Ke){var Mt=z(Ke);Mt?(Ae=Mt,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return ge},set:function(Ke){if(Ke<0||Ke>100)throw new Error("Size must be between 0 and 100.");ge=Ke,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return je},set:function(Ke){var Mt=z(Ke);if(!Mt)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");je=Mt,this.hasBeenReset=!0}}}),this.displayState=void 0}de.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},ct.exports=de},415:ct=>{var Le={"":!0,up:!0};function A(z){return"number"==typeof z&&z>=0&&z<=100}ct.exports=function(){var z=100,de=3,ee=0,ce=100,ue=0,oe=100,j="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return z},set:function(W){if(!A(W))throw new Error("Width must be between 0 and 100.");z=W}},lines:{enumerable:!0,get:function(){return de},set:function(W){if("number"!=typeof W)throw new TypeError("Lines must be set to a number.");de=W}},regionAnchorY:{enumerable:!0,get:function(){return ce},set:function(W){if(!A(W))throw new Error("RegionAnchorX must be between 0 and 100.");ce=W}},regionAnchorX:{enumerable:!0,get:function(){return ee},set:function(W){if(!A(W))throw new Error("RegionAnchorY must be between 0 and 100.");ee=W}},viewportAnchorY:{enumerable:!0,get:function(){return oe},set:function(W){if(!A(W))throw new Error("ViewportAnchorY must be between 0 and 100.");oe=W}},viewportAnchorX:{enumerable:!0,get:function(){return ue},set:function(W){if(!A(W))throw new Error("ViewportAnchorX must be between 0 and 100.");ue=W}},scroll:{enumerable:!0,get:function(){return j},set:function(W){var ne=function(z){return"string"==typeof z&&!!Le[z.toLowerCase()]&&z.toLowerCase()}(W);!1===ne?console.warn("Scroll: an invalid or illegal string was specified."):j=ne}}})}},9030:(ct,Le,F)=>{"use strict";F.d(Le,{l:()=>ae});var A=F(6465),b=F(8002),z=F(5304);var oe=F(4762),j=F(205),W=F(136);const ne=({networkError:_e,graphQLErrors:Pe,message:De})=>{var Ae;if(Pe&&Pe.forEach(ge=>console.log("Apollo GraphQL Error",ge)),_e){const ge=_e,{error:je}=ge,Ke=(0,oe._T)(ge,["error"]);console.log("Apollo Network Error",Ke),null===(Ae=je.error)||void 0===Ae||Ae.errors.forEach(Mt=>console.log("Apollo Network Error",Mt))}return(0,j._)(De)};let G={name:"",type:"bar",stack:"regions",tooltip:{valueFormatter:function(_e){return _e+" GWh"}},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0,0,0,0.3)"}},data:[]};var Ce=F(8720);let ae=(()=>{class _e{constructor(De){this.apollo=De}queryBalanceData(De){let[Ae,ge]=function(_e){switch(_e.balance){case"Energiebilanz":return function(_e){let De,Pe={};return void 0!==_e.aggregate&&void 0!==_e.carrier&&(Pe={aggregates:_e.aggregate[0],years:_e.years,regions:_e.regions,carriers:_e.carrier}),De=A.Ps`
		query (
			$aggregates: String
			$years: [Int]
			$regions: [String]
			$carriers: String
		) {
			energyBalance(
				aggregates: $aggregates
				years: $years
				regions: $regions
				carriers: $carriers
			) {
				value
				years
				regions
				carriers
				aggregates
			}
		}
	`,[De,Pe]}(_e);case"Nutzenergieanalyse":return function(_e){console.log("~ features",_e);let De,Pe={};return void 0!==_e.aggregate&&void 0!==_e.carrier&&void 0!==_e.usage&&(Pe={aggregates:_e.aggregate[0],years:_e.years,regions:_e.regions,carriers:_e.carrier,usages:_e.usage}),De=A.Ps`
		query (
			$aggregates: String
			$years: [Int]
			$regions: [String]
			$carriers: String
			$usages: String
		) {
			usageAnalysisBalance(
				aggregates: $aggregates
				years: $years
				regions: $regions
				carriers: $carriers
				usages: $usages
			) {
				value
				years
				regions
				carriers
				aggregates
			}
		}
	`,[De,Pe]}(_e);case"Erneuerbare":return function(_e){let De,Pe={};return void 0!==_e.aggregate&&(Pe={aggregates:_e.aggregate[0],years:_e.years,regions:_e.regions}),De=A.Ps`
		query ($aggregates: String, $years: [Int], $regions: [String]) {
			renewablesBalance(
				aggregates: $aggregates
				years: $years
				regions: $regions
			) {
				value
				regions
				years
				aggregates
			}
		}
	`,[De,Pe]}(_e);default:throw Error("Balance name wrong or not found")}}(De);return this.apollo.watchQuery({query:Ae,variables:ge}).valueChanges.pipe((0,b.U)(je=>function(_e,Pe){let De=W.X[Pe.balance],Ae=Pe.regions,ge=!1,je=0;console.log("~ data",_e),console.log("~ data",_e[De]);let Ke=[];Ae.forEach(Ye=>{let Y=JSON.parse(JSON.stringify(G));Y.name=Ye,"AT"===Ye&&(Y.type="line",Y.lineStyle={width:4},Y.stack="total",ge=!0),_e[De].filter(pe=>pe.regions===Ye).sort(({years:pe},{years:xe})=>pe-xe).forEach(pe=>{Y.data.push(Math.round(.277*pe.value)),je+=pe.value}),Ke.push(Y)});let dt={yearsData:Pe.years,series:Ke,secondYaxis:ge,totalValue:je};return console.log("~ totalValue",je),dt}(je.data,De)),(0,z.K)(ne))}queryBalanceIndex(De){return this.apollo.watchQuery({query:this.getIndexQueryGQL(De)}).valueChanges.pipe((0,b.U)(Ae=>Ae.data),(0,z.K)(ne))}getIndexQueryGQL(De){return A.Ps`
			query {
				balanceIndex(name: "${De}") {
					data
				}
			}
		`}}return _e.\u0275fac=function(De){return new(De||_e)(Ce.LFG(A._M))},_e.\u0275prov=Ce.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},9598:(ct,Le,F)=>{"use strict";F.d(Le,{W:()=>Ye});var A=F(1215),z=F(9247),de=F(3557);function oe(Y,B){let pe=function(Y,B){let re=[];return Y.forEach((pe,xe)=>{re.push(B[pe])}),re}(function(Y){let B=Object.fromEntries(Object.entries(Y).filter(([pe,xe])=>!0===xe));return Object.keys(B)}(Y.regions),B);return Y.regions=pe,Y}var G=F(136),ae=F(8629);function _e(Y){if(void 0!==Y.years&&!(0,ae.Qr)(Y.years)){let B=function(Y){switch(Y){case"Energiebilanz":return 1988;case"Nutzenergieanalyse":return 1993;case"Erneuerbare":return 1988}return null}(Y.balance),pe=[];return Object.entries(Y.years).forEach(([xe,Fe])=>{Fe&&pe.push(parseInt(xe)+B)}),pe}}var ge=F(8720);const dt={balance:"Energiebilanz",regions:{region_0:!0,region_1:!0,region_2:!0,region_3:!0,region_4:!0,region_5:!0,region_6:!0,region_7:!0,region_8:!1,region_9:!1},years:{18:!0,19:!0,21:!0,22:!1,23:!1,24:!1,25:!1,26:!1},aggregate:["Bruttoinlandsverbrauch"],carrier:"Petroleum",usage:{usageSwitch_0:!1,usageSwitch_1:!1,usageSwitch_2:!1,usageSwitch_3:!1,usageSwitch_4:!1,usageSwitch_5:!1,usageSwitch_6:!1,usageSwitch_7:!0}};let Ye=(()=>{class Y extends A.b{constructor(){super(dt),this.regionNamesMap=function(){let Y={};if(Y=function(Y){return Object.entries(de.W).filter(([re,pe])=>{if(re.includes("region_")){const Fe=pe.split("/").pop().split(".").slice(-2,-1)[0];Y[re]=Fe}}),Y}(Y),0===Object.keys(Y).length)throw new Error("Entries in videosource array does not include right keys and/or values for regions!");return Y}(),this.selectedBalance$=this.select(re=>re.balance),this.selectedRegions$=this.select(re=>re.regions),this.selectedYears$=this.select(re=>re.years),this.selectedUsage$=this.select(re=>re.usage),this.selectedFeaturesFetch$=this.select(re=>{let pe=Object.assign({},re);pe=function(Y,B){Y=oe(Y,B);let pe=[];return Y.regions.forEach(xe=>{pe.push(z.UF[xe])}),Y.regions=pe,Y}(pe,this.regionNamesMap);let xe=_e(pe);return void 0!==xe&&(pe.years=xe),pe=function(Y){let B=Y.balance,re=Y.aggregate,pe=0,xe=[];if(void 0!==re&&(re.length>1?("Energiebilanz"===B&&(re=re.slice(1)),xe.push(re.join("_"))):xe.push(re[0]),"Nutzenergieanalyse"!==B)){switch(B){case"Energiebilanz":pe=5-re.length;break;case"Erneuerbare":pe=3-re.length}for(let Fe=0;Fe<pe;Fe++)xe.push("Gesamt");xe=[xe.join("_")],Y.aggregate=xe}return Y}(pe),void 0!==pe.usage&&(pe=function(Y){return Object.entries(Y.usage).forEach(([re,pe])=>{pe&&(Y.usage=G.Ud[re])}),Y}(pe)),pe}),this.selectedFeaturesInfo$=this.select(re=>{let pe=Object.assign({},re);if(void 0!==pe.regions&&(pe=oe(pe,this.regionNamesMap),pe.regions=function(Y){let B=[];return Y.forEach(re=>{B.push(z.UF[re])}),B}(pe.regions)),void 0!==pe.years){let xe=_e(pe);void 0!==xe&&(pe.years=function(Y){return String(Y[0])+" - "+String(Y[Y.length-1])}(xe))}return void 0!==pe.aggregate&&(pe.aggregate=pe.aggregate.slice(-1)),void 0!==pe.usage&&(pe.usage=function(Y){let B="";return Object.keys(Y).forEach(re=>{Y[re]&&(B=G.Ud[re])}),B}(pe.usage)),pe})}setBalance(re){this.setState({balance:re})}setGenericRegions(re){this.setState({regions:re})}setYears(re){this.setState({years:re})}setAggregate(re){this.setState({aggregate:re})}setCarrier(re){this.setState({carrier:re})}setUsage(re){this.setState({usage:re})}}return Y.\u0275fac=function(re){return new(re||Y)},Y.\u0275prov=ge.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})()},8078:(ct,Le,F)=>{"use strict";F.d(Le,{Z:()=>ue});var A=F(6215),b=F(5319),z=F(7519),de=F(3256),ee=F(8720),ce=F(881);let ue=(()=>{class oe{constructor(W,ne){this.router=W,this.uiState=ne,this.baseURL="",this._previousRoute$=new A.X("undefined"),this._currentRoute$=new A.X(this.router.url),this.subs=new b.w,this.previousRoute$=this._previousRoute$.asObservable().pipe((0,z.x)()),this.currentRoute$=this._currentRoute$.asObservable().pipe((0,z.x)()),this.currentRoute=this.router.url,this.subscriptionPreviousRoute=this.router.events.subscribe(G=>{G instanceof de.m2&&(this._previousRoute$.next(this.currentRoute),this.currentRoute=G.url)}),this.subscriptionActiveView=this.uiState.activeView$.subscribe(G=>{this.activeView=G}),this.subscriptionActiveConfigFeature=this.uiState.activeConfigFeature$.subscribe(G=>{void 0!==G&&(this.activeConfigFeature=G)}),this.subs.add(this.subscriptionPreviousRoute),this.subs.add(this.subscriptionActiveView),this.subs.add(this.subscriptionActiveConfigFeature)}updateRoute(W){let ne;switch(W){case"description":ne="intro";break;case"config":ne="config".concat("/",this.activeConfigFeature);break;case"config-info":ne="config-info";break;case"chart":ne="chart"}this.router.navigate([ne])}ngOnDestroy(){this.subs.unsubscribe()}}return oe.\u0275fac=function(W){return new(W||oe)(ee.LFG(de.F0),ee.LFG(ce.B))},oe.\u0275prov=ee.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})()},1215:(ct,Le,F)=>{"use strict";F.d(Le,{b:()=>de});var A=F(6215),b=F(8002),z=F(7519);class de{constructor(ce){this.state$=new A.X(ce)}get state(){return this.state$.getValue()}select(ce){return this.state$.asObservable().pipe((0,b.U)(ue=>ce(ue)),(0,z.x)())}setState(ce){this.state$.next(Object.assign(Object.assign({},this.state),ce))}}},881:(ct,Le,F)=>{"use strict";F.d(Le,{B:()=>ee});var A=F(136),b=F(1215),z=F(8720);const de={activeView:"description",activeConfigFeature:"balance",configButtonTouched:!1,configButtonLocked:!0,cubeButtonTouched:!1,cubeButtonLocked:!0,chartButtonLocked:!0,audioIsPlaying:!1,pwaInstall:void 0};let ee=(()=>{class ce extends b.b{constructor(){super(de),this.activeView$=this.select(oe=>oe.activeView),this.activeConfigFeature$=this.select(oe=>oe.activeConfigFeature),this.configButtonTouched$=this.select(oe=>oe.configButtonTouched),this.configButtonLocked$=this.select(oe=>oe.configButtonLocked),this.cubeButtonTouched$=this.select(oe=>oe.cubeButtonTouched),this.cubeButtonLocked$=this.select(oe=>oe.cubeButtonLocked),this.chartButtonLocked$=this.select(oe=>oe.chartButtonLocked),this.audioIsPlaying$=this.select(oe=>oe.audioIsPlaying),this.pwaInstall$=this.select(oe=>oe.pwaInstall)}setActiveView(oe){this.setState({activeView:oe})}setActiveConfigFeature(oe){this.setState({activeConfigFeature:oe})}setAudioPlaying(oe){this.setState({audioIsPlaying:oe})}setConfigButtonTouched(oe){this.setState({configButtonTouched:oe})}setConfigButtonLocked(oe){this.setState({configButtonLocked:oe})}handleVeryFirstConfigButtonClicked(){this.setCubeButtonLocked(!1),this.setConfigButtonLocked(!0),this.setConfigButtonTouched(!0)}setCubeButtonTouched(oe){this.setState({cubeButtonTouched:oe})}setCubeButtonLocked(oe){this.setState({cubeButtonLocked:oe})}setActiveFeatureFromCubeButtonState(oe){this.setActiveConfigFeature(A.yd[oe])}setChartButtonLocked(oe){this.setState({chartButtonLocked:oe})}setPWAInstall(oe){this.setState({pwaInstall:oe})}}return ce.\u0275fac=function(oe){return new(oe||ce)},ce.\u0275prov=z.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},136:(ct,Le,F)=>{"use strict";F.d(Le,{rC:()=>b,yd:()=>z,l_:()=>de,X:()=>ee,Ud:()=>ue,tu:()=>oe,Qq:()=>j});const b=["Energiebilanz","Nutzenergieanalyse","Erneuerbare"],z={intro:void 0,digitOne:"balance",digitTwo:"regions",digitThree:"years",digitFour:"aggregate",digitFive:"carrier",digitSix:"usage"},de={Energiebilanz:"eb",Nutzenergieanalyse:"nea",Erneuerbare:"res"},ee={Energiebilanz:"energyBalance",Nutzenergieanalyse:"usageAnalysisBalance",Erneuerbare:"renewablesBalance"},ue={usageSwitch_0:"Beleuchtung und EDV",usageSwitch_1:"Dampferzeugung",usageSwitch_2:"Elektrochemische Zwecke",usageSwitch_3:"Industrie\xf6fen",usageSwitch_4:"Raumheizung und Klimaanlagen",usageSwitch_5:"Standmotoren",usageSwitch_6:"Traktion",usageSwitch_7:"Summe"},oe={Energiebilanz:"EB",Nutzenergieanalyse:"UA",Erneuerbare:"RES"},j={width:400,left:"22%",right:"0%",fontsize:28}},8629:(ct,Le,F)=>{"use strict";function A(de){return new Promise(ee=>setTimeout(ee,de))}function b(de){return 0===Object.keys(de).length&&de.constructor===Object}F.d(Le,{Vs:()=>A,Qr:()=>b})},9247:(ct,Le,F)=>{"use strict";F.d(Le,{UA:()=>A,UF:()=>z});const A=["Wien","Burgenland","Nieder\xf6sterreich","Ober\xf6sterreich","Steiermark","Salzburg","Tirol","Vorarlberg","K\xe4rnten","Austria"],z={Wien:"Wie",Nieder\u00f6sterreich:"Noe",Ober\u00f6sterreich:"Ooe",Burgenland:"Bgl",Steiermark:"Stk",Salzburg:"Sbg",Tirol:"Tir",Vorarlberg:"Vor",K\u00e4rnten:"Ktn",Austria:"AT"}},9522:(ct,Le,F)=>{"use strict";F.d(Le,{p:()=>A_});var A=F(8239),b=F(4897),z=F.n(b),de=F(8161),ee=F.n(de);function ce(){return(ce=Object.assign||function(p){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s])}return p}).apply(this,arguments)}function ue(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function oe(p,o){return(oe=Object.setPrototypeOf||function(s,n){return s.__proto__=n,s})(p,o)}function j(p,o){p.prototype=Object.create(o.prototype),p.prototype.constructor=p,oe(p,o)}var W=F(1395),ne=F.n(W),G=F(3216),le=F.n(G),Ce=F(2472),ae=F.n(Ce),_e=F(3277),Pe=F.n(_e);function De(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}}function Ae(p,o,a){return(Ae=De()?Reflect.construct:function(n,i,c){var m=[null];m.push.apply(m,i);var O=new(Function.bind.apply(n,m));return c&&oe(O,c.prototype),O}).apply(null,arguments)}var je=F(3958),Ke=F.n(je),Mt="http://example.com";const Ye=function(o,a){if(/^[a-z]+:/i.test(a))return a;/^data:/.test(o)&&(o=z().location&&z().location.href||"");var s="function"==typeof z().URL,n=/^\/\//.test(o),i=!z().location&&!/\/\//i.test(o);if(s?o=new(z().URL)(o,z().location||Mt):/\/\//i.test(o)||(o=Ke().buildAbsoluteURL(z().location&&z().location.href||"",o)),s){var c=new URL(a,o);return i?c.href.slice(Mt.length):n?c.href.slice(c.protocol.length):c.href}return Ke().buildAbsoluteURL(o,a)};var Y=function(){function p(){this.listeners={}}var o=p.prototype;return o.on=function(s,n){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(n)},o.off=function(s,n){if(!this.listeners[s])return!1;var i=this.listeners[s].indexOf(n);return this.listeners[s]=this.listeners[s].slice(0),this.listeners[s].splice(i,1),i>-1},o.trigger=function(s){var n=this.listeners[s];if(n)if(2===arguments.length)for(var i=n.length,c=0;c<i;++c)n[c].call(this,arguments[1]);else for(var m=Array.prototype.slice.call(arguments,1),E=n.length,O=0;O<E;++O)n[O].apply(this,m)},o.dispose=function(){this.listeners={}},o.pipe=function(s){this.on("data",function(n){s.push(n)})},p}();function re(p){for(var o=function(o){return z().atob?z().atob(o):Buffer.from(o,"base64").toString("binary")}(p),a=new Uint8Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return a}var va,p,pe=function(p){function o(){var s;return(s=p.call(this)||this).buffer="",s}return j(o,p),o.prototype.push=function(n){var i;for(this.buffer+=n,i=this.buffer.indexOf("\n");i>-1;i=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)},o}(Y),xe=String.fromCharCode(9),Fe=function(o){var a=/([0-9.]*)?@?([0-9.]*)?/.exec(o||""),s={};return a[1]&&(s.length=parseInt(a[1],10)),a[2]&&(s.offset=parseInt(a[2],10)),s},Je=function(o){for(var i,a=o.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),s={},n=a.length;n--;)""!==a[n]&&((i=/([^=]*)=(.*)/.exec(a[n]).slice(1))[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),s[i[0]]=i[1]);return s},ft=function(p){function o(){var s;return(s=p.call(this)||this).customParsers=[],s.tagMappers=[],s}j(o,p);var a=o.prototype;return a.push=function(n){var c,m,i=this;if(0!==(n=n.trim()).length){if("#"!==n[0])return void this.trigger("data",{type:"uri",uri:n});this.tagMappers.reduce(function(O,R){var X=R(n);return X===n?O:O.concat([X])},[n]).forEach(function(O){for(var R=0;R<i.customParsers.length;R++)if(i.customParsers[R].call(i,O))return;if(0===O.indexOf("#EXT"))if(O=O.replace("\r",""),c=/^#EXTM3U/.exec(O))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(c=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(O))return m={type:"tag",tagType:"inf"},c[1]&&(m.duration=parseFloat(c[1])),c[2]&&(m.title=c[2]),void i.trigger("data",m);if(c=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(O))return m={type:"tag",tagType:"targetduration"},c[1]&&(m.duration=parseInt(c[1],10)),void i.trigger("data",m);if(c=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(O))return m={type:"tag",tagType:"version"},c[1]&&(m.version=parseInt(c[1],10)),void i.trigger("data",m);if(c=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(O))return m={type:"tag",tagType:"media-sequence"},c[1]&&(m.number=parseInt(c[1],10)),void i.trigger("data",m);if(c=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(O))return m={type:"tag",tagType:"discontinuity-sequence"},c[1]&&(m.number=parseInt(c[1],10)),void i.trigger("data",m);if(c=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(O))return m={type:"tag",tagType:"playlist-type"},c[1]&&(m.playlistType=c[1]),void i.trigger("data",m);if(c=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(O))return m=ce(Fe(c[1]),{type:"tag",tagType:"byterange"}),void i.trigger("data",m);if(c=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(O))return m={type:"tag",tagType:"allow-cache"},c[1]&&(m.allowed=!/NO/.test(c[1])),void i.trigger("data",m);if(c=/^#EXT-X-MAP:?(.*)$/.exec(O)){if(m={type:"tag",tagType:"map"},c[1]){var X=Je(c[1]);X.URI&&(m.uri=X.URI),X.BYTERANGE&&(m.byterange=Fe(X.BYTERANGE))}i.trigger("data",m)}else if(c=/^#EXT-X-STREAM-INF:?(.*)$/.exec(O)){if(m={type:"tag",tagType:"stream-inf"},c[1]){if(m.attributes=Je(c[1]),m.attributes.RESOLUTION){var Q=m.attributes.RESOLUTION.split("x"),ve={};Q[0]&&(ve.width=parseInt(Q[0],10)),Q[1]&&(ve.height=parseInt(Q[1],10)),m.attributes.RESOLUTION=ve}m.attributes.BANDWIDTH&&(m.attributes.BANDWIDTH=parseInt(m.attributes.BANDWIDTH,10)),m.attributes["PROGRAM-ID"]&&(m.attributes["PROGRAM-ID"]=parseInt(m.attributes["PROGRAM-ID"],10))}i.trigger("data",m)}else{if(c=/^#EXT-X-MEDIA:?(.*)$/.exec(O))return m={type:"tag",tagType:"media"},c[1]&&(m.attributes=Je(c[1])),void i.trigger("data",m);if(c=/^#EXT-X-ENDLIST/.exec(O))i.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(c=/^#EXT-X-DISCONTINUITY/.exec(O)))return(c=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(O))?(m={type:"tag",tagType:"program-date-time"},c[1]&&(m.dateTimeString=c[1],m.dateTimeObject=new Date(c[1])),void i.trigger("data",m)):(c=/^#EXT-X-KEY:?(.*)$/.exec(O))?(m={type:"tag",tagType:"key"},c[1]&&(m.attributes=Je(c[1]),m.attributes.IV&&("0x"===m.attributes.IV.substring(0,2).toLowerCase()&&(m.attributes.IV=m.attributes.IV.substring(2)),m.attributes.IV=m.attributes.IV.match(/.{8}/g),m.attributes.IV[0]=parseInt(m.attributes.IV[0],16),m.attributes.IV[1]=parseInt(m.attributes.IV[1],16),m.attributes.IV[2]=parseInt(m.attributes.IV[2],16),m.attributes.IV[3]=parseInt(m.attributes.IV[3],16),m.attributes.IV=new Uint32Array(m.attributes.IV))),void i.trigger("data",m)):(c=/^#EXT-X-START:?(.*)$/.exec(O))?(m={type:"tag",tagType:"start"},c[1]&&(m.attributes=Je(c[1]),m.attributes["TIME-OFFSET"]=parseFloat(m.attributes["TIME-OFFSET"]),m.attributes.PRECISE=/YES/.test(m.attributes.PRECISE)),void i.trigger("data",m)):(c=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(O))?((m={type:"tag",tagType:"cue-out-cont"}).data=c[1]?c[1]:"",void i.trigger("data",m)):(c=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(O))?((m={type:"tag",tagType:"cue-out"}).data=c[1]?c[1]:"",void i.trigger("data",m)):(c=/^#EXT-X-CUE-IN:?(.*)?$/.exec(O))?((m={type:"tag",tagType:"cue-in"}).data=c[1]?c[1]:"",void i.trigger("data",m)):(c=/^#EXT-X-SKIP:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"skip"}).attributes=Je(c[1]),m.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(m.attributes["SKIPPED-SEGMENTS"]=parseInt(m.attributes["SKIPPED-SEGMENTS"],10)),m.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(m.attributes["RECENTLY-REMOVED-DATERANGES"]=m.attributes["RECENTLY-REMOVED-DATERANGES"].split(xe)),void i.trigger("data",m)):(c=/^#EXT-X-PART:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"part"}).attributes=Je(c[1]),["DURATION"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=parseFloat(m.attributes[Me]))}),["INDEPENDENT","GAP"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=/YES/.test(m.attributes[Me]))}),m.attributes.hasOwnProperty("BYTERANGE")&&(m.attributes.byterange=Fe(m.attributes.BYTERANGE)),void i.trigger("data",m)):(c=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"server-control"}).attributes=Je(c[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=parseFloat(m.attributes[Me]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=/YES/.test(m.attributes[Me]))}),void i.trigger("data",m)):(c=/^#EXT-X-PART-INF:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"part-inf"}).attributes=Je(c[1]),["PART-TARGET"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=parseFloat(m.attributes[Me]))}),void i.trigger("data",m)):(c=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"preload-hint"}).attributes=Je(c[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(Me){if(m.attributes.hasOwnProperty(Me)){m.attributes[Me]=parseInt(m.attributes[Me],10);var we="BYTERANGE-LENGTH"===Me?"length":"offset";m.attributes.byterange=m.attributes.byterange||{},m.attributes.byterange[we]=m.attributes[Me],delete m.attributes[Me]}}),void i.trigger("data",m)):(c=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"rendition-report"}).attributes=Je(c[1]),["LAST-MSN","LAST-PART"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=parseInt(m.attributes[Me],10))}),void i.trigger("data",m)):void i.trigger("data",{type:"tag",data:O.slice(4)});i.trigger("data",{type:"tag",tagType:"discontinuity"})}}}else i.trigger("data",{type:"comment",text:O.slice(1)})})}},a.addParser=function(n){var i=this,c=n.expression,m=n.customType,E=n.dataParser,O=n.segment;"function"!=typeof E&&(E=function(X){return X}),this.customParsers.push(function(R){if(c.exec(R))return i.trigger("data",{type:"custom",data:E(R),customType:m,segment:O}),!0})},a.addTagMapper=function(n){var i=n.expression,c=n.map;this.tagMappers.push(function(O){return i.test(O)?c(O):O})},o}(Y),lt=function(o){var a={};return Object.keys(o).forEach(function(s){a[function(o){return o.toLowerCase().replace(/-(\w)/g,function(a){return a[1].toUpperCase()})}(s)]=o[s]}),a},He=function(o){var a=o.serverControl,s=o.targetDuration,n=o.partTargetDuration;if(a){var i="#EXT-X-SERVER-CONTROL",c="holdBack",m="partHoldBack",E=s&&3*s,O=n&&2*n;s&&!a.hasOwnProperty(c)&&(a[c]=E,this.trigger("info",{message:i+" defaulting HOLD-BACK to targetDuration * 3 ("+E+")."})),E&&a[c]<E&&(this.trigger("warn",{message:i+" clamping HOLD-BACK ("+a[c]+") to targetDuration * 3 ("+E+")"}),a[c]=E),n&&!a.hasOwnProperty(m)&&(a[m]=3*n,this.trigger("info",{message:i+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+a[m]+")."})),n&&a[m]<O&&(this.trigger("warn",{message:i+" clamping PART-HOLD-BACK ("+a[m]+") to partTargetDuration * 2 ("+O+")."}),a[m]=O)}},nt=function(p){function o(){var s;(s=p.call(this)||this).lineStream=new pe,s.parseStream=new ft,s.lineStream.pipe(s.parseStream);var m,E,n=ue(s),i=[],c={},O=!1,R=function(){},X={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},ve=0;s.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var Me=0,we=0;return s.on("end",function(){c.uri||!c.parts&&!c.preloadHints||(!c.map&&m&&(c.map=m),!c.key&&E&&(c.key=E),!c.timeline&&"number"==typeof ve&&(c.timeline=ve),s.manifest.preloadSegment=c)}),s.parseStream.on("data",function(Se){var st,it;({tag:function(){({version:function(){Se.version&&(this.manifest.version=Se.version)},"allow-cache":function(){this.manifest.allowCache=Se.allowed,"allowed"in Se||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var wt={};"length"in Se&&(c.byterange=wt,wt.length=Se.length,"offset"in Se||(Se.offset=Me)),"offset"in Se&&(c.byterange=wt,wt.offset=Se.offset),Me=wt.offset+wt.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),Se.duration>0&&(c.duration=Se.duration),0===Se.duration&&(c.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){if(Se.attributes)if("NONE"!==Se.attributes.METHOD)if(Se.attributes.URI){if("com.apple.streamingkeydelivery"===Se.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:Se.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===Se.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(Se.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===Se.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==Se.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):Se.attributes.KEYID&&"0x"===Se.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:Se.attributes.KEYFORMAT,keyId:Se.attributes.KEYID.substring(2)},pssh:re(Se.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));Se.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),E={method:Se.attributes.METHOD||"AES-128",uri:Se.attributes.URI},void 0!==Se.attributes.IV&&(E.iv=Se.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else E=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(Se.number)?this.manifest.mediaSequence=Se.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+Se.number})},"discontinuity-sequence":function(){isFinite(Se.number)?(this.manifest.discontinuitySequence=Se.number,ve=Se.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+Se.number})},"playlist-type":function(){/VOD|EVENT/.test(Se.playlistType)?this.manifest.playlistType=Se.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+Se.playlist})},map:function(){m={},Se.uri&&(m.uri=Se.uri),Se.byterange&&(m.byterange=Se.byterange),E&&(m.key=E)},"stream-inf":function(){this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||X,Se.attributes?(c.attributes||(c.attributes={}),ce(c.attributes,Se.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||X,Se.attributes&&Se.attributes.TYPE&&Se.attributes["GROUP-ID"]&&Se.attributes.NAME){var wt=this.manifest.mediaGroups[Se.attributes.TYPE];wt[Se.attributes["GROUP-ID"]]=wt[Se.attributes["GROUP-ID"]]||{},st=wt[Se.attributes["GROUP-ID"]],(it={default:/yes/i.test(Se.attributes.DEFAULT)}).autoselect=!!it.default||/yes/i.test(Se.attributes.AUTOSELECT),Se.attributes.LANGUAGE&&(it.language=Se.attributes.LANGUAGE),Se.attributes.URI&&(it.uri=Se.attributes.URI),Se.attributes["INSTREAM-ID"]&&(it.instreamId=Se.attributes["INSTREAM-ID"]),Se.attributes.CHARACTERISTICS&&(it.characteristics=Se.attributes.CHARACTERISTICS),Se.attributes.FORCED&&(it.forced=/yes/i.test(Se.attributes.FORCED)),st[Se.attributes.NAME]=it}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){ve+=1,c.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=Se.dateTimeString,this.manifest.dateTimeObject=Se.dateTimeObject),c.dateTimeString=Se.dateTimeString,c.dateTimeObject=Se.dateTimeObject},targetduration:function(){!isFinite(Se.duration)||Se.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+Se.duration}):(this.manifest.targetDuration=Se.duration,He.call(this,this.manifest))},start:function(){Se.attributes&&!isNaN(Se.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:Se.attributes["TIME-OFFSET"],precise:Se.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){c.cueOut=Se.data},"cue-out-cont":function(){c.cueOutCont=Se.data},"cue-in":function(){c.cueIn=Se.data},skip:function(){this.manifest.skip=lt(Se.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",Se.attributes,["SKIPPED-SEGMENTS"])},part:function(){var wt=this;O=!0;var $t=this.manifest.segments.length,Jt=lt(Se.attributes);c.parts=c.parts||[],c.parts.push(Jt),Jt.byterange&&(Jt.byterange.hasOwnProperty("offset")||(Jt.byterange.offset=we),we=Jt.byterange.offset+Jt.byterange.length),this.warnOnMissingAttributes_("#EXT-X-PART #"+(c.parts.length-1)+" for segment #"+$t,Se.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(kt,Yt){kt.hasOwnProperty("lastPart")||wt.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+Yt+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var wt=this.manifest.serverControl=lt(Se.attributes);wt.hasOwnProperty("canBlockReload")||(wt.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),He.call(this,this.manifest),wt.canSkipDateranges&&!wt.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var wt=this.manifest.segments.length,$t=lt(Se.attributes),Jt=$t.type&&"PART"===$t.type;c.preloadHints=c.preloadHints||[],c.preloadHints.push($t),$t.byterange&&($t.byterange.hasOwnProperty("offset")||($t.byterange.offset=Jt?we:0,Jt&&(we=$t.byterange.offset+$t.byterange.length)));var Lt=c.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+Lt+" for segment #"+wt,Se.attributes,["TYPE","URI"]),$t.type)for(var kt=0;kt<c.preloadHints.length-1;kt++){var Yt=c.preloadHints[kt];!Yt.type||Yt.type===$t.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+Lt+" for segment #"+wt+" has the same TYPE "+$t.type+" as preload hint #"+kt})}},"rendition-report":function(){var wt=lt(Se.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(wt);var $t=this.manifest.renditionReports.length-1,Jt=["LAST-MSN","URI"];O&&Jt.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+$t,Se.attributes,Jt)},"part-inf":function(){this.manifest.partInf=lt(Se.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",Se.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),He.call(this,this.manifest)}}[Se.tagType]||R).call(n)},uri:function(){c.uri=Se.uri,i.push(c),this.manifest.targetDuration&&!("duration"in c)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),c.duration=this.manifest.targetDuration),E&&(c.key=E),c.timeline=ve,m&&(c.map=m),we=0,c={}},comment:function(){},custom:function(){Se.segment?(c.custom=c.custom||{},c.custom[Se.customType]=Se.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[Se.customType]=Se.data)}})[Se.type].call(n)}),s}j(o,p);var a=o.prototype;return a.warnOnMissingAttributes_=function(n,i,c){var m=[];c.forEach(function(E){i.hasOwnProperty(E)||m.push(E)}),m.length&&this.trigger("warn",{message:n+" lacks required attribute(s): "+m.join(", ")})},a.push=function(n){this.lineStream.push(n)},a.end=function(){this.lineStream.push("\n"),this.trigger("end")},a.addParser=function(n){this.parseStream.addParser(n)},a.addTagMapper=function(n){this.parseStream.addTagMapper(n)},o}(Y),ht={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},jt=["video","audio","text"],Rt=["Video","Audio","Text"],Qt=function(o){return o&&o.replace(/avc1\.(\d+)\.(\d+)/i,function(a,s,n){return"avc1."+("00"+Number(s).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})},fn=function(o){void 0===o&&(o="");var a=o.split(","),s=[];return a.forEach(function(n){var i;n=n.trim(),jt.forEach(function(c){var m=ht[c].exec(n.toLowerCase());if(m&&!(m.length<=1)){i=c;var E=n.substring(0,m[1].length),O=n.replace(E,"");s.push({type:E,details:O,mediaType:c})}}),i||s.push({type:n,details:"",mediaType:"unknown"})}),s},Sr=function(o){return void 0===o&&(o=""),ht.audio.test(o.trim().toLowerCase())},oi=function(o){if(o&&"string"==typeof o){var a=o.toLowerCase().split(",").map(function(i){return Qt(i.trim())}),s="video";1===a.length&&Sr(a[0])?s="audio":1===a.length&&function(o){return void 0===o&&(o=""),ht.text.test(o.trim().toLowerCase())}(a[0])&&(s="application");var n="mp4";return a.every(function(i){return ht.mp4.test(i)})?n="mp4":a.every(function(i){return ht.webm.test(i)})?n="webm":a.every(function(i){return ht.ogg.test(i)})&&(n="ogg"),s+"/"+n+';codecs="'+o+'"'}},qr=function(o){return void 0===o&&(o=""),z().MediaSource&&z().MediaSource.isTypeSupported&&z().MediaSource.isTypeSupported(oi(o))||!1},rr=function(o){return void 0===o&&(o=""),o.toLowerCase().split(",").every(function(a){a=a.trim();for(var s=0;s<Rt.length;s++)if(ht["muxer"+Rt[s]].test(a))return!0;return!1})},wi="mp4a.40.2",qn=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Wi=/^application\/dash\+xml/i,an=function(o){return qn.test(o)?"hls":Wi.test(o)?"dash":"application/vnd.videojs.vhs+json"===o?"vhs-json":null},Hn=F(4251),Mr=function(o){return!!o&&"object"==typeof o},gr=function p(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return a.reduce(function(n,i){return"object"!=typeof i||Object.keys(i).forEach(function(c){n[c]=Array.isArray(n[c])&&Array.isArray(i[c])?n[c].concat(i[c]):Mr(n[c])&&Mr(i[c])?p(n[c],i[c]):i[c]}),n},{})},Kt=function(o){return o.reduce(function(a,s){return a.concat(s)},[])},yn=function(o){if(!o.length)return[];for(var a=[],s=0;s<o.length;s++)a.push(o[s]);return a},Wr=function(o){var a=o.baseUrl,n=o.source,i=void 0===n?"":n,c=o.range,m=void 0===c?"":c,E=o.indexRange,O=void 0===E?"":E,R={uri:i,resolvedUri:Ye((void 0===a?"":a)||"",i)};if(m||O){var Q=(m||O).split("-"),ve=parseInt(Q[0],10),Me=parseInt(Q[1],10);R.byterange={length:Me-ve+1,offset:ve}}return R},Si=function(o){return o&&"number"!=typeof o&&(o=parseInt(o,10)),isNaN(o)?null:o},ga={static:function(o){var a=o.duration,s=o.timescale,n=void 0===s?1:s,i=o.sourceDuration,c=o.periodDuration,m=Si(o.endNumber),E=a/n;return"number"==typeof m?{start:0,end:m}:"number"==typeof c?{start:0,end:c/E}:{start:0,end:i/E}},dynamic:function(o){var a=o.NOW,s=o.clientOffset,n=o.availabilityStartTime,i=o.timescale,c=void 0===i?1:i,m=o.duration,E=o.start,O=void 0===E?0:E,R=o.minimumUpdatePeriod,X=void 0===R?0:R,Q=o.timeShiftBufferDepth,ve=void 0===Q?1/0:Q,Me=Si(o.endNumber),we=(a+s)/1e3,Se=n+O,bt=Math.ceil((we+X-Se)*c/m),xt=Math.floor((we-Se-ve)*c/m),wt=Math.floor((we-Se)*c/m);return{start:Math.max(0,xt),end:"number"==typeof Me?Me:Math.min(bt,wt)}}},co=function(o){var a=o.type,s=o.duration,n=o.timescale,i=void 0===n?1:n,c=o.periodDuration,m=o.sourceDuration,E=ga[a](o),X=function(o,a){for(var s=[],n=o;n<a;n++)s.push(n);return s}(E.start,E.end).map(function(o){return function(a,s){var n=o.duration,i=o.timescale,E=o.startNumber;return{number:(void 0===E?1:E)+a,duration:n/(void 0===i?1:i),timeline:o.periodIndex,time:s*n}}}(o));if("static"===a){var Q=X.length-1;X[Q].duration=("number"==typeof c?c:m)-s/i*Q}return X},Xn=function(o){var a=o.baseUrl,s=o.initialization,n=void 0===s?{}:s,i=o.sourceDuration,c=o.indexRange,m=void 0===c?"":c,E=o.duration;if(!a)throw new Error("NO_BASE_URL");var O=Wr({baseUrl:a,source:n.sourceURL,range:n.range}),R=Wr({baseUrl:a,source:a,indexRange:m});if(R.map=O,E){var X=co(o);X.length&&(R.duration=X[0].duration,R.timeline=X[0].timeline)}else i&&(R.duration=i,R.timeline=0);return R.number=0,[R]},pn=function(o,a,s){for(var n=o.sidx.map?o.sidx.map:null,i=o.sidx.duration,c=o.timeline||0,m=o.sidx.byterange,E=m.offset+m.length,O=a.timescale,R=a.references.filter(function($t){return 1!==$t.referenceType}),X=[],Q=o.endList?"static":"dynamic",ve=E+a.firstOffset,Me=0;Me<R.length;Me++){var we=a.references[Me],Se=we.referencedSize,wt=Xn({baseUrl:s,timescale:O,timeline:c,periodIndex:c,duration:we.subsegmentDuration,sourceDuration:i,indexRange:ve+"-"+(ve+Se-1),type:Q})[0];n&&(wt.map=n),X.push(wt),ve+=Se}return o.segments=X,o},Fn=function(o){return o&&o.uri+"-"+function(o){return o.offset+"-"+(o.offset+o.length-1)}(o.byterange)},hi=function(o){return function(o){return Object.keys(o).map(function(a){return o[a]})}(o.reduce(function(s,n){var c,i=n.attributes.id+(n.attributes.lang||"");return s[i]?(n.segments[0]&&(n.segments[0].discontinuity=!0),(c=s[i].segments).push.apply(c,n.segments),n.attributes.contentProtection&&(s[i].attributes.contentProtection=n.attributes.contentProtection)):s[i]=n,s},{})).map(function(s){return s.discontinuityStarts=function(o,a){return o.reduce(function(s,n,i){return n.discontinuity&&s.push(i),s},[])}(s.segments),s})},ss=function(o,a){var s=Fn(o.sidx),n=s&&a[s]&&a[s].sidx;return n&&pn(o,n,o.sidx.resolvedUri),o},fo=function(o,a){if(void 0===a&&(a={}),!Object.keys(a).length)return o;for(var s in o)o[s]=ss(o[s],a);return o},Vn=function(o){var a,s=o.attributes,n=o.segments,i=o.sidx,c={attributes:(a={NAME:s.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:s.width,height:s.height},CODECS:s.codecs,BANDWIDTH:s.bandwidth},a["PROGRAM-ID"]=1,a),uri:"",endList:"static"===s.type,timeline:s.periodIndex,resolvedUri:"",targetDuration:s.duration,segments:n,mediaSequence:n.length?n[0].number:1};return s.contentProtection&&(c.contentProtection=s.contentProtection),i&&(c.sidx=i),c},jn=function(o){var a=o.attributes;return"video/mp4"===a.mimeType||"video/webm"===a.mimeType||"video"===a.contentType},sr=function(o){var a=o.attributes;return"audio/mp4"===a.mimeType||"audio/webm"===a.mimeType||"audio"===a.contentType},mr=function(o){var a=o.attributes;return"text/vtt"===a.mimeType||"text"===a.contentType},Gi=function(o,a,s){var m=o.timescale,O=o.start,X=o.minimumUpdatePeriod;return Math.ceil((((o.NOW+o.clientOffset)/1e3+(void 0===X?0:X)-(o.availabilityStartTime+(void 0===O?0:O)))*(void 0===m?1:m)-a)/s)},Qi=function(o,a){for(var s=o.type,n=o.minimumUpdatePeriod,i=void 0===n?0:n,c=o.media,m=void 0===c?"":c,E=o.sourceDuration,O=o.timescale,R=void 0===O?1:O,X=o.startNumber,Q=void 0===X?1:X,ve=o.periodIndex,Me=[],we=-1,Se=0;Se<a.length;Se++){var st=a[Se],it=st.d,bt=st.r||0,xt=st.t||0;we<0&&(we=xt),xt&&xt>we&&(we=xt);var wt=void 0;if(bt<0){var $t=Se+1;wt=$t===a.length?"dynamic"===s&&i>0&&m.indexOf("$Number$")>0?Gi(o,we,it):(E*R-we)/it:(a[$t].t-we)/it}else wt=bt+1;for(var Jt=Q+Me.length+wt,Lt=Q+Me.length;Lt<Jt;)Me.push({number:Lt,duration:it/R,time:we,timeline:ve}),we+=it,Lt++}return Me},Et=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Oi=function(o,a){return o.replace(Et,function(o){return function(a,s,n,i){if("$$"===a)return"$";if(void 0===o[s])return a;var c=""+o[s];return"RepresentationID"===s||(i=n?parseInt(i,10):1,c.length>=i)?c:""+new Array(i-c.length+1).join("0")+c}}(a))},Fr=function(o,a){var s={RepresentationID:o.id,Bandwidth:o.bandwidth||0},n=o.initialization,i=void 0===n?{sourceURL:"",range:""}:n,c=Wr({baseUrl:o.baseUrl,source:Oi(i.sourceURL,s),range:i.range});return function(o,a){return o.duration||a?o.duration?co(o):Qi(o,a):[{number:o.startNumber||1,duration:o.sourceDuration,time:0,timeline:o.periodIndex}]}(o,a).map(function(E){s.Number=E.number,s.Time=E.time;var O=Oi(o.media||"",s),Q=o.periodStart+(E.time-(o.presentationTimeOffset||0))/(o.timescale||1);return{uri:O,timeline:E.timeline,duration:E.duration,resolvedUri:Ye(o.baseUrl||"",O),map:c,number:E.number,presentationTime:Q}})},ai=function(o,a){var s=o.duration,n=o.segmentUrls,i=void 0===n?[]:n,c=o.periodStart;if(!s&&!a||s&&a)throw new Error("SEGMENT_TIME_UNSPECIFIED");var E,m=i.map(function(R){return function(o,a){var s=o.baseUrl,n=o.initialization,i=void 0===n?{}:n,c=Wr({baseUrl:s,source:i.sourceURL,range:i.range}),m=Wr({baseUrl:s,source:a.media,range:a.mediaRange});return m.map=c,m}(o,R)});return s&&(E=co(o)),a&&(E=Qi(o,a)),E.map(function(R,X){if(m[X]){var Q=m[X],ve=o.timescale||1,Me=o.presentationTimeOffset||0;return Q.timeline=R.timeline,Q.duration=R.duration,Q.number=R.number,Q.presentationTime=c+(R.time-Me)/ve,Q}}).filter(function(R){return R})},pi=function(o){var n,i,a=o.attributes,s=o.segmentInfo;s.template?(i=Fr,n=gr(a,s.template)):s.base?(i=Xn,n=gr(a,s.base)):s.list&&(i=ai,n=gr(a,s.list));var c={attributes:a};if(!i)return c;var m=i(n,s.segmentTimeline);if(n.duration){var R=n.timescale;n.duration=n.duration/(void 0===R?1:R)}else n.duration=m.length?m.reduce(function(Q,ve){return Math.max(Q,Math.ceil(ve.duration))},0):0;return c.attributes=n,c.segments=m,s.base&&n.indexRange&&(c.sidx=m[0],c.segments=[]),c},yt=function(o,a){return yn(o.childNodes).filter(function(s){return s.tagName===a})},On=function(o){return o.textContent.trim()},or=function(o){var E=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(o);if(!E)return 0;var O=E.slice(1),X=O[1],Q=O[2],ve=O[3],Me=O[4],we=O[5];return 31536e3*parseFloat(O[0]||0)+2592e3*parseFloat(X||0)+86400*parseFloat(Q||0)+3600*parseFloat(ve||0)+60*parseFloat(Me||0)+parseFloat(we||0)},zs={mediaPresentationDuration:function(o){return or(o)},availabilityStartTime:function(o){return function(o){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(o)&&(o+="Z"),Date.parse(o)}(o)/1e3},minimumUpdatePeriod:function(o){return or(o)},suggestedPresentationDelay:function(o){return or(o)},type:function(o){return o},timeShiftBufferDepth:function(o){return or(o)},start:function(o){return or(o)},width:function(o){return parseInt(o,10)},height:function(o){return parseInt(o,10)},bandwidth:function(o){return parseInt(o,10)},startNumber:function(o){return parseInt(o,10)},timescale:function(o){return parseInt(o,10)},presentationTimeOffset:function(o){return parseInt(o,10)},duration:function(o){var a=parseInt(o,10);return isNaN(a)?or(o):a},d:function(o){return parseInt(o,10)},t:function(o){return parseInt(o,10)},r:function(o){return parseInt(o,10)},DEFAULT:function(o){return o}},Kn=function(o){return o&&o.attributes?yn(o.attributes).reduce(function(a,s){return a[s.name]=(zs[s.name]||zs.DEFAULT)(s.value),a},{}):{}},Ws={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},br=function(o,a){return a.length?Kt(o.map(function(s){return a.map(function(n){return Ye(s,On(n))})})):o},Yr=function(o){var a=yt(o,"SegmentTemplate")[0],s=yt(o,"SegmentList")[0],n=s&&yt(s,"SegmentURL").map(function(Q){return gr({tag:"SegmentURL"},Kn(Q))}),i=yt(o,"SegmentBase")[0],c=s||a,m=c&&yt(c,"SegmentTimeline")[0],E=s||i||a,O=E&&yt(E,"Initialization")[0],R=a&&Kn(a);R&&O?R.initialization=O&&Kn(O):R&&R.initialization&&(R.initialization={sourceURL:R.initialization});var X={template:R,segmentTimeline:m&&yt(m,"S").map(function(Q){return Kn(Q)}),list:s&&gr(Kn(s),{segmentUrls:n,initialization:Kn(O)}),base:i&&gr(Kn(i),{initialization:Kn(O)})};return Object.keys(X).forEach(function(Q){X[Q]||delete X[Q]}),X},gi=function(o,a){return function(s,n){var i=br(a,yt(s.node,"BaseURL")),c=parseInt(s.attributes.id,10),m=z().isNaN(c)?n:c,E=gr(o,{periodIndex:m,periodStart:s.attributes.start});"number"==typeof s.attributes.duration&&(E.periodDuration=s.attributes.duration);var O=yt(s.node,"AdaptationSet"),R=Yr(s.node);return Kt(O.map(function(o,a,s){return function(n){var i=Kn(n),c=br(a,yt(n,"BaseURL")),m=yt(n,"Role")[0],E={role:Kn(m)},O=gr(o,i,E),R=yt(n,"Accessibility")[0],X=function(o){return"urn:scte:dash:cc:cea-608:2015"===o.schemeIdUri?("string"!=typeof o.value?[]:o.value.split(";")).map(function(n){var i,c;if(c=n,/^CC\d=/.test(n)){var m=n.split("=");i=m[0],c=m[1]}else/^CC\d$/.test(n)&&(i=n);return{channel:i,language:c}}):"urn:scte:dash:cc:cea-708:2015"===o.schemeIdUri?("string"!=typeof o.value?[]:o.value.split(";")).map(function(n){var i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){var c=n.split("="),E=c[1],O=void 0===E?"":E;i.channel=c[0],i.language=n,O.split(",").forEach(function(R){var X=R.split(":"),Q=X[0],ve=X[1];"lang"===Q?i.language=ve:"er"===Q?i.easyReader=Number(ve):"war"===Q?i.aspectRatio=Number(ve):"3D"===Q&&(i["3D"]=Number(ve))})}else i.language=n;return i.channel&&(i.channel="SERVICE"+i.channel),i}):void 0}(Kn(R));X&&(O=gr(O,{captionServices:X}));var Q=yt(n,"Label")[0];if(Q&&Q.childNodes.length){var ve=Q.childNodes[0].nodeValue.trim();O=gr(O,{label:ve})}var Me=function(o){return o.reduce(function(a,s){var n=Kn(s),i=Ws[n.schemeIdUri];if(i){a[i]={attributes:n};var c=yt(s,"cenc:pssh")[0];if(c){var m=On(c),E=m&&re(m);a[i].pssh=E}}return a},{})}(yt(n,"ContentProtection"));Object.keys(Me).length&&(O=gr(O,{contentProtection:Me}));var we=Yr(n),Se=yt(n,"Representation"),st=gr(s,we);return Kt(Se.map(function(o,a,s){return function(n){var i=yt(n,"BaseURL"),c=br(a,i),m=gr(o,Kn(n)),E=Yr(n);return c.map(function(O){return{segmentInfo:gr(s,E),attributes:gr(m,{baseUrl:O})}})}}(O,c,st)))}}(E,i,R)))}},li=function(o){if(""===o)throw new Error("DASH_EMPTY_MANIFEST");var s,n,a=new Hn.DOMParser;try{n=(s=a.parseFromString(o,"application/xml"))&&"MPD"===s.documentElement.tagName?s.documentElement:null}catch(i){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return n},dr=function(o,a){void 0===a&&(a={});var s=function(o,a){void 0===a&&(a={});var s=a,n=s.manifestUri,i=void 0===n?"":n,c=s.NOW,m=void 0===c?Date.now():c,E=s.clientOffset,O=void 0===E?0:E,R=yt(o,"Period");if(!R.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var X=yt(o,"Location"),Q=Kn(o),ve=br([i],yt(o,"BaseURL"));Q.type=Q.type||"static",Q.sourceDuration=Q.mediaPresentationDuration||0,Q.NOW=m,Q.clientOffset=O,X.length&&(Q.locations=X.map(On));var Me=[];return R.forEach(function(we,Se){var st=Kn(we),it=Me[Se-1];st.start=function(o){var a=o.attributes,s=o.priorPeriodAttributes;return"number"==typeof a.start?a.start:s&&"number"==typeof s.start&&"number"==typeof s.duration?s.start+s.duration:s||"static"!==o.mpdType?null:0}({attributes:st,priorPeriodAttributes:it?it.attributes:null,mpdType:Q.type}),Me.push({node:we,attributes:st})}),{locations:Q.locations,representationInfo:Kt(Me.map(gi(Q,ve)))}}(li(o),a);return function(o,a,s){var n;if(void 0===s&&(s={}),!o.length)return{};var i=o[0].attributes,c=i.sourceDuration,m=i.type,E=i.suggestedPresentationDelay,O=i.minimumUpdatePeriod,R=hi(o.filter(jn)).map(Vn),X=hi(o.filter(sr)),Q=o.filter(mr),ve=o.map(function(Se){return Se.attributes.captionServices}).filter(Boolean),Me={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:c,playlists:fo(R,s)};return O>=0&&(Me.minimumUpdatePeriod=1e3*O),a&&(Me.locations=a),"dynamic"===m&&(Me.suggestedPresentationDelay=E),X.length&&(Me.mediaGroups.AUDIO.audio=function(o,a,s){void 0===a&&(a={}),void 0===s&&(s=!1);var n,i=o.reduce(function(m,E){var O=E.attributes.role&&E.attributes.role.value||"",R=E.attributes.lang||"",X=E.attributes.label||"main";R&&!E.attributes.label&&(X=E.attributes.lang+(O?" ("+O+")":"")),m[X]||(m[X]={language:R,autoselect:!0,default:"main"===O,playlists:[],uri:""});var ve=ss(function(o,a){var s,n=o.attributes,i=o.segments,c=o.sidx,m={attributes:(s={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},s["PROGRAM-ID"]=1,s),uri:"",endList:"static"===n.type,timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(m.contentProtection=n.contentProtection),c&&(m.sidx=c),a&&(m.attributes.AUDIO="audio",m.attributes.SUBTITLES="subs"),m}(E,s),a);return m[X].playlists.push(ve),void 0===n&&"main"===O&&((n=E).default=!0),m},{});return n||(i[Object.keys(i)[0]].default=!0),i}(X,s,0===Me.playlists.length)),Q.length&&(Me.mediaGroups.SUBTITLES.subs=function(o,a){return void 0===a&&(a={}),o.reduce(function(s,n){var i=n.attributes.lang||"text";return s[i]||(s[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),s[i].playlists.push(ss(function(o){var a,s=o.attributes,n=o.segments;void 0===n&&(n=[{uri:s.baseUrl,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",duration:s.sourceDuration,number:0}],s.duration=s.sourceDuration);var i=((a={NAME:s.id,BANDWIDTH:s.bandwidth})["PROGRAM-ID"]=1,a);return s.codecs&&(i.CODECS=s.codecs),{attributes:i,uri:"",endList:"static"===s.type,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",targetDuration:s.duration,segments:n,mediaSequence:n.length?n[0].number:1}}(n),a)),s},{})}(Q,s)),ve.length&&(Me.mediaGroups["CLOSED-CAPTIONS"].cc=function(o){return o.reduce(function(a,s){return s&&s.forEach(function(n){var c=n.language;a[c]={autoselect:!1,default:!1,instreamId:n.channel,language:c},n.hasOwnProperty("aspectRatio")&&(a[c].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(a[c].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(a[c]["3D"]=n["3D"])}),a},{})}(ve)),Me}(function(o){return o.map(pi)}(s.representationInfo),s.locations,a.sidxMapping)},Fo=F(1001),Gs=F.n(Fo),ln=function(o){return o instanceof Uint8Array?o:(!Array.isArray(o)&&!function(o){return ArrayBuffer.isView(o)}(o)&&!(o instanceof ArrayBuffer)&&(o="number"!=typeof o||"number"==typeof o&&o!=o?0:[o]),new Uint8Array(o&&o.buffer||o,o&&o.byteOffset||0,o&&o.byteLength||0))},Dr=z().BigInt||Number,$n=[Dr("0x1"),Dr("0x100"),Dr("0x10000"),Dr("0x1000000"),Dr("0x100000000"),Dr("0x10000000000"),Dr("0x1000000000000"),Dr("0x100000000000000"),Dr("0x10000000000000000")],zl=(p=new Uint16Array([65484]),new Uint8Array(p.buffer,p.byteOffset,p.byteLength),function(o,a){var s=void 0===a?{}:a,n=s.signed,i=void 0!==n&&n,c=s.le,m=void 0!==c&&c;o=ln(o);var E=m?"reduce":"reduceRight",R=(o[E]?o[E]:Array.prototype[E]).call(o,function(Q,ve,Me){var we=m?Me:Math.abs(Me+1-o.length);return Q+Dr(ve)*$n[we]},Dr(0));if(i){var X=$n[o.length]/Dr(2)-Dr(1);(R=Dr(R))>X&&(R-=X,R-=X,R-=Dr(2))}return Number(R)}),ma=function(o,a){if("string"!=typeof o&&o&&"function"==typeof o.toString&&(o=o.toString()),"string"!=typeof o)return new Uint8Array;a||(o=unescape(encodeURIComponent(o)));for(var s=new Uint8Array(o.length),n=0;n<o.length;n++)s[n]=o.charCodeAt(n);return s},Er=function(o,a,s){var n=void 0===s?{}:s,i=n.offset,c=void 0===i?0:i,m=n.mask,E=void 0===m?[]:m;return o=ln(o),(a=ln(a)).length&&o.length-c>=a.length&&(a.every?a.every:Array.prototype.every).call(a,function(R,X){return R===(E[X]?E[X]&o[c+X]:o[c+X])})},$a=ln([73,68,51]),Uo=function p(o,a){return void 0===a&&(a=0),(o=ln(o)).length-a<10||!Er(o,$a,{offset:a})?a:(a+=function(o,a){void 0===a&&(a=0);var n=(o=ln(o))[a+6]<<21|o[a+7]<<14|o[a+8]<<7|o[a+9];return(16&o[a+5])>>4?n+20:n+10}(o,a),p(o,a))},xs=(new Uint8Array([79,112,117,115,72,101,97,100]),function(o){return"string"==typeof o?ma(o):o}),ya=function(o){o=ln(o);for(var a=[],s=0;o.length>s;){var n=o[s],i=0,c=0,m=o[++c];for(c++;128&m;)i=(127&m)<<7,m=o[c],c++;i+=127&m;for(var E=0;E<va.length;E++){var O=va[E];if(n===O.id){a.push((0,O.parser)(o.subarray(c,c+i)));break}}s+=i+c}return a};va=[{id:3,parser:function(o){var a={tag:3,id:o[0]<<8|o[1],flags:o[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&a.flags&&(a.dependsOnEsId=o[a.size]<<8|o[a.size+1],a.size+=2),64&a.flags){var s=o[a.size];a.url=function(o){if(!o)return"";o=Array.prototype.slice.call(o);var a=String.fromCharCode.apply(null,ln(o));try{return decodeURIComponent(escape(a))}catch(s){}return a}(o.subarray(a.size+1,a.size+1+s)),a.size+=s}return 32&a.flags&&(a.ocrEsId=o[a.size]<<8|o[a.size+1],a.size+=2),a.descriptors=ya(o.subarray(a.size))||[],a}},{id:4,parser:function(o){return{tag:4,oti:o[0],streamType:o[1],bufferSize:o[2]<<16|o[3]<<8|o[4],maxBitrate:o[5]<<24|o[6]<<16|o[7]<<8|o[8],avgBitrate:o[9]<<24|o[10]<<16|o[11]<<8|o[12],descriptors:ya(o.subarray(13))}}},{id:5,parser:function(o){return{tag:5,bytes:o}}},{id:6,parser:function(o){return{tag:6,bytes:o}}}];var Li=function p(o,a,s){void 0===s&&(s=!1),a=function(o){return Array.isArray(o)?o.map(function(a){return xs(a)}):[xs(o)]}(a),o=ln(o);var n=[];if(!a.length)return n;for(var i=0;i<o.length;){var c=(o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3])>>>0,m=o.subarray(i+4,i+8);if(0===c)break;var E=i+c;if(E>o.length){if(s)break;E=o.length}var O=o.subarray(i+8,E);Er(m,a[0])&&(1===a.length?n.push(O):n.push.apply(n,p(O,a.slice(1),s))),i=E}return n},fr={EBML:ln([26,69,223,163]),DocType:ln([66,130]),Segment:ln([24,83,128,103]),SegmentInfo:ln([21,73,169,102]),Tracks:ln([22,84,174,107]),Track:ln([174]),TrackNumber:ln([215]),DefaultDuration:ln([35,227,131]),TrackEntry:ln([174]),TrackType:ln([131]),FlagDefault:ln([136]),CodecID:ln([134]),CodecPrivate:ln([99,162]),VideoTrack:ln([224]),AudioTrack:ln([225]),Cluster:ln([31,67,182,117]),Timestamp:ln([231]),TimestampScale:ln([42,215,177]),BlockGroup:ln([160]),BlockDuration:ln([155]),Block:ln([161]),SimpleBlock:ln([163])},jo=[128,64,32,16,8,4,2,1],Mi=function(o,a,s,n){void 0===s&&(s=!0),void 0===n&&(n=!1);var i=function(o){for(var a=1,s=0;s<jo.length&&!(o&jo[s]);s++)a++;return a}(o[a]),c=o.subarray(a,a+i);return s&&((c=Array.prototype.slice.call(o,a,a+i))[0]^=jo[i-1]),{length:i,value:zl(c,{signed:n}),bytes:c}},Yi=function p(o){return"string"==typeof o?o.match(/.{1,2}/g).map(function(a){return p(a)}):"number"==typeof o?function(o,a){var n=(void 0===a?{}:a).le,i=void 0!==n&&n;("bigint"!=typeof o&&"number"!=typeof o||"number"==typeof o&&o!=o)&&(o=0);for(var c=function(o){return Math.ceil(function(o){return o.toString(2).length}(o)/8)}(o=Dr(o)),m=new Uint8Array(new ArrayBuffer(c)),E=0;E<c;E++){var O=i?E:Math.abs(E+1-m.length);m[O]=Number(o/$n[E]&Dr(255)),o<0&&(m[O]=Math.abs(~m[O]),m[O]-=0===E?1:2)}return m}(o):o},_o=function p(o,a,s){if(s>=a.length)return a.length;var n=Mi(a,s,!1);if(Er(o.bytes,n.bytes))return s;var i=Mi(a,s+n.length);return p(o,a,s+i.length+i.value+n.length)},Zt=function p(o,a){a=function(o){return Array.isArray(o)?o.map(function(a){return Yi(a)}):[Yi(o)]}(a),o=ln(o);var s=[];if(!a.length)return s;for(var n=0;n<o.length;){var i=Mi(o,n,!1),c=Mi(o,n+i.length),m=n+i.length+c.length;127===c.value&&(c.value=_o(i,o,m),c.value!==o.length&&(c.value-=m));var O=o.subarray(m,m+c.value>o.length?o.length:m+c.value);Er(a[0],i.bytes)&&(1===a.length?s.push(O):s=s.concat(p(O,a.slice(1)))),n+=i.length+c.length+O.length}return s},y=ln([0,0,0,1]),w=ln([0,0,1]),V=ln([0,0,3]),Z=function(o){for(var a=[],s=1;s<o.length-2;)Er(o.subarray(s,s+3),V)&&(a.push(s+2),s++),s++;if(0===a.length)return o;var n=o.length-a.length,i=new Uint8Array(n),c=0;for(s=0;s<n;c++,s++)c===a[0]&&(c++,a.shift()),i[s]=o[c];return i},be=function(o,a,s,n){void 0===n&&(n=1/0),o=ln(o),s=[].concat(s);for(var c,i=0,m=0;i<o.length&&(m<n||c);){var E=void 0;if(Er(o.subarray(i),y)?E=4:Er(o.subarray(i),w)&&(E=3),E){if(m++,c)return Z(o.subarray(c,i));var O=void 0;"h264"===a?O=31&o[i+E]:"h265"===a&&(O=o[i+E]>>1&63),-1!==s.indexOf(O)&&(c=i+E),i+=E+("h264"===a?1:2)}else i++}return o.subarray(0,0)},rt={webm:ln([119,101,98,109]),matroska:ln([109,97,116,114,111,115,107,97]),flac:ln([102,76,97,67]),ogg:ln([79,103,103,83]),ac3:ln([11,119]),riff:ln([82,73,70,70]),avi:ln([65,86,73]),wav:ln([87,65,86,69]),"3gp":ln([102,116,121,112,51,103]),mp4:ln([102,116,121,112]),fmp4:ln([115,116,121,112]),mov:ln([102,116,121,112,113,116]),moov:ln([109,111,111,118]),moof:ln([109,111,111,102])},ut={aac:function(o){var a=Uo(o);return Er(o,[255,16],{offset:a,mask:[255,22]})},mp3:function(o){var a=Uo(o);return Er(o,[255,2],{offset:a,mask:[255,6]})},webm:function(o){var a=Zt(o,[fr.EBML,fr.DocType])[0];return Er(a,rt.webm)},mkv:function(o){var a=Zt(o,[fr.EBML,fr.DocType])[0];return Er(a,rt.matroska)},mp4:function(o){return!ut["3gp"](o)&&!ut.mov(o)&&(!!(Er(o,rt.mp4,{offset:4})||Er(o,rt.fmp4,{offset:4})||Er(o,rt.moof,{offset:4})||Er(o,rt.moov,{offset:4}))||void 0)},mov:function(o){return Er(o,rt.mov,{offset:4})},"3gp":function(o){return Er(o,rt["3gp"],{offset:4})},ac3:function(o){var a=Uo(o);return Er(o,rt.ac3,{offset:a})},ts:function(o){if(o.length<189&&o.length>=1)return 71===o[0];for(var a=0;a+188<o.length&&a<188;){if(71===o[a]&&71===o[a+188])return!0;a+=1}return!1},flac:function(o){var a=Uo(o);return Er(o,rt.flac,{offset:a})},ogg:function(o){return Er(o,rt.ogg)},avi:function(o){return Er(o,rt.riff)&&Er(o,rt.avi,{offset:8})},wav:function(o){return Er(o,rt.riff)&&Er(o,rt.wav,{offset:8})},h264:function(o){return function(o,a,s){return be(o,"h264",7,3)}(o).length},h265:function(o){return function(o,a,s){return be(o,"h265",[32,33],3)}(o).length}},Ot=Object.keys(ut).filter(function(p){return"ts"!==p&&"h264"!==p&&"h265"!==p}).concat(["ts","h264","h265"]);Ot.forEach(function(p){var o=ut[p];ut[p]=function(a){return o(ln(a))}});for(var vr,St=ut,It=function(o){o=ln(o);for(var a=0;a<Ot.length;a++){var s=Ot[a];if(St[s](o))return s}return""},Gt=F(9211),en={},un=function(o,a){return en[o]=en[o]||[],a&&(en[o]=en[o].concat(a)),en[o]},ur=function(o,a){var s=un(o).indexOf(a);return!(s<=-1||(en[o]=en[o].slice(),en[o].splice(s,1),0))},ui={prefixed:!0},Ur=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Ai=Ur[0],vi=0;vi<Ur.length;vi++)if(Ur[vi][1]in ee()){vr=Ur[vi];break}if(vr){for(var Fi=0;Fi<vr.length;Fi++)ui[Ai[Fi]]=vr[Fi];ui.prefixed=vr[0]!==Ai[0]}var Xi=[],kn=function Zn(p){var a,o="info",s=function(){for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];a("log",o,c)};return a=function(o,a){return function(s,n,i){var c=a.levels[n],m=new RegExp("^("+c+")$");if("log"!==s&&i.unshift(s.toUpperCase()+":"),i.unshift(o+":"),Xi){Xi.push([].concat(i));var E=Xi.length-1e3;Xi.splice(0,E>0?E:0)}if(z().console){var O=z().console[s];!O&&"debug"===s&&(O=z().console.info||z().console.log),O&&c&&m.test(s)&&O[Array.isArray(i)?"apply":"call"](z().console,i)}}}(p,s),s.createLogger=function(n){return Zn(p+": "+n)},s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},s.level=function(n){if("string"==typeof n){if(!s.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');o=n}return o},(s.history=function(){return Xi?[].concat(Xi):[]}).filter=function(n){return(Xi||[]).filter(function(i){return new RegExp(".*"+n+".*").test(i[0])})},s.history.clear=function(){Xi&&(Xi.length=0)},s.history.disable=function(){null!==Xi&&(Xi.length=0,Xi=null)},s.history.enable=function(){null===Xi&&(Xi=[])},s.error=function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a("error",o,i)},s.warn=function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a("warn",o,i)},s.debug=function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a("debug",o,i)},s}("VIDEOJS"),Ar=kn.createLogger,Ga=Object.prototype.toString,Xr=function(o){return qs(o)?Object.keys(o):[]};function Zr(p,o){Xr(p).forEach(function(a){return o(p[a],a)})}function Hr(p){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return Object.assign?ce.apply(void 0,[p].concat(a)):(a.forEach(function(n){!n||Zr(n,function(i,c){p[c]=i})}),p)}function qs(p){return!!p&&"object"==typeof p}function Gl(p){return qs(p)&&"[object Object]"===Ga.call(p)&&p.constructor===Object}function Ss(p,o){if(!p||!o)return"";if("function"==typeof z().getComputedStyle){var a;try{a=z().getComputedStyle(p)}catch(s){return""}return a?a.getPropertyValue(o)||a[o]:""}return""}var $r=z().navigator&&z().navigator.userAgent||"",gs=/AppleWebKit\/([\d.]+)/i.exec($r),Rs=gs?parseFloat(gs.pop()):null,pl=/iPod/i.test($r),Ho=function(){var p=$r.match(/OS (\d+)_/i);return p&&p[1]?p[1]:null}(),Bi=/Android/i.test($r),Ql=function(){var p=$r.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!p)return null;var o=p[1]&&parseFloat(p[1]),a=p[2]&&parseFloat(p[2]);return o&&a?parseFloat(p[1]+"."+p[2]):o||null}(),$o=Bi&&Ql<5&&Rs<537,Ru=/Firefox/i.test($r),_a=/Edg/i.test($r),ro=!_a&&(/Chrome/i.test($r)||/CriOS/i.test($r)),zo=function(){var p=$r.match(/(Chrome|CriOS)\/(\d+)/);return p&&p[2]?parseFloat(p[2]):null}(),ba=function(){var p=/MSIE\s(\d+)\.\d/.exec($r),o=p&&parseFloat(p[1]);return!o&&/Trident\/7.0/i.test($r)&&/rv:11.0/.test($r)&&(o=11),o}(),Ks=/Safari/i.test($r)&&!ro&&!Bi&&!_a,lc=/Windows/i.test($r),Ca=Boolean(_i()&&("ontouchstart"in z()||z().navigator.maxTouchPoints||z().DocumentTouch&&z().document instanceof z().DocumentTouch)),ms=/iPad/i.test($r)||Ks&&Ca&&!/iPhone/i.test($r),bo=/iPhone/i.test($r)&&!ms,yi=bo||ms||pl,Nu=(Ks||yi)&&!ro,ql=Object.freeze({__proto__:null,IS_IPOD:pl,IOS_VERSION:Ho,IS_ANDROID:Bi,ANDROID_VERSION:Ql,IS_NATIVE_ANDROID:$o,IS_FIREFOX:Ru,IS_EDGE:_a,IS_CHROME:ro,CHROME_VERSION:zo,IE_VERSION:ba,IS_SAFARI:Ks,IS_WINDOWS:lc,TOUCH_ENABLED:Ca,IS_IPAD:ms,IS_IPHONE:bo,IS_IOS:yi,IS_ANY_SAFARI:Nu});function Qa(p){return"string"==typeof p&&Boolean(p.trim())}function gl(p){if(p.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function _i(){return ee()===z().document}function vs(p){return qs(p)&&1===p.nodeType}function Gr(){try{return z().parent!==z().self}catch(p){return!0}}function Lu(p){return function(o,a){if(!Qa(o))return ee()[p](null);Qa(a)&&(a=ee().querySelector(a));var s=vs(a)?a:ee();return s[p]&&s[p](o)}}function cr(p,o,a,s){void 0===p&&(p="div"),void 0===o&&(o={}),void 0===a&&(a={});var n=ee().createElement(p);return Object.getOwnPropertyNames(o).forEach(function(i){var c=o[i];-1!==i.indexOf("aria-")||"role"===i||"type"===i?(kn.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+i+" to "+c+"."),n.setAttribute(i,c)):"textContent"===i?Jr(n,c):(n[i]!==c||"tabIndex"===i)&&(n[i]=c)}),Object.getOwnPropertyNames(a).forEach(function(i){n.setAttribute(i,a[i])}),s&&Uu(n,s),n}function Jr(p,o){return void 0===p.textContent?p.innerText=o:p.textContent=o,p}function Yl(p,o){o.firstChild?o.insertBefore(p,o.firstChild):o.appendChild(p)}function Co(p,o){return gl(o),p.classList?p.classList.contains(o):function(p){return new RegExp("(^|\\s)"+p+"($|\\s)")}(o).test(p.className)}function Wo(p,o){return p.classList?p.classList.add(o):Co(p,o)||(p.className=(p.className+" "+o).trim()),p}function To(p,o){return p?(p.classList?p.classList.remove(o):(gl(o),p.className=p.className.split(/\s+/).filter(function(a){return a!==o}).join(" ")),p):(kn.warn("removeClass was called with an element that doesn't exist"),null)}function ml(p,o,a){var s=Co(p,o);if("function"==typeof a&&(a=a(p,o)),"boolean"!=typeof a&&(a=!s),a!==s)return a?Wo(p,o):To(p,o),p}function Ta(p,o){Object.getOwnPropertyNames(o).forEach(function(a){var s=o[a];null==s||!1===s?p.removeAttribute(a):p.setAttribute(a,!0===s?"":s)})}function Ii(p){var o={};if(p&&p.attributes&&p.attributes.length>0)for(var s=p.attributes,n=s.length-1;n>=0;n--){var i=s[n].name,c=s[n].value;("boolean"==typeof p[i]||-1!==",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+","))&&(c=null!==c),o[i]=c}return o}function Fu(p,o){return p.getAttribute(o)}function qa(p,o,a){p.setAttribute(o,a)}function io(p,o){p.removeAttribute(o)}function Ea(){ee().body.focus(),ee().onselectstart=function(){return!1}}function Bu(){ee().onselectstart=function(){return!0}}function vl(p){if(p&&p.getBoundingClientRect&&p.parentNode){var o=p.getBoundingClientRect(),a={};return["bottom","height","left","right","top","width"].forEach(function(s){void 0!==o[s]&&(a[s]=o[s])}),a.height||(a.height=parseFloat(Ss(p,"height"))),a.width||(a.width=parseFloat(Ss(p,"width"))),a}}function Go(p){if(!p||p&&!p.offsetParent)return{left:0,top:0,width:0,height:0};for(var o=p.offsetWidth,a=p.offsetHeight,s=0,n=0;p.offsetParent&&p!==ee()[ui.fullscreenElement];)s+=p.offsetLeft,n+=p.offsetTop,p=p.offsetParent;return{left:s,top:n,width:o,height:a}}function bi(p,o){var a={x:0,y:0};if(yi)for(var s=p;s&&"html"!==s.nodeName.toLowerCase();){var n=Ss(s,"transform");if(/^matrix/.test(n)){var i=n.slice(7,-1).split(/,\s/).map(Number);a.x+=i[4],a.y+=i[5]}else if(/^matrix3d/.test(n)){var c=n.slice(9,-1).split(/,\s/).map(Number);a.x+=c[12],a.y+=c[13]}s=s.parentNode}var m={},E=Go(o.target),O=Go(p),R=O.width,Q=o.offsetY-(O.top-E.top),ve=o.offsetX-(O.left-E.left);return o.changedTouches&&(ve=o.changedTouches[0].pageX-O.left,Q=o.changedTouches[0].pageY+O.top,yi&&(ve-=a.x,Q-=a.y)),m.y=1-Math.max(0,Math.min(1,Q/O.height)),m.x=Math.max(0,Math.min(1,ve/R)),m}function Yc(p){return qs(p)&&3===p.nodeType}function yl(p){for(;p.firstChild;)p.removeChild(p.firstChild);return p}function _l(p){return"function"==typeof p&&(p=p()),(Array.isArray(p)?p:[p]).map(function(o){return"function"==typeof o&&(o=o()),vs(o)||Yc(o)?o:"string"==typeof o&&/\S/.test(o)?ee().createTextNode(o):void 0}).filter(function(o){return o})}function Uu(p,o){return _l(o).forEach(function(a){return p.appendChild(a)}),p}function ls(p,o){return Uu(yl(p),o)}function xa(p){return void 0===p.button&&void 0===p.buttons||0===p.button&&void 0===p.buttons||"mouseup"===p.type&&0===p.button&&0===p.buttons||!(0!==p.button||1!==p.buttons)}var wa,Ys=Lu("querySelector"),Eo=Lu("querySelectorAll"),uc=Object.freeze({__proto__:null,isReal:_i,isEl:vs,isInFrame:Gr,createEl:cr,textContent:Jr,prependTo:Yl,hasClass:Co,addClass:Wo,removeClass:To,toggleClass:ml,setAttributes:Ta,getAttributes:Ii,getAttribute:Fu,setAttribute:qa,removeAttribute:io,blockTextSelection:Ea,unblockTextSelection:Bu,getBoundingClientRect:vl,findPosition:Go,getPointerPosition:bi,isTextNode:Yc,emptyEl:yl,normalizeContent:_l,appendContent:Uu,insertContent:ls,isSingleLeftClick:xa,$:Ys,$$:Eo}),Vu=!1,Xc=function(){if(!1!==wa.options.autoSetup){var o=Array.prototype.slice.call(ee().getElementsByTagName("video")),a=Array.prototype.slice.call(ee().getElementsByTagName("audio")),s=Array.prototype.slice.call(ee().getElementsByTagName("video-js")),n=o.concat(a,s);if(n&&n.length>0)for(var i=0,c=n.length;i<c;i++){var m=n[i];if(!m||!m.getAttribute){Qo(1);break}void 0===m.player&&null!==m.getAttribute("data-setup")&&wa(m)}else Vu||Qo(1)}};function Qo(p,o){!_i()||(o&&(wa=o),z().setTimeout(Xc,p))}function qo(){Vu=!0,z().removeEventListener("load",qo)}_i()&&("complete"===ee().readyState?qo():z().addEventListener("load",qo));var cc,ju=function(o){var a=ee().createElement("style");return a.className=o,a},xo=function(o,a){o.styleSheet?o.styleSheet.cssText=a:o.textContent=a},Zl=3;function Sa(){return Zl++}z().WeakMap||(cc=function(){function p(){this.vdata="vdata"+Math.floor(z().performance&&z().performance.now()||Date.now()),this.data={}}var o=p.prototype;return o.set=function(s,n){var i=s[this.vdata]||Sa();return s[this.vdata]||(s[this.vdata]=i),this.data[i]=n,this},o.get=function(s){var n=s[this.vdata];if(n)return this.data[n];kn("We have no data for this element",s)},o.has=function(s){return s[this.vdata]in this.data},o.delete=function(s){var n=s[this.vdata];n&&(delete this.data[n],delete s[this.vdata])},p}());var ki=z().WeakMap?new WeakMap:new cc;function dc(p,o){if(ki.has(p)){var a=ki.get(p);0===a.handlers[o].length&&(delete a.handlers[o],p.removeEventListener?p.removeEventListener(o,a.dispatcher,!1):p.detachEvent&&p.detachEvent("on"+o,a.dispatcher)),Object.getOwnPropertyNames(a.handlers).length<=0&&(delete a.handlers,delete a.dispatcher,delete a.disabled),0===Object.getOwnPropertyNames(a).length&&ki.delete(p)}}function Ka(p,o,a,s){a.forEach(function(n){p(o,n,s)})}function bl(p){if(p.fixed_)return p;function o(){return!0}function a(){return!1}if(!p||!p.isPropagationStopped||!p.isImmediatePropagationStopped){var s=p||z().event;for(var n in p={},s)"layerX"!==n&&"layerY"!==n&&"keyLocation"!==n&&"webkitMovementX"!==n&&"webkitMovementY"!==n&&("returnValue"===n&&s.preventDefault||(p[n]=s[n]));if(p.target||(p.target=p.srcElement||ee()),p.relatedTarget||(p.relatedTarget=p.fromElement===p.target?p.toElement:p.fromElement),p.preventDefault=function(){s.preventDefault&&s.preventDefault(),p.returnValue=!1,s.returnValue=!1,p.defaultPrevented=!0},p.defaultPrevented=!1,p.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),p.cancelBubble=!0,s.cancelBubble=!0,p.isPropagationStopped=o},p.isPropagationStopped=a,p.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),p.isImmediatePropagationStopped=o,p.stopPropagation()},p.isImmediatePropagationStopped=a,null!=p.clientX){var i=ee().documentElement,c=ee().body;p.pageX=p.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),p.pageY=p.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}p.which=p.charCode||p.keyCode,null!=p.button&&(p.button=1&p.button?0:4&p.button?1:2&p.button?2:0)}return p.fixed_=!0,p}var Oa,Zc=["touchstart","touchmove"];function Os(p,o,a){if(Array.isArray(o))return Ka(Os,p,o,a);ki.has(p)||ki.set(p,{});var s=ki.get(p);if(s.handlers||(s.handlers={}),s.handlers[o]||(s.handlers[o]=[]),a.guid||(a.guid=Sa()),s.handlers[o].push(a),s.dispatcher||(s.disabled=!1,s.dispatcher=function(i,c){if(!s.disabled){i=bl(i);var m=s.handlers[i.type];if(m)for(var E=m.slice(0),O=0,R=E.length;O<R&&!i.isImmediatePropagationStopped();O++)try{E[O].call(p,i,c)}catch(X){kn.error(X)}}}),1===s.handlers[o].length)if(p.addEventListener){var n=!1;(function(){if("boolean"!=typeof Oa){Oa=!1;try{var o=Object.defineProperty({},"passive",{get:function(){Oa=!0}});z().addEventListener("test",null,o),z().removeEventListener("test",null,o)}catch(a){}}return Oa})()&&Zc.indexOf(o)>-1&&(n={passive:!0}),p.addEventListener(o,s.dispatcher,n)}else p.attachEvent&&p.attachEvent("on"+o,s.dispatcher)}function Ci(p,o,a){if(ki.has(p)){var s=ki.get(p);if(s.handlers){if(Array.isArray(o))return Ka(Ci,p,o,a);var n=function(O,R){s.handlers[R]=[],dc(O,R)};if(void 0===o){for(var i in s.handlers)Object.prototype.hasOwnProperty.call(s.handlers||{},i)&&n(p,i);return}var c=s.handlers[o];if(c){if(!a)return void n(p,o);if(a.guid)for(var m=0;m<c.length;m++)c[m].guid===a.guid&&c.splice(m--,1);dc(p,o)}}}}function Ko(p,o,a){var s=ki.has(p)?ki.get(p):{},n=p.parentNode||p.ownerDocument;if("string"==typeof o?o={type:o,target:p}:o.target||(o.target=p),o=bl(o),s.dispatcher&&s.dispatcher.call(p,o,a),n&&!o.isPropagationStopped()&&!0===o.bubbles)Ko.call(null,n,o,a);else if(!n&&!o.defaultPrevented&&o.target&&o.target[o.type]){ki.has(o.target)||ki.set(o.target,{});var i=ki.get(o.target);o.target[o.type]&&(i.disabled=!0,"function"==typeof o.target[o.type]&&o.target[o.type](),i.disabled=!1)}return!o.defaultPrevented}function Jl(p,o,a){if(Array.isArray(o))return Ka(Jl,p,o,a);var s=function n(){Ci(p,o,n),a.apply(this,arguments)};s.guid=a.guid=a.guid||Sa(),Os(p,o,s)}function fc(p,o,a){var s=function n(){Ci(p,o,n),a.apply(this,arguments)};s.guid=a.guid=a.guid||Sa(),Os(p,o,s)}var te,Hu=Object.freeze({__proto__:null,fixEvent:bl,on:Os,off:Ci,trigger:Ko,one:Jl,any:fc}),I=function(o,a,s){a.guid||(a.guid=Sa());var n=a.bind(o);return n.guid=s?s+"_"+a.guid:a.guid,n},D=function(o,a){var s=z().performance.now();return function(){var c=z().performance.now();c-s>=a&&(o.apply(void 0,arguments),s=c)}},H=function(){};H.prototype.allowedEvents_={},H.prototype.addEventListener=H.prototype.on=function(p,o){var a=this.addEventListener;this.addEventListener=function(){},Os(this,p,o),this.addEventListener=a},H.prototype.removeEventListener=H.prototype.off=function(p,o){Ci(this,p,o)},H.prototype.one=function(p,o){var a=this.addEventListener;this.addEventListener=function(){},Jl(this,p,o),this.addEventListener=a},H.prototype.any=function(p,o){var a=this.addEventListener;this.addEventListener=function(){},fc(this,p,o),this.addEventListener=a},H.prototype.dispatchEvent=H.prototype.trigger=function(p){var o=p.type||p;"string"==typeof p&&(p={type:o}),p=bl(p),this.allowedEvents_[o]&&this["on"+o]&&this["on"+o](p),Ko(this,p)},H.prototype.queueTrigger=function(p){var o=this;te||(te=new Map);var a=p.type||p,s=te.get(this);s||(s=new Map,te.set(this,s));var n=s.get(a);s.delete(a),z().clearTimeout(n);var i=z().setTimeout(function(){0===s.size&&(s=null,te.delete(o)),o.trigger(p)},0);s.set(a,i)};var ye=function(o){return"function"==typeof o.name?o.name():"string"==typeof o.name?o.name:o.name_?o.name_:o.constructor&&o.constructor.name?o.constructor.name:typeof o},Ve=function(o){return o instanceof H||!!o.eventBusEl_&&["on","one","off","trigger"].every(function(a){return"function"==typeof o[a]})},_t=function(o){return"string"==typeof o&&/\S/.test(o)||Array.isArray(o)&&!!o.length},qt=function(o,a,s){if(!o||!o.nodeName&&!Ve(o))throw new Error("Invalid target for "+ye(a)+"#"+s+"; must be a DOM node or evented object.")},Yn=function(o,a,s){if(!_t(o))throw new Error("Invalid event type for "+ye(a)+"#"+s+"; must be a non-empty string or array.")},mn=function(o,a,s){if("function"!=typeof o)throw new Error("Invalid listener for "+ye(a)+"#"+s+"; must be a function.")},tr=function(o,a,s){var i,c,m,n=a.length<3||a[0]===o||a[0]===o.eventBusEl_;return n?(i=o.eventBusEl_,a.length>=3&&a.shift(),c=a[0],m=a[1]):(i=a[0],c=a[1],m=a[2]),qt(i,o,s),Yn(c,o,s),mn(m,o,s),{isTargetingSelf:n,target:i,type:c,listener:m=I(o,m)}},Gn=function(o,a,s,n){qt(o,o,a),o.nodeName?Hu[a](o,s,n):o[a](s,n)},Ui={on:function(){for(var o=this,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var i=tr(this,s,"on"),c=i.isTargetingSelf,m=i.target,E=i.type,O=i.listener;if(Gn(m,"on",E,O),!c){var R=function(){return o.off(m,E,O)};R.guid=O.guid;var X=function(){return o.off("dispose",R)};X.guid=O.guid,Gn(this,"on","dispose",R),Gn(m,"on","dispose",X)}},one:function(){for(var o=this,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var i=tr(this,s,"one"),c=i.isTargetingSelf,m=i.target,E=i.type,O=i.listener;if(c)Gn(m,"one",E,O);else{var R=function X(){o.off(m,E,X);for(var Q=arguments.length,ve=new Array(Q),Me=0;Me<Q;Me++)ve[Me]=arguments[Me];O.apply(null,ve)};R.guid=O.guid,Gn(m,"one",E,R)}},any:function(){for(var o=this,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var i=tr(this,s,"any"),c=i.isTargetingSelf,m=i.target,E=i.type,O=i.listener;if(c)Gn(m,"any",E,O);else{var R=function X(){o.off(m,E,X);for(var Q=arguments.length,ve=new Array(Q),Me=0;Me<Q;Me++)ve[Me]=arguments[Me];O.apply(null,ve)};R.guid=O.guid,Gn(m,"any",E,R)}},off:function(o,a,s){if(!o||_t(o))Ci(this.eventBusEl_,o,a);else{var n=o,i=a;qt(n,this,"off"),Yn(i,this,"off"),mn(s,this,"off"),s=I(this,s),this.off("dispose",s),n.nodeName?(Ci(n,i,s),Ci(n,"dispose",s)):Ve(n)&&(n.off(i,s),n.off("dispose",s))}},trigger:function(o,a){if(qt(this.eventBusEl_,this,"trigger"),!_t(o&&"string"!=typeof o?o.type:o)){var n="Invalid event type for "+ye(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!o)throw new Error(n);(this.log||kn).error(n)}return Ko(this.eventBusEl_,o,a)}};function Ns(p,o){void 0===o&&(o={});var s=o.eventBusKey;if(s){if(!p[s].nodeName)throw new Error('The eventBusKey "'+s+'" does not refer to an element.');p.eventBusEl_=p[s]}else p.eventBusEl_=cr("span",{className:"vjs-event-bus"});return Hr(p,Ui),p.eventedCallbacks&&p.eventedCallbacks.forEach(function(n){n()}),p.on("dispose",function(){p.off(),[p,p.el_,p.eventBusEl_].forEach(function(n){n&&ki.has(n)&&ki.delete(n)}),z().setTimeout(function(){p.eventBusEl_=null},0)}),p}var Ls={state:{},setState:function(o){var s,a=this;return"function"==typeof o&&(o=o()),Zr(o,function(n,i){a.state[i]!==n&&((s=s||{})[i]={from:a.state[i],to:n}),a.state[i]=n}),s&&Ve(this)&&this.trigger({changes:s,type:"statechanged"}),s}};function Pa(p,o){return Hr(p,Ls),p.state=Hr({},p.state,o),"function"==typeof p.handleStateChanged&&Ve(p)&&p.on("statechanged",p.handleStateChanged),p}var hr=function(o){return"string"!=typeof o?o:o.replace(/./,function(a){return a.toLowerCase()})},xr=function(o){return"string"!=typeof o?o:o.replace(/./,function(a){return a.toUpperCase()})};function ei(){for(var p={},o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return a.forEach(function(n){!n||Zr(n,function(i,c){Gl(i)?(Gl(p[c])||(p[c]={}),p[c]=ei(p[c],i)):p[c]=i})}),p}var qm=function(){function p(){this.map_={}}var o=p.prototype;return o.has=function(s){return s in this.map_},o.delete=function(s){var n=this.has(s);return delete this.map_[s],n},o.set=function(s,n){return this.map_[s]=n,this},o.forEach=function(s,n){for(var i in this.map_)s.call(n,this.map_[i],i,this)},p}(),af=z().Map?z().Map:qm,Km=function(){function p(){this.set_={}}var o=p.prototype;return o.has=function(s){return s in this.set_},o.delete=function(s){var n=this.has(s);return delete this.set_[s],n},o.add=function(s){return this.set_[s]=1,this},o.forEach=function(s,n){for(var i in this.set_)s.call(n,i,i,this)},p}(),lf=z().Set?z().Set:Km,Ft=function(){function p(a,s,n){if(this.player_=!a&&this.play?a=this:a,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ei({},this.options_),s=this.options_=ei(this.options_,s),this.id_=s.id||s.el&&s.el.id,!this.id_){var i=a&&a.id&&a.id()||"no_player";this.id_=i+"_component_"+Sa()}this.name_=s.name||null,s.el?this.el_=s.el:!1!==s.createEl&&(this.el_=this.createEl()),!1!==s.evented&&(Ns(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Pa(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new lf,this.setIntervalIds_=new lf,this.rafIds_=new lf,this.namedRafs_=new af,this.clearingTimersOnDispose_=!1,!1!==s.initChildren&&this.initChildren(),this.ready(n),!1!==s.reportTouchActivity&&this.enableTouchActivity()}var o=p.prototype;return o.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var s=this.children_.length-1;s>=0;s--)this.children_[s].dispose&&this.children_[s].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},o.isDisposed=function(){return Boolean(this.isDisposed_)},o.player=function(){return this.player_},o.options=function(s){return s?(this.options_=ei(this.options_,s),this.options_):this.options_},o.el=function(){return this.el_},o.createEl=function(s,n,i){return cr(s,n,i)},o.localize=function(s,n,i){void 0===i&&(i=s);var c=this.player_.language&&this.player_.language(),m=this.player_.languages&&this.player_.languages(),E=m&&m[c],O=c&&c.split("-")[0],R=m&&m[O],X=i;return E&&E[s]?X=E[s]:R&&R[s]&&(X=R[s]),n&&(X=X.replace(/\{(\d+)\}/g,function(Q,ve){var Me=n[ve-1],we=Me;return void 0===Me&&(we=Q),we})),X},o.handleLanguagechange=function(){},o.contentEl=function(){return this.contentEl_||this.el_},o.id=function(){return this.id_},o.name=function(){return this.name_},o.children=function(){return this.children_},o.getChildById=function(s){return this.childIndex_[s]},o.getChild=function(s){if(s)return this.childNameIndex_[s]},o.getDescendant=function(){for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];n=n.reduce(function(E,O){return E.concat(O)},[]);for(var c=this,m=0;m<n.length;m++)if(!(c=c.getChild(n[m]))||!c.getChild)return;return c},o.addChild=function(s,n,i){var c,m;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof s){m=xr(s);var E=n.componentClass||m;n.name=m;var O=p.getComponent(E);if(!O)throw new Error("Component "+E+" does not exist");if("function"!=typeof O)return null;c=new O(this.player_||this,n)}else c=s;if(c.parentComponent_&&c.parentComponent_.removeChild(c),this.children_.splice(i,0,c),c.parentComponent_=this,"function"==typeof c.id&&(this.childIndex_[c.id()]=c),(m=m||c.name&&xr(c.name()))&&(this.childNameIndex_[m]=c,this.childNameIndex_[hr(m)]=c),"function"==typeof c.el&&c.el()){var R=null;this.children_[i+1]&&(this.children_[i+1].el_?R=this.children_[i+1].el_:vs(this.children_[i+1])&&(R=this.children_[i+1])),this.contentEl().insertBefore(c.el(),R)}return c},o.removeChild=function(s){if("string"==typeof s&&(s=this.getChild(s)),s&&this.children_){for(var n=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===s){n=!0,this.children_.splice(i,1);break}if(n){s.parentComponent_=null,this.childIndex_[s.id()]=null,this.childNameIndex_[xr(s.name())]=null,this.childNameIndex_[hr(s.name())]=null;var c=s.el();c&&c.parentNode===this.contentEl()&&this.contentEl().removeChild(s.el())}}},o.initChildren=function(){var s=this,n=this.options_.children;if(n){var m,i=this.options_,E=p.getComponent("Tech");(m=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(O){return!m.some(function(R){return"string"==typeof R?O===R:O===R.name})})).map(function(O){var R,X;return"string"==typeof O?X=n[R=O]||s.options_[R]||{}:(R=O.name,X=O),{name:R,opts:X}}).filter(function(O){var R=p.getComponent(O.opts.componentClass||xr(O.name));return R&&!E.isTech(R)}).forEach(function(R){var X=R.name,Q=R.opts;if(void 0!==i[X]&&(Q=i[X]),!1!==Q){!0===Q&&(Q={}),Q.playerOptions=s.options_.playerOptions;var ve=s.addChild(X,Q);ve&&(s[X]=ve)}})}},o.buildCSSClass=function(){return""},o.ready=function(s,n){if(void 0===n&&(n=!1),s){if(!this.isReady_)return this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(s);n?s.call(this):this.setTimeout(s,1)}},o.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var s=this.readyQueue_;this.readyQueue_=[],s&&s.length>0&&s.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)},o.$=function(s,n){return Ys(s,n||this.contentEl())},o.$$=function(s,n){return Eo(s,n||this.contentEl())},o.hasClass=function(s){return Co(this.el_,s)},o.addClass=function(s){Wo(this.el_,s)},o.removeClass=function(s){To(this.el_,s)},o.toggleClass=function(s,n){ml(this.el_,s,n)},o.show=function(){this.removeClass("vjs-hidden")},o.hide=function(){this.addClass("vjs-hidden")},o.lockShowing=function(){this.addClass("vjs-lock-showing")},o.unlockShowing=function(){this.removeClass("vjs-lock-showing")},o.getAttribute=function(s){return Fu(this.el_,s)},o.setAttribute=function(s,n){qa(this.el_,s,n)},o.removeAttribute=function(s){io(this.el_,s)},o.width=function(s,n){return this.dimension("width",s,n)},o.height=function(s,n){return this.dimension("height",s,n)},o.dimensions=function(s,n){this.width(s,!0),this.height(n)},o.dimension=function(s,n,i){if(void 0!==n)return(null===n||n!=n)&&(n=0),this.el_.style[s]=-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?n:"auto"===n?"":n+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var c=this.el_.style[s],m=c.indexOf("px");return parseInt(-1!==m?c.slice(0,m):this.el_["offset"+xr(s)],10)},o.currentDimension=function(s){var n=0;if("width"!==s&&"height"!==s)throw new Error("currentDimension only accepts width or height value");if(n=Ss(this.el_,s),0===(n=parseFloat(n))||isNaN(n)){var i="offset"+xr(s);n=this.el_[i]}return n},o.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},o.currentWidth=function(){return this.currentDimension("width")},o.currentHeight=function(){return this.currentDimension("height")},o.focus=function(){this.el_.focus()},o.blur=function(){this.el_.blur()},o.handleKeyDown=function(s){this.player_&&(s.stopPropagation(),this.player_.handleKeyDown(s))},o.handleKeyPress=function(s){this.handleKeyDown(s)},o.emitTapEvents=function(){var m,s=0,n=null;this.on("touchstart",function(O){1===O.touches.length&&(n={pageX:O.touches[0].pageX,pageY:O.touches[0].pageY},s=z().performance.now(),m=!0)}),this.on("touchmove",function(O){if(O.touches.length>1)m=!1;else if(n){var R=O.touches[0].pageX-n.pageX,X=O.touches[0].pageY-n.pageY;Math.sqrt(R*R+X*X)>10&&(m=!1)}});var E=function(){m=!1};this.on("touchleave",E),this.on("touchcancel",E),this.on("touchend",function(O){n=null,!0===m&&z().performance.now()-s<200&&(O.preventDefault(),this.trigger("tap"))})},o.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var n,s=I(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){s(),this.clearInterval(n),n=this.setInterval(s,250)});var i=function(m){s(),this.clearInterval(n)};this.on("touchmove",s),this.on("touchend",i),this.on("touchcancel",i)}},o.setTimeout=function(s,n){var c,i=this;return s=I(this,s),this.clearTimersOnDispose_(),c=z().setTimeout(function(){i.setTimeoutIds_.has(c)&&i.setTimeoutIds_.delete(c),s()},n),this.setTimeoutIds_.add(c),c},o.clearTimeout=function(s){return this.setTimeoutIds_.has(s)&&(this.setTimeoutIds_.delete(s),z().clearTimeout(s)),s},o.setInterval=function(s,n){s=I(this,s),this.clearTimersOnDispose_();var i=z().setInterval(s,n);return this.setIntervalIds_.add(i),i},o.clearInterval=function(s){return this.setIntervalIds_.has(s)&&(this.setIntervalIds_.delete(s),z().clearInterval(s)),s},o.requestAnimationFrame=function(s){var i,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),s=I(this,s),i=z().requestAnimationFrame(function(){n.rafIds_.has(i)&&n.rafIds_.delete(i),s()}),this.rafIds_.add(i),i):this.setTimeout(s,1e3/60)},o.requestNamedAnimationFrame=function(s,n){var i=this;if(!this.namedRafs_.has(s)){this.clearTimersOnDispose_(),n=I(this,n);var c=this.requestAnimationFrame(function(){n(),i.namedRafs_.has(s)&&i.namedRafs_.delete(s)});return this.namedRafs_.set(s,c),s}},o.cancelNamedAnimationFrame=function(s){!this.namedRafs_.has(s)||(this.cancelAnimationFrame(this.namedRafs_.get(s)),this.namedRafs_.delete(s))},o.cancelAnimationFrame=function(s){return this.supportsRaf_?(this.rafIds_.has(s)&&(this.rafIds_.delete(s),z().cancelAnimationFrame(s)),s):this.clearTimeout(s)},o.clearTimersOnDispose_=function(){var s=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(n){var c=n[1];s[n[0]].forEach(function(m,E){return s[c](E)})}),s.clearingTimersOnDispose_=!1}))},p.registerComponent=function(s,n){if("string"!=typeof s||!s)throw new Error('Illegal component name, "'+s+'"; must be a non-empty string.');var i=p.getComponent("Tech"),c=i&&i.isTech(n),m=p===n||p.prototype.isPrototypeOf(n.prototype);if(c||!m)throw new Error('Illegal component, "'+s+'"; '+(c?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");s=xr(s),p.components_||(p.components_={});var O=p.getComponent("Player");if("Player"===s&&O&&O.players){var R=O.players,X=Object.keys(R);if(R&&X.length>0&&X.map(function(Q){return R[Q]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return p.components_[s]=n,p.components_[hr(s)]=n,n},p.getComponent=function(s){if(s&&p.components_)return p.components_[s]},p}();function Jc(p,o,a,s){return function(p,o,a){if("number"!=typeof o||o<0||o>a)throw new Error("Failed to execute '"+p+"' on 'TimeRanges': The index provided ("+o+") is non-numeric or out of bounds (0-"+a+").")}(p,s,a.length-1),a[s][o]}function lg(p){var o;return o=void 0===p||0===p.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:p.length,start:Jc.bind(null,"start",0,p),end:Jc.bind(null,"end",1,p)},z().Symbol&&z().Symbol.iterator&&(o[z().Symbol.iterator]=function(){return(p||[]).values()}),o}function Ti(p,o){return Array.isArray(p)?lg(p):void 0===p||void 0===o?lg():lg([[p,o]])}function $u(p,o){var s,n,a=0;if(!o)return 0;(!p||!p.length)&&(p=Ti(0,0));for(var i=0;i<p.length;i++)s=p.start(i),(n=p.end(i))>o&&(n=o),a+=n-s;return a/o}function yr(p){if(p instanceof yr)return p;"number"==typeof p?this.code=p:"string"==typeof p?this.message=p:qs(p)&&("number"==typeof p.code&&(this.code=p.code),Hr(this,p)),this.message||(this.message=yr.defaultMessages[this.code]||"")}Ft.prototype.supportsRaf_="function"==typeof z().requestAnimationFrame&&"function"==typeof z().cancelAnimationFrame,Ft.registerComponent("Component",Ft),yr.prototype.code=0,yr.prototype.message="",yr.prototype.status=null,yr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],yr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ya=0;Ya<yr.errorTypes.length;Ya++)yr[yr.errorTypes[Ya]]=Ya,yr.prototype[yr.errorTypes[Ya]]=Ya;function Xa(p){return null!=p&&"function"==typeof p.then}function Za(p){Xa(p)&&p.then(null,function(o){})}var ed=function(o){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(s,n,i){return o[n]&&(s[n]=o[n]),s},{cues:o.cues&&Array.prototype.map.call(o.cues,function(s){return{startTime:s.startTime,endTime:s.endTime,text:s.text,id:s.id}})})},Xo="vjs-modal-dialog",so=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).handleKeyDown_=function(c){return i.handleKeyDown(c)},i.close_=function(c){return i.close(c)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=cr("div",{className:Xo+"-content"},{role:"document"}),i.descEl_=cr("p",{className:Xo+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),Jr(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},a.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,p.prototype.dispose.call(this)},a.buildCSSClass=function(){return Xo+" vjs-hidden "+p.prototype.buildCSSClass.call(this)},a.label=function(){return this.localize(this.options_.label||"Modal Window")},a.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},a.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=n.controls(),n.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},a.opened=function(n){return"boolean"==typeof n&&this[n?"open":"close"](),this.opened_},a.close=function(){if(this.opened_){var n=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&n.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&n.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},a.closeable=function(n){if("boolean"==typeof n){var i=this.closeable_=!!n,c=this.getChild("closeButton");if(i&&!c){var m=this.contentEl_;this.contentEl_=this.el_,c=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=m,this.on(c,"close",this.close_)}!i&&c&&(this.off(c,"close",this.close_),this.removeChild(c),c.dispose())}return this.closeable_},a.fill=function(){this.fillWith(this.content())},a.fillWith=function(n){var i=this.contentEl(),c=i.parentNode,m=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,c.removeChild(i),this.empty(),ls(i,n),this.trigger("modalfill"),m?c.insertBefore(i,m):c.appendChild(i);var E=this.getChild("closeButton");E&&c.appendChild(E.el_)},a.empty=function(){this.trigger("beforemodalempty"),yl(this.contentEl()),this.trigger("modalempty")},a.content=function(n){return void 0!==n&&(this.content_=n),this.content_},a.conditionalFocus_=function(){var n=ee().activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(n)||i===n)&&(this.previouslyActiveEl_=n,this.focus())},a.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},a.handleKeyDown=function(n){if(n.stopPropagation(),le().isEventKey(n,"Escape")&&this.closeable())return n.preventDefault(),void this.close();if(le().isEventKey(n,"Tab")){for(var m,i=this.focusableEls_(),c=this.el_.querySelector(":focus"),E=0;E<i.length;E++)if(c===i[E]){m=E;break}ee().activeElement===this.el_&&(m=0),n.shiftKey&&0===m?(i[i.length-1].focus(),n.preventDefault()):!n.shiftKey&&m===i.length-1&&(i[0].focus(),n.preventDefault())}},a.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(i){return(i instanceof z().HTMLAnchorElement||i instanceof z().HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof z().HTMLInputElement||i instanceof z().HTMLSelectElement||i instanceof z().HTMLTextAreaElement||i instanceof z().HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof z().HTMLIFrameElement||i instanceof z().HTMLObjectElement||i instanceof z().HTMLEmbedElement||i.hasAttribute("tabindex")&&-1!==i.getAttribute("tabindex")||i.hasAttribute("contenteditable")})},o}(Ft);so.prototype.options_={pauseOnOpen:!0,temporary:!0},Ft.registerComponent("ModalDialog",so);var eu=function(p){function o(s){var n;void 0===s&&(s=[]),(n=p.call(this)||this).tracks_=[],Object.defineProperty(ue(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<s.length;i++)n.addTrack(s[i]);return n}j(o,p);var a=o.prototype;return a.addTrack=function(n){var i=this,c=this.tracks_.length;""+c in this||Object.defineProperty(this,c,{get:function(){return this.tracks_[c]}}),-1===this.tracks_.indexOf(n)&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack",target:this})),n.labelchange_=function(){i.trigger({track:n,type:"labelchange",target:i})},Ve(n)&&n.addEventListener("labelchange",n.labelchange_)},a.removeTrack=function(n){for(var i,c=0,m=this.length;c<m;c++)if(this[c]===n){(i=this[c]).off&&i.off(),this.tracks_.splice(c,1);break}!i||this.trigger({track:i,type:"removetrack",target:this})},a.getTrackById=function(n){for(var i=null,c=0,m=this.length;c<m;c++){var E=this[c];if(E.id===n){i=E;break}}return i},o}(H);for(var kh in eu.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},eu.prototype.allowedEvents_)eu.prototype["on"+kh]=null;var td=function(o,a){for(var s=0;s<o.length;s++)!Object.keys(o[s]).length||a.id===o[s].id||(o[s].enabled=!1)},Ym=function(p){function o(s){var n;void 0===s&&(s=[]);for(var i=s.length-1;i>=0;i--)if(s[i].enabled){td(s,s[i]);break}return(n=p.call(this,s)||this).changing_=!1,n}j(o,p);var a=o.prototype;return a.addTrack=function(n){var i=this;n.enabled&&td(this,n),p.prototype.addTrack.call(this,n),n.addEventListener&&(n.enabledChange_=function(){i.changing_||(i.changing_=!0,td(i,n),i.changing_=!1,i.trigger("change"))},n.addEventListener("enabledchange",n.enabledChange_))},a.removeTrack=function(n){p.prototype.removeTrack.call(this,n),n.removeEventListener&&n.enabledChange_&&(n.removeEventListener("enabledchange",n.enabledChange_),n.enabledChange_=null)},o}(eu),Rh=function(o,a){for(var s=0;s<o.length;s++)!Object.keys(o[s]).length||a.id===o[s].id||(o[s].selected=!1)},uf=function(p){function o(s){var n;void 0===s&&(s=[]);for(var i=s.length-1;i>=0;i--)if(s[i].selected){Rh(s,s[i]);break}return(n=p.call(this,s)||this).changing_=!1,Object.defineProperty(ue(n),"selectedIndex",{get:function(){for(var m=0;m<this.length;m++)if(this[m].selected)return m;return-1},set:function(){}}),n}j(o,p);var a=o.prototype;return a.addTrack=function(n){var i=this;n.selected&&Rh(this,n),p.prototype.addTrack.call(this,n),n.addEventListener&&(n.selectedChange_=function(){i.changing_||(i.changing_=!0,Rh(i,n),i.changing_=!1,i.trigger("change"))},n.addEventListener("selectedchange",n.selectedChange_))},a.removeTrack=function(n){p.prototype.removeTrack.call(this,n),n.removeEventListener&&n.selectedChange_&&(n.removeEventListener("selectedchange",n.selectedChange_),n.selectedChange_=null)},o}(eu),Xs=function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.addTrack=function(n){var i=this;p.prototype.addTrack.call(this,n),this.queueChange_||(this.queueChange_=function(){return i.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return i.trigger("selectedlanguagechange")}),n.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(n.kind)&&n.addEventListener("modechange",this.triggerSelectedlanguagechange_)},a.removeTrack=function(n){p.prototype.removeTrack.call(this,n),n.removeEventListener&&(this.queueChange_&&n.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&n.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},o}(eu),cf=function(){function p(a){void 0===a&&(a=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var s=0,n=a.length;s<n;s++)this.addTrackElement_(a[s])}var o=p.prototype;return o.addTrackElement_=function(s){var n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.trackElements_[n]}}),-1===this.trackElements_.indexOf(s)&&this.trackElements_.push(s)},o.getTrackElementByTrack_=function(s){for(var n,i=0,c=this.trackElements_.length;i<c;i++)if(s===this.trackElements_[i].track){n=this.trackElements_[i];break}return n},o.removeTrackElement_=function(s){for(var n=0,i=this.trackElements_.length;n<i;n++)if(s===this.trackElements_[n]){this.trackElements_[n].track&&"function"==typeof this.trackElements_[n].track.off&&this.trackElements_[n].track.off(),"function"==typeof this.trackElements_[n].off&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}},p}(),Tl=function(){function p(a){p.prototype.setCues_.call(this,a),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var o=p.prototype;return o.setCues_=function(s){var n=this.length||0,i=0,c=s.length;this.cues_=s,this.length_=s.length;var m=function(O){""+O in this||Object.defineProperty(this,""+O,{get:function(){return this.cues_[O]}})};if(n<c)for(i=n;i<c;i++)m.call(this,i)},o.getCueById=function(s){for(var n=null,i=0,c=this.length;i<c;i++){var m=this[i];if(m.id===s){n=m;break}}return n},p}(),Nh={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},df={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},nd={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},rd={disabled:"disabled",hidden:"hidden",showing:"showing"},ff=function(p){function o(a){var s;void 0===a&&(a={}),s=p.call(this)||this;var n={id:a.id||"vjs_track_"+Sa(),kind:a.kind||"",language:a.language||""},i=a.label||"",c=function(O){Object.defineProperty(ue(s),O,{get:function(){return n[O]},set:function(){}})};for(var m in n)c(m);return Object.defineProperty(ue(s),"label",{get:function(){return i},set:function(O){O!==i&&(i=O,this.trigger("labelchange"))}}),s}return j(o,p),o}(H),hf=function(o){var a=["protocol","hostname","port","pathname","search","hash","host"],s=ee().createElement("a");s.href=o;for(var n={},i=0;i<a.length;i++)n[a[i]]=s[a[i]];return"http:"===n.protocol&&(n.host=n.host.replace(/:80$/,"")),"https:"===n.protocol&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=z().location.protocol),n.host||(n.host=z().location.host),n},Lh=function(o){if(!o.match(/^https?:\/\//)){var a=ee().createElement("a");a.href=o,o=a.href}return o},El=function(o){if("string"==typeof o){var s=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(o);if(s)return s.pop().toLowerCase()}return""},zu=function(o,a){void 0===a&&(a=z().location);var s=hf(o);return(":"===s.protocol?a.protocol:s.protocol)+s.host!==a.protocol+a.host},id=Object.freeze({__proto__:null,parseUrl:hf,getAbsoluteURL:Lh,getFileExtension:El,isCrossOrigin:zu}),Fh=function(o,a){var s=new(z().WebVTT.Parser)(z(),z().vttjs,z().WebVTT.StringDecoder()),n=[];s.oncue=function(i){a.addCue(i)},s.onparsingerror=function(i){n.push(i)},s.onflush=function(){a.trigger({type:"loadeddata",target:a})},s.parse(o),n.length>0&&(z().console&&z().console.groupCollapsed&&z().console.groupCollapsed("Text Track parsing errors for "+a.src),n.forEach(function(i){return kn.error(i)}),z().console&&z().console.groupEnd&&z().console.groupEnd()),s.flush()},tu=function(o,a){var s={uri:o},n=zu(o);n&&(s.cors=n);var i="use-credentials"===a.tech_.crossOrigin();i&&(s.withCredentials=i),ae()(s,I(this,function(c,m,E){if(c)return kn.error(c,m);a.loaded_=!0,"function"!=typeof z().WebVTT?a.tech_&&a.tech_.any(["vttjsloaded","vttjserror"],function(O){if("vttjserror"!==O.type)return Fh(E,a);kn.error("vttjs failed to load, stopping trying to process "+a.src)}):Fh(E,a)}))},nu=function(p){function o(s){var n;if(void 0===s&&(s={}),!s.tech)throw new Error("A tech was not provided.");var i=ei(s,{kind:nd[s.kind]||"subtitles",language:s.language||s.srclang||""}),c=rd[i.mode]||"disabled",m=i.default;("metadata"===i.kind||"chapters"===i.kind)&&(c="hidden"),(n=p.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var E=new Tl(n.cues_),O=new Tl(n.activeCues_),R=!1,X=I(ue(n),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,R&&(this.trigger("cuechange"),R=!1))});return n.tech_.one("dispose",function(){n.tech_.off("timeupdate",X)}),"disabled"!==c&&n.tech_.on("timeupdate",X),Object.defineProperties(ue(n),{default:{get:function(){return m},set:function(){}},mode:{get:function(){return c},set:function(Me){!rd[Me]||c!==Me&&(c=Me,!this.preload_&&"disabled"!==c&&0===this.cues.length&&tu(this.src,this),this.tech_.off("timeupdate",X),"disabled"!==c&&this.tech_.on("timeupdate",X),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?E:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return O;for(var Me=this.tech_.currentTime(),we=[],Se=0,st=this.cues.length;Se<st;Se++){var it=this.cues[Se];(it.startTime<=Me&&it.endTime>=Me||it.startTime===it.endTime&&it.startTime<=Me&&it.startTime+.5>=Me)&&we.push(it)}if(R=!1,we.length!==this.activeCues_.length)R=!0;else for(var bt=0;bt<we.length;bt++)-1===this.activeCues_.indexOf(we[bt])&&(R=!0);return this.activeCues_=we,O.setCues_(this.activeCues_),O},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==i.kind&&"captions"!==i.kind)&&tu(n.src,ue(n))):n.loaded_=!0,n}j(o,p);var a=o.prototype;return a.addCue=function(n){var i=n;if(z().vttjs&&!(n instanceof z().vttjs.VTTCue)){for(var c in i=new(z().vttjs.VTTCue)(n.startTime,n.endTime,n.text),n)c in i||(i[c]=n[c]);i.id=n.id,i.originalCue_=n}for(var m=this.tech_.textTracks(),E=0;E<m.length;E++)m[E]!==this&&m[E].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)},a.removeCue=function(n){for(var i=this.cues_.length;i--;){var c=this.cues_[i];if(c===n||c.originalCue_&&c.originalCue_===n){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}},o}(ff);nu.prototype.allowedEvents_={cuechange:"cuechange"};var ru=function(p){function o(a){var s;void 0===a&&(a={});var n=ei(a,{kind:df[a.kind]||""});s=p.call(this,n)||this;var i=!1;return Object.defineProperty(ue(s),"enabled",{get:function(){return i},set:function(m){"boolean"!=typeof m||m===i||(i=m,this.trigger("enabledchange"))}}),n.enabled&&(s.enabled=n.enabled),s.loaded_=!0,s}return j(o,p),o}(ff),Bh=function(p){function o(a){var s;void 0===a&&(a={});var n=ei(a,{kind:Nh[a.kind]||""});s=p.call(this,n)||this;var i=!1;return Object.defineProperty(ue(s),"selected",{get:function(){return i},set:function(m){"boolean"!=typeof m||m===i||(i=m,this.trigger("selectedchange"))}}),n.selected&&(s.selected=n.selected),s}return j(o,p),o}(ff),xl=function(p){function o(a){var s;void 0===a&&(a={}),s=p.call(this)||this;var n,i=new nu(a);return s.kind=i.kind,s.src=i.src,s.srclang=i.language,s.label=i.label,s.default=i.default,Object.defineProperties(ue(s),{readyState:{get:function(){return n}},track:{get:function(){return i}}}),n=0,i.addEventListener("loadeddata",function(){n=2,s.trigger({type:"load",target:ue(s)})}),s}return j(o,p),o}(H);xl.prototype.allowedEvents_={load:"load"},xl.NONE=0,xl.LOADING=1,xl.LOADED=2,xl.ERROR=3;var ys={audio:{ListClass:Ym,TrackClass:ru,capitalName:"Audio"},video:{ListClass:uf,TrackClass:Bh,capitalName:"Video"},text:{ListClass:Xs,TrackClass:nu,capitalName:"Text"}};Object.keys(ys).forEach(function(p){ys[p].getterName=p+"Tracks",ys[p].privateName=p+"Tracks_"});var Zo={remoteText:{ListClass:Xs,TrackClass:nu,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:cf,TrackClass:xl,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Bs=ce({},ys,Zo);Zo.names=Object.keys(Zo),ys.names=Object.keys(ys),Bs.names=[].concat(Zo.names).concat(ys.names);var Ir=function(p){function o(s,n){var i;return void 0===s&&(s={}),void 0===n&&(n=function(){}),s.reportTouchActivity=!1,(i=p.call(this,null,s,n)||this).onDurationChange_=function(c){return i.onDurationChange(c)},i.trackProgress_=function(c){return i.trackProgress(c)},i.trackCurrentTime_=function(c){return i.trackCurrentTime(c)},i.stopTrackingCurrentTime_=function(c){return i.stopTrackingCurrentTime(c)},i.disposeSourceHandler_=function(c){return i.disposeSourceHandler(c)},i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),Bs.names.forEach(function(c){var m=Bs[c];s&&s[m.getterName]&&(i[m.privateName]=s[m.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(c){!1===s["native"+c+"Tracks"]&&(i["featuresNative"+c+"Tracks"]=!1)}),!1===s.nativeCaptions||!1===s.nativeTextTracks?i.featuresNativeTextTracks=!1:(!0===s.nativeCaptions||!0===s.nativeTextTracks)&&(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==s.preloadTextTracks,i.autoRemoteTextTracks_=new Bs.text.ListClass,i.initTrackListeners(),s.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}j(o,p);var a=o.prototype;return a.triggerSourceset=function(n){var i=this;this.isReady_||this.one("ready",function(){return i.setTimeout(function(){return i.triggerSourceset(n)},1)}),this.trigger({src:n,type:"sourceset"})},a.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},a.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},a.trackProgress=function(n){this.stopTrackingProgress(),this.progressInterval=this.setInterval(I(this,function(){var i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,1===i&&this.stopTrackingProgress()}),500)},a.onDurationChange=function(n){this.duration_=this.duration()},a.buffered=function(){return Ti(0,0)},a.bufferedPercent=function(){return $u(this.buffered(),this.duration_)},a.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},a.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},a.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},a.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},a.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},a.dispose=function(){this.clearTracks(ys.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),p.prototype.dispose.call(this)},a.clearTracks=function(n){var i=this;(n=[].concat(n)).forEach(function(c){for(var m=i[c+"Tracks"]()||[],E=m.length;E--;){var O=m[E];"text"===c&&i.removeRemoteTextTrack(O),m.removeTrack(O)}})},a.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],i=n.length;i--;)this.removeRemoteTextTrack(n[i])},a.reset=function(){},a.crossOrigin=function(){},a.setCrossOrigin=function(){},a.error=function(n){return void 0!==n&&(this.error_=new yr(n),this.trigger("error")),this.error_},a.played=function(){return this.hasStarted_?Ti(0,0):Ti()},a.play=function(){},a.setScrubbing=function(){},a.scrubbing=function(){},a.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},a.initTrackListeners=function(){var n=this;ys.names.forEach(function(i){var m=function(){n.trigger(i+"trackchange")},E=n[ys[i].getterName]();E.addEventListener("removetrack",m),E.addEventListener("addtrack",m),n.on("dispose",function(){E.removeEventListener("removetrack",m),E.removeEventListener("addtrack",m)})})},a.addWebVttScript_=function(){var n=this;if(!z().WebVTT)if(ee().body.contains(this.el())){if(!this.options_["vtt.js"]&&Gl(Pe())&&Object.keys(Pe()).length>0)return void this.trigger("vttjsloaded");var i=ee().createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",i.onload=function(){n.trigger("vttjsloaded")},i.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){i.onload=null,i.onerror=null}),z().WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.addWebVttScript_)},a.emulateTextTracks=function(){var n=this,i=this.textTracks(),c=this.remoteTextTracks(),m=function(Q){return i.addTrack(Q.track)},E=function(Q){return i.removeTrack(Q.track)};c.on("addtrack",m),c.on("removetrack",E),this.addWebVttScript_();var O=function(){return n.trigger("texttrackchange")},R=function(){O();for(var Q=0;Q<i.length;Q++){var ve=i[Q];ve.removeEventListener("cuechange",O),"showing"===ve.mode&&ve.addEventListener("cuechange",O)}};R(),i.addEventListener("change",R),i.addEventListener("addtrack",R),i.addEventListener("removetrack",R),this.on("dispose",function(){c.off("addtrack",m),c.off("removetrack",E),i.removeEventListener("change",R),i.removeEventListener("addtrack",R),i.removeEventListener("removetrack",R);for(var X=0;X<i.length;X++)i[X].removeEventListener("cuechange",O)})},a.addTextTrack=function(n,i,c){if(!n)throw new Error("TextTrack kind is required but was not provided");return function(p,o,a,s,n){void 0===n&&(n={});var i=p.textTracks();n.kind=o,a&&(n.label=a),s&&(n.language=s),n.tech=p;var c=new Bs.text.TrackClass(n);return i.addTrack(c),c}(this,n,i,c)},a.createRemoteTextTrack=function(n){var i=ei(n,{tech:this});return new Zo.remoteTextEl.TrackClass(i)},a.addRemoteTextTrack=function(n,i){var c=this;void 0===n&&(n={});var m=this.createRemoteTextTrack(n);return!0!==i&&!1!==i&&(kn.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),i=!0),this.remoteTextTrackEls().addTrackElement_(m),this.remoteTextTracks().addTrack(m.track),!0!==i&&this.ready(function(){return c.autoRemoteTextTracks_.addTrack(m.track)}),m},a.removeRemoteTextTrack=function(n){var i=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(n),this.autoRemoteTextTracks_.removeTrack(n)},a.getVideoPlaybackQuality=function(){return{}},a.requestPictureInPicture=function(){var n=this.options_.Promise||z().Promise;if(n)return n.reject()},a.disablePictureInPicture=function(){return!0},a.setDisablePictureInPicture=function(){},a.setPoster=function(){},a.playsinline=function(){},a.setPlaysinline=function(){},a.overrideNativeAudioTracks=function(){},a.overrideNativeVideoTracks=function(){},a.canPlayType=function(){return""},o.canPlayType=function(){return""},o.canPlaySource=function(n,i){return o.canPlayType(n.type)},o.isTech=function(n){return n.prototype instanceof o||n instanceof o||n===o},o.registerTech=function(n,i){if(o.techs_||(o.techs_={}),!o.isTech(i))throw new Error("Tech "+n+" must be a Tech");if(!o.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!o.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=xr(n),o.techs_[n]=i,o.techs_[hr(n)]=i,"Tech"!==n&&o.defaultTechOrder_.push(n),i},o.getTech=function(n){if(n){if(o.techs_&&o.techs_[n])return o.techs_[n];if(n=xr(n),z()&&z().videojs&&z().videojs[n])return kn.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),z().videojs[n]}},o}(Ft);Bs.names.forEach(function(p){var o=Bs[p];Ir.prototype[o.getterName]=function(){return this[o.privateName]=this[o.privateName]||new o.ListClass,this[o.privateName]}}),Ir.prototype.featuresVolumeControl=!0,Ir.prototype.featuresMuteControl=!0,Ir.prototype.featuresFullscreenResize=!1,Ir.prototype.featuresPlaybackRate=!1,Ir.prototype.featuresProgressEvents=!1,Ir.prototype.featuresSourceset=!1,Ir.prototype.featuresTimeupdateEvents=!1,Ir.prototype.featuresNativeTextTracks=!1,Ir.withSourceHandlers=function(p){p.registerSourceHandler=function(a,s){var n=p.sourceHandlers;n||(n=p.sourceHandlers=[]),void 0===s&&(s=n.length),n.splice(s,0,a)},p.canPlayType=function(a){for(var n,s=p.sourceHandlers||[],i=0;i<s.length;i++)if(n=s[i].canPlayType(a))return n;return""},p.selectSourceHandler=function(a,s){for(var n=p.sourceHandlers||[],c=0;c<n.length;c++)if(n[c].canHandleSource(a,s))return n[c];return null},p.canPlaySource=function(a,s){var n=p.selectSourceHandler(a,s);return n?n.canHandleSource(a,s):""},["seekable","seeking","duration"].forEach(function(a){var s=this[a];"function"==typeof s&&(this[a]=function(){return this.sourceHandler_&&this.sourceHandler_[a]?this.sourceHandler_[a].apply(this.sourceHandler_,arguments):s.apply(this,arguments)})},p.prototype),p.prototype.setSource=function(a){var s=p.selectSourceHandler(a,this.options_);s||(p.nativeSourceHandler?s=p.nativeSourceHandler:kn.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),s!==p.nativeSourceHandler&&(this.currentSource_=a),this.sourceHandler_=s.handleSource(a,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},p.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ft.registerComponent("Tech",Ir),Ir.registerTech("Tech",Ir),Ir.defaultTechOrder_=[];var Ja={},Da={},wl={};function Vh(p,o,a){p.setTimeout(function(){return Gu(o,Ja[o.type],a,p)},1)}function Ma(p,o,a,s){void 0===s&&(s=null);var n="call"+xr(a),i=p.reduce(gc(n),s),c=i===wl,m=c?null:o[a](i);return function(p,o,a,s){for(var n=p.length-1;n>=0;n--){var i=p[n];i[o]&&i[o](s,a)}}(p,a,m,c),m}var sd={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Sl={setCurrentTime:1,setMuted:1,setVolume:1},gf={play:1,pause:1};function gc(p){return function(o,a){return o===wl?wl:a[p]?a[p](o):o}}function Gu(p,o,a,s,n,i){void 0===p&&(p={}),void 0===o&&(o=[]),void 0===n&&(n=[]),void 0===i&&(i=!1);var m=o[0],E=o.slice(1);if("string"==typeof m)Gu(p,Ja[m],a,s,n,i);else if(m){var O=function(p,o){var a=Da[p.id()],s=null;if(null==a)return s=o(p),Da[p.id()]=[[o,s]],s;for(var n=0;n<a.length;n++){var i=a[n];i[0]===o&&(s=i[1])}return null===s&&(s=o(p),a.push([o,s])),s}(s,m);if(!O.setSource)return n.push(O),Gu(p,E,a,s,n,i);O.setSource(Hr({},p),function(R,X){if(R)return Gu(p,E,a,s,n,i);n.push(O),Gu(X,p.type===X.type?E:Ja[X.type],a,s,n,i)})}else E.length?Gu(p,E,a,s,n,i):i?a(p,n):Gu(p,Ja["*"],a,s,n,!0)}var $h={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},el=function(o){void 0===o&&(o="");var a=El(o);return $h[a.toLowerCase()]||""},ug=function p(o){if(Array.isArray(o)){var a=[];o.forEach(function(s){s=p(s),Array.isArray(s)?a=a.concat(s):qs(s)&&a.push(s)}),o=a}else o="string"==typeof o&&o.trim()?[ev({src:o})]:qs(o)&&"string"==typeof o.src&&o.src&&o.src.trim()?[ev(o)]:[];return o};function ev(p){if(!p.type){var o=el(p.src);o&&(p.type=o)}return p}var Qu=function(p){function o(a,s,n){var i,c=ei({createEl:!1},s);if(i=p.call(this,a,c,n)||this,s.playerOptions.sources&&0!==s.playerOptions.sources.length)a.src(s.playerOptions.sources);else for(var m=0,E=s.playerOptions.techOrder;m<E.length;m++){var O=xr(E[m]),R=Ir.getTech(O);if(O||(R=Ft.getComponent(O)),R&&R.isSupported()){a.loadTech_(O);break}}return i}return j(o,p),o}(Ft);Ft.registerComponent("MediaLoader",Qu);var yc=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).handleMouseOver_=function(c){return i.handleMouseOver(c)},i.handleMouseOut_=function(c){return i.handleMouseOut(c)},i.handleClick_=function(c){return i.handleClick(c)},i.handleKeyDown_=function(c){return i.handleKeyDown(c)},i.emitTapEvents(),i.enable(),i}j(o,p);var a=o.prototype;return a.createEl=function(n,i,c){void 0===n&&(n="div"),void 0===i&&(i={}),void 0===c&&(c={}),i=Hr({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&kn.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),c=Hr({role:"button"},c),this.tabIndex_=i.tabIndex;var m=cr(n,i,c);return m.appendChild(cr("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(m),m},a.dispose=function(){this.controlTextEl_=null,p.prototype.dispose.call(this)},a.createControlTextEl=function(n){return this.controlTextEl_=cr("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},a.controlText=function(n,i){if(void 0===i&&(i=this.el()),void 0===n)return this.controlText_||"Need Text";var c=this.localize(n);this.controlText_=n,Jr(this.controlTextEl_,c),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",c)},a.buildCSSClass=function(){return"vjs-control vjs-button "+p.prototype.buildCSSClass.call(this)},a.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},a.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},a.handleLanguagechange=function(){this.controlText(this.controlText_)},a.handleClick=function(n){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},a.handleKeyDown=function(n){le().isEventKey(n,"Space")||le().isEventKey(n,"Enter")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):p.prototype.handleKeyDown.call(this,n)},o}(Ft);Ft.registerComponent("ClickableComponent",yc),Ft.registerComponent("PosterImage",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update(),i.update_=function(c){return i.update(c)},s.on("posterchange",i.update_),i}j(o,p);var a=o.prototype;return a.dispose=function(){this.player().off("posterchange",this.update_),p.prototype.dispose.call(this)},a.createEl=function(){return cr("div",{className:"vjs-poster",tabIndex:-1})},a.update=function(n){var i=this.player().poster();this.setSrc(i),i?this.show():this.hide()},a.setSrc=function(n){var i="";n&&(i='url("'+n+'")'),this.el_.style.backgroundImage=i},a.handleClick=function(n){if(this.player_.controls()){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((ba||_a)&&i)&&this.player_.tech(!0).focus(),this.player_.paused()?Za(this.player_.play()):this.player_.pause()}},o}(yc));var wo="#222",cg={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ol(p,o){var a;if(4===p.length)a=p[1]+p[1]+p[2]+p[2]+p[3]+p[3];else{if(7!==p.length)throw new Error("Invalid color code provided, "+p+"; must be formatted as e.g. #f0e or #f604e2.");a=p.slice(1)}return"rgba("+parseInt(a.slice(0,2),16)+","+parseInt(a.slice(2,4),16)+","+parseInt(a.slice(4,6),16)+","+o+")"}function _c(p,o,a){try{p.style[o]=a}catch(s){return}}Ft.registerComponent("TextTrackDisplay",function(p){function o(s,n,i){var c;c=p.call(this,s,n,i)||this;var m=function(O){return c.updateDisplay(O)};return s.on("loadstart",function(E){return c.toggleDisplay(E)}),s.on("texttrackchange",m),s.on("loadedmetadata",function(E){return c.preselectTrack(E)}),s.ready(I(ue(c),function(){if(s.tech_&&s.tech_.featuresNativeTextTracks)this.hide();else{s.on("fullscreenchange",m),s.on("playerresize",m),z().addEventListener("orientationchange",m),s.on("dispose",function(){return z().removeEventListener("orientationchange",m)});for(var E=this.options_.playerOptions.tracks||[],O=0;O<E.length;O++)this.player_.addRemoteTextTrack(E[O],!0);this.preselectTrack()}})),c}j(o,p);var a=o.prototype;return a.preselectTrack=function(){for(var m,E,O,n={captions:1,subtitles:1},i=this.player_.textTracks(),c=this.player_.cache_.selectedLanguage,R=0;R<i.length;R++){var X=i[R];c&&c.enabled&&c.language&&c.language===X.language&&X.kind in n?X.kind===c.kind?O=X:O||(O=X):c&&!c.enabled?(O=null,m=null,E=null):X.default&&("descriptions"!==X.kind||m?X.kind in n&&!E&&(E=X):m=X)}O?O.mode="showing":E?E.mode="showing":m&&(m.mode="showing")},a.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},a.clearDisplay=function(){"function"==typeof z().WebVTT&&z().WebVTT.processCues(z(),[],this.el_)},a.updateDisplay=function(){var n=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){for(var c=[],m=0;m<n.length;++m){var E=n[m];"showing"===E.mode&&c.push(E)}this.updateForTrack(c)}else{for(var O=null,R=null,X=n.length;X--;){var Q=n[X];"showing"===Q.mode&&("descriptions"===Q.kind?O=Q:R=Q)}R?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(R)):O&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(O))}},a.updateDisplayState=function(n){for(var i=this.player_.textTrackSettings.getValues(),c=n.activeCues,m=c.length;m--;){var E=c[m];if(E){var O=E.displayState;if(i.color&&(O.firstChild.style.color=i.color),i.textOpacity&&_c(O.firstChild,"color",Ol(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(O.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&_c(O.firstChild,"backgroundColor",Ol(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?_c(O,"backgroundColor",Ol(i.windowColor,i.windowOpacity)):O.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?O.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+wo:"raised"===i.edgeStyle?O.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+wo:"depressed"===i.edgeStyle?O.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+wo:"uniform"===i.edgeStyle&&(O.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+wo)),i.fontPercent&&1!==i.fontPercent){var R=z().parseFloat(O.style.fontSize);O.style.fontSize=R*i.fontPercent+"px",O.style.height="auto",O.style.top="auto"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?O.firstChild.style.fontVariant="small-caps":O.firstChild.style.fontFamily=cg[i.fontFamily])}}},a.updateForTrack=function(n){if(Array.isArray(n)||(n=[n]),"function"==typeof z().WebVTT&&!n.every(function(ve){return!ve.activeCues})){for(var i=[],c=0;c<n.length;++c)for(var m=n[c],E=0;E<m.activeCues.length;++E)i.push(m.activeCues[E]);z().WebVTT.processCues(z(),i,this.el_);for(var O=0;O<n.length;++O){for(var R=n[O],X=0;X<R.activeCues.length;++X){var Q=R.activeCues[X].displayState;Wo(Q,"vjs-text-track-cue"),Wo(Q,"vjs-text-track-cue-"+(R.language?R.language:O)),R.language&&qa(Q,"lang",R.language)}this.player_.textTrackSettings&&this.updateDisplayState(R)}}},o}(Ft)),Ft.registerComponent("LoadingSpinner",function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(){var n=this.player_.isAudio(),i=this.localize(n?"Audio Player":"Video Player"),c=cr("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),m=p.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return m.appendChild(c),m},o}(Ft));var oo=function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.createEl=function(n,i,c){void 0===i&&(i={}),void 0===c&&(c={});var m=cr("button",i=Hr({className:this.buildCSSClass()},i),c=Hr({type:"button"},c));return m.appendChild(cr("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(m),m},a.addChild=function(n,i){return void 0===i&&(i={}),kn.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),Ft.prototype.addChild.call(this,n,i)},a.enable=function(){p.prototype.enable.call(this),this.el_.removeAttribute("disabled")},a.disable=function(){p.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},a.handleKeyDown=function(n){le().isEventKey(n,"Space")||le().isEventKey(n,"Enter")?n.stopPropagation():p.prototype.handleKeyDown.call(this,n)},o}(yc);Ft.registerComponent("Button",oo);var ad=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).mouseused_=!1,i.on("mousedown",function(c){return i.handleMouseDown(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-big-play-button"},a.handleClick=function(n){var i=this.player_.play();if(this.mouseused_&&n.clientX&&n.clientY){var c=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Za(i),void(this.player_.tech(!0)&&(!ba&&!_a||!c)&&this.player_.tech(!0).focus())}var m=this.player_.getChild("controlBar"),E=m&&m.getChild("playToggle");if(E){var O=function(){return E.focus()};Xa(i)?i.then(O,function(){}):this.setTimeout(O,1)}else this.player_.tech(!0).focus()},a.handleKeyDown=function(n){this.mouseused_=!1,p.prototype.handleKeyDown.call(this,n)},a.handleMouseDown=function(n){this.mouseused_=!0},o}(oo);ad.prototype.controlText_="Play Video",Ft.registerComponent("BigPlayButton",ad),Ft.registerComponent("CloseButton",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-close-button "+p.prototype.buildCSSClass.call(this)},a.handleClick=function(n){this.trigger({type:"close",bubbles:!1})},a.handleKeyDown=function(n){le().isEventKey(n,"Esc")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):p.prototype.handleKeyDown.call(this,n)},o}(oo));var ld=function(p){function o(s,n){var i;return void 0===n&&(n={}),i=p.call(this,s,n)||this,n.replay=void 0===n.replay||n.replay,i.on(s,"play",function(c){return i.handlePlay(c)}),i.on(s,"pause",function(c){return i.handlePause(c)}),n.replay&&i.on(s,"ended",function(c){return i.handleEnded(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-play-control "+p.prototype.buildCSSClass.call(this)},a.handleClick=function(n){this.player_.paused()?Za(this.player_.play()):this.player_.pause()},a.handleSeeked=function(n){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(n):this.handlePlay(n)},a.handlePlay=function(n){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},a.handlePause=function(n){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},a.handleEnded=function(n){var i=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(c){return i.handleSeeked(c)})},o}(oo);ld.prototype.controlText_="Play",Ft.registerComponent("PlayToggle",ld);var Pl=function(o,a){o=o<0?0:o;var s=Math.floor(o%60),n=Math.floor(o/60%60),i=Math.floor(o/3600),c=Math.floor(a/60%60),m=Math.floor(a/3600);return(isNaN(o)||o===1/0)&&(i=n=s="-"),(i=i>0||m>0?i+":":"")+(n=((i||c>=10)&&n<10?"0"+n:n)+":")+(s<10?"0"+s:s)},ud=Pl;function su(p,o){return void 0===o&&(o=p),ud(p,o)}var ou=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,["timeupdate","ended"],function(c){return i.updateContent(c)}),i.updateTextNode_(),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=this.buildCSSClass(),i=p.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"}),c=cr("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xa0"},{role:"presentation"});return i.appendChild(c),this.contentEl_=cr("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),i.appendChild(this.contentEl_),i},a.dispose=function(){this.contentEl_=null,this.textNode_=null,p.prototype.dispose.call(this)},a.updateTextNode_=function(n){var i=this;void 0===n&&(n=0),n=su(n),this.formattedTime_!==n&&(this.formattedTime_=n,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(i.contentEl_){var c=i.textNode_;c&&i.contentEl_.firstChild!==c&&(c=null,kn.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),i.textNode_=ee().createTextNode(i.formattedTime_),i.textNode_&&(c?i.contentEl_.replaceChild(i.textNode_,c):i.contentEl_.appendChild(i.textNode_))}}))},a.updateContent=function(n){},o}(Ft);ou.prototype.labelText_="Time",ou.prototype.controlText_="Time",Ft.registerComponent("TimeDisplay",ou);var vf=function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-current-time"},a.updateContent=function(n){var i;i=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)},o}(ou);vf.prototype.labelText_="Current Time",vf.prototype.controlText_="Current Time",Ft.registerComponent("CurrentTimeDisplay",vf);var yf=function(p){function o(s,n){var i,c=function(E){return i.updateContent(E)};return(i=p.call(this,s,n)||this).on(s,"durationchange",c),i.on(s,"loadstart",c),i.on(s,"loadedmetadata",c),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-duration"},a.updateContent=function(n){var i=this.player_.duration();this.updateTextNode_(i)},o}(ou);yf.prototype.labelText_="Duration",yf.prototype.controlText_="Duration",Ft.registerComponent("DurationDisplay",yf),Ft.registerComponent("TimeDivider",function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(){var n=p.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=p.prototype.createEl.call(this,"div"),c=p.prototype.createEl.call(this,"span",{textContent:"/"});return i.appendChild(c),n.appendChild(i),n},o}(Ft));var Jo=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,"durationchange",function(c){return i.updateContent(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-remaining-time"},a.createEl=function(){var n=p.prototype.createEl.call(this);return n.insertBefore(cr("span",{},{"aria-hidden":!0},"-"),this.contentEl_),n},a.updateContent=function(n){var i;"number"==typeof this.player_.duration()&&(i=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(i))},o}(ou);Jo.prototype.labelText_="Remaining Time",Jo.prototype.controlText_="Remaining Time",Ft.registerComponent("RemainingTimeDisplay",Jo),Ft.registerComponent("LiveDisplay",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).updateShowing(),i.on(i.player(),"durationchange",function(c){return i.updateShowing(c)}),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=p.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=cr("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(cr("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xa0"})),this.contentEl_.appendChild(ee().createTextNode(this.localize("LIVE"))),n.appendChild(this.contentEl_),n},a.dispose=function(){this.contentEl_=null,p.prototype.dispose.call(this)},a.updateShowing=function(n){this.player().duration()===1/0?this.show():this.hide()},o}(Ft));var bf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&(i.updateLiveEdgeStatusHandler_=function(c){return i.updateLiveEdgeStatus(c)},i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatusHandler_)),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=p.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=cr("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),n.appendChild(this.textEl_),n},a.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},a.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},a.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,p.prototype.dispose.call(this)},o}(oo);bf.prototype.controlText_="Seek to live, currently playing live",Ft.registerComponent("SeekToLive",bf);var au=function(o,a,s){return o=Number(o),Math.min(s,Math.max(a,isNaN(o)?a:o))},Cf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).handleMouseDown_=function(c){return i.handleMouseDown(c)},i.handleMouseUp_=function(c){return i.handleMouseUp(c)},i.handleKeyDown_=function(c){return i.handleKeyDown(c)},i.handleClick_=function(c){return i.handleClick(c)},i.handleMouseMove_=function(c){return i.handleMouseMove(c)},i.update_=function(c){return i.update(c)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}j(o,p);var a=o.prototype;return a.enabled=function(){return this.enabled_},a.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},a.disable=function(){if(this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},a.createEl=function(n,i,c){return void 0===i&&(i={}),void 0===c&&(c={}),i.className=i.className+" vjs-slider",i=Hr({tabIndex:0},i),c=Hr({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c),p.prototype.createEl.call(this,n,i,c)},a.handleMouseDown=function(n){var i=this.bar.el_.ownerDocument;"mousedown"===n.type&&n.preventDefault(),"touchstart"===n.type&&!ro&&n.preventDefault(),Ea(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(n)},a.handleMouseMove=function(n){},a.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;Bu(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()},a.update=function(){var n=this;if(this.el_&&this.bar){var i=this.getProgress();return i===this.progress_||(this.progress_=i,this.requestNamedAnimationFrame("Slider#update",function(){var c=n.vertical()?"height":"width";n.bar.el().style[c]=(100*i).toFixed(2)+"%"})),i}},a.getProgress=function(){return Number(au(this.getPercent(),0,1).toFixed(4))},a.calculateDistance=function(n){var i=bi(this.el_,n);return this.vertical()?i.y:i.x},a.handleKeyDown=function(n){le().isEventKey(n,"Left")||le().isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepBack()):le().isEventKey(n,"Right")||le().isEventKey(n,"Up")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):p.prototype.handleKeyDown.call(this,n)},a.handleClick=function(n){n.stopPropagation(),n.preventDefault()},a.vertical=function(n){if(void 0===n)return this.vertical_||!1;this.vertical_=!!n,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},o}(Ft);Ft.registerComponent("Slider",Cf);var Tf=function(o,a){return au(o/a*100,0,100).toFixed(2)+"%"};Ft.registerComponent("LoadProgressBar",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).partEls_=[],i.on(s,"progress",function(c){return i.update(c)}),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=p.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=cr("span",{className:"vjs-control-text"}),c=cr("span",{textContent:this.localize("Loaded")}),m=ee().createTextNode(": ");return this.percentageEl_=cr("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),n.appendChild(i),i.appendChild(c),i.appendChild(m),i.appendChild(this.percentageEl_),n},a.dispose=function(){this.partEls_=null,this.percentageEl_=null,p.prototype.dispose.call(this)},a.update=function(n){var i=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var c=i.player_.liveTracker,m=i.player_.buffered(),E=c&&c.isLive()?c.seekableEnd():i.player_.duration(),O=i.player_.bufferedEnd(),R=i.partEls_,X=Tf(O,E);i.percent_!==X&&(i.el_.style.width=X,Jr(i.percentageEl_,X),i.percent_=X);for(var Q=0;Q<m.length;Q++){var ve=m.start(Q),Me=m.end(Q),we=R[Q];we||(we=i.el_.appendChild(cr()),R[Q]=we),(we.dataset.start!==ve||we.dataset.end!==Me)&&(we.dataset.start=ve,we.dataset.end=Me,we.style.left=Tf(ve,O),we.style.width=Tf(Me-ve,O))}for(var Se=R.length;Se>m.length;Se--)i.el_.removeChild(R[Se-1]);R.length=m.length})},o}(Ft)),Ft.registerComponent("TimeTooltip",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},a.update=function(n,i,c){var m=Go(this.el_),E=vl(this.player_.el()),O=n.width*i;if(E&&m){var R=n.left-E.left+O,X=n.width-O+(E.right-n.right),Q=m.width/2;R<Q?Q+=Q-R:X<Q&&(Q=X),Q<0?Q=0:Q>m.width&&(Q=m.width),Q=Math.round(Q),this.el_.style.right="-"+Q+"px",this.write(c)}},a.write=function(n){Jr(this.el_,n)},a.updateTime=function(n,i,c,m){var E=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var O,R=E.player_.duration();if(E.player_.liveTracker&&E.player_.liveTracker.isLive()){var X=E.player_.liveTracker.liveWindow(),Q=X-i*X;O=(Q<1?"":"-")+su(Q,X)}else O=su(c,R);E.update(n,i,O),m&&m()})},o}(Ft));var cd=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},a.update=function(n,i){var c=this.getChild("timeTooltip");if(c){var m=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();c.updateTime(n,i,m)}},o}(Ft);cd.prototype.options_={children:[]},!yi&&!Bi&&cd.prototype.options_.children.push("timeTooltip"),Ft.registerComponent("PlayProgressBar",cd);var xf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},a.update=function(n,i){var c=this,m=i*this.player_.duration();this.getChild("timeTooltip").updateTime(n,i,m,function(){c.el_.style.left=n.width*i+"px"})},o}(Ft);xf.prototype.options_={children:["timeTooltip"]},Ft.registerComponent("MouseTimeDisplay",xf);var wf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).setEventHandlers_(),i}j(o,p);var a=o.prototype;return a.setEventHandlers_=function(){var n=this;this.update_=I(this,this.update),this.update=D(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(i){return n.enableInterval_(i)},this.disableIntervalHandler_=function(i){return n.disableInterval_(i)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ee()&&"visibilityState"in ee()&&this.on(ee(),"visibilitychange",this.toggleVisibility_)},a.toggleVisibility_=function(n){"hidden"===ee().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(n)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},a.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},a.disableInterval_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&n&&"ended"!==n.type||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},a.update=function(n){var i=this;if("hidden"!==ee().visibilityState){var c=p.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var m=i.player_.ended()?i.player_.duration():i.getCurrentTime_(),E=i.player_.liveTracker,O=i.player_.duration();E&&E.isLive()&&(O=i.player_.liveTracker.liveCurrentTime()),i.percent_!==c&&(i.el_.setAttribute("aria-valuenow",(100*c).toFixed(2)),i.percent_=c),(i.currentTime_!==m||i.duration_!==O)&&(i.el_.setAttribute("aria-valuetext",i.localize("progress bar timing: currentTime={1} duration={2}",[su(m,O),su(O,O)],"{1} of {2}")),i.currentTime_=m,i.duration_=O),i.bar&&i.bar.update(vl(i.el()),i.getProgress())}),c}},a.userSeek_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(n)},a.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},a.getPercent=function(){var i,n=this.getCurrentTime_(),c=this.player_.liveTracker;return c&&c.isLive()?(i=(n-c.seekableStart())/c.liveWindow(),c.atLiveEdge()&&(i=1)):i=n/this.player_.duration(),i},a.handleMouseDown=function(n){!xa(n)||(n.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),p.prototype.handleMouseDown.call(this,n))},a.handleMouseMove=function(n){if(xa(n)){var i,c=this.calculateDistance(n),m=this.player_.liveTracker;if(m&&m.isLive()){if(c>=.99)return void m.seekToLiveEdge();var E=m.seekableStart(),O=m.liveCurrentTime();if((i=E+c*m.liveWindow())>=O&&(i=O),i<=E&&(i=E+.1),i===1/0)return}else(i=c*this.player_.duration())===this.player_.duration()&&(i-=.1);this.userSeek_(i)}},a.enable=function(){p.prototype.enable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.show()},a.disable=function(){p.prototype.disable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.hide()},a.handleMouseUp=function(n){p.prototype.handleMouseUp.call(this,n),n&&n.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Za(this.player_.play()):this.update_()},a.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},a.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},a.handleAction=function(n){this.player_.paused()?this.player_.play():this.player_.pause()},a.handleKeyDown=function(n){var i=this.player_.liveTracker;if(le().isEventKey(n,"Space")||le().isEventKey(n,"Enter"))n.preventDefault(),n.stopPropagation(),this.handleAction(n);else if(le().isEventKey(n,"Home"))n.preventDefault(),n.stopPropagation(),this.userSeek_(0);else if(le().isEventKey(n,"End"))n.preventDefault(),n.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(le()(n))){n.preventDefault(),n.stopPropagation();var c=10*(le().codes[le()(n)]-le().codes[0])/100;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*c):this.userSeek_(this.player_.duration()*c)}else le().isEventKey(n,"PgDn")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):le().isEventKey(n,"PgUp")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):p.prototype.handleKeyDown.call(this,n)},a.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ee()&&"visibilityState"in ee()&&this.off(ee(),"visibilitychange",this.toggleVisibility_),p.prototype.dispose.call(this)},o}(Cf);wf.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!yi&&!Bi&&wf.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ft.registerComponent("SeekBar",wf);var rv=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).handleMouseMove=D(I(ue(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=D(I(ue(i),i.handleMouseSeek),30),i.handleMouseUpHandler_=function(c){return i.handleMouseUp(c)},i.handleMouseDownHandler_=function(c){return i.handleMouseDown(c)},i.enable(),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},a.handleMouseMove=function(n){var i=this.getChild("seekBar");if(i){var c=i.getChild("playProgressBar"),m=i.getChild("mouseTimeDisplay");if(c||m){var E=i.el(),O=Go(E),R=bi(E,n).x;R=au(R,0,1),m&&m.update(O,R),c&&c.update(O,i.getProgress())}}},a.handleMouseSeek=function(n){var i=this.getChild("seekBar");i&&i.handleMouseMove(n)},a.enabled=function(){return this.enabled_},a.disable=function(){if(this.children().forEach(function(i){return i.disable&&i.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var n=this.getChild("seekBar");this.player_.scrubbing(!1),n.videoWasPlaying&&Za(this.player_.play())}},a.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},a.removeListenersAddedOnMousedownAndTouchstart=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseSeek),this.off(n,"touchmove",this.throttledHandleMouseSeek),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},a.handleMouseDown=function(n){var i=this.el_.ownerDocument,c=this.getChild("seekBar");c&&c.handleMouseDown(n),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)},a.handleMouseUp=function(n){var i=this.getChild("seekBar");i&&i.handleMouseUp(n),this.removeListenersAddedOnMousedownAndTouchstart()},o}(Ft);rv.prototype.options_={children:["seekBar"]},Ft.registerComponent("ProgressControl",rv);var dd=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,["enterpictureinpicture","leavepictureinpicture"],function(c){return i.handlePictureInPictureChange(c)}),i.on(s,["disablepictureinpicturechanged","loadedmetadata"],function(c){return i.handlePictureInPictureEnabledChange(c)}),i.disable(),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-picture-in-picture-control "+p.prototype.buildCSSClass.call(this)},a.handlePictureInPictureEnabledChange=function(){ee().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},a.handlePictureInPictureChange=function(n){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},a.handleClick=function(n){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},o}(oo);dd.prototype.controlText_="Picture-in-Picture",Ft.registerComponent("PictureInPictureToggle",dd);var qu=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,"fullscreenchange",function(c){return i.handleFullscreenChange(c)}),!1===ee()[s.fsApi_.fullscreenEnabled]&&i.disable(),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-fullscreen-control "+p.prototype.buildCSSClass.call(this)},a.handleFullscreenChange=function(n){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},a.handleClick=function(n){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},o}(oo);qu.prototype.controlText_="Fullscreen",Ft.registerComponent("FullscreenToggle",qu),Ft.registerComponent("VolumeLevel",function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(){var n=p.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return n.appendChild(p.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),n},o}(Ft)),Ft.registerComponent("VolumeLevelTooltip",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},a.update=function(n,i,c,m){if(!c){var E=vl(this.el_),O=vl(this.player_.el()),R=n.width*i;if(!O||!E)return;var X=n.left-O.left+R,Q=n.width-R+(O.right-n.right),ve=E.width/2;X<ve?ve+=ve-X:Q<ve&&(ve=Q),ve<0?ve=0:ve>E.width&&(ve=E.width),this.el_.style.right="-"+ve+"px"}this.write(m+"%")},a.write=function(n){Jr(this.el_,n)},a.updateVolume=function(n,i,c,m,E){var O=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){O.update(n,i,c,m.toFixed(0)),E&&E()})},o}(Ft));var Sf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},a.update=function(n,i,c){var m=this,E=100*i;this.getChild("volumeLevelTooltip").updateVolume(n,i,c,E,function(){c?m.el_.style.bottom=n.height*i+"px":m.el_.style.left=n.width*i+"px"})},o}(Ft);Sf.prototype.options_={children:["volumeLevelTooltip"]},Ft.registerComponent("MouseVolumeLevelDisplay",Sf);var Ec=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on("slideractive",function(c){return i.updateLastVolume_(c)}),i.on(s,"volumechange",function(c){return i.updateARIAAttributes(c)}),s.ready(function(){return i.updateARIAAttributes()}),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},a.handleMouseDown=function(n){!xa(n)||p.prototype.handleMouseDown.call(this,n)},a.handleMouseMove=function(n){var i=this.getChild("mouseVolumeLevelDisplay");if(i){var c=this.el(),m=vl(c),E=this.vertical(),O=bi(c,n);O=au(O=E?O.y:O.x,0,1),i.update(m,O,E)}!xa(n)||(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},a.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},a.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},a.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},a.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},a.updateARIAAttributes=function(n){var i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")},a.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},a.updateLastVolume_=function(){var n=this,i=this.player_.volume();this.one("sliderinactive",function(){0===n.player_.volume()&&n.player_.lastVolume_(i)})},o}(Cf);Ec.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!yi&&!Bi&&Ec.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Ec.prototype.playerEvent="volumechange",Ft.registerComponent("VolumeBar",Ec);var fd=function(p){function o(s,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||Gl(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),function(o,a){a.tech_&&!a.tech_.featuresVolumeControl&&o.addClass("vjs-hidden"),o.on(a,"loadstart",function(){a.tech_.featuresVolumeControl?o.removeClass("vjs-hidden"):o.addClass("vjs-hidden")})}(ue(i=p.call(this,s,n)||this),s),i.throttledHandleMouseMove=D(I(ue(i),i.handleMouseMove),30),i.handleMouseUpHandler_=function(c){return i.handleMouseUp(c)},i.on("mousedown",function(c){return i.handleMouseDown(c)}),i.on("touchstart",function(c){return i.handleMouseDown(c)}),i.on("mousemove",function(c){return i.handleMouseMove(c)}),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n="vjs-volume-horizontal";return this.options_.vertical&&(n="vjs-volume-vertical"),p.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+n})},a.handleMouseDown=function(n){var i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)},a.handleMouseUp=function(n){var i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)},a.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},o}(Ft);fd.prototype.options_={children:["volumeBar"]},Ft.registerComponent("VolumeControl",fd);var lu=function(p){function o(s,n){var i;return function(o,a){a.tech_&&!a.tech_.featuresMuteControl&&o.addClass("vjs-hidden"),o.on(a,"loadstart",function(){a.tech_.featuresMuteControl?o.removeClass("vjs-hidden"):o.addClass("vjs-hidden")})}(ue(i=p.call(this,s,n)||this),s),i.on(s,["loadstart","volumechange"],function(c){return i.update(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-mute-control "+p.prototype.buildCSSClass.call(this)},a.handleClick=function(n){var i=this.player_.volume(),c=this.player_.lastVolume_();0===i?(this.player_.volume(c<.1?.1:c),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},a.update=function(n){this.updateIcon_(),this.updateControlText_()},a.updateIcon_=function(){var n=this.player_.volume(),i=3;yi&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===n||this.player_.muted()?i=0:n<.33?i=1:n<.67&&(i=2);for(var c=0;c<4;c++)To(this.el_,"vjs-vol-"+c);Wo(this.el_,"vjs-vol-"+i)},a.updateControlText_=function(){var i=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)},o}(oo);lu.prototype.controlText_="Mute",Ft.registerComponent("MuteToggle",lu);var qh=function(p){function o(s,n){var i;return void 0===n&&(n={}),n.inline=void 0===n.inline||n.inline,(void 0===n.volumeControl||Gl(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=p.call(this,s,n)||this).handleKeyPressHandler_=function(c){return i.handleKeyPress(c)},i.on(s,["loadstart"],function(c){return i.volumePanelState_(c)}),i.on(i.muteToggle,"keyup",function(c){return i.handleKeyPress(c)}),i.on(i.volumeControl,"keyup",function(c){return i.handleVolumeControlKeyUp(c)}),i.on("keydown",function(c){return i.handleKeyPress(c)}),i.on("mouseover",function(c){return i.handleMouseOver(c)}),i.on("mouseout",function(c){return i.handleMouseOut(c)}),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}j(o,p);var a=o.prototype;return a.sliderActive_=function(){this.addClass("vjs-slider-active")},a.sliderInactive_=function(){this.removeClass("vjs-slider-active")},a.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},a.createEl=function(){var n="vjs-volume-panel-horizontal";return this.options_.inline||(n="vjs-volume-panel-vertical"),p.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+n})},a.dispose=function(){this.handleMouseOut(),p.prototype.dispose.call(this)},a.handleVolumeControlKeyUp=function(n){le().isEventKey(n,"Esc")&&this.muteToggle.focus()},a.handleMouseOver=function(n){this.addClass("vjs-hover"),Os(ee(),"keyup",this.handleKeyPressHandler_)},a.handleMouseOut=function(n){this.removeClass("vjs-hover"),Ci(ee(),"keyup",this.handleKeyPressHandler_)},a.handleKeyPress=function(n){le().isEventKey(n,"Esc")&&this.handleMouseOut()},o}(Ft);qh.prototype.options_={children:["muteToggle","volumeControl"]},Ft.registerComponent("VolumePanel",qh);var hd=function(p){function o(s,n){var i;return i=p.call(this,s,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",function(c){return i.handleKeyDown(c)}),i.boundHandleBlur_=function(c){return i.handleBlur(c)},i.boundHandleTapClick_=function(c){return i.handleTapClick(c)},i}j(o,p);var a=o.prototype;return a.addEventListenerForItem=function(n){n instanceof Ft&&(this.on(n,"blur",this.boundHandleBlur_),this.on(n,["tap","click"],this.boundHandleTapClick_))},a.removeEventListenerForItem=function(n){n instanceof Ft&&(this.off(n,"blur",this.boundHandleBlur_),this.off(n,["tap","click"],this.boundHandleTapClick_))},a.removeChild=function(n){"string"==typeof n&&(n=this.getChild(n)),this.removeEventListenerForItem(n),p.prototype.removeChild.call(this,n)},a.addItem=function(n){var i=this.addChild(n);i&&this.addEventListenerForItem(i)},a.createEl=function(){this.contentEl_=cr(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=p.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),Os(i,"click",function(c){c.preventDefault(),c.stopImmediatePropagation()}),i},a.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,p.prototype.dispose.call(this)},a.handleBlur=function(n){var i=n.relatedTarget||ee().activeElement;if(!this.children().some(function(m){return m.el()===i})){var c=this.menuButton_;c&&c.buttonPressed_&&i!==c.el().firstChild&&c.unpressButton()}},a.handleTapClick=function(n){if(this.menuButton_){this.menuButton_.unpressButton();var i=this.children();if(!Array.isArray(i))return;var c=i.filter(function(m){return m.el()===n.target})[0];if(!c)return;"CaptionSettingsMenuItem"!==c.name()&&this.menuButton_.focus()}},a.handleKeyDown=function(n){le().isEventKey(n,"Left")||le().isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):(le().isEventKey(n,"Right")||le().isEventKey(n,"Up"))&&(n.preventDefault(),n.stopPropagation(),this.stepBack())},a.stepForward=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_+1),this.focus(n)},a.stepBack=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_-1),this.focus(n)},a.focus=function(n){void 0===n&&(n=0);var i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(n<0?n=0:n>=i.length&&(n=i.length-1),this.focusedChild_=n,i[n].el_.focus())},o}(Ft);Ft.registerComponent("Menu",hd);var xc=function(p){function o(s,n){var i;void 0===n&&(n={}),(i=p.call(this,s,n)||this).menuButton_=new oo(s,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var c=oo.prototype.buildCSSClass();i.menuButton_.el_.className=i.buildCSSClass()+" "+c,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0;var m=function(O){return i.handleClick(O)};return i.handleMenuKeyUp_=function(E){return i.handleMenuKeyUp(E)},i.on(i.menuButton_,"tap",m),i.on(i.menuButton_,"click",m),i.on(i.menuButton_,"keydown",function(E){return i.handleKeyDown(E)}),i.on(i.menuButton_,"mouseenter",function(){i.addClass("vjs-hover"),i.menu.show(),Os(ee(),"keyup",i.handleMenuKeyUp_)}),i.on("mouseleave",function(E){return i.handleMouseLeave(E)}),i.on("keydown",function(E){return i.handleSubmenuKeyDown(E)}),i}j(o,p);var a=o.prototype;return a.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.addChild(n),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},a.createMenu=function(){var n=new hd(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var i=cr("li",{className:"vjs-menu-title",textContent:xr(this.options_.title),tabIndex:-1}),c=new Ft(this.player_,{el:i});n.addItem(c)}if(this.items=this.createItems(),this.items)for(var m=0;m<this.items.length;m++)n.addItem(this.items[m]);return n},a.createItems=function(){},a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},a.buildWrapperCSSClass=function(){var n="vjs-menu-button";return"vjs-menu-button "+(n+=!0===this.options_.inline?"-inline":"-popup")+" "+oo.prototype.buildCSSClass()+" "+p.prototype.buildCSSClass.call(this)},a.buildCSSClass=function(){var n="vjs-menu-button";return"vjs-menu-button "+(n+=!0===this.options_.inline?"-inline":"-popup")+" "+p.prototype.buildCSSClass.call(this)},a.controlText=function(n,i){return void 0===i&&(i=this.menuButton_.el()),this.menuButton_.controlText(n,i)},a.dispose=function(){this.handleMouseLeave(),p.prototype.dispose.call(this)},a.handleClick=function(n){this.buttonPressed_?this.unpressButton():this.pressButton()},a.handleMouseLeave=function(n){this.removeClass("vjs-hover"),Ci(ee(),"keyup",this.handleMenuKeyUp_)},a.focus=function(){this.menuButton_.focus()},a.blur=function(){this.menuButton_.blur()},a.handleKeyDown=function(n){le().isEventKey(n,"Esc")||le().isEventKey(n,"Tab")?(this.buttonPressed_&&this.unpressButton(),le().isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus())):(le().isEventKey(n,"Up")||le().isEventKey(n,"Down"))&&(this.buttonPressed_||(n.preventDefault(),this.pressButton()))},a.handleMenuKeyUp=function(n){(le().isEventKey(n,"Esc")||le().isEventKey(n,"Tab"))&&this.removeClass("vjs-hover")},a.handleSubmenuKeyPress=function(n){this.handleSubmenuKeyDown(n)},a.handleSubmenuKeyDown=function(n){(le().isEventKey(n,"Esc")||le().isEventKey(n,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),le().isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus()))},a.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),yi&&Gr())return;this.menu.focus()}},a.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},a.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},a.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},o}(Ft);Ft.registerComponent("MenuButton",xc);var Dl=function(p){function o(a,s){var n,i=s.tracks;if((n=p.call(this,a,s)||this).items.length<=1&&n.hide(),!i)return ue(n);var c=I(ue(n),n.update);return i.addEventListener("removetrack",c),i.addEventListener("addtrack",c),i.addEventListener("labelchange",c),n.player_.on("ready",c),n.player_.on("dispose",function(){i.removeEventListener("removetrack",c),i.removeEventListener("addtrack",c),i.removeEventListener("labelchange",c)}),n}return j(o,p),o}(xc);Ft.registerComponent("TrackButton",Dl);var e_=["Tab","Esc","Up","Down","Right","Left"],Of=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.el_.setAttribute("role",i.selectable?i.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),i}j(o,p);var a=o.prototype;return a.createEl=function(n,i,c){this.nonIconControl=!0;var m=p.prototype.createEl.call(this,"li",Hr({className:"vjs-menu-item",tabIndex:-1},i),c);return m.replaceChild(cr("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),m.querySelector(".vjs-icon-placeholder")),m},a.handleKeyDown=function(n){e_.some(function(i){return le().isEventKey(n,i)})||p.prototype.handleKeyDown.call(this,n)},a.handleClick=function(n){this.selected(!0)},a.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},o}(yc);Ft.registerComponent("MenuItem",Of);var gn=function(p){function o(s,n){var i,c=n.track,m=s.textTracks();n.label=c.label||c.language||"Unknown",n.selected="showing"===c.mode,(i=p.call(this,s,n)||this).track=c,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var R,E=function(){for(var Q=arguments.length,ve=new Array(Q),Me=0;Me<Q;Me++)ve[Me]=arguments[Me];i.handleTracksChange.apply(ue(i),ve)},O=function(){for(var Q=arguments.length,ve=new Array(Q),Me=0;Me<Q;Me++)ve[Me]=arguments[Me];i.handleSelectedLanguageChange.apply(ue(i),ve)};return s.on(["loadstart","texttrackchange"],E),m.addEventListener("change",E),m.addEventListener("selectedlanguagechange",O),i.on("dispose",function(){s.off(["loadstart","texttrackchange"],E),m.removeEventListener("change",E),m.removeEventListener("selectedlanguagechange",O)}),void 0===m.onchange&&i.on(["tap","click"],function(){if("object"!=typeof z().Event)try{R=new(z().Event)("change")}catch(X){}R||(R=ee().createEvent("Event")).initEvent("change",!0,!0),m.dispatchEvent(R)}),i.handleTracksChange(),i}j(o,p);var a=o.prototype;return a.handleClick=function(n){var i=this.track,c=this.player_.textTracks();if(p.prototype.handleClick.call(this,n),c)for(var m=0;m<c.length;m++){var E=c[m];-1!==this.kinds.indexOf(E.kind)&&(E===i?"showing"!==E.mode&&(E.mode="showing"):"disabled"!==E.mode&&(E.mode="disabled"))}},a.handleTracksChange=function(n){var i="showing"===this.track.mode;i!==this.isSelected_&&this.selected(i)},a.handleSelectedLanguageChange=function(n){if("showing"===this.track.mode){var i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},a.dispose=function(){this.track=null,p.prototype.dispose.call(this)},o}(Of);Ft.registerComponent("TextTrackMenuItem",gn);var Zi=function(p){function o(s,n){return n.track={player:s,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,p.call(this,s,n)||this}j(o,p);var a=o.prototype;return a.handleTracksChange=function(n){for(var i=this.player().textTracks(),c=!0,m=0,E=i.length;m<E;m++){var O=i[m];if(this.options_.kinds.indexOf(O.kind)>-1&&"showing"===O.mode){c=!1;break}}c!==this.isSelected_&&this.selected(c)},a.handleSelectedLanguageChange=function(n){for(var i=this.player().textTracks(),c=!0,m=0,E=i.length;m<E;m++){var O=i[m];if(["captions","descriptions","subtitles"].indexOf(O.kind)>-1&&"showing"===O.mode){c=!1;break}}c&&(this.player_.cache_.selectedLanguage={enabled:!1})},o}(gn);Ft.registerComponent("OffTextTrackMenuItem",Zi);var ka=function(p){function o(s,n){return void 0===n&&(n={}),n.tracks=s.textTracks(),p.call(this,s,n)||this}return j(o,p),o.prototype.createItems=function(n,i){var c;void 0===n&&(n=[]),void 0===i&&(i=gn),this.label_&&(c=this.label_+" off"),n.push(new Zi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:c})),this.hideThreshold_+=1;var m=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var E=0;E<m.length;E++){var O=m[E];if(this.kinds_.indexOf(O.kind)>-1){var R=new i(this.player_,{track:O,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});R.addClass("vjs-"+O.kind+"-menu-item"),n.push(R)}}return n},o}(Dl);Ft.registerComponent("TextTrackButton",ka);var wc=function(p){function o(s,n){var i,c=n.track,m=n.cue,E=s.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=m.text,n.selected=m.startTime<=E&&E<m.endTime,(i=p.call(this,s,n)||this).track=c,i.cue=m,c.addEventListener("cuechange",I(ue(i),i.update)),i}j(o,p);var a=o.prototype;return a.handleClick=function(n){p.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},a.update=function(n){var i=this.cue,c=this.player_.currentTime();this.selected(i.startTime<=c&&c<i.endTime)},o}(Of);Ft.registerComponent("ChaptersTrackMenuItem",wc);var uu=function(p){function o(s,n,i){return p.call(this,s,n,i)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-chapters-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-chapters-button "+p.prototype.buildWrapperCSSClass.call(this)},a.update=function(n){(!this.track_||n&&("addtrack"===n.type||"removetrack"===n.type))&&this.setTrack(this.findChaptersTrack()),p.prototype.update.call(this)},a.setTrack=function(n){if(this.track_!==n){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=n,this.track_){this.track_.mode="hidden";var c=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);c&&c.addEventListener("load",this.updateHandler_)}}},a.findChaptersTrack=function(){for(var n=this.player_.textTracks()||[],i=n.length-1;i>=0;i--){var c=n[i];if(c.kind===this.kind_)return c}},a.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(xr(this.kind_))},a.createMenu=function(){return this.options_.title=this.getMenuCaption(),p.prototype.createMenu.call(this)},a.createItems=function(){var n=[];if(!this.track_)return n;var i=this.track_.cues;if(!i)return n;for(var c=0,m=i.length;c<m;c++){var O=new wc(this.player_,{track:this.track_,cue:i[c]});n.push(O)}return n},o}(ka);uu.prototype.kind_="chapters",uu.prototype.controlText_="Chapters",Ft.registerComponent("ChaptersButton",uu);var pd=function(p){function o(s,n,i){var c;c=p.call(this,s,n,i)||this;var m=s.textTracks(),E=I(ue(c),c.handleTracksChange);return m.addEventListener("change",E),c.on("dispose",function(){m.removeEventListener("change",E)}),c}j(o,p);var a=o.prototype;return a.handleTracksChange=function(n){for(var i=this.player().textTracks(),c=!1,m=0,E=i.length;m<E;m++){var O=i[m];if(O.kind!==this.kind_&&"showing"===O.mode){c=!0;break}}c?this.disable():this.enable()},a.buildCSSClass=function(){return"vjs-descriptions-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+p.prototype.buildWrapperCSSClass.call(this)},o}(ka);pd.prototype.kind_="descriptions",pd.prototype.controlText_="Descriptions",Ft.registerComponent("DescriptionsButton",pd);var cu=function(p){function o(s,n,i){return p.call(this,s,n,i)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-subtitles-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+p.prototype.buildWrapperCSSClass.call(this)},o}(ka);cu.prototype.kind_="subtitles",cu.prototype.controlText_="Subtitles",Ft.registerComponent("SubtitlesButton",cu);var Pn=function(p){function o(s,n){var i;return n.track={player:s,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=p.call(this,s,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return j(o,p),o.prototype.handleClick=function(n){this.player().getChild("textTrackSettings").open()},o}(gn);Ft.registerComponent("CaptionSettingsMenuItem",Pn);var du=function(p){function o(s,n,i){return p.call(this,s,n,i)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-captions-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-captions-button "+p.prototype.buildWrapperCSSClass.call(this)},a.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Pn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),p.prototype.createItems.call(this,n)},o}(ka);du.prototype.kind_="captions",du.prototype.controlText_="Captions",Ft.registerComponent("CaptionsButton",du);var gd=function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(n,i,c){var m=p.prototype.createEl.call(this,n,i,c),E=m.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(E.appendChild(cr("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),E.appendChild(cr("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),m},o}(gn);Ft.registerComponent("SubsCapsMenuItem",gd);var ti=function(p){function o(s,n){var i;return void 0===n&&(n={}),(i=p.call(this,s,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(xr(i.label_)),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-subs-caps-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+p.prototype.buildWrapperCSSClass.call(this)},a.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Pn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),p.prototype.createItems.call(this,n,gd)},o}(ka);ti.prototype.kinds_=["captions","subtitles"],ti.prototype.controlText_="Subtitles",Ft.registerComponent("SubsCapsButton",ti);var tl=function(p){function o(s,n){var i,c=n.track,m=s.audioTracks();n.label=c.label||c.language||"Unknown",n.selected=c.enabled,(i=p.call(this,s,n)||this).track=c,i.addClass("vjs-"+c.kind+"-menu-item");var E=function(){for(var R=arguments.length,X=new Array(R),Q=0;Q<R;Q++)X[Q]=arguments[Q];i.handleTracksChange.apply(ue(i),X)};return m.addEventListener("change",E),i.on("dispose",function(){m.removeEventListener("change",E)}),i}j(o,p);var a=o.prototype;return a.createEl=function(n,i,c){var m=p.prototype.createEl.call(this,n,i,c),E=m.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(E.appendChild(p.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),E.appendChild(p.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),m},a.handleClick=function(n){p.prototype.handleClick.call(this,n),this.track.enabled=!0},a.handleTracksChange=function(n){this.selected(this.track.enabled)},o}(Of);Ft.registerComponent("AudioTrackMenuItem",tl);var md=function(p){function o(s,n){return void 0===n&&(n={}),n.tracks=s.audioTracks(),p.call(this,s,n)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-audio-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-audio-button "+p.prototype.buildWrapperCSSClass.call(this)},a.createItems=function(n){void 0===n&&(n=[]),this.hideThreshold_=1;for(var i=this.player_.audioTracks(),c=0;c<i.length;c++)n.push(new tl(this.player_,{track:i[c],selectable:!0,multiSelectable:!1}));return n},o}(Dl);md.prototype.controlText_="Audio Track",Ft.registerComponent("AudioTrackButton",md);var Ku=function(p){function o(s,n){var i,c=n.rate,m=parseFloat(c,10);return n.label=c,n.selected=m===s.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(i=p.call(this,s,n)||this).label=c,i.rate=m,i.on(s,"ratechange",function(E){return i.update(E)}),i}j(o,p);var a=o.prototype;return a.handleClick=function(n){p.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},a.update=function(n){this.selected(this.player().playbackRate()===this.rate)},o}(Of);Ku.prototype.contentElType="button",Ft.registerComponent("PlaybackRateMenuItem",Ku);var Ra=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(s,"loadstart",function(c){return i.updateVisibility(c)}),i.on(s,"ratechange",function(c){return i.updateLabel(c)}),i.on(s,"playbackrateschange",function(c){return i.handlePlaybackRateschange(c)}),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=p.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=cr("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),n.appendChild(this.labelEl_),n},a.dispose=function(){this.labelEl_=null,p.prototype.dispose.call(this)},a.buildCSSClass=function(){return"vjs-playback-rate "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-playback-rate "+p.prototype.buildWrapperCSSClass.call(this)},a.createItems=function(){for(var n=this.playbackRates(),i=[],c=n.length-1;c>=0;c--)i.push(new Ku(this.player(),{rate:n[c]+"x"}));return i},a.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},a.handleClick=function(n){for(var i=this.player().playbackRate(),c=this.playbackRates(),m=c[0],E=0;E<c.length;E++)if(c[E]>i){m=c[E];break}this.player().playbackRate(m)},a.handlePlaybackRateschange=function(n){this.update()},a.playbackRates=function(){var n=this.player();return n.playbackRates&&n.playbackRates()||[]},a.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},a.updateVisibility=function(n){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},a.updateLabel=function(n){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},o}(xc);Ra.prototype.controlText_="Playback Rate",Ft.registerComponent("PlaybackRateMenuButton",Ra);var Kh=function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-spacer "+p.prototype.buildCSSClass.call(this)},a.createEl=function(n,i,c){return void 0===n&&(n="div"),void 0===i&&(i={}),void 0===c&&(c={}),i.className||(i.className=this.buildCSSClass()),p.prototype.createEl.call(this,n,i,c)},o}(Ft);Ft.registerComponent("Spacer",Kh),Ft.registerComponent("CustomControlSpacer",function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-custom-control-spacer "+p.prototype.buildCSSClass.call(this)},a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xa0"})},o}(Kh));var Yu=function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},o}(Ft);Yu.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in ee()&&Yu.prototype.options_.children.splice(Yu.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ft.registerComponent("ControlBar",Yu);var vd=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,"error",function(c){return i.open(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-error-display "+p.prototype.buildCSSClass.call(this)},a.content=function(){var n=this.player().error();return n?this.localize(n.message):""},o}(so);vd.prototype.options_=ce({},so.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ft.registerComponent("ErrorDisplay",vd);var hn="vjs-text-track-settings",yd=["#000","Black"],Pf=["#00F","Blue"],fu=["#0FF","Cyan"],ji=["#0F0","Green"],Sc=["#F0F","Magenta"],Oc=["#F00","Red"],_d=["#FFF","White"],ni=["#FF0","Yellow"],hu=["1","Opaque"],Pc=["0.5","Semi-Transparent"],Xu=["0","Transparent"],Zs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[yd,_d,Oc,ji,Pf,ni,Sc,fu]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[hu,Pc,Xu]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[_d,yd,Oc,ji,Pf,ni,Sc,fu]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(o){return"1.00"===o?null:Number(o)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[hu,Pc]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Xu,Pc,hu]}};function bd(p,o){if(o&&(p=o(p)),p&&"none"!==p)return p}Zs.windowColor.options=Zs.backgroundColor.options,Ft.registerComponent("TextTrackSettings",function(p){function o(s,n){var i;return n.temporary=!1,(i=p.call(this,s,n)||this).updateDisplay=i.updateDisplay.bind(ue(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=cr("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),Zr(Zs,function(c){i.on(i.$(c.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}j(o,p);var a=o.prototype;return a.dispose=function(){this.endDialog=null,p.prototype.dispose.call(this)},a.createElSelect_=function(n,i,c){var m=this;void 0===i&&(i=""),void 0===c&&(c="label");var E=Zs[n],O=E.id.replace("%s",this.id_),R=[i,O].join(" ").trim();return["<"+c+' id="'+O+'" class="'+("label"===c?"vjs-label":"")+'">',this.localize(E.label),"</"+c+">",'<select aria-labelledby="'+R+'">'].concat(E.options.map(function(X){var Q=O+"-"+X[1].replace(/\W+/g,"");return['<option id="'+Q+'" value="'+X[0]+'" ','aria-labelledby="'+R+" "+Q+'">',m.localize(X[1]),"</option>"].join("")})).concat("</select>").join("")},a.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"</span>","</fieldset>"].join("")},a.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"</span>","</fieldset>"].join("")},a.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"</span>","</fieldset>"].join("")},a.createElColors_=function(){return cr("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},a.createElFont_=function(){return cr("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},a.createElControls_=function(){var n=this.localize("restore all settings to the default values");return cr("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},a.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},a.label=function(){return this.localize("Caption Settings Dialog")},a.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},a.buildCSSClass=function(){return p.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},a.getValues=function(){var n=this;return function(p,o,a){return void 0===a&&(a=0),Xr(p).reduce(function(s,n){return o(s,p[n],n)},a)}(Zs,function(i,c,m){var E=function(p,o){return bd(p.options[p.options.selectedIndex].value,o)}(n.$(c.selector),c.parser);return void 0!==E&&(i[m]=E),i},{})},a.setValues=function(n){var i=this;Zr(Zs,function(c,m){!function(p,o,a){if(o)for(var s=0;s<p.options.length;s++)if(bd(p.options[s].value,a)===o){p.selectedIndex=s;break}}(i.$(c.selector),n[m],c.parser)})},a.setDefaults=function(){var n=this;Zr(Zs,function(i){var c=i.hasOwnProperty("default")?i.default:0;n.$(i.selector).selectedIndex=c})},a.restoreSettings=function(){var n;try{n=JSON.parse(z().localStorage.getItem(hn))}catch(i){kn.warn(i)}n&&this.setValues(n)},a.saveSettings=function(){if(this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?z().localStorage.setItem(hn,JSON.stringify(n)):z().localStorage.removeItem(hn)}catch(i){kn.warn(i)}}},a.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},a.conditionalBlur_=function(){this.previouslyActiveEl_=null;var n=this.player_.controlBar,i=n&&n.subsCapsButton,c=n&&n.captionsButton;i?i.focus():c&&c.focus()},o}(so)),Ft.registerComponent("ResizeManager",function(p){function o(s,n){var i,c=n.ResizeObserver||z().ResizeObserver;null===n.ResizeObserver&&(c=!1);var m=ei({createEl:!c,reportTouchActivity:!1},n);return(i=p.call(this,s,m)||this).ResizeObserver=n.ResizeObserver||z().ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(o,a,s,n){void 0===n&&(n=z());var i,m=function(){var O=this,R=arguments,X=function(){i=null,X=null,o.apply(O,R)};n.clearTimeout(i),i=n.setTimeout(X,100)};return m.cancel=function(){n.clearTimeout(i),i=null},m}(function(){i.resizeHandler()},0,0,ue(i)),c?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(s.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var E=i.debouncedHandler_,O=i.unloadListener_=function(){Ci(this,"resize",E),Ci(this,"unload",O),O=null};Os(i.el_.contentWindow,"unload",O),Os(i.el_.contentWindow,"resize",E)}},i.one("load",i.loadListener_)),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},a.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},a.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,p.prototype.dispose.call(this)},o}(Ft));var Zh={trackingThreshold:20,liveTolerance:15};Ft.registerComponent("LiveTracker",function(p){function o(s,n){var i,c=ei(Zh,n,{createEl:!1});return(i=p.call(this,s,c)||this).handleVisibilityChange_=function(m){return i.handleVisibilityChange(m)},i.trackLiveHandler_=function(){return i.trackLive_()},i.handlePlay_=function(m){return i.handlePlay(m)},i.handleFirstTimeupdate_=function(m){return i.handleFirstTimeupdate(m)},i.handleSeeked_=function(m){return i.handleSeeked(m)},i.seekToLiveEdge_=function(m){return i.seekToLiveEdge(m)},i.reset_(),i.on(i.player_,"durationchange",function(m){return i.handleDurationchange(m)}),i.one(i.player_,"canplay",function(){return i.toggleTracking()}),ba&&"hidden"in ee()&&"visibilityState"in ee()&&i.on(ee(),"visibilitychange",i.handleVisibilityChange_),i}j(o,p);var a=o.prototype;return a.handleVisibilityChange=function(){this.player_.duration()===1/0&&(ee().hidden?this.stopTracking():this.startTracking())},a.trackLive_=function(){var n=this.player_.seekable();if(n&&n.length){var i=Number(z().performance.now().toFixed(4)),c=-1===this.lastTime_?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+c;var m=this.liveCurrentTime(),E=this.player_.currentTime(),O=this.player_.paused()||this.seekedBehindLive_||Math.abs(m-E)>this.options_.liveTolerance;(!this.timeupdateSeen_||m===1/0)&&(O=!1),O!==this.behindLiveEdge_&&(this.behindLiveEdge_=O,this.trigger("liveedgechange"))}},a.handleDurationchange=function(){this.toggleTracking()},a.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},a.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},a.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},a.handleSeeked=function(){var n=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&n>2,this.nextSeekedFromUser_=!1,this.trackLive_()},a.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},a.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},a.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},a.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},a.seekableEnd=function(){for(var n=this.player_.seekable(),i=[],c=n?n.length:0;c--;)i.push(n.end(c));return i.length?i.sort()[i.length-1]:1/0},a.seekableStart=function(){for(var n=this.player_.seekable(),i=[],c=n?n.length:0;c--;)i.push(n.start(c));return i.length?i.sort()[0]:0},a.liveWindow=function(){var n=this.liveCurrentTime();return n===1/0?0:n-this.seekableStart()},a.isLive=function(){return this.isTracking()},a.atLiveEdge=function(){return!this.behindLiveEdge()},a.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},a.pastSeekEnd=function(){var n=this.seekableEnd();return-1!==this.lastSeekEnd_&&n!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=n,this.pastSeekEnd_},a.behindLiveEdge=function(){return this.behindLiveEdge_},a.isTracking=function(){return"number"==typeof this.trackingInterval_},a.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},a.dispose=function(){this.off(ee(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),p.prototype.dispose.call(this)},o}(Ft));var Na,Df=function(o){var a=o.el();if(a.hasAttribute("src"))return o.triggerSourceset(a.src),!0;var s=o.$$("source"),n=[],i="";if(!s.length)return!1;for(var c=0;c<s.length;c++){var m=s[c].src;m&&-1===n.indexOf(m)&&n.push(m)}return!!n.length&&(1===n.length&&(i=n[0]),o.triggerSourceset(i),!0)},Zu=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(o){var a=ee().createElement(this.nodeName.toLowerCase());a.innerHTML=o;for(var s=ee().createDocumentFragment();a.childNodes.length;)s.appendChild(a.childNodes[0]);return this.innerText="",z().Element.prototype.appendChild.call(this,s),this.innerHTML}}),Dc=function(o,a){for(var s={},n=0;n<o.length&&!((s=Object.getOwnPropertyDescriptor(o[n],a))&&s.set&&s.get);n++);return s.enumerable=!0,s.configurable=!0,s},Mf=function(o){var a=o.el();if(!a.resetSourceWatch_){var s={},n=function(o){return Dc([o.el(),z().HTMLMediaElement.prototype,z().Element.prototype,Zu],"innerHTML")}(o),i=function(m){return function(){for(var E=arguments.length,O=new Array(E),R=0;R<E;R++)O[R]=arguments[R];var X=m.apply(a,O);return Df(o),X}};["append","appendChild","insertAdjacentHTML"].forEach(function(c){!a[c]||(s[c]=a[c],a[c]=i(s[c]))}),Object.defineProperty(a,"innerHTML",ei(n,{set:i(n.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(s).forEach(function(c){a[c]=s[c]}),Object.defineProperty(a,"innerHTML",n)},o.one("sourceset",a.resetSourceWatch_)}},mg=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Lh(z().Element.prototype.getAttribute.call(this,"src")):""},set:function(o){return z().Element.prototype.setAttribute.call(this,"src",o),o}}),Ed=function(o,a,s,n){void 0===n&&(n=!0);var i=function(E){return Object.defineProperty(o,a,{value:E,enumerable:!0,writable:!0})},c={configurable:!0,enumerable:!0,get:function(){var E=s();return i(E),E}};return n&&(c.set=i),Object.defineProperty(o,a,c)},rn=function(p){function o(s,n){var i;i=p.call(this,s,n)||this;var c=s.source,m=!1;if(c&&(i.el_.currentSrc!==c.src||s.tag&&3===s.tag.initNetworkState_)?i.setSource(c):i.handleLateInit_(i.el_),s.enableSourceset&&i.setupSourcesetHandling_(),i.isScrubbing_=!1,i.el_.hasChildNodes()){for(var E=i.el_.childNodes,O=E.length,R=[];O--;){var X=E[O];"track"===X.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(X),i.remoteTextTracks().addTrack(X.track),i.textTracks().addTrack(X.track),!m&&!i.el_.hasAttribute("crossorigin")&&zu(X.src)&&(m=!0)):R.push(X))}for(var ve=0;ve<R.length;ve++)i.el_.removeChild(R[ve])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&m&&kn.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(Ca||bo||$o)&&!0===s.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}j(o,p);var a=o.prototype;return a.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),o.disposeMediaElement(this.el_),this.options_=null,p.prototype.dispose.call(this)},a.setupSourcesetHandling_=function(){!function(o){if(o.featuresSourceset){var a=o.el();if(!a.resetSourceset_){var s=function(o){return Dc([o.el(),z().HTMLMediaElement.prototype,mg],"src")}(o),n=a.setAttribute,i=a.load;Object.defineProperty(a,"src",ei(s,{set:function(m){var E=s.set.call(a,m);return o.triggerSourceset(a.src),E}})),a.setAttribute=function(c,m){var E=n.call(a,c,m);return/src/i.test(c)&&o.triggerSourceset(a.src),E},a.load=function(){var c=i.call(a);return Df(o)||(o.triggerSourceset(""),Mf(o)),c},a.currentSrc?o.triggerSourceset(a.currentSrc):Df(o)||Mf(o),a.resetSourceset_=function(){a.resetSourceset_=null,a.load=i,a.setAttribute=n,Object.defineProperty(a,"src",s),a.resetSourceWatch_&&a.resetSourceWatch_()}}}}(this)},a.restoreMetadataTracksInIOSNativePlayer_=function(){var i,n=this.textTracks(),c=function(){i=[];for(var O=0;O<n.length;O++){var R=n[O];"metadata"===R.kind&&i.push({track:R,storedMode:R.mode})}};c(),n.addEventListener("change",c),this.on("dispose",function(){return n.removeEventListener("change",c)});var m=function E(){for(var O=0;O<i.length;O++){var R=i[O];"disabled"===R.track.mode&&R.track.mode!==R.storedMode&&(R.track.mode=R.storedMode)}n.removeEventListener("change",E)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",c),n.removeEventListener("change",m),n.addEventListener("change",m)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",c),n.addEventListener("change",c),n.removeEventListener("change",m)})},a.overrideNative_=function(n,i){var c=this;if(i===this["featuresNative"+n+"Tracks"]){var m=n.toLowerCase();this[m+"TracksListeners_"]&&Object.keys(this[m+"TracksListeners_"]).forEach(function(E){c.el()[m+"Tracks"].removeEventListener(E,c[m+"TracksListeners_"][E])}),this["featuresNative"+n+"Tracks"]=!i,this[m+"TracksListeners_"]=null,this.proxyNativeTracksForType_(m)}},a.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},a.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},a.proxyNativeTracksForType_=function(n){var i=this,c=ys[n],m=this.el()[c.getterName],E=this[c.getterName]();if(this["featuresNative"+c.capitalName+"Tracks"]&&m&&m.addEventListener){var O={change:function(Q){var ve={type:"change",target:E,currentTarget:E,srcElement:E};E.trigger(ve),"text"===n&&i[Zo.remoteText.getterName]().trigger(ve)},addtrack:function(Q){E.addTrack(Q.track)},removetrack:function(Q){E.removeTrack(Q.track)}},R=function(){for(var Q=[],ve=0;ve<E.length;ve++){for(var Me=!1,we=0;we<m.length;we++)if(m[we]===E[ve]){Me=!0;break}Me||Q.push(E[ve])}for(;Q.length;)E.removeTrack(Q.shift())};this[c.getterName+"Listeners_"]=O,Object.keys(O).forEach(function(X){var Q=O[X];m.addEventListener(X,Q),i.on("dispose",function(ve){return m.removeEventListener(X,Q)})}),this.on("loadstart",R),this.on("dispose",function(X){return i.off("loadstart",R)})}},a.proxyNativeTracks_=function(){var n=this;ys.names.forEach(function(i){n.proxyNativeTracksForType_(i)})},a.createEl=function(){var n=this.options_.tag;if(!n||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(n){var i=n.cloneNode(!0);n.parentNode&&n.parentNode.insertBefore(i,n),o.disposeMediaElement(n),n=i}else{n=ee().createElement("video");var m=ei({},this.options_.tag&&Ii(this.options_.tag));(!Ca||!0!==this.options_.nativeControlsForTouch)&&delete m.controls,Ta(n,Hr(m,{id:this.options_.techId,class:"vjs-tech"}))}n.playerId=this.options_.playerId}void 0!==this.options_.preload&&qa(n,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var E=["loop","muted","playsinline","autoplay"],O=0;O<E.length;O++){var R=E[O],X=this.options_[R];void 0!==X&&(X?qa(n,R,R):io(n,R),n[R]=X)}return n},a.handleLateInit_=function(n){if(0!==n.networkState&&3!==n.networkState){if(0===n.readyState){var i=!1,c=function(){i=!0};this.on("loadstart",c);var m=function(){i||this.trigger("loadstart")};return this.on("loadedmetadata",m),void this.ready(function(){this.off("loadstart",c),this.off("loadedmetadata",m),i||this.trigger("loadstart")})}var E=["loadstart"];E.push("loadedmetadata"),n.readyState>=2&&E.push("loadeddata"),n.readyState>=3&&E.push("canplay"),n.readyState>=4&&E.push("canplaythrough"),this.ready(function(){E.forEach(function(O){this.trigger(O)},this)})}},a.setScrubbing=function(n){this.isScrubbing_=n},a.scrubbing=function(){return this.isScrubbing_},a.setCurrentTime=function(n){try{this.isScrubbing_&&this.el_.fastSeek&&Nu?this.el_.fastSeek(n):this.el_.currentTime=n}catch(i){kn(i,"Video is not ready. (Video.js)")}},a.duration=function(){var n=this;return this.el_.duration===1/0&&Bi&&ro&&0===this.el_.currentTime?(this.on("timeupdate",function c(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",c))}),NaN):this.el_.duration||NaN},a.width=function(){return this.el_.offsetWidth},a.height=function(){return this.el_.offsetHeight},a.proxyWebkitFullscreen_=function(){var n=this;if("webkitDisplayingFullscreen"in this.el_){var i=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},c=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",i),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",c),this.on("dispose",function(){n.off("webkitbeginfullscreen",c),n.off("webkitendfullscreen",i)})}},a.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var n=z().navigator&&z().navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},a.enterFullScreen=function(){var n=this.el_;if(n.paused&&n.networkState<=n.HAVE_METADATA)Za(this.el_.play()),this.setTimeout(function(){n.pause();try{n.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{n.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},a.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},a.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},a.src=function(n){if(void 0===n)return this.el_.src;this.setSrc(n)},a.reset=function(){o.resetMediaElement(this.el_)},a.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},a.setControls=function(n){this.el_.controls=!!n},a.addTextTrack=function(n,i,c){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,i,c):p.prototype.addTextTrack.call(this,n,i,c)},a.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return p.prototype.createRemoteTextTrack.call(this,n);var i=ee().createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},a.addRemoteTextTrack=function(n,i){var c=p.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(c),c},a.removeRemoteTextTrack=function(n){if(p.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),c=i.length;c--;)(n===i[c]||n===i[c].track)&&this.el().removeChild(i[c])},a.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var n={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),z().performance&&"function"==typeof z().performance.now?n.creationTime=z().performance.now():z().performance&&z().performance.timing&&"number"==typeof z().performance.timing.navigationStart&&(n.creationTime=z().Date.now()-z().performance.timing.navigationStart),n},o}(Ir);Ed(rn,"TEST_VID",function(){if(_i()){var p=ee().createElement("video"),o=ee().createElement("track");return o.kind="captions",o.srclang="en",o.label="English",p.appendChild(o),p}}),rn.isSupported=function(){try{rn.TEST_VID.volume=.5}catch(p){return!1}return!(!rn.TEST_VID||!rn.TEST_VID.canPlayType)},rn.canPlayType=function(p){return rn.TEST_VID.canPlayType(p)},rn.canPlaySource=function(p,o){return rn.canPlayType(p.type)},rn.canControlVolume=function(){try{var p=rn.TEST_VID.volume;return rn.TEST_VID.volume=p/2+.1,p!==rn.TEST_VID.volume}catch(o){return!1}},rn.canMuteVolume=function(){try{var p=rn.TEST_VID.muted;return rn.TEST_VID.muted=!p,rn.TEST_VID.muted?qa(rn.TEST_VID,"muted","muted"):io(rn.TEST_VID,"muted"),p!==rn.TEST_VID.muted}catch(o){return!1}},rn.canControlPlaybackRate=function(){if(Bi&&ro&&zo<58)return!1;try{var p=rn.TEST_VID.playbackRate;return rn.TEST_VID.playbackRate=p/2+.1,p!==rn.TEST_VID.playbackRate}catch(o){return!1}},rn.canOverrideAttributes=function(){try{var p=function(){};Object.defineProperty(ee().createElement("video"),"src",{get:p,set:p}),Object.defineProperty(ee().createElement("audio"),"src",{get:p,set:p}),Object.defineProperty(ee().createElement("video"),"innerHTML",{get:p,set:p}),Object.defineProperty(ee().createElement("audio"),"innerHTML",{get:p,set:p})}catch(o){return!1}return!0},rn.supportsNativeTextTracks=function(){return Nu||yi&&ro},rn.supportsNativeVideoTracks=function(){return!(!rn.TEST_VID||!rn.TEST_VID.videoTracks)},rn.supportsNativeAudioTracks=function(){return!(!rn.TEST_VID||!rn.TEST_VID.audioTracks)},rn.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(p){var a=p[1];Ed(rn.prototype,p[0],function(){return rn[a]()},!0)}),rn.prototype.movingMediaElementInDOM=!yi,rn.prototype.featuresFullscreenResize=!0,rn.prototype.featuresProgressEvents=!0,rn.prototype.featuresTimeupdateEvents=!0,rn.patchCanPlayType=function(){Ql>=4&&!Ru&&!ro&&(Na=rn.TEST_VID&&rn.TEST_VID.constructor.prototype.canPlayType,rn.TEST_VID.constructor.prototype.canPlayType=function(p){return p&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(p)?"maybe":Na.call(this,p)})},rn.unpatchCanPlayType=function(){var p=rn.TEST_VID.constructor.prototype.canPlayType;return Na&&(rn.TEST_VID.constructor.prototype.canPlayType=Na),p},rn.patchCanPlayType(),rn.disposeMediaElement=function(p){if(p){for(p.parentNode&&p.parentNode.removeChild(p);p.hasChildNodes();)p.removeChild(p.firstChild);p.removeAttribute("src"),"function"==typeof p.load&&function(){try{p.load()}catch(o){}}()}},rn.resetMediaElement=function(p){if(p){for(var o=p.querySelectorAll("source"),a=o.length;a--;)p.removeChild(o[a]);p.removeAttribute("src"),"function"==typeof p.load&&function(){try{p.load()}catch(s){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(p){rn.prototype[p]=function(){return this.el_[p]||this.el_.hasAttribute(p)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(p){rn.prototype["set"+xr(p)]=function(o){this.el_[p]=o,o?this.el_.setAttribute(p,p):this.el_.removeAttribute(p)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(p){rn.prototype[p]=function(){return this.el_[p]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(p){rn.prototype["set"+xr(p)]=function(o){this.el_[p]=o}}),["pause","load","play"].forEach(function(p){rn.prototype[p]=function(){return this.el_[p]()}}),Ir.withSourceHandlers(rn),rn.nativeSourceHandler={},rn.nativeSourceHandler.canPlayType=function(p){try{return rn.TEST_VID.canPlayType(p)}catch(o){return""}},rn.nativeSourceHandler.canHandleSource=function(p,o){if(p.type)return rn.nativeSourceHandler.canPlayType(p.type);if(p.src){var a=El(p.src);return rn.nativeSourceHandler.canPlayType("video/"+a)}return""},rn.nativeSourceHandler.handleSource=function(p,o,a){o.setSrc(p.src)},rn.nativeSourceHandler.dispose=function(){},rn.registerSourceHandler(rn.nativeSourceHandler),Ir.registerTech("Html5",rn);var xd=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Af={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},wd=["tiny","xsmall","small","medium","large","xlarge","huge"],Ac={};wd.forEach(function(p){var o="x"===p.charAt(0)?"x-"+p.substring(1):p;Ac[p]="vjs-layout-"+o});var Jh={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},di=function(p){function o(s,n,i){var c;if(s.id=s.id||n.id||"vjs_video_"+Sa(),(n=Hr(o.getTagSettings(s),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof s.closest){var m=s.closest("[lang]");m&&m.getAttribute&&(n.language=m.getAttribute("lang"))}else for(var E=s;E&&1===E.nodeType;){if(Ii(E).hasOwnProperty("lang")){n.language=E.getAttribute("lang");break}E=E.parentNode}if((c=p.call(this,null,n,i)||this).boundDocumentFullscreenChange_=function(Q){return c.documentFullscreenChange_(Q)},c.boundFullWindowOnEscKey_=function(Q){return c.fullWindowOnEscKey(Q)},c.boundUpdateStyleEl_=function(Q){return c.updateStyleEl_(Q)},c.boundApplyInitTime_=function(Q){return c.applyInitTime_(Q)},c.boundUpdateCurrentBreakpoint_=function(Q){return c.updateCurrentBreakpoint_(Q)},c.boundHandleTechClick_=function(Q){return c.handleTechClick_(Q)},c.boundHandleTechDoubleClick_=function(Q){return c.handleTechDoubleClick_(Q)},c.boundHandleTechTouchStart_=function(Q){return c.handleTechTouchStart_(Q)},c.boundHandleTechTouchMove_=function(Q){return c.handleTechTouchMove_(Q)},c.boundHandleTechTouchEnd_=function(Q){return c.handleTechTouchEnd_(Q)},c.boundHandleTechTap_=function(Q){return c.handleTechTap_(Q)},c.isFullscreen_=!1,c.log=Ar(c.id_),c.fsApi_=ui,c.isPosterFromTech_=!1,c.queuedCallbacks_=[],c.isReady_=!1,c.hasStarted_=!1,c.userActive_=!1,c.debugEnabled_=!1,!c.options_||!c.options_.techOrder||!c.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(c.tag=s,c.tagAttributes=s&&Ii(s),c.language(c.options_.language),n.languages){var O={};Object.getOwnPropertyNames(n.languages).forEach(function(Q){O[Q.toLowerCase()]=n.languages[Q]}),c.languages_=O}else c.languages_=o.prototype.options_.languages;c.resetCache_(),c.poster_=n.poster||"",c.controls_=!!n.controls,s.controls=!1,s.removeAttribute("controls"),c.changingSrc_=!1,c.playCallbacks_=[],c.playTerminatedQueue_=[],s.hasAttribute("autoplay")?c.autoplay(!0):c.autoplay(c.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(Q){if("function"!=typeof c[Q])throw new Error('plugin "'+Q+'" does not exist')}),c.scrubbing_=!1,c.el_=c.createEl(),Ns(ue(c),{eventBusKey:"el_"}),c.fsApi_.requestFullscreen&&(Os(ee(),c.fsApi_.fullscreenchange,c.boundDocumentFullscreenChange_),c.on(c.fsApi_.fullscreenchange,c.boundDocumentFullscreenChange_)),c.fluid_&&c.on(["playerreset","resize"],c.boundUpdateStyleEl_);var R=ei(c.options_);n.plugins&&Object.keys(n.plugins).forEach(function(Q){c[Q](n.plugins[Q])}),n.debug&&c.debug(!0),c.options_.playerOptions=R,c.middleware_=[],c.playbackRates(n.playbackRates),c.initChildren(),c.isAudio("audio"===s.nodeName.toLowerCase()),c.controls()?c.addClass("vjs-controls-enabled"):c.addClass("vjs-controls-disabled"),c.el_.setAttribute("role","region"),c.isAudio()?c.el_.setAttribute("aria-label",c.localize("Audio Player")):c.el_.setAttribute("aria-label",c.localize("Video Player")),c.isAudio()&&c.addClass("vjs-audio"),c.flexNotSupported_()&&c.addClass("vjs-no-flex"),Ca&&c.addClass("vjs-touch-enabled"),yi||c.addClass("vjs-workinghover"),o.players[c.id_]=ue(c);var X="7.17.0".split(".")[0];return c.addClass("vjs-v"+X),c.userActive(!0),c.reportUserActivity(),c.one("play",function(Q){return c.listenForUserActivity_(Q)}),c.on("stageclick",function(Q){return c.handleStageClick_(Q)}),c.on("keydown",function(Q){return c.handleKeyDown(Q)}),c.on("languagechange",function(Q){return c.handleLanguagechange(Q)}),c.breakpoints(c.options_.breakpoints),c.responsive(c.options_.responsive),c}j(o,p);var a=o.prototype;return a.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),Ci(ee(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ci(ee(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),o.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(p){Da[p.id()]=null}(this),Bs.names.forEach(function(i){var m=n[Bs[i].getterName]();m&&m.off&&m.off()}),p.prototype.dispose.call(this)},a.createEl=function(){var i,n=this.tag,c=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),m="video-js"===this.tag.tagName.toLowerCase();c?i=this.el_=n.parentNode:m||(i=this.el_=p.prototype.createEl.call(this,"div"));var E=Ii(n);if(m){for(i=this.el_=n,n=this.tag=ee().createElement("video");i.children.length;)n.appendChild(i.firstChild);Co(i,"video-js")||Wo(i,"video-js"),i.appendChild(n),c=this.playerElIngest_=i,Object.keys(i).forEach(function(Me){try{n[Me]=i[Me]}catch(we){}})}if(n.setAttribute("tabindex","-1"),E.tabindex="-1",(ba||ro&&lc)&&(n.setAttribute("role","application"),E.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in E&&delete E.width,"height"in E&&delete E.height,Object.getOwnPropertyNames(E).forEach(function(Me){m&&"class"===Me||i.setAttribute(Me,E[Me]),m&&n.setAttribute(Me,E[Me])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==z().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=ju("vjs-styles-dimensions");var O=Ys(".vjs-styles-defaults"),R=Ys("head");R.insertBefore(this.styleEl_,O?O.nextSibling:R.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var X=n.getElementsByTagName("a"),Q=0;Q<X.length;Q++){var ve=X.item(Q);Wo(ve,"vjs-hidden"),ve.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!c&&n.parentNode.insertBefore(i,n),Yl(n,i),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i},a.crossOrigin=function(n){if(!n)return this.techGet_("crossOrigin");"anonymous"===n||"use-credentials"===n?this.techCall_("setCrossOrigin",n):kn.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+n+'"')},a.width=function(n){return this.dimension("width",n)},a.height=function(n){return this.dimension("height",n)},a.dimension=function(n,i){var c=n+"_";if(void 0===i)return this[c]||0;if(""===i||"auto"===i)return this[c]=void 0,void this.updateStyleEl_();var m=parseFloat(i);isNaN(m)?kn.error('Improper value "'+i+'" supplied for for '+n):(this[c]=m,this.updateStyleEl_())},a.fluid=function(n){var i=this;if(void 0===n)return!!this.fluid_;this.fluid_=!!n,Ve(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),n?(this.addClass("vjs-fluid"),this.fill(!1),function(o,a){Ve(o)?a():(o.eventedCallbacks||(o.eventedCallbacks=[]),o.eventedCallbacks.push(a))}(this,function(){i.on(["playerreset","resize"],i.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(n){if(void 0===n)return!!this.fill_;this.fill_=!!n,n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(n){if(void 0===n)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){if(!0!==z().VIDEOJS_NO_DYNAMIC_STYLE){var m,E,R,X=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),Q=X[1]/X[0];m=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/Q:this.videoWidth()||300,E=void 0!==this.height_?this.height_:m*Q,R=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(R),xo(this.styleEl_,"\n      ."+R+" {\n        width: "+m+"px;\n        height: "+E+"px;\n      }\n\n      ."+R+".vjs-fluid {\n        padding-top: "+100*Q+"%;\n      }\n    ")}else{var n="number"==typeof this.width_?this.width_:this.options_.width,i="number"==typeof this.height_?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(n>=0&&(c.width=n),i>=0&&(c.height=i))}},a.loadTech_=function(n,i){var c=this;this.tech_&&this.unloadTech_();var m=xr(n),E=n.charAt(0).toLowerCase()+n.slice(1);"Html5"!==m&&this.tag&&(Ir.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=m,this.isReady_=!1;var O=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(O=!1);var R={source:i,autoplay:O,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+E+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Bs.names.forEach(function(Q){var ve=Bs[Q];R[ve.getterName]=c[ve.privateName]}),Hr(R,this.options_[m]),Hr(R,this.options_[E]),Hr(R,this.options_[n.toLowerCase()]),this.tag&&(R.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(R.startTime=this.cache_.currentTime);var X=Ir.getTech(n);if(!X)throw new Error("No Tech named '"+m+"' exists! '"+m+"' should be registered using videojs.registerTech()'");this.tech_=new X(R),this.tech_.ready(I(this,this.handleTechReady_),!0),function(o,a){o.forEach(function(s){var n=a.addRemoteTextTrack(s).track;!s.src&&s.cues&&s.cues.forEach(function(i){return n.addCue(i)})}),a.textTracks()}(this.textTracksJson_||[],this.tech_),xd.forEach(function(Q){c.on(c.tech_,Q,function(ve){return c["handleTech"+xr(Q)+"_"](ve)})}),Object.keys(Af).forEach(function(Q){c.on(c.tech_,Q,function(ve){0===c.tech_.playbackRate()&&c.tech_.seeking()?c.queuedCallbacks_.push({callback:c["handleTech"+Af[Q]+"_"].bind(c),event:ve}):c["handleTech"+Af[Q]+"_"](ve)})}),this.on(this.tech_,"loadstart",function(Q){return c.handleTechLoadStart_(Q)}),this.on(this.tech_,"sourceset",function(Q){return c.handleTechSourceset_(Q)}),this.on(this.tech_,"waiting",function(Q){return c.handleTechWaiting_(Q)}),this.on(this.tech_,"ended",function(Q){return c.handleTechEnded_(Q)}),this.on(this.tech_,"seeking",function(Q){return c.handleTechSeeking_(Q)}),this.on(this.tech_,"play",function(Q){return c.handleTechPlay_(Q)}),this.on(this.tech_,"firstplay",function(Q){return c.handleTechFirstPlay_(Q)}),this.on(this.tech_,"pause",function(Q){return c.handleTechPause_(Q)}),this.on(this.tech_,"durationchange",function(Q){return c.handleTechDurationChange_(Q)}),this.on(this.tech_,"fullscreenchange",function(Q,ve){return c.handleTechFullscreenChange_(Q,ve)}),this.on(this.tech_,"fullscreenerror",function(Q,ve){return c.handleTechFullscreenError_(Q,ve)}),this.on(this.tech_,"enterpictureinpicture",function(Q){return c.handleTechEnterPictureInPicture_(Q)}),this.on(this.tech_,"leavepictureinpicture",function(Q){return c.handleTechLeavePictureInPicture_(Q)}),this.on(this.tech_,"error",function(Q){return c.handleTechError_(Q)}),this.on(this.tech_,"posterchange",function(Q){return c.handleTechPosterChange_(Q)}),this.on(this.tech_,"textdata",function(Q){return c.handleTechTextData_(Q)}),this.on(this.tech_,"ratechange",function(Q){return c.handleTechRateChange_(Q)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&("Html5"!==m||!this.tag)&&Yl(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var n=this;Bs.names.forEach(function(i){var c=Bs[i];n[c.privateName]=n[c.getterName]()}),this.textTracksJson_=function(o){var a=o.$$("track"),s=Array.prototype.map.call(a,function(i){return i.track});return Array.prototype.map.call(a,function(i){var c=ed(i.track);return i.src&&(c.src=i.src),c}).concat(Array.prototype.filter.call(o.textTracks(),function(i){return-1===s.indexOf(i)}).map(ed))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(n){return void 0===n&&kn.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},a.manualAutoplay_=function(n){var i=this;if(this.tech_&&"string"==typeof n){var m,c=function(){var O=i.muted();i.muted(!0);var R=function(){i.muted(O)};i.playTerminatedQueue_.push(R);var X=i.play();if(Xa(X))return X.catch(function(Q){throw R(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(Q||""))})};if("any"!==n||this.muted()?m="muted"!==n||this.muted()?this.play():c():Xa(m=this.play())&&(m=m.catch(c)),Xa(m))return m.then(function(){i.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){i.trigger({type:"autoplay-failure",autoplay:n})})}},a.updateSourceCaches_=function(n){void 0===n&&(n="");var i=n,c="";"string"!=typeof i&&(i=n.src,c=n.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!c&&(c=function(o,a){if(!a)return"";if(o.cache_.source.src===a&&o.cache_.source.type)return o.cache_.source.type;var s=o.cache_.sources.filter(function(m){return m.src===a});if(s.length)return s[0].type;for(var n=o.$$("source"),i=0;i<n.length;i++){var c=n[i];if(c.type&&c.src&&c.src===a)return c.type}return el(a)}(this,i)),this.cache_.source=ei({},n,{src:i,type:c});for(var m=this.cache_.sources.filter(function(ve){return ve.src&&ve.src===i}),E=[],O=this.$$("source"),R=[],X=0;X<O.length;X++){var Q=Ii(O[X]);E.push(Q),Q.src&&Q.src===i&&R.push(Q.src)}R.length&&!m.length?this.cache_.sources=E:m.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i},a.handleTechSourceset_=function(n){var i=this;if(!this.changingSrc_){var c=function(R){return i.updateSourceCaches_(R)},m=this.currentSource().src,E=n.src;m&&!/^blob:/.test(m)&&/^blob:/.test(E)&&(!this.lastSource_||this.lastSource_.tech!==E&&this.lastSource_.player!==m)&&(c=function(){}),c(E),n.src||this.tech_.any(["sourceset","loadstart"],function(O){if("sourceset"!==O.type){var R=i.techGet("currentSrc");i.lastSource_.tech=R,i.updateSourceCaches_(R)}})}this.lastSource_={player:this.currentSource().src,tech:n.src},this.trigger({src:n.src,type:"sourceset"})},a.hasStarted=function(n){if(void 0===n)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting"),this.trigger("waiting");var i=this.currentTime();this.on("timeupdate",function m(){i!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",m))})},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(kn.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(n){!this.controls_||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.click||!1!==this.options_.userActions.click)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,n):this.paused()?Za(this.play()):this.pause())},a.handleTechDoubleClick_=function(n){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(c){return c.contains(n.target)})||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.doubleClick||!1!==this.options_.userActions.doubleClick)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,n):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(n){n.cancelable&&n.preventDefault()},a.handleStageClick_=function(){this.reportUserActivity()},a.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function(n){var i=n.target.player;if(!i||i===this){var c=this.el(),m=ee()[this.fsApi_.fullscreenElement]===c;!m&&c.matches?m=c.matches(":"+this.fsApi_.fullscreen):!m&&c.msMatchesSelector&&(m=c.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(m)}},a.handleTechFullscreenChange_=function(n,i){i&&(i.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(i.isFullscreen))},a.handleTechFullscreenError_=function(n,i){this.trigger("fullscreenerror",i)},a.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function(n){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function(n){this.isInPictureInPicture(!1)},a.handleTechError_=function(){var n=this.tech_.error();this.error(n)},a.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]),this.trigger("textdata",n)},a.getCache=function(){return this.cache_},a.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},a.techCall_=function(n,i){this.ready(function(){if(n in Sl)return function(p,o,a,s){return o[a](p.reduce(gc(a),s))}(this.middleware_,this.tech_,n,i);if(n in gf)return Ma(this.middleware_,this.tech_,n,i);try{this.tech_&&this.tech_[n](i)}catch(c){throw kn(c),c}},!0)},a.techGet_=function(n){if(this.tech_&&this.tech_.isReady_){if(n in sd)return function(p,o,a){return p.reduceRight(gc(a),o[a]())}(this.middleware_,this.tech_,n);if(n in gf)return Ma(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(i){throw void 0===this.tech_[n]?(kn("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",i),i):"TypeError"===i.name?(kn("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",i),this.tech_.isReady_=!1,i):(kn(i),i)}}},a.play=function(){var n=this,i=this.options_.Promise||z().Promise;return i?new i(function(c){n.play_(c)}):this.play_()},a.play_=function(n){var i=this;void 0===n&&(n=Za),this.playCallbacks_.push(n);var c=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!c)return this.waitToPlay_=function(E){i.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!c&&(Nu||yi)&&this.load());var m=this.techGet_("play");null===m?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(m)},a.runPlayTerminatedQueue_=function(){var n=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],n.forEach(function(i){i()})},a.runPlayCallbacks_=function(n){var i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(c){c(n)})},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||Ti(0,0)},a.scrubbing=function(n){if(void 0===n)return this.scrubbing_;this.scrubbing_=!!n,this.techCall_("setScrubbing",this.scrubbing_),n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(n){return void 0!==n?(n<0&&(n=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",n),void(this.cache_.initTime=0)):(this.cache_.initTime=n,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},a.duration=function(n){if(void 0===n)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(n=parseFloat(n))<0&&(n=1/0),n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(n)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var n=this.techGet_("buffered");return(!n||!n.length)&&(n=Ti(0,0)),n},a.bufferedPercent=function(){return $u(this.buffered(),this.duration())},a.bufferedEnd=function(){var n=this.buffered(),i=this.duration(),c=n.end(n.length-1);return c>i&&(c=i),c},a.volume=function(n){var i;return void 0!==n?(i=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=i,this.techCall_("setVolume",i),void(i>0&&this.lastVolume_(i))):(i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i)},a.muted=function(n){if(void 0===n)return this.techGet_("muted")||!1;this.techCall_("setMuted",n)},a.defaultMuted=function(n){return void 0!==n?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(n){if(void 0===n||0===n)return this.cache_.lastVolume;this.cache_.lastVolume=n},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(n){if(void 0!==n){var i=this.isFullscreen_;return this.isFullscreen_=Boolean(n),this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},a.requestFullscreen=function(n){var i=this.options_.Promise||z().Promise;if(i){var c=this;return new i(function(m,E){function O(){c.off("fullscreenerror",X),c.off("fullscreenchange",R)}function R(){O(),m()}function X(ve,Me){O(),E(Me)}c.one("fullscreenchange",R),c.one("fullscreenerror",X);var Q=c.requestFullscreenHelper_(n);Q&&(Q.then(O,O),Q.then(m,E))})}return this.requestFullscreenHelper_()},a.requestFullscreenHelper_=function(n){var c,i=this;if(this.fsApi_.prefixed||(c=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==n&&(c=n)),this.fsApi_.requestFullscreen){var m=this.el_[this.fsApi_.requestFullscreen](c);return m&&m.then(function(){return i.isFullscreen(!0)},function(){return i.isFullscreen(!1)}),m}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},a.exitFullscreen=function(){var n=this.options_.Promise||z().Promise;if(n){var i=this;return new n(function(c,m){function E(){i.off("fullscreenerror",R),i.off("fullscreenchange",O)}function O(){E(),c()}function R(Q,ve){E(),m(ve)}i.one("fullscreenchange",O),i.one("fullscreenerror",R);var X=i.exitFullscreenHelper_();X&&(X.then(E,E),X.then(c,m))})}return this.exitFullscreenHelper_()},a.exitFullscreenHelper_=function(){var n=this;if(this.fsApi_.requestFullscreen){var i=ee()[this.fsApi_.exitFullscreen]();return i&&Za(i.then(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},a.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=ee().documentElement.style.overflow,Os(ee(),"keydown",this.boundFullWindowOnEscKey_),ee().documentElement.style.overflow="hidden",Wo(ee().body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(n){le().isEventKey(n,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},a.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Ci(ee(),"keydown",this.boundFullWindowOnEscKey_),ee().documentElement.style.overflow=this.docOrigOverflow,To(ee().body,"vjs-full-window"),this.trigger("exitFullWindow")},a.disablePictureInPicture=function(n){if(void 0===n)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",n),this.options_.disablePictureInPicture=n,this.trigger("disablepictureinpicturechanged")},a.isInPictureInPicture=function(n){return void 0!==n?(this.isInPictureInPicture_=!!n,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function(){if("pictureInPictureEnabled"in ee()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function(){if("pictureInPictureEnabled"in ee())return ee().exitPictureInPicture()},a.handleKeyDown=function(n){var E,O,i=this.options_.userActions;i&&i.hotkeys&&(O=(E=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),E.isContentEditable||("input"===O?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(E.type):-1!==["textarea"].indexOf(O))||("function"==typeof i.hotkeys?i.hotkeys.call(this,n):this.handleHotkeys(n)))},a.handleHotkeys=function(n){var i=this.options_.userActions?this.options_.userActions.hotkeys:{},c=i.fullscreenKey,E=i.muteKey,O=void 0===E?function(we){return le().isEventKey(we,"m")}:E,R=i.playPauseKey,X=void 0===R?function(we){return le().isEventKey(we,"k")||le().isEventKey(we,"Space")}:R;if((void 0===c?function(we){return le().isEventKey(we,"f")}:c).call(this,n)){n.preventDefault(),n.stopPropagation();var Q=Ft.getComponent("FullscreenToggle");!1!==ee()[this.fsApi_.fullscreenEnabled]&&Q.prototype.handleClick.call(this,n)}else O.call(this,n)?(n.preventDefault(),n.stopPropagation(),Ft.getComponent("MuteToggle").prototype.handleClick.call(this,n)):X.call(this,n)&&(n.preventDefault(),n.stopPropagation(),Ft.getComponent("PlayToggle").prototype.handleClick.call(this,n))},a.canPlayType=function(n){for(var i,c=0,m=this.options_.techOrder;c<m.length;c++){var E=m[c],O=Ir.getTech(E);if(O||(O=Ft.getComponent(E)),O){if(O.isSupported()&&(i=O.canPlayType(n)))return i}else kn.error('The "'+E+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(n){var Q,i=this,c=this.options_.techOrder.map(function(X){return[X,Ir.getTech(X)]}).filter(function(X){var Q=X[0],ve=X[1];return ve?ve.isSupported():(kn.error('The "'+Q+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),m=function(Q,ve,Me){var we;return Q.some(function(Se){return ve.some(function(st){if(we=Me(Se,st))return!0})}),we},R=function(Q,ve){var Me=Q[0];if(Q[1].canPlaySource(ve,i.options_[Me.toLowerCase()]))return{source:ve,tech:Me}};return(this.options_.sourceOrder?m(n,c,(Q=R,function(ve,Me){return Q(Me,ve)})):m(c,n,R))||!1},a.handleSrc_=function(n,i){var c=this;if(void 0===n)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var m=ug(n);if(m.length){if(this.changingSrc_=!0,i||(this.cache_.sources=m),this.updateSourceCaches_(m[0]),Vh(this,m[0],function(R,X){if(c.middleware_=X,i||(c.cache_.sources=m),c.updateSourceCaches_(R),c.src_(R))return m.length>1?c.handleSrc_(m.slice(1)):(c.changingSrc_=!1,c.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void c.triggerReady());!function(p,o){p.forEach(function(a){return a.setTech&&a.setTech(o)})}(X,c.tech_)}),this.options_.retryOnError&&m.length>1){var E=function(){c.error(null),c.handleSrc_(m.slice(1),!0)},O=function(){c.off("error",E)};this.one("error",E),this.one("playing",O),this.resetRetryOnError_=function(){c.off("error",E),c.off("playing",O)}}}else this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},a.src=function(n){return this.handleSrc_(n,!1)},a.src_=function(n){var i=this,c=this.selectSource([n]);return!c||(function(o,a){return xr(o)===xr(a)}(c.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(c.tech,c.source),this.tech_.ready(function(){i.changingSrc_=!1}),!1))},a.load=function(){this.techCall_("load")},a.reset=function(){var n=this,i=this.options_.Promise||z().Promise;this.paused()||!i?this.doReset_():Za(this.play().then(function(){return n.doReset_()}))},a.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ve(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function(){this.currentTime(0);var n=this.controlBar,i=n.durationDisplay,c=n.remainingTimeDisplay;i&&i.updateContent(),c&&c.updateContent()},a.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},a.currentSources=function(){var n=this.currentSource(),i=[];return 0!==Object.keys(n).length&&i.push(n),this.cache_.sources||i},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(n){return void 0!==n?(this.techCall_("setPreload",n),void(this.options_.preload=n)):this.techGet_("preload")},a.autoplay=function(n){if(void 0===n)return this.options_.autoplay||!1;var i;"string"==typeof n&&/(any|play|muted)/.test(n)||!0===n&&this.options_.normalizeAutoplay?(this.options_.autoplay=n,this.manualAutoplay_("string"==typeof n?n:"play"),i=!1):this.options_.autoplay=!!n,i=void 0===i?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)},a.playsinline=function(n){return void 0!==n?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},a.loop=function(n){return void 0!==n?(this.techCall_("setLoop",n),void(this.options_.loop=n)):this.techGet_("loop")},a.poster=function(n){if(void 0===n)return this.poster_;n||(n=""),n!==this.poster_&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function(n){if(void 0===n)return!!this.controls_;this.controls_!==(n=!!n)&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(n){if(void 0===n)return!!this.usingNativeControls_;this.usingNativeControls_!==(n=!!n)&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(n){var i=this;if(void 0===n)return this.error_||null;if(un("beforeerror").forEach(function(m){var E=m(i,n);qs(E)&&!Array.isArray(E)||"string"==typeof E||"number"==typeof E||null===E?n=E:i.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&n&&4===n.code){var c=function(){this.error(n)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],c),void this.one("loadstart",function(){this.off(["click","touchstart"],c)})}if(null===n)return this.error_=n,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new yr(n),this.addClass("vjs-error"),kn.error("(CODE:"+this.error_.code+" "+yr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),un("error").forEach(function(m){return m(i,i.error_)})},a.reportUserActivity=function(n){this.userActivity_=!0},a.userActive=function(n){if(void 0===n)return this.userActive_;if((n=!!n)!==this.userActive_){if(this.userActive_=n,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function(){var n,i,c,m=I(this,this.reportUserActivity),R=function(Me){m(),this.clearInterval(n)};this.on("mousedown",function(){m(),this.clearInterval(n),n=this.setInterval(m,250)}),this.on("mousemove",function(Me){(Me.screenX!==i||Me.screenY!==c)&&(i=Me.screenX,c=Me.screenY,m())}),this.on("mouseup",R),this.on("mouseleave",R);var Q,X=this.getChild("controlBar");X&&!yi&&!Bi&&(X.on("mouseenter",function(ve){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),X.on("mouseleave",function(ve){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",m),this.on("keyup",m),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(Q);var ve=this.options_.inactivityTimeout;ve<=0||(Q=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},ve))}},250)},a.playbackRate=function(n){if(void 0===n)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",n)},a.defaultPlaybackRate=function(n){return void 0!==n?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(n){if(void 0===n)return!!this.isAudio_;this.isAudio_=!!n},a.addTextTrack=function(n,i,c){if(this.tech_)return this.tech_.addTextTrack(n,i,c)},a.addRemoteTextTrack=function(n,i){if(this.tech_)return this.tech_.addRemoteTextTrack(n,i)},a.removeRemoteTextTrack=function(n){void 0===n&&(n={});var c=n.track;if(c||(c=n),this.tech_)return this.tech_.removeRemoteTextTrack(c)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(n){if(void 0===n)return this.language_;this.language_!==String(n).toLowerCase()&&(this.language_=String(n).toLowerCase(),Ve(this)&&this.trigger("languagechange"))},a.languages=function(){return ei(o.prototype.options_.languages,this.languages_)},a.toJSON=function(){var n=ei(this.options_),i=n.tracks;n.tracks=[];for(var c=0;c<i.length;c++){var m=i[c];(m=ei(m)).player=void 0,n.tracks[c]=m}return n},a.createModal=function(n,i){var c=this;(i=i||{}).content=n||"";var m=new so(this,i);return this.addChild(m),m.on("dispose",function(){c.removeChild(m)}),m.open(),m},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var n=this.currentBreakpoint(),i=this.currentWidth(),c=0;c<wd.length;c++){var m=wd[c];if(i<=this.breakpoints_[m]){if(n===m)return;n&&this.removeClass(Ac[n]),this.addClass(Ac[m]),this.breakpoint_=m;break}}},a.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="",n&&this.removeClass(n)},a.breakpoints=function(n){return void 0===n||(this.breakpoint_="",this.breakpoints_=Hr({},Jh,n),this.updateCurrentBreakpoint_()),Hr(this.breakpoints_)},a.responsive=function(n){return void 0===n?this.responsive_:(n=Boolean(n))!==this.responsive_?(this.responsive_=n,n?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),n):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return Ac[this.breakpoint_]||""},a.loadMedia=function(n,i){var c=this;if(n&&"object"==typeof n){this.reset(),this.cache_.media=ei(n);var m=this.cache_.media,O=m.poster,R=m.src,X=m.textTracks;!m.artwork&&O&&(this.cache_.media.artwork=[{src:O,type:el(O)}]),R&&this.src(R),O&&this.poster(O),Array.isArray(X)&&X.forEach(function(Q){return c.addRemoteTextTrack(Q,!1)}),this.ready(i)}},a.getMedia=function(){if(!this.cache_.media){var n=this.poster(),m={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(E){return{kind:E.kind,label:E.label,language:E.language,src:E.src}})};return n&&(m.poster=n,m.artwork=[{src:m.poster,type:el(m.poster)}]),m}return ei(this.cache_.media)},o.getTagSettings=function(n){var i={sources:[],tracks:[]},c=Ii(n),m=c["data-setup"];if(Co(n,"vjs-fill")&&(c.fill=!0),Co(n,"vjs-fluid")&&(c.fluid=!0),null!==m){var E=ne()(m||"{}"),O=E[0],R=E[1];O&&kn.error(O),Hr(c,R)}if(Hr(i,c),n.hasChildNodes())for(var X=n.childNodes,Q=0,ve=X.length;Q<ve;Q++){var Me=X[Q],we=Me.nodeName.toLowerCase();"source"===we?i.sources.push(Ii(Me)):"track"===we&&i.tracks.push(Ii(Me))}return i},a.flexNotSupported_=function(){var n=ee().createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},a.debug=function(n){if(void 0===n)return this.debugEnabled_;n?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},a.playbackRates=function(n){if(void 0===n)return this.cache_.playbackRates;!Array.isArray(n)||!n.every(function(i){return"number"==typeof i})||(this.cache_.playbackRates=n,this.trigger("playbackrateschange"))},o}(Ft);Bs.names.forEach(function(p){var o=Bs[p];di.prototype[o.getterName]=function(){return this.tech_?this.tech_[o.getterName]():(this[o.privateName]=this[o.privateName]||new o.ListClass,this[o.privateName])}}),di.prototype.crossorigin=di.prototype.crossOrigin,di.players={};var _s=z().navigator;di.prototype.options_={techOrder:Ir.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:_s&&(_s.languages&&_s.languages[0]||_s.userLanguage||_s.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(p){di.prototype[p]=function(){return this.techGet_(p)}}),xd.forEach(function(p){di.prototype["handleTech"+xr(p)+"_"]=function(){return this.trigger(p)}}),Ft.registerComponent("Player",di);var pu="plugin",gu="activePlugins_",Ml={},Ic=function(o){return Ml.hasOwnProperty(o)},Sd=function(o){return Ic(o)?Ml[o]:void 0},Od=function(o,a){o[gu]=o[gu]||{},o[gu][a]=!0},mu=function(o,a,s){var n=(s?"before":"")+"pluginsetup";o.trigger(n,a),o.trigger(n+":"+a.name,a)},If=function(o,a){return a.prototype.name=o,function(){mu(this,{name:o,plugin:a,instance:null},!0);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];var c=Ae(a,[this].concat(n));return this[o]=function(){return c},mu(this,c.getEventHash()),c}},Ds=function(){function p(a){if(this.constructor===p)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=a,this.log||(this.log=this.player.log.createLogger(this.name)),Ns(this),delete this.trigger,Pa(this,this.constructor.defaultState),Od(a,this.name),this.dispose=this.dispose.bind(this),a.on("dispose",this.dispose)}var o=p.prototype;return o.version=function(){return this.constructor.VERSION},o.getEventHash=function(s){return void 0===s&&(s={}),s.name=this.name,s.plugin=this.constructor,s.instance=this,s},o.trigger=function(s,n){return void 0===n&&(n={}),Ko(this.eventBusEl_,s,this.getEventHash(n))},o.handleStateChanged=function(s){},o.dispose=function(){var s=this.name,n=this.player;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[gu][s]=!1,this.player=this.state=null,n[s]=If(s,Ml[s])},p.isBasic=function(s){var n="string"==typeof s?Sd(s):s;return"function"==typeof n&&!p.prototype.isPrototypeOf(n.prototype)},p.registerPlugin=function(s,n){if("string"!=typeof s)throw new Error('Illegal plugin name, "'+s+'", must be a string, was '+typeof s+".");if(Ic(s))kn.warn('A plugin named "'+s+'" already exists. You may want to avoid re-registering plugins!');else if(di.prototype.hasOwnProperty(s))throw new Error('Illegal plugin name, "'+s+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+s+'", must be a function, was '+typeof n+".");return Ml[s]=n,s!==pu&&(di.prototype[s]=p.isBasic(n)?function(o,a){var s=function(){mu(this,{name:o,plugin:a,instance:null},!0);var i=a.apply(this,arguments);return Od(this,o),mu(this,{name:o,plugin:a,instance:i}),i};return Object.keys(a).forEach(function(n){s[n]=a[n]}),s}(s,n):If(s,n)),n},p.deregisterPlugin=function(s){if(s===pu)throw new Error("Cannot de-register base plugin.");Ic(s)&&(delete Ml[s],delete di.prototype[s])},p.getPlugins=function(s){var n;return void 0===s&&(s=Object.keys(Ml)),s.forEach(function(i){var c=Sd(i);c&&((n=n||{})[i]=c)}),n},p.getPluginVersion=function(s){var n=Sd(s);return n&&n.VERSION||""},p}();Ds.getPlugin=Sd,Ds.BASE_PLUGIN_NAME=pu,Ds.registerPlugin(pu,Ds),di.prototype.usingPlugin=function(p){return!!this[gu]&&!0===this[gu][p]},di.prototype.hasPlugin=function(p){return!!Ic(p)};var vg=function(o){return 0===o.indexOf("#")?o.slice(1):o};function et(p,o,a){var s=et.getPlayer(p);if(s)return o&&kn.warn('Player "'+p+'" is already initialised. Options will not be applied.'),a&&s.ready(a),s;var n="string"==typeof p?Ys("#"+vg(p)):p;if(!vs(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!n.ownerDocument.defaultView||!n.ownerDocument.body.contains(n))&&kn.warn("The element supplied is not included in the DOM"),o=o||{},un("beforesetup").forEach(function(c){var m=c(n,ei(o));qs(m)&&!Array.isArray(m)?o=ei(o,m):kn.error("please return an object in beforesetup hooks")});var i=Ft.getComponent("Player");return s=new i(n,o,a),un("setup").forEach(function(c){return c(s)}),s}if(et.hooks_=en,et.hooks=un,et.hook=function(o,a){un(o,a)},et.hookOnce=function(o,a){un(o,[].concat(a).map(function(s){return function i(){return ur(o,i),s.apply(void 0,arguments)}}))},et.removeHook=ur,!0!==z().VIDEOJS_NO_DYNAMIC_STYLE&&_i()){var Us=Ys(".vjs-styles-defaults");if(!Us){Us=ju("vjs-styles-defaults");var ep=Ys("head");ep&&ep.insertBefore(Us,ep.firstChild),xo(Us,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Qo(1,et),et.VERSION="7.17.0",et.options=di.prototype.options_,et.getPlayers=function(){return di.players},et.getPlayer=function(p){var a,o=di.players;if("string"==typeof p){var s=vg(p),n=o[s];if(n)return n;a=Ys("#"+s)}else a=p;if(vs(a)){var c=a.player,m=a.playerId;if(c||o[m])return c||o[m]}},et.getAllPlayers=function(){return Object.keys(di.players).map(function(p){return di.players[p]}).filter(Boolean)},et.players=di.players,et.getComponent=Ft.getComponent,et.registerComponent=function(p,o){Ir.isTech(o)&&kn.warn("The "+p+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ft.registerComponent.call(Ft,p,o)},et.getTech=Ir.getTech,et.registerTech=Ir.registerTech,et.use=function(p,o){Ja[p]=Ja[p]||[],Ja[p].push(o)},Object.defineProperty(et,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(et.middleware,"TERMINATOR",{value:wl,writeable:!1,enumerable:!0}),et.browser=ql,et.TOUCH_ENABLED=Ca,et.extend=function(o,a){void 0===a&&(a={});var s=function(){o.apply(this,arguments)},n={};for(var i in"object"==typeof a?(a.constructor!==Object.prototype.constructor&&(s=a.constructor),n=a):"function"==typeof a&&(s=a),function(p,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(o&&o.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),o&&oe(p,o)}(s,o),o&&(s.super_=o),n)n.hasOwnProperty(i)&&(s.prototype[i]=n[i]);return s},et.mergeOptions=ei,et.bind=I,et.registerPlugin=Ds.registerPlugin,et.deregisterPlugin=Ds.deregisterPlugin,et.plugin=function(p,o){return kn.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ds.registerPlugin(p,o)},et.getPlugins=Ds.getPlugins,et.getPlugin=Ds.getPlugin,et.getPluginVersion=Ds.getPluginVersion,et.addLanguage=function(p,o){var a;return p=(""+p).toLowerCase(),(et.options.languages=ei(et.options.languages,((a={})[p]=o,a)))[p]},et.log=kn,et.createLogger=Ar,et.createTimeRange=et.createTimeRanges=Ti,et.formatTime=su,et.setFormatTime=function(p){ud=p},et.resetFormatTime=function(){ud=Pl},et.parseUrl=hf,et.isCrossOrigin=zu,et.EventTarget=H,et.on=Os,et.one=Jl,et.off=Ci,et.trigger=Ko,et.xhr=ae(),et.TextTrack=nu,et.AudioTrack=ru,et.VideoTrack=Bh,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(p){et[p]=function(){return kn.warn("videojs."+p+"() is deprecated; use videojs.dom."+p+"() instead"),uc[p].apply(null,arguments)}}),et.computedStyle=Ss,et.dom=uc,et.url=id,et.defineLazyProperty=Ed,et.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Hi=Ye,vu=function(o,a,s){return o&&s&&s.responseURL&&a!==s.responseURL?s.responseURL:a},us=function(o){return et.log.debug?et.log.debug.bind(et,"VHS:",o+" >"):function(){}},Al=1/30,ar=.1,bs=function(o,a){var n,s=[];if(o&&o.length)for(n=0;n<o.length;n++)a(o.start(n),o.end(n))&&s.push([o.start(n),o.end(n)]);return et.createTimeRanges(s)},Ri=function(o,a){return bs(o,function(s,n){return s-ar<=a&&n+ar>=a})},Ji=function(o,a){return bs(o,function(s){return s-Al>=a})},kf=function(o){var a=[];if(!o||!o.length)return"";for(var s=0;s<o.length;s++)a.push(o.start(s)+" => "+o.end(s));return a.join(", ")},Oo=function(o){for(var a=[],s=0;s<o.length;s++)a.push({start:o.start(s),end:o.end(s)});return a},Nf=function(o){if(o&&o.length&&o.end)return o.end(o.length-1)},Lf=function(o,a){var s=0;if(!o||!o.length)return s;for(var n=0;n<o.length;n++){var i=o.start(n),c=o.end(n);if(!(a>c)){if(a>i&&a<=c){s+=c-a;continue}s+=c-i}}return s},kc=et.createTimeRange,Ff=function(o,a){if(!a.preload)return a.duration;var s=0;return(a.parts||[]).forEach(function(n){s+=n.duration}),(a.preloadHints||[]).forEach(function(n){"PART"===n.type&&(s+=o.partTargetDuration)}),s},Bf=function(o){return(o.segments||[]).reduce(function(a,s,n){return s.parts?s.parts.forEach(function(i,c){a.push({duration:i.duration,segmentIndex:n,partIndex:c,part:i,segment:s})}):a.push({duration:s.duration,segmentIndex:n,partIndex:null,segment:s,part:null}),a},[])},tp=function(o){var a=o.segments&&o.segments.length&&o.segments[o.segments.length-1];return a&&a.parts||[]},Uf=function(o){var a=o.preloadSegment;if(a){var s=a.parts;return(a.preloadHints||[]).reduce(function(c,m){return c+("PART"===m.type?1:0)},0)+(s&&s.length?s.length:0)}},np=function(o,a){if(a.endList)return 0;if(o&&o.suggestedPresentationDelay)return o.suggestedPresentationDelay;var s=tp(a).length>0;return s&&a.serverControl&&a.serverControl.partHoldBack?a.serverControl.partHoldBack:s&&a.partTargetDuration?3*a.partTargetDuration:a.serverControl&&a.serverControl.holdBack?a.serverControl.holdBack:a.targetDuration?3*a.targetDuration:0},Dd=function(o,a,s){if(void 0===a&&(a=o.mediaSequence+o.segments.length),a<o.mediaSequence)return 0;var n=function(o,a){var s=0,n=a-o.mediaSequence,i=o.segments[n];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;n--;){if(void 0!==(i=o.segments[n]).end)return{result:s+i.end,precise:!0};if(s+=Ff(o,i),void 0!==i.start)return{result:s+i.start,precise:!0}}return{result:s,precise:!1}}(o,a);if(n.precise)return n.result;var i=function(o,a){for(var n,s=0,i=a-o.mediaSequence;i<o.segments.length;i++){if(void 0!==(n=o.segments[i]).start)return{result:n.start-s,precise:!0};if(s+=Ff(o,n),void 0!==n.end)return{result:n.end-s,precise:!0}}return{result:-1,precise:!1}}(o,a);return i.precise?i.result:n.result+s},Vf=function(o,a,s){if(!o)return 0;if("number"!=typeof s&&(s=0),void 0===a){if(o.totalDuration)return o.totalDuration;if(!o.endList)return z()[1/0]}return Dd(o,a,s)},yu=function(o){var a=o.defaultDuration,s=o.durationList,n=o.startIndex,i=o.endIndex,c=0;if(n>i){var m=[i,n];n=m[0],i=m[1]}if(n<0){for(var E=n;E<Math.min(0,i);E++)c+=a;n=0}for(var O=n;O<i;O++)c+=s[O].duration;return c},ip=function(o,a,s,n){if(!o||!o.segments)return null;if(o.endList)return Vf(o);if(null===a)return null;var i=Dd(o,o.mediaSequence+o.segments.length,a=a||0);return s&&(i-=n="number"==typeof n?n:np(null,o)),Math.max(0,i)},jf=function(o){return o.excludeUntil&&o.excludeUntil>Date.now()},Po=function(o){return o.excludeUntil&&o.excludeUntil===1/0},Rc=function(o){var a=jf(o);return!o.disabled&&!a},nl=function(o,a){return a.attributes&&a.attributes[o]},Md=function(o,a){if(1===o.playlists.length)return!0;var s=a.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===o.playlists.filter(function(n){return!!Rc(n)&&(n.attributes.BANDWIDTH||0)<s}).length},Ad=function(o,a){return!(!o&&!a||!o&&a||o&&!a||!(o===a||o.id&&a.id&&o.id===a.id||o.resolvedUri&&a.resolvedUri&&o.resolvedUri===a.resolvedUri||o.uri&&a.uri&&o.uri===a.uri))},Hf=function(o,a){var s=o&&o.mediaGroups&&o.mediaGroups.AUDIO||{},n=!1;for(var i in s){for(var c in s[i])if(n=a(s[i][c]))break;if(n)break}return!!n},_u=function(o){if(!o||!o.playlists||!o.playlists.length)return Hf(o,function(c){return c.playlists&&c.playlists.length||c.uri});for(var s=function(m){var E=o.playlists[m],O=E.attributes&&E.attributes.CODECS;return O&&O.split(",").every(function(X){return Sr(X)})||Hf(o,function(X){return Ad(E,X)})?"continue":{v:!1}},n=0;n<o.playlists.length;n++){var i=s(n);if("continue"!==i&&"object"==typeof i)return i.v}return!0},Vs={liveEdgeDelay:np,duration:Vf,seekable:function(o,a,s){var i=a||0,c=ip(o,a,!0,s);return null===c?kc():kc(i,c)},getMediaInfoForTime:function(o){for(var a=o.playlist,s=o.currentTime,n=o.startingSegmentIndex,i=o.startingPartIndex,c=o.startTime,m=o.experimentalExactManifestTimings,E=s-c,O=Bf(a),R=0,X=0;X<O.length;X++){var Q=O[X];if(n===Q.segmentIndex&&("number"!=typeof i||"number"!=typeof Q.partIndex||i===Q.partIndex)){R=X;break}}if(E<0){if(R>0)for(var ve=R-1;ve>=0;ve--){var Me=O[ve];if(E+=Me.duration,m){if(E<0)continue}else if(E+Al<=0)continue;return{partIndex:Me.partIndex,segmentIndex:Me.segmentIndex,startTime:c-yu({defaultDuration:a.targetDuration,durationList:O,startIndex:R,endIndex:ve})}}return{partIndex:O[0]&&O[0].partIndex||null,segmentIndex:O[0]&&O[0].segmentIndex||0,startTime:s}}if(R<0){for(var we=R;we<0;we++)if((E-=a.targetDuration)<0)return{partIndex:O[0]&&O[0].partIndex||null,segmentIndex:O[0]&&O[0].segmentIndex||0,startTime:s};R=0}for(var Se=R;Se<O.length;Se++){var st=O[Se];if(E-=st.duration,m){if(E>0)continue}else if(E-Al>=0)continue;return{partIndex:st.partIndex,segmentIndex:st.segmentIndex,startTime:c+yu({defaultDuration:a.targetDuration,durationList:O,startIndex:R,endIndex:Se})}}return{segmentIndex:O[O.length-1].segmentIndex,partIndex:O[O.length-1].partIndex,startTime:s}},isEnabled:Rc,isDisabled:function(o){return o.disabled},isBlacklisted:jf,isIncompatible:Po,playlistEnd:ip,isAes:function(o){for(var a=0;a<o.segments.length;a++)if(o.segments[a].key)return!0;return!1},hasAttribute:nl,estimateSegmentRequestTime:function(o,a,s,n){return void 0===n&&(n=0),nl("BANDWIDTH",s)?(o*s.attributes.BANDWIDTH-8*n)/a:NaN},isLowestEnabledRendition:Md,isAudioOnly:_u,playlistMatch:Ad,segmentDurationWithParts:Ff},Nc=et.log,ec=function(o,a){return o+"-"+a},bu=function(o,a){!o.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(s){if(o.mediaGroups[s])for(var n in o.mediaGroups[s])for(var i in o.mediaGroups[s][n])a(o.mediaGroups[s][n][i],s,n,i)})},$f=function(o){var a=o.playlist,s=o.uri;a.id=o.id,a.playlistErrors_=0,s&&(a.uri=s),a.attributes=a.attributes||{}},Wf=function(o,a){o.uri=a;for(var s=0;s<o.playlists.length;s++)o.playlists[s].uri||(o.playlists[s].uri="placeholder-uri-"+s);var i=_u(o);bu(o,function(c,m,E,O){var R="placeholder-uri-"+m+"-"+E+"-"+O;if(!c.playlists||!c.playlists.length){if(i&&"AUDIO"===m&&!c.uri)for(var X=0;X<o.playlists.length;X++){var Q=o.playlists[X];if(Q.attributes&&Q.attributes.AUDIO&&Q.attributes.AUDIO===E)return}c.playlists=[ce({},c)]}c.playlists.forEach(function(ve,Me){var we=ec(Me,R);ve.uri?ve.resolvedUri=ve.resolvedUri||Hi(o.uri,ve.uri):(ve.uri=0===Me?R:we,ve.resolvedUri=ve.uri),ve.id=ve.id||we,ve.attributes=ve.attributes||{},o.playlists[ve.id]=ve,o.playlists[ve.uri]=ve})}),function(o){for(var a=o.playlists.length;a--;){var s=o.playlists[a];$f({playlist:s,id:ec(a,s.uri)}),s.resolvedUri=Hi(o.uri,s.uri),o.playlists[s.id]=s,o.playlists[s.uri]=s,s.attributes.BANDWIDTH||Nc.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(o),function(o){bu(o,function(a){a.uri&&(a.resolvedUri=Hi(o.uri,a.uri))})}(o)},Id=et.mergeOptions,Gf=function(o,a){if(!o)return a;var s=Id(o,a);if(o.preloadHints&&!a.preloadHints&&delete s.preloadHints,o.parts&&!a.parts)delete s.parts;else if(o.parts&&a.parts)for(var n=0;n<a.parts.length;n++)o.parts&&o.parts[n]&&(s.parts[n]=Id(o.parts[n],a.parts[n]));return!o.skipped&&a.skipped&&(s.skipped=!1),o.preload&&!a.preload&&(s.preload=!1),s},xg=function(o,a){!o.resolvedUri&&o.uri&&(o.resolvedUri=Hi(a,o.uri)),o.key&&!o.key.resolvedUri&&(o.key.resolvedUri=Hi(a,o.key.uri)),o.map&&!o.map.resolvedUri&&(o.map.resolvedUri=Hi(a,o.map.uri)),o.map&&o.map.key&&!o.map.key.resolvedUri&&(o.map.key.resolvedUri=Hi(a,o.map.key.uri)),o.parts&&o.parts.length&&o.parts.forEach(function(s){s.resolvedUri||(s.resolvedUri=Hi(a,s.uri))}),o.preloadHints&&o.preloadHints.length&&o.preloadHints.forEach(function(s){s.resolvedUri||(s.resolvedUri=Hi(a,s.uri))})},Qf=function(o){var a=o.segments||[],s=o.preloadSegment;if(s&&s.parts&&s.parts.length){if(s.preloadHints)for(var n=0;n<s.preloadHints.length;n++)if("MAP"===s.preloadHints[n].type)return a;s.duration=o.targetDuration,s.preload=!0,a.push(s)}return a},cp=function(o,a){return o===a||o.segments&&a.segments&&o.segments.length===a.segments.length&&o.endList===a.endList&&o.mediaSequence===a.mediaSequence&&o.preloadSegment===a.preloadSegment},kd=function(o,a,s){void 0===s&&(s=cp);var n=Id(o,{}),i=n.playlists[a.id];if(!i||s(i,a))return null;a.segments=Qf(a);var c=Id(i,a);if(c.preloadSegment&&!a.preloadSegment&&delete c.preloadSegment,i.segments){if(a.skip){a.segments=a.segments||[];for(var m=0;m<a.skip.skippedSegments;m++)a.segments.unshift({skipped:!0})}c.segments=function(o,a,s){var n=o.slice(),i=a.slice();s=s||0;for(var m,c=[],E=0;E<i.length;E++){var O=n[E+s],R=i[E];O?(m=O.map||m,c.push(Gf(O,R))):(m&&!R.map&&(R.map=m),c.push(R))}return c}(i.segments,a.segments,a.mediaSequence-i.mediaSequence)}c.segments.forEach(function(O){xg(O,c.resolvedUri)});for(var E=0;E<n.playlists.length;E++)n.playlists[E].id===a.id&&(n.playlists[E]=c);return n.playlists[a.id]=c,n.playlists[a.uri]=c,bu(o,function(O,R,X,Q){if(O.playlists)for(var ve=0;ve<O.playlists.length;ve++)a.id===O.playlists[ve].id&&(O.playlists[ve]=a)}),n},Rd=function(o,a){var s=o.segments||[],n=s[s.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],c=i&&i.duration||n&&n.duration;return a&&c?1e3*c:500*(o.partTargetDuration||o.targetDuration||10)},tc=function(p){function o(s,n,i){var c;if(void 0===i&&(i={}),c=p.call(this)||this,!s)throw new Error("A non-empty playlist URL or object is required");c.logger_=us("PlaylistLoader");var E=i.withCredentials,O=void 0!==E&&E,R=i.handleManifestRedirects,X=void 0!==R&&R;c.src=s,c.vhs_=n,c.withCredentials=O,c.handleManifestRedirects=X;var Q=n.options_;return c.customTagParsers=Q&&Q.customTagParsers||[],c.customTagMappers=Q&&Q.customTagMappers||[],c.experimentalLLHLS=Q&&Q.experimentalLLHLS||!1,et.browser.IE_VERSION&&(c.experimentalLLHLS=!1),c.state="HAVE_NOTHING",c.handleMediaupdatetimeout_=c.handleMediaupdatetimeout_.bind(ue(c)),c.on("mediaupdatetimeout",c.handleMediaupdatetimeout_),c}j(o,p);var a=o.prototype;return a.handleMediaupdatetimeout_=function(){var n=this;if("HAVE_METADATA"===this.state){var i=this.media(),c=Hi(this.master.uri,i.uri);this.experimentalLLHLS&&(c=function(o,a){if(a.endList||!a.serverControl)return o;var s={};if(a.serverControl.canBlockReload){var n=a.preloadSegment,i=a.mediaSequence+a.segments.length;if(n){var c=n.parts||[],m=Uf(a)-1;m>-1&&m!==c.length-1&&(s._HLS_part=m),(m>-1||c.length)&&i--}s._HLS_msn=i}if(a.serverControl&&a.serverControl.canSkipUntil&&(s._HLS_skip=a.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(s).length){var E=new(z().URL)(o);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(O){!s.hasOwnProperty(O)||E.searchParams.set(O,s[O])}),o=E.toString()}return o}(c,i)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:c,withCredentials:this.withCredentials},function(m,E){if(n.request){if(m)return n.playlistRequestError(n.request,n.media(),"HAVE_METADATA");n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}})}},a.playlistRequestError=function(n,i,c){var m=i.uri,E=i.id;this.request=null,c&&(this.state=c),this.error={playlist:this.master.playlists[E],status:n.status,message:"HLS playlist request error at URL: "+m+".",responseText:n.responseText,code:n.status>=500?4:2},this.trigger("error")},a.parseManifest_=function(n){var i=this,c=n.url;return function(o){var a=o.onwarn,s=o.oninfo,n=o.manifestString,i=o.customTagParsers,c=void 0===i?[]:i,m=o.customTagMappers,E=void 0===m?[]:m,O=o.experimentalLLHLS,R=new nt;a&&R.on("warn",a),s&&R.on("info",s),c.forEach(function(we){return R.addParser(we)}),E.forEach(function(we){return R.addTagMapper(we)}),R.push(n),R.end();var X=R.manifest;if(O||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(we){X.hasOwnProperty(we)&&delete X[we]}),X.segments&&X.segments.forEach(function(we){["parts","preloadHints"].forEach(function(Se){we.hasOwnProperty(Se)&&delete we[Se]})})),!X.targetDuration){var Q=10;X.segments&&X.segments.length&&(Q=X.segments.reduce(function(we,Se){return Math.max(we,Se.duration)},0)),a&&a("manifest has no targetDuration defaulting to "+Q),X.targetDuration=Q}var ve=tp(X);if(ve.length&&!X.partTargetDuration){var Me=ve.reduce(function(we,Se){return Math.max(we,Se.duration)},0);a&&(a("manifest has no partTargetDuration defaulting to "+Me),Nc.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),X.partTargetDuration=Me}return X}({onwarn:function(O){return i.logger_("m3u8-parser warn for "+c+": "+O.message)},oninfo:function(O){return i.logger_("m3u8-parser info for "+c+": "+O.message)},manifestString:n.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},a.haveMetadata=function(n){var i=n.playlistString,c=n.playlistObject,m=n.url,E=n.id;this.request=null,this.state="HAVE_METADATA";var O=c||this.parseManifest_({url:m,manifestString:i});O.lastRequest=Date.now(),$f({playlist:O,uri:m,id:E});var R=kd(this.master,O);this.targetDuration=O.partTargetDuration||O.targetDuration,this.pendingMedia_=null,R?(this.master=R,this.media_=this.master.playlists[E]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Rd(this.media(),!!R)),this.trigger("loadedplaylist")},a.dispose=function(){this.trigger("dispose"),this.stopRequest(),z().clearTimeout(this.mediaUpdateTimeout),z().clearTimeout(this.finalRenditionTimeout),this.off()},a.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},a.media=function(n,i){var c=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(z().clearTimeout(this.finalRenditionTimeout),i){var m=(n.partTargetDuration||n.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=z().setTimeout(this.media.bind(this,n,!1),m)}else{var E=this.state,O=!this.media_||n.id!==this.media_.id,R=this.master.playlists[n.id];if(R&&R.endList||n.endList&&n.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,void(O&&(this.trigger("mediachanging"),this.trigger("HAVE_MASTER"===E?"loadedmetadata":"mediachange")));if(this.updateMediaUpdateTimeout_(Rd(n,!0)),O){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=n,this.request=this.vhs_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(X,Q){if(c.request){if(n.lastRequest=Date.now(),n.resolvedUri=vu(c.handleManifestRedirects,n.resolvedUri,Q),X)return c.playlistRequestError(c.request,n,E);c.haveMetadata({playlistString:Q.responseText,url:n.uri,id:n.id}),c.trigger("HAVE_MASTER"===E?"loadedmetadata":"mediachange")}})}}},a.pause=function(){this.mediaUpdateTimeout&&(z().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},a.load=function(n){var i=this;this.mediaUpdateTimeout&&(z().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var c=this.media();if(n){var m=c?(c.partTargetDuration||c.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=z().setTimeout(function(){i.mediaUpdateTimeout=null,i.load()},m)}else this.started?this.trigger(c&&!c.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()},a.updateMediaUpdateTimeout_=function(n){var i=this;this.mediaUpdateTimeout&&(z().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=z().setTimeout(function(){i.mediaUpdateTimeout=null,i.trigger("mediaupdatetimeout"),i.updateMediaUpdateTimeout_(n)},n))},a.start=function(){var n=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=z().location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){n.setupInitialPlaylist(n.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(i,c){if(n.request){if(n.request=null,i)return n.error={status:c.status,message:"HLS playlist request error at URL: "+n.src+".",responseText:c.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.src=vu(n.handleManifestRedirects,n.src,c);var m=n.parseManifest_({manifestString:c.responseText,url:n.src});n.setupInitialPlaylist(m)}})},a.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},a.setupInitialPlaylist=function(n){if(this.state="HAVE_MASTER",n.playlists)return this.master=n,Wf(this.master,this.srcUri()),n.playlists.forEach(function(c){c.segments=Qf(c),c.segments.forEach(function(m){xg(m,c.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var i=this.srcUri()||z().location.href;this.master=function(o,a){var s=ec(0,a),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:z().location.href,resolvedUri:z().location.href,playlists:[{uri:a,id:s,resolvedUri:a,attributes:{}}]};return n.playlists[s]=n.playlists[0],n.playlists[a]=n.playlists[0],n}(0,i),this.haveMetadata({playlistObject:n,url:i,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},o}(et.EventTarget),ea=et.xhr,wg=et.mergeOptions,Nd=function(o,a,s,n){var i="arraybuffer"===o.responseType?o.response:o.responseText;!a&&i&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=i.byteLength||i.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),s.headers&&(o.responseHeaders=s.headers),a&&"ETIMEDOUT"===a.code&&(o.timedout=!0),!a&&!o.aborted&&200!==s.statusCode&&206!==s.statusCode&&0!==s.statusCode&&(a=new Error("XHR Failed with a response of: "+(o&&(i||o.responseText)))),n(a,o)},dp=function(){var o=function a(s,n){s=wg({timeout:45e3},s);var i=a.beforeRequest||et.Vhs.xhr.beforeRequest;if(i&&"function"==typeof i){var c=i(s);c&&(s=c)}var E=(!0===et.Vhs.xhr.original?ea:et.Vhs.xhr)(s,function(R,X){return Nd(E,R,X,n)}),O=E.abort;return E.abort=function(){return E.aborted=!0,O.apply(E,arguments)},E.uri=s.uri,E.requestTime=Date.now(),E};return o.original=!0,o},qf=function(o){var a={};return o.byterange&&(a.Range=function(o){return"bytes="+o.offset+"-"+(o.offset+o.length-1)}(o.byterange)),a},Og=function(o,a){return o.start(a)+"-"+o.end(a)},fp=function(o,a){var s=o.toString(16);return"00".substring(0,2-s.length)+s+(a%2?" ":"")},Pg=function(o){return o>=32&&o<126?String.fromCharCode(o):"."},hp=function(o){var a={};return Object.keys(o).forEach(function(s){var n=o[s];a[s]=ArrayBuffer.isView(n)?{bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:n}),a},Ld=function(o){var a=o.byterange||{length:1/0,offset:0};return[a.length,a.offset,o.resolvedUri].join(",")},Nn=function(o){return o.resolvedUri},Kf=function(o){for(var a=Array.prototype.slice.call(o),s=16,n="",m=0;m<a.length/s;m++)n+=a.slice(m*s,m*s+s).map(fp).join("")+" "+a.slice(m*s,m*s+s).map(Pg).join("")+"\n";return n},ta=Object.freeze({__proto__:null,createTransferableMessage:hp,initSegmentId:Ld,segmentKeyId:Nn,hexDump:Kf,tagDump:function(o){return Kf(o.bytes)},textRanges:function(o){var s,a="";for(s=0;s<o.length;s++)a+=Og(o,s)+" ";return a}}),gp=function p(o){var a=o.programTime,s=o.playlist,n=o.retryCount,i=void 0===n?2:n,c=o.seekTo,m=o.pauseAfterSeek,E=void 0===m||m,O=o.tech,R=o.callback;if(!R)throw new Error("seekToProgramTime: callback must be provided");if(void 0===a||!s||!c)return R({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!s.endList&&!O.hasStarted_)return R({message:"player must be playing a live stream to start buffering"});if(!function(o){if(!o.segments||0===o.segments.length)return!1;for(var a=0;a<o.segments.length;a++)if(!o.segments[a].dateTimeObject)return!1;return!0}(s))return R({message:"programDateTime tags must be provided in the manifest "+s.resolvedUri});var X=function(o,a){var s;try{s=new Date(o)}catch(X){return null}if(!a||!a.segments||0===a.segments.length)return null;var n=a.segments[0];if(s<n.dateTimeObject)return null;for(var i=0;i<a.segments.length-1&&(n=a.segments[i],!(s<a.segments[i+1].dateTimeObject));i++);var m=a.segments[a.segments.length-1],E=m.dateTimeObject,O=m.videoTimingInfo?function(o){return o.transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds}(m.videoTimingInfo):m.duration+.25*m.duration;return s>new Date(E.getTime()+1e3*O)?null:(s>E&&(n=m),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Vs.duration(a,a.mediaSequence+a.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})}(a,s);if(!X)return R({message:a+" was not found in the stream"});var Q=X.segment,ve=function(o,a){var s,n;try{s=new Date(o),n=new Date(a)}catch(m){}var i=s.getTime();return(n.getTime()-i)/1e3}(Q.dateTimeObject,a);if("estimate"===X.type)return 0===i?R({message:a+" is not buffered yet. Try again"}):(c(X.estimatedStart+ve),void O.one("seeked",function(){p({programTime:a,playlist:s,retryCount:i-1,seekTo:c,pauseAfterSeek:E,tech:O,callback:R})}));var Me=Q.start+ve;O.one("seeked",function(){return R(null,O.currentTime())}),E&&O.pause(),c(Me)},mp=function(o,a){if(4===o.readyState)return a()},v=et.mergeOptions,d=function(o,a){if(!cp(o,a)||o.sidx&&a.sidx&&(o.sidx.offset!==a.sidx.offset||o.sidx.length!==a.sidx.length))return!1;if(!o.sidx&&a.sidx||o.sidx&&!a.sidx||o.segments&&!a.segments||!o.segments&&a.segments)return!1;if(!o.segments&&!a.segments)return!0;for(var s=0;s<o.segments.length;s++){var n=o.segments[s],i=a.segments[s];if(n.uri!==i.uri)return!1;if(n.byterange||i.byterange){var c=n.byterange,m=i.byterange;if(c&&!m||!c&&m||c.offset!==m.offset||c.length!==m.length)return!1}}return!0},T=function(o,a){return(Boolean(!o.map&&!a.map)||Boolean(o.map&&a.map&&o.map.byterange.offset===a.map.byterange.offset&&o.map.byterange.length===a.map.byterange.length))&&o.uri===a.uri&&o.byterange.offset===a.byterange.offset&&o.byterange.length===a.byterange.length},L=function(o,a){var s={};for(var n in o){var c=o[n].sidx;if(c){var m=Fn(c);if(!a[m])break;T(a[m].sidxInfo,c)&&(s[m]=a[m])}}return s},fe=function(p){function o(s,n,i,c){var m;void 0===i&&(i={}),(m=p.call(this)||this).masterPlaylistLoader_=c||ue(m),c||(m.isMaster_=!0);var O=i.withCredentials,R=void 0!==O&&O,X=i.handleManifestRedirects,Q=void 0!==X&&X;if(m.vhs_=n,m.withCredentials=R,m.handleManifestRedirects=Q,!s)throw new Error("A non-empty playlist URL or object is required");return m.on("minimumUpdatePeriod",function(){m.refreshXml_()}),m.on("mediaupdatetimeout",function(){m.refreshMedia_(m.media().id)}),m.state="HAVE_NOTHING",m.loadedPlaylists_={},m.logger_=us("DashPlaylistLoader"),m.isMaster_?(m.masterPlaylistLoader_.srcUrl=s,m.masterPlaylistLoader_.sidxMapping_={}):m.childPlaylist_=s,m}j(o,p);var a=o.prototype;return a.requestErrored_=function(n,i,c){return!this.request||(this.request=null,n?(this.error="object"!=typeof n||n instanceof Error?{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2}:n,c&&(this.state=c),this.trigger("error"),!0):void 0)},a.addSidxSegments_=function(n,i,c){var m=this,E=n.sidx&&Fn(n.sidx);if(n.sidx&&E&&!this.masterPlaylistLoader_.sidxMapping_[E]){var O=vu(this.handleManifestRedirects,n.sidx.resolvedUri),R=function(Q,ve){if(!m.requestErrored_(Q,ve,i)){var we,Me=m.masterPlaylistLoader_.sidxMapping_;try{we=Gs()(ln(ve.response).subarray(8))}catch(Se){return void m.requestErrored_(Se,ve,i)}return Me[E]={sidxInfo:n.sidx,sidx:we},pn(n,we,n.sidx.resolvedUri),c(!0)}};this.request=function(o,a,s){var i,n=[],c=!1,m=function(Q,ve,Me,we){return ve.abort(),c=!0,s(Q,ve,Me,we)},E=function(Q,ve){if(!c){if(Q)return m(Q,ve,"",n);var Me=ve.responseText.substring(n&&n.byteLength||0,ve.responseText.length);if(n=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if((a=a.filter(function(m){return m&&(m.byteLength||m.length)&&"string"!=typeof m})).length<=1)return ln(a[0]);var n=a.reduce(function(m,E,O){return m+(E.byteLength||E.length)},0),i=new Uint8Array(n),c=0;return a.forEach(function(m){m=ln(m),i.set(m,c),c+=m.byteLength}),i}(n,ma(Me,!0)),i=i||Uo(n),n.length<10||i&&n.length<i+2)return mp(ve,function(){return m(Q,ve,"",n)});var we=It(n);return"ts"===we&&n.length<188||!we&&n.length<376?mp(ve,function(){return m(Q,ve,"",n)}):m(null,ve,we,n)}},R=a({uri:o,beforeSend:function(Q){Q.overrideMimeType("text/plain; charset=x-user-defined"),Q.addEventListener("progress",function(ve){return Nd(Q,null,{statusCode:Q.status},E)})}},function(X,Q){return Nd(R,X,Q,E)});return R}(O,this.vhs_.xhr,function(X,Q,ve,Me){if(X)return R(X,Q);if(!ve||"mp4"!==ve)return R({status:Q.status,message:"Unsupported "+(ve||"unknown")+" container type for sidx segment at URL: "+O,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},Q);var we=n.sidx.byterange,Se=we.offset,st=we.length;if(Me.length>=st+Se)return R(X,{response:Me.subarray(Se,Se+st),status:Q.status,uri:Q.uri});m.request=m.vhs_.xhr({uri:O,responseType:"arraybuffer",headers:qf({byterange:n.sidx.byterange})},R)})}else this.mediaRequest_=z().setTimeout(function(){return c(!1)},0)},a.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},z().clearTimeout(this.minimumUpdatePeriodTimeout_),z().clearTimeout(this.mediaRequest_),z().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},a.hasPendingRequest=function(){return this.request||this.mediaRequest_},a.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},a.media=function(n){var i=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var c=this.state;if("string"==typeof n){if(!this.masterPlaylistLoader_.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.masterPlaylistLoader_.master.playlists[n]}var m=!this.media_||n.id!==this.media_.id;if(m&&this.loadedPlaylists_[n.id]&&this.loadedPlaylists_[n.id].endList)return this.state="HAVE_METADATA",this.media_=n,void(m&&(this.trigger("mediachanging"),this.trigger("mediachange")));!m||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(n,c,function(E){i.haveMetadata({startingState:c,playlist:n})}))},a.haveMetadata=function(n){var i=n.startingState,c=n.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[c.id]=c,this.mediaRequest_=null,this.refreshMedia_(c.id),this.trigger("HAVE_MASTER"===i?"loadedmetadata":"mediachange")},a.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),z().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(z().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},a.load=function(n){var i=this;z().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var c=this.media();if(n){var m=c?c.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=z().setTimeout(function(){return i.load()},m)}else this.started?c&&!c.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},a.start=function(){var n=this;this.started=!0,this.isMaster_?this.requestMaster_(function(i,c){n.haveMaster_(),!n.hasPendingRequest()&&!n.media_&&n.media(n.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=z().setTimeout(function(){return n.haveMaster_()},0)},a.requestMaster_=function(n){var i=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(c,m){if(!i.requestErrored_(c,m)){var E=m.responseText!==i.masterPlaylistLoader_.masterXml_;return i.masterPlaylistLoader_.masterXml_=m.responseText,i.masterLoaded_=m.responseHeaders&&m.responseHeaders.date?Date.parse(m.responseHeaders.date):Date.now(),i.masterPlaylistLoader_.srcUrl=vu(i.handleManifestRedirects,i.masterPlaylistLoader_.srcUrl,m),E?(i.handleMaster_(),void i.syncClientServerClock_(function(){return n(m,E)})):n(m,E)}"HAVE_NOTHING"===i.state&&(i.started=!1)})},a.syncClientServerClock_=function(n){var i=this,c=function(o){return function(o){var a=yt(o,"UTCTiming")[0];if(!a)return null;var s=Kn(a);switch(s.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":s.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":s.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":s.method="DIRECT",s.value=Date.parse(s.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return s}(li(o))}(this.masterPlaylistLoader_.masterXml_);return null===c?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===c.method?(this.masterPlaylistLoader_.clientOffset_=c.value-Date.now(),n()):void(this.request=this.vhs_.xhr({uri:Hi(this.masterPlaylistLoader_.srcUrl,c.value),method:c.method,withCredentials:this.withCredentials},function(m,E){if(i.request){if(m)return i.masterPlaylistLoader_.clientOffset_=i.masterLoaded_-Date.now(),n();var O;O="HEAD"===c.method?E.responseHeaders&&E.responseHeaders.date?Date.parse(E.responseHeaders.date):i.masterLoaded_:Date.parse(E.responseText),i.masterPlaylistLoader_.clientOffset_=O-Date.now(),n()}}))},a.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},a.handleMaster_=function(){this.mediaRequest_=null;var n=function(o){var s=o.srcUrl,c=dr(o.masterXml,{manifestUri:s,clientOffset:o.clientOffset,sidxMapping:o.sidxMapping});return Wf(c,s),c}({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),i=this.masterPlaylistLoader_.master;i&&(n=function(o,a,s){for(var n=!0,i=v(o,{duration:a.duration,minimumUpdatePeriod:a.minimumUpdatePeriod}),c=0;c<a.playlists.length;c++){var m=a.playlists[c];if(m.sidx){var E=Fn(m.sidx);s&&s[E]&&s[E].sidx&&pn(m,s[E].sidx,m.sidx.resolvedUri)}var O=kd(i,m,d);O&&(i=O,n=!1)}return bu(a,function(R,X,Q,ve){if(R.playlists&&R.playlists.length){var Me=R.playlists[0].id,we=kd(i,R.playlists[0],d);we&&((i=we).mediaGroups[X][Q][ve].playlists[0]=i.playlists[Me],n=!1)}}),a.minimumUpdatePeriod!==o.minimumUpdatePeriod&&(n=!1),n?null:i}(i,n,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=n||i;var c=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return c&&c!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=c),(!i||n&&n.minimumUpdatePeriod!==i.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(n)},a.updateMinimumUpdatePeriodTimeout_=function(){var n=this.masterPlaylistLoader_;n.createMupOnMedia_&&(n.off("loadedmetadata",n.createMupOnMedia_),n.createMupOnMedia_=null),n.minimumUpdatePeriodTimeout_&&(z().clearTimeout(n.minimumUpdatePeriodTimeout_),n.minimumUpdatePeriodTimeout_=null);var i=n.master&&n.master.minimumUpdatePeriod;0===i&&(n.media()?i=1e3*n.media().targetDuration:(n.createMupOnMedia_=n.updateMinimumUpdatePeriodTimeout_,n.one("loadedmetadata",n.createMupOnMedia_))),"number"!=typeof i||i<=0?i<0&&this.logger_("found invalid minimumUpdatePeriod of "+i+", not setting a timeout"):this.createMUPTimeout_(i)},a.createMUPTimeout_=function(n){var i=this.masterPlaylistLoader_;i.minimumUpdatePeriodTimeout_=z().setTimeout(function(){i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(n)},n)},a.refreshXml_=function(){var n=this;this.requestMaster_(function(i,c){!c||(n.media_&&(n.media_=n.masterPlaylistLoader_.master.playlists[n.media_.id]),n.masterPlaylistLoader_.sidxMapping_=function(o,a){var n=L(o.playlists,a);return bu(o,function(i,c,m,E){i.playlists&&i.playlists.length&&(n=v(n,L(i.playlists,a)))}),n}(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.sidxMapping_),n.addSidxSegments_(n.media(),n.state,function(m){n.refreshMedia_(n.media().id)}))})},a.refreshMedia_=function(n){var i=this;if(!n)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var c=this.masterPlaylistLoader_.master.playlists,m=!this.media_||this.media_!==c[n];m?this.media_=c[n]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function O(){i.media().endList||(i.mediaUpdateTimeout=z().setTimeout(function(){i.trigger("mediaupdatetimeout"),O()},Rd(i.media(),Boolean(m))))}(),this.trigger("loadedplaylist")},o}(et.EventTarget),Te={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},tt=function(o){return o.on=o.addEventListener,o.off=o.removeEventListener,o},Tt=function(o){return function(){var a=function(o){try{return URL.createObjectURL(new Blob([o],{type:"application/javascript"}))}catch(s){var a=new BlobBuilder;return a.append(o),URL.createObjectURL(a.getBlob())}}(o),s=tt(new Worker(a));s.objURL=a;var n=s.terminate;return s.on=s.addEventListener,s.off=s.removeEventListener,s.terminate=function(){return URL.revokeObjectURL(a),n.call(this)},s}},Ct=function(o){return"var browserWorkerPolyFill = "+tt.toString()+";\nbrowserWorkerPolyFill(self);\n"+o},Pt=function(o){return o.toString().replace(/^function.+?{/,"").slice(0,-1)},sn=Tt(Ct(Pt(function(){var p=function(){this.init=function(){var S={};this.on=function(N,k){S[N]||(S[N]=[]),S[N]=S[N].concat(k)},this.off=function(N,k){var U;return!!S[N]&&(U=S[N].indexOf(k),S[N]=S[N].slice(),S[N].splice(U,1),U>-1)},this.trigger=function(N){var k,U,J,ie;if(k=S[N])if(2===arguments.length)for(J=k.length,U=0;U<J;++U)k[U].call(this,arguments[1]);else{for(ie=[],U=arguments.length,U=1;U<arguments.length;++U)ie.push(arguments[U]);for(J=k.length,U=0;U<J;++U)k[U].apply(this,ie)}},this.dispose=function(){S={}}}};p.prototype.pipe=function(he){return this.on("data",function(S){he.push(S)}),this.on("done",function(S){he.flush(S)}),this.on("partialdone",function(S){he.partialFlush(S)}),this.on("endedtimeline",function(S){he.endTimeline(S)}),this.on("reset",function(S){he.reset(S)}),he},p.prototype.push=function(he){this.trigger("data",he)},p.prototype.flush=function(he){this.trigger("done",he)},p.prototype.partialFlush=function(he){this.trigger("partialdone",he)},p.prototype.endTimeline=function(he){this.trigger("endedtimeline",he)},p.prototype.reset=function(he){this.trigger("reset",he)};var s,n,i,c,m,E,O,R,X,Q,ve,Me,we,Se,st,it,bt,xt,wt,$t,Jt,Lt,kt,Yt,pr,Qr,ri,ii,Cr,Uc,Ba,ko,ns,ua,zi,ca,he,S,o=p,a=Math.pow(2,32)-1;(function(){var he;if(kt={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(he in kt)kt.hasOwnProperty(he)&&(kt[he]=[he.charCodeAt(0),he.charCodeAt(1),he.charCodeAt(2),he.charCodeAt(3)]);Yt=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Qr=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),pr=new Uint8Array([0,0,0,1]),ri=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ii=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Cr={video:ri,audio:ii},ko=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Ba=new Uint8Array([0,0,0,0,0,0,0,0]),ns=new Uint8Array([0,0,0,0,0,0,0,0]),ua=ns,zi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ca=ns,Uc=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(S){var U,J,N=[],k=0;for(U=1;U<arguments.length;U++)N.push(arguments[U]);for(U=N.length;U--;)k+=N[U].byteLength;for(J=new Uint8Array(k+8),new DataView(J.buffer,J.byteOffset,J.byteLength).setUint32(0,J.byteLength),J.set(S,4),U=0,k=8;U<N.length;U++)J.set(N[U],k),k+=N[U].byteLength;return J},n=function(){return s(kt.dinf,s(kt.dref,ko))},i=function(S){return s(kt.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,S.audioobjecttype<<3|S.samplingfrequencyindex>>>1,S.samplingfrequencyindex<<7|S.channelcount<<3,6,1,2]))},c=function(){return s(kt.ftyp,Yt,pr,Yt,Qr)},it=function(S){return s(kt.hdlr,Cr[S])},m=function(S){return s(kt.mdat,S)},st=function(S){var N=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,S.duration>>>24&255,S.duration>>>16&255,S.duration>>>8&255,255&S.duration,85,196,0,0]);return S.samplerate&&(N[12]=S.samplerate>>>24&255,N[13]=S.samplerate>>>16&255,N[14]=S.samplerate>>>8&255,N[15]=255&S.samplerate),s(kt.mdhd,N)},Se=function(S){return s(kt.mdia,st(S),it(S.type),O(S))},E=function(S){return s(kt.mfhd,new Uint8Array([0,0,0,0,(4278190080&S)>>24,(16711680&S)>>16,(65280&S)>>8,255&S]))},O=function(S){return s(kt.minf,"video"===S.type?s(kt.vmhd,Uc):s(kt.smhd,Ba),n(),xt(S))},R=function(S,N){for(var k=[],U=N.length;U--;)k[U]=$t(N[U]);return s.apply(null,[kt.moof,E(S)].concat(k))},X=function(S){for(var N=S.length,k=[];N--;)k[N]=Me(S[N]);return s.apply(null,[kt.moov,ve(4294967295)].concat(k).concat(Q(S)))},Q=function(S){for(var N=S.length,k=[];N--;)k[N]=Jt(S[N]);return s.apply(null,[kt.mvex].concat(k))},ve=function(S){var N=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&S)>>24,(16711680&S)>>16,(65280&S)>>8,255&S,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(kt.mvhd,N)},bt=function(S){var U,J,N=S.samples||[],k=new Uint8Array(4+N.length);for(J=0;J<N.length;J++)k[J+4]=(U=N[J].flags).dependsOn<<4|U.isDependedOn<<2|U.hasRedundancy;return s(kt.sdtp,k)},xt=function(S){return s(kt.stbl,wt(S),s(kt.stts,ca),s(kt.stsc,ua),s(kt.stsz,zi),s(kt.stco,ns))},wt=function(k){return s(kt.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===k.type?he(k):S(k))},he=function(k){var Ue,Qe,U=k.sps||[],J=k.pps||[],ie=[],ke=[];for(Ue=0;Ue<U.length;Ue++)ie.push((65280&U[Ue].byteLength)>>>8),ie.push(255&U[Ue].byteLength),ie=ie.concat(Array.prototype.slice.call(U[Ue]));for(Ue=0;Ue<J.length;Ue++)ke.push((65280&J[Ue].byteLength)>>>8),ke.push(255&J[Ue].byteLength),ke=ke.concat(Array.prototype.slice.call(J[Ue]));if(Qe=[kt.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&k.width)>>8,255&k.width,(65280&k.height)>>8,255&k.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(kt.avcC,new Uint8Array([1,k.profileIdc,k.profileCompatibility,k.levelIdc,255].concat([U.length],ie,[J.length],ke))),s(kt.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],k.sarRatio){var ze=k.sarRatio[0],Ze=k.sarRatio[1];Qe.push(s(kt.pasp,new Uint8Array([(4278190080&ze)>>24,(16711680&ze)>>16,(65280&ze)>>8,255&ze,(4278190080&Ze)>>24,(16711680&Ze)>>16,(65280&Ze)>>8,255&Ze])))}return s.apply(null,Qe)},S=function(k){return s(kt.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&k.channelcount)>>8,255&k.channelcount,(65280&k.samplesize)>>8,255&k.samplesize,0,0,0,0,(65280&k.samplerate)>>8,255&k.samplerate,0,0]),i(k))},we=function(S){var N=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&S.id)>>24,(16711680&S.id)>>16,(65280&S.id)>>8,255&S.id,0,0,0,0,(4278190080&S.duration)>>24,(16711680&S.duration)>>16,(65280&S.duration)>>8,255&S.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&S.width)>>8,255&S.width,0,0,(65280&S.height)>>8,255&S.height,0,0]);return s(kt.tkhd,N)},$t=function(S){var N,k,U,J,ke,Ue;return N=s(kt.tfhd,new Uint8Array([0,0,0,58,(4278190080&S.id)>>24,(16711680&S.id)>>16,(65280&S.id)>>8,255&S.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),ke=Math.floor(S.baseMediaDecodeTime/(a+1)),Ue=Math.floor(S.baseMediaDecodeTime%(a+1)),k=s(kt.tfdt,new Uint8Array([1,0,0,0,ke>>>24&255,ke>>>16&255,ke>>>8&255,255&ke,Ue>>>24&255,Ue>>>16&255,Ue>>>8&255,255&Ue])),"audio"===S.type?(U=Lt(S,92),s(kt.traf,N,k,U)):(J=bt(S),U=Lt(S,J.length+92),s(kt.traf,N,k,U,J))},Me=function(S){return S.duration=S.duration||4294967295,s(kt.trak,we(S),Se(S))},Jt=function(S){var N=new Uint8Array([0,0,0,0,(4278190080&S.id)>>24,(16711680&S.id)>>16,(65280&S.id)>>8,255&S.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==S.type&&(N[N.length-1]=0),s(kt.trex,N)},function(){var he,S,N;N=function(U,J){var ie=0,ke=0,Ue=0,Qe=0;return U.length&&(void 0!==U[0].duration&&(ie=1),void 0!==U[0].size&&(ke=2),void 0!==U[0].flags&&(Ue=4),void 0!==U[0].compositionTimeOffset&&(Qe=8)),[0,0,ie|ke|Ue|Qe,1,(4278190080&U.length)>>>24,(16711680&U.length)>>>16,(65280&U.length)>>>8,255&U.length,(4278190080&J)>>>24,(16711680&J)>>>16,(65280&J)>>>8,255&J]},S=function(U,J){var ie,ke,Ue,Qe,ze,Ze;for(Ue=N(Qe=U.samples||[],J+=20+16*Qe.length),(ke=new Uint8Array(Ue.length+16*Qe.length)).set(Ue),ie=Ue.length,Ze=0;Ze<Qe.length;Ze++)ke[ie++]=(4278190080&(ze=Qe[Ze]).duration)>>>24,ke[ie++]=(16711680&ze.duration)>>>16,ke[ie++]=(65280&ze.duration)>>>8,ke[ie++]=255&ze.duration,ke[ie++]=(4278190080&ze.size)>>>24,ke[ie++]=(16711680&ze.size)>>>16,ke[ie++]=(65280&ze.size)>>>8,ke[ie++]=255&ze.size,ke[ie++]=ze.flags.isLeading<<2|ze.flags.dependsOn,ke[ie++]=ze.flags.isDependedOn<<6|ze.flags.hasRedundancy<<4|ze.flags.paddingValue<<1|ze.flags.isNonSyncSample,ke[ie++]=61440&ze.flags.degradationPriority,ke[ie++]=15&ze.flags.degradationPriority,ke[ie++]=(4278190080&ze.compositionTimeOffset)>>>24,ke[ie++]=(16711680&ze.compositionTimeOffset)>>>16,ke[ie++]=(65280&ze.compositionTimeOffset)>>>8,ke[ie++]=255&ze.compositionTimeOffset;return s(kt.trun,ke)},he=function(U,J){var ie,ke,Ue,Qe,ze,Ze;for(Ue=N(Qe=U.samples||[],J+=20+8*Qe.length),(ie=new Uint8Array(Ue.length+8*Qe.length)).set(Ue),ke=Ue.length,Ze=0;Ze<Qe.length;Ze++)ie[ke++]=(4278190080&(ze=Qe[Ze]).duration)>>>24,ie[ke++]=(16711680&ze.duration)>>>16,ie[ke++]=(65280&ze.duration)>>>8,ie[ke++]=255&ze.duration,ie[ke++]=(4278190080&ze.size)>>>24,ie[ke++]=(16711680&ze.size)>>>16,ie[ke++]=(65280&ze.size)>>>8,ie[ke++]=255&ze.size;return s(kt.trun,ie)},Lt=function(U,J){return"audio"===U.type?he(U,J):S(U,J)}}();var Op,Dp,Mp,ph,qg,Kg,Fv,Yg,da_mdat=m,da_moof=R,Vc=function(S,N){var k={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return k.dataOffset=N,k.compositionTimeOffset=S.pts-S.dts,k.duration=S.duration,k.size=4*S.length,k.size+=S.byteLength,S.keyFrame&&(k.flags.dependsOn=2,k.flags.isNonSyncSample=0),k},fa=[33,16,5,32,164,27],Sp=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],kr=function(S){for(var N=[];S--;)N.push(0);return N};Kg=function(S,N){return Dp(qg(S,N))},Fv=function(S,N){return Mp(ph(S),N)},Yg=function(S,N,k){return ph(k?S:S-N)};var wr_secondsToVideoTs=Dp=function(S){return 9e4*S},wr_videoTsToSeconds=(Mp=function(S,N){return S*N},ph=function(S){return S/9e4}),wr_audioTsToVideoTs=(qg=function(S,N){return S/N},Kg),wr_videoTsToAudioTs=Fv,wr_metadataTsToSeconds=Yg,gh_prefixWithSilence=function(S,N,k,U){var J,ze,Ze,Dt,ie=0,ke=0,Ue=0,Qe=0;if(N.length&&(J=wr_audioTsToVideoTs(S.baseMediaDecodeTime,S.samplerate),ie=Math.ceil(9e4/(S.samplerate/1024)),k&&U&&(ke=J-Math.max(k,U),Qe=(Ue=Math.floor(ke/ie))*ie),!(Ue<1||Qe>45e3))){for((ze=function(){if(!Op){var S={96e3:[fa,[227,64],kr(154),[56]],88200:[fa,[231],kr(170),[56]],64e3:[fa,[248,192],kr(240),[56]],48e3:[fa,[255,192],kr(268),[55,148,128],kr(54),[112]],44100:[fa,[255,192],kr(268),[55,163,128],kr(84),[112]],32e3:[fa,[255,192],kr(268),[55,234],kr(226),[112]],24e3:[fa,[255,192],kr(268),[55,255,128],kr(268),[111,112],kr(126),[224]],16e3:[fa,[255,192],kr(268),[55,255,128],kr(268),[111,255],kr(269),[223,108],kr(195),[1,192]],12e3:[Sp,kr(268),[3,127,248],kr(268),[6,255,240],kr(268),[13,255,224],kr(268),[27,253,128],kr(259),[56]],11025:[Sp,kr(268),[3,127,248],kr(268),[6,255,240],kr(268),[13,255,224],kr(268),[27,255,192],kr(268),[55,175,128],kr(108),[112]],8e3:[Sp,kr(268),[3,121,16],kr(47),[7]]};Op=function(S){return Object.keys(S).reduce(function(N,k){return N[k]=new Uint8Array(S[k].reduce(function(U,J){return U.concat(J)},[])),N},{})}(S)}return Op}()[S.samplerate])||(ze=N[0].data),Ze=0;Ze<Ue;Ze++)N.splice(0,0,{data:ze,dts:(Dt=N[0]).dts-ie,pts:Dt.pts-ie});return S.baseMediaDecodeTime-=Math.floor(wr_videoTsToAudioTs(Qe,S.samplerate)),Qe}},Ua_clearDtsInfo=function(S){delete S.minSegmentDts,delete S.maxSegmentDts,delete S.minSegmentPts,delete S.maxSegmentPts},Ua_calculateTrackBaseMediaDecodeTime=function(S,N){var k,J=S.minSegmentDts;return N||(J-=S.timelineStartInfo.dts),k=S.timelineStartInfo.baseMediaDecodeTime,k+=J,k=Math.max(0,k),"audio"===S.type&&(k*=S.samplerate/9e4,k=Math.floor(k)),k},Ua_collectDtsInfo=function(S,N){"number"==typeof N.pts&&(void 0===S.timelineStartInfo.pts&&(S.timelineStartInfo.pts=N.pts),S.minSegmentPts=void 0===S.minSegmentPts?N.pts:Math.min(S.minSegmentPts,N.pts),S.maxSegmentPts=void 0===S.maxSegmentPts?N.pts:Math.max(S.maxSegmentPts,N.pts)),"number"==typeof N.dts&&(void 0===S.timelineStartInfo.dts&&(S.timelineStartInfo.dts=N.dts),S.minSegmentDts=void 0===S.minSegmentDts?N.dts:Math.min(S.minSegmentDts,N.dts),S.maxSegmentDts=void 0===S.maxSegmentDts?N.dts:Math.max(S.maxSegmentDts,N.dts))},lo=function he(S){S=S||{},he.prototype.init.call(this),this.parse708captions_="boolean"!=typeof S.parse708captions||S.parse708captions,this.captionPackets_=[],this.ccStreams_=[new xi(0,0),new xi(0,1),new xi(1,0),new xi(1,1)],this.parse708captions_&&(this.cc708Stream_=new si({captionServices:S.captionServices})),this.reset(),this.ccStreams_.forEach(function(N){N.on("data",this.trigger.bind(this,"data")),N.on("partialdone",this.trigger.bind(this,"partialdone")),N.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(lo.prototype=new o).push=function(he){var S,N,k;if("sei_rbsp"===he.nalUnitType&&(S=function(S){for(var N=0,k={payloadType:-1,payloadSize:0},U=0,J=0;N<S.byteLength&&128!==S[N];){for(;255===S[N];)U+=255,N++;for(U+=S[N++];255===S[N];)J+=255,N++;if(J+=S[N++],!k.payload&&4===U){if("GA94"===String.fromCharCode(S[N+3],S[N+4],S[N+5],S[N+6])){k.payloadType=U,k.payloadSize=J,k.payload=S.subarray(N,N+J);break}k.payload=void 0}N+=J,U=0,J=0}return k}(he.escapedRBSP)).payload&&4===S.payloadType&&(N=function(S){return 181!==S.payload[0]||49!=(S.payload[1]<<8|S.payload[2])||"GA94"!==String.fromCharCode(S.payload[3],S.payload[4],S.payload[5],S.payload[6])||3!==S.payload[7]?null:S.payload.subarray(8,S.payload.length-1)}(S))){if(he.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(he.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));k=function(S,N){var U,J,ie,ke,k=[];if(!(64&N[0]))return k;for(J=31&N[0],U=0;U<J;U++)ke={type:3&N[2+(ie=3*U)],pts:S},4&N[ie+2]&&(ke.ccData=N[ie+3]<<8|N[ie+4],k.push(ke));return k}(he.pts,N),this.captionPackets_=this.captionPackets_.concat(k),this.latestDts_!==he.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=he.dts}},lo.prototype.flushCCStreams=function(he){this.ccStreams_.forEach(function(S){return"flush"===he?S.flush():S.partialFlush()},this)},lo.prototype.flushStream=function(he){this.captionPackets_.length?(this.captionPackets_.forEach(function(S,N){S.presortIndex=N}),this.captionPackets_.sort(function(S,N){return S.pts===N.pts?S.presortIndex-N.presortIndex:S.pts-N.pts}),this.captionPackets_.forEach(function(S){S.type<2?this.dispatchCea608Packet(S):this.dispatchCea708Packet(S)},this),this.captionPackets_.length=0,this.flushCCStreams(he)):this.flushCCStreams(he)},lo.prototype.flush=function(){return this.flushStream("flush")},lo.prototype.partialFlush=function(){return this.flushStream("partialFlush")},lo.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(he){he.reset()})},lo.prototype.dispatchCea608Packet=function(he){this.setsTextOrXDSActive(he)?this.activeCea608Channel_[he.type]=null:this.setsChannel1Active(he)?this.activeCea608Channel_[he.type]=0:this.setsChannel2Active(he)&&(this.activeCea608Channel_[he.type]=1),null!==this.activeCea608Channel_[he.type]&&this.ccStreams_[(he.type<<1)+this.activeCea608Channel_[he.type]].push(he)},lo.prototype.setsChannel1Active=function(he){return 4096==(30720&he.ccData)},lo.prototype.setsChannel2Active=function(he){return 6144==(30720&he.ccData)},lo.prototype.setsTextOrXDSActive=function(he){return 256==(28928&he.ccData)||4138==(30974&he.ccData)||6186==(30974&he.ccData)},lo.prototype.dispatchCea708Packet=function(he){this.parse708captions_&&this.cc708Stream_.push(he)};var Xg={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Zg=function(S){return 32<=S&&S<=127||160<=S&&S<=255},nc=function(S){this.windowNum=S,this.reset()};nc.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},nc.prototype.getText=function(){return this.rows.join("\n")},nc.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},nc.prototype.newLine=function(he){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(he),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},nc.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},nc.prototype.addText=function(he){this.rows[this.rowIdx]+=he},nc.prototype.backspace=function(){if(!this.isEmpty()){var he=this.rows[this.rowIdx];this.rows[this.rowIdx]=he.substr(0,he.length-1)}};var Jg=function(S,N,k){this.serviceNum=S,this.text="",this.currentWindow=new nc(-1),this.windows=[],this.stream=k,"string"==typeof N&&this.createTextDecoder(N)};Jg.prototype.init=function(he,S){this.startPts=he;for(var N=0;N<8;N++)this.windows[N]=new nc(N),"function"==typeof S&&(this.windows[N].beforeRowOverflow=S)},Jg.prototype.setCurrentWindow=function(he){this.currentWindow=this.windows[he]},Jg.prototype.createTextDecoder=function(he){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(he)}catch(S){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+he+" encoding. "+S})}};var si=function he(S){S=S||{},he.prototype.init.call(this);var J,N=this,k=S.captionServices||{},U={};Object.keys(k).forEach(function(ie){J=k[ie],/^SERVICE/.test(ie)&&(U[ie]=J.encoding)}),this.serviceEncodings=U,this.current708Packet=null,this.services={},this.push=function(ie){3===ie.type?(N.new708Packet(),N.add708Bytes(ie)):(null===N.current708Packet&&N.new708Packet(),N.add708Bytes(ie))}};si.prototype=new o,si.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},si.prototype.add708Bytes=function(he){var S=he.ccData,N=S>>>8,k=255&S;this.current708Packet.ptsVals.push(he.pts),this.current708Packet.data.push(N),this.current708Packet.data.push(k)},si.prototype.push708Packet=function(){var he=this.current708Packet,S=he.data,N=null,k=null,U=0,J=S[U++];for(he.seq=J>>6,he.sizeCode=63&J;U<S.length;U++)k=31&(J=S[U++]),7==(N=J>>5)&&k>0&&(N=J=S[U++]),this.pushServiceBlock(N,U,k),k>0&&(U+=k-1)},si.prototype.pushServiceBlock=function(he,S,N){var k,U=S,J=this.current708Packet.data,ie=this.services[he];for(ie||(ie=this.initService(he,U));U<S+N&&U<J.length;U++)Zg(k=J[U])?U=this.handleText(U,ie):24===k?U=this.multiByteCharacter(U,ie):16===k?U=this.extendedCommands(U,ie):128<=k&&k<=135?U=this.setCurrentWindow(U,ie):152<=k&&k<=159?U=this.defineWindow(U,ie):136===k?U=this.clearWindows(U,ie):140===k?U=this.deleteWindows(U,ie):137===k?U=this.displayWindows(U,ie):138===k?U=this.hideWindows(U,ie):139===k?U=this.toggleWindows(U,ie):151===k?U=this.setWindowAttributes(U,ie):144===k?U=this.setPenAttributes(U,ie):145===k?U=this.setPenColor(U,ie):146===k?U=this.setPenLocation(U,ie):143===k?ie=this.reset(U,ie):8===k?ie.currentWindow.backspace():12===k?ie.currentWindow.clearText():13===k?ie.currentWindow.pendingNewLine=!0:14===k?ie.currentWindow.clearText():141===k&&U++},si.prototype.extendedCommands=function(he,S){var k=this.current708Packet.data[++he];return Zg(k)&&(he=this.handleText(he,S,{isExtended:!0})),he},si.prototype.getPts=function(he){return this.current708Packet.ptsVals[Math.floor(he/2)]},si.prototype.initService=function(he,S){var N,U,k=this;return(N="SERVICE"+he)in this.serviceEncodings&&(U=this.serviceEncodings[N]),this.services[he]=new Jg(he,U,k),this.services[he].init(this.getPts(S),function(J){k.flushDisplayed(J,k.services[he])}),this.services[he]},si.prototype.handleText=function(he,S,N){var ze,Ze,k=N&&N.isExtended,J=this.current708Packet.data,ie=k?4096:0,ke=J[he],Qe=S.currentWindow;return S.textDecoder_&&!k?(N&&N.isMultiByte?(Ze=[ke,J[he+1]],he++):Ze=[ke],ze=S.textDecoder_.decode(new Uint8Array(Ze))):ze=function(S){var N=Xg[S]||S;return 4096&S&&S===N?"":String.fromCharCode(N)}(ie|ke),Qe.pendingNewLine&&!Qe.isEmpty()&&Qe.newLine(this.getPts(he)),Qe.pendingNewLine=!1,Qe.addText(ze),he},si.prototype.multiByteCharacter=function(he,S){var N=this.current708Packet.data,U=N[he+2];return Zg(N[he+1])&&Zg(U)&&(he=this.handleText(++he,S,{isMultiByte:!0})),he},si.prototype.setCurrentWindow=function(he,S){return S.setCurrentWindow(7&this.current708Packet.data[he]),he},si.prototype.defineWindow=function(he,S){var N=this.current708Packet.data,k=N[he];S.setCurrentWindow(7&k);var J=S.currentWindow;return k=N[++he],J.visible=(32&k)>>5,J.rowLock=(16&k)>>4,J.columnLock=(8&k)>>3,J.priority=7&k,k=N[++he],J.relativePositioning=(128&k)>>7,J.anchorVertical=127&k,k=N[++he],J.anchorHorizontal=k,k=N[++he],J.anchorPoint=(240&k)>>4,J.rowCount=15&k,k=N[++he],J.columnCount=63&k,k=N[++he],J.windowStyle=(56&k)>>3,J.penStyle=7&k,J.virtualRowCount=J.rowCount+1,he},si.prototype.setWindowAttributes=function(he,S){var N=this.current708Packet.data,k=N[he],U=S.currentWindow.winAttr;return k=N[++he],U.fillOpacity=(192&k)>>6,U.fillRed=(48&k)>>4,U.fillGreen=(12&k)>>2,U.fillBlue=3&k,k=N[++he],U.borderType=(192&k)>>6,U.borderRed=(48&k)>>4,U.borderGreen=(12&k)>>2,U.borderBlue=3&k,k=N[++he],U.borderType+=(128&k)>>5,U.wordWrap=(64&k)>>6,U.printDirection=(48&k)>>4,U.scrollDirection=(12&k)>>2,U.justify=3&k,k=N[++he],U.effectSpeed=(240&k)>>4,U.effectDirection=(12&k)>>2,U.displayEffect=3&k,he},si.prototype.flushDisplayed=function(he,S){for(var N=[],k=0;k<8;k++)S.windows[k].visible&&!S.windows[k].isEmpty()&&N.push(S.windows[k].getText());S.endPts=he,S.text=N.join("\n\n"),this.pushCaption(S),S.startPts=he},si.prototype.pushCaption=function(he){""!==he.text&&(this.trigger("data",{startPts:he.startPts,endPts:he.endPts,text:he.text,stream:"cc708_"+he.serviceNum}),he.text="",he.startPts=he.endPts)},si.prototype.displayWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&(S.windows[J].visible=1);return he},si.prototype.hideWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&(S.windows[J].visible=0);return he},si.prototype.toggleWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&(S.windows[J].visible^=1);return he},si.prototype.clearWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&S.windows[J].clearText();return he},si.prototype.deleteWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&S.windows[J].reset();return he},si.prototype.setPenAttributes=function(he,S){var N=this.current708Packet.data,k=N[he],U=S.currentWindow.penAttr;return k=N[++he],U.textTag=(240&k)>>4,U.offset=(12&k)>>2,U.penSize=3&k,k=N[++he],U.italics=(128&k)>>7,U.underline=(64&k)>>6,U.edgeType=(56&k)>>3,U.fontStyle=7&k,he},si.prototype.setPenColor=function(he,S){var N=this.current708Packet.data,k=N[he],U=S.currentWindow.penColor;return k=N[++he],U.fgOpacity=(192&k)>>6,U.fgRed=(48&k)>>4,U.fgGreen=(12&k)>>2,U.fgBlue=3&k,k=N[++he],U.bgOpacity=(192&k)>>6,U.bgRed=(48&k)>>4,U.bgGreen=(12&k)>>2,U.bgBlue=3&k,k=N[++he],U.edgeRed=(48&k)>>4,U.edgeGreen=(12&k)>>2,U.edgeBlue=3&k,he},si.prototype.setPenLocation=function(he,S){var N=this.current708Packet.data,k=N[he],U=S.currentWindow.penLoc;return S.currentWindow.pendingNewLine=!0,k=N[++he],U.row=15&k,k=N[++he],U.column=63&k,he},si.prototype.reset=function(he,S){var N=this.getPts(he);return this.flushDisplayed(N,S),this.initService(S.serviceNum,he)};var Uv={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},em=function(S){return null===S?"":(S=Uv[S]||S,String.fromCharCode(S))},Yd=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],jc=function(){for(var S=[],N=15;N--;)S.push("");return S},xi=function he(S,N){he.prototype.init.call(this),this.field_=S||0,this.dataChannel_=N||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(k){var U,J,ie,ke,Ue;if((U=32639&k.ccData)!==this.lastControlCode_){if(4096==(61440&U)?this.lastControlCode_=U:U!==this.PADDING_&&(this.lastControlCode_=null),ie=U>>>8,ke=255&U,U!==this.PADDING_)if(U===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(U===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(k.pts),this.flushDisplayed(k.pts),J=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=J,this.startPts_=k.pts;else if(U===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(k.pts);else if(U===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(k.pts);else if(U===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(k.pts);else if(U===this.CARRIAGE_RETURN_)this.clearFormatting(k.pts),this.flushDisplayed(k.pts),this.shiftRowsUp_(),this.startPts_=k.pts;else if(U===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(U===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(k.pts),this.displayed_=jc();else if(U===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=jc();else if(U===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(k.pts),this.displayed_=jc()),this.mode_="paintOn",this.startPts_=k.pts;else if(this.isSpecialCharacter(ie,ke))Ue=em((ie=(3&ie)<<8)|ke),this[this.mode_](k.pts,Ue),this.column_++;else if(this.isExtCharacter(ie,ke))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),Ue=em((ie=(3&ie)<<8)|ke),this[this.mode_](k.pts,Ue),this.column_++;else if(this.isMidRowCode(ie,ke))this.clearFormatting(k.pts),this[this.mode_](k.pts," "),this.column_++,14==(14&ke)&&this.addFormatting(k.pts,["i"]),1==(1&ke)&&this.addFormatting(k.pts,["u"]);else if(this.isOffsetControlCode(ie,ke))this.column_+=3&ke;else if(this.isPAC(ie,ke)){var Qe=Yd.indexOf(7968&U);"rollUp"===this.mode_&&(Qe-this.rollUpRows_+1<0&&(Qe=this.rollUpRows_-1),this.setRollUp(k.pts,Qe)),Qe!==this.row_&&(this.clearFormatting(k.pts),this.row_=Qe),1&ke&&-1===this.formatting_.indexOf("u")&&this.addFormatting(k.pts,["u"]),16==(16&U)&&(this.column_=4*((14&U)>>1)),this.isColorPAC(ke)&&14==(14&ke)&&this.addFormatting(k.pts,["i"])}else this.isNormalChar(ie)&&(0===ke&&(ke=null),Ue=em(ie),Ue+=em(ke),this[this.mode_](k.pts,Ue),this.column_+=Ue.length)}else this.lastControlCode_=null}};xi.prototype=new o,xi.prototype.flushDisplayed=function(he){var S=this.displayed_.map(function(N,k){try{return N.trim()}catch(U){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+k+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");S.length&&this.trigger("data",{startPts:this.startPts_,endPts:he,text:S,stream:this.name_})},xi.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=jc(),this.nonDisplayed_=jc(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},xi.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},xi.prototype.isSpecialCharacter=function(he,S){return he===this.EXT_&&S>=48&&S<=63},xi.prototype.isExtCharacter=function(he,S){return(he===this.EXT_+1||he===this.EXT_+2)&&S>=32&&S<=63},xi.prototype.isMidRowCode=function(he,S){return he===this.EXT_&&S>=32&&S<=47},xi.prototype.isOffsetControlCode=function(he,S){return he===this.OFFSET_&&S>=33&&S<=35},xi.prototype.isPAC=function(he,S){return he>=this.BASE_&&he<this.BASE_+8&&S>=64&&S<=127},xi.prototype.isColorPAC=function(he){return he>=64&&he<=79||he>=96&&he<=127},xi.prototype.isNormalChar=function(he){return he>=32&&he<=127},xi.prototype.setRollUp=function(he,S){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(he),this.nonDisplayed_=jc(),this.displayed_=jc()),void 0!==S&&S!==this.row_)for(var N=0;N<this.rollUpRows_;N++)this.displayed_[S-N]=this.displayed_[this.row_-N],this.displayed_[this.row_-N]="";void 0===S&&(S=this.row_),this.topRow_=S-this.rollUpRows_+1},xi.prototype.addFormatting=function(he,S){this.formatting_=this.formatting_.concat(S);var N=S.reduce(function(k,U){return k+"<"+U+">"},"");this[this.mode_](he,N)},xi.prototype.clearFormatting=function(he){if(this.formatting_.length){var S=this.formatting_.reverse().reduce(function(N,k){return N+"</"+k+">"},"");this.formatting_=[],this[this.mode_](he,S)}},xi.prototype.popOn=function(he,S){var N=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=N+=S},xi.prototype.rollUp=function(he,S){var N=this.displayed_[this.row_];this.displayed_[this.row_]=N+=S},xi.prototype.shiftRowsUp_=function(){var he;for(he=0;he<this.topRow_;he++)this.displayed_[he]="";for(he=this.row_+1;he<15;he++)this.displayed_[he]="";for(he=this.topRow_;he<this.row_;he++)this.displayed_[he]=this.displayed_[he+1];this.displayed_[this.row_]=""},xi.prototype.paintOn=function(he,S){var N=this.displayed_[this.row_];this.displayed_[this.row_]=N+=S};var Ip={CaptionStream:lo,Cea608Stream:xi,Cea708Stream:si},As={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},nm=function(S,N){var k=1;for(S>N&&(k=-1);Math.abs(N-S)>4294967296;)S+=8589934592*k;return S},Vv=function he(S){var N,k;he.prototype.init.call(this),this.type_=S||"shared",this.push=function(U){"shared"!==this.type_&&U.type!==this.type_||(void 0===k&&(k=U.dts),U.dts=nm(U.dts,k),U.pts=nm(U.pts,k),N=U.dts,this.trigger("data",U))},this.flush=function(){k=N,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){k=void 0,N=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Vv.prototype=new o;var vh,jv_TimestampRolloverStream=Vv,jv_handleRollover=nm,Hv=function(S,N,k){var U,J="";for(U=N;U<k;U++)J+="%"+("00"+S[U].toString(16)).slice(-2);return J},Rp=function(S,N,k){return decodeURIComponent(Hv(S,N,k))},$v=function(S,N,k){return unescape(Hv(S,N,k))},Np=function(S){return S[0]<<21|S[1]<<14|S[2]<<7|S[3]},rm={TXXX:function(S){var N;if(3===S.data[0]){for(N=1;N<S.data.length;N++)if(0===S.data[N]){S.description=Rp(S.data,1,N),S.value=Rp(S.data,N+1,S.data.length).replace(/\0*$/,"");break}S.data=S.value}},WXXX:function(S){var N;if(3===S.data[0])for(N=1;N<S.data.length;N++)if(0===S.data[N]){S.description=Rp(S.data,1,N),S.url=Rp(S.data,N+1,S.data.length);break}},PRIV:function(S){var N;for(N=0;N<S.data.length;N++)if(0===S.data[N]){S.owner=$v(S.data,0,N);break}S.privateData=S.data.subarray(N+1),S.data=S.privateData}};(vh=function(S){var ie,N={descriptor:S&&S.descriptor},k=0,U=[],J=0;if(vh.prototype.init.call(this),this.dispatchType=As.METADATA_STREAM_TYPE.toString(16),N.descriptor)for(ie=0;ie<N.descriptor.length;ie++)this.dispatchType+=("00"+N.descriptor[ie].toString(16)).slice(-2);this.push=function(ke){var Ue,Qe,ze,Ze,Dt;if("timed-metadata"===ke.type){if(ke.dataAlignmentIndicator&&(J=0,U.length=0),0===U.length&&(ke.data.length<10||ke.data[0]!=="I".charCodeAt(0)||ke.data[1]!=="D".charCodeAt(0)||ke.data[2]!=="3".charCodeAt(0)))return void this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});if(U.push(ke),J+=ke.data.byteLength,1===U.length&&(k=Np(ke.data.subarray(6,10)),k+=10),!(J<k)){for(Ue={data:new Uint8Array(k),frames:[],pts:U[0].pts,dts:U[0].dts},Dt=0;Dt<k;)Ue.data.set(U[0].data.subarray(0,k-Dt),Dt),Dt+=U[0].data.byteLength,J-=U[0].data.byteLength,U.shift();Qe=10,64&Ue.data[5]&&(Qe+=4,Qe+=Np(Ue.data.subarray(10,14)),k-=Np(Ue.data.subarray(16,20)));do{if((ze=Np(Ue.data.subarray(Qe+4,Qe+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((Ze={id:String.fromCharCode(Ue.data[Qe],Ue.data[Qe+1],Ue.data[Qe+2],Ue.data[Qe+3]),data:Ue.data.subarray(Qe+10,Qe+ze+10)}).key=Ze.id,rm[Ze.id]&&(rm[Ze.id](Ze),"com.apple.streaming.transportStreamTimestamp"===Ze.owner)){var dn=Ze.data,Bt=(1&dn[3])<<30|dn[4]<<22|dn[5]<<14|dn[6]<<6|dn[7]>>>2;Bt*=4,Ze.timeStamp=Bt+=3&dn[7],void 0===Ue.pts&&void 0===Ue.dts&&(Ue.pts=Ze.timeStamp,Ue.dts=Ze.timeStamp),this.trigger("timestamp",Ze)}Ue.frames.push(Ze),Qe+=10,Qe+=ze}while(Qe<k);this.trigger("data",Ue)}}}}).prototype=new o;var Xd,yh,sm,im=vh,Mb=jv_TimestampRolloverStream;(Xd=function(){var S=new Uint8Array(188),N=0;Xd.prototype.init.call(this),this.push=function(k){var ie,U=0,J=188;for(N?((ie=new Uint8Array(k.byteLength+N)).set(S.subarray(0,N)),ie.set(k,N),N=0):ie=k;J<ie.byteLength;)71!==ie[U]||71!==ie[J]?(U++,J++):(this.trigger("data",ie.subarray(U,J)),U+=188,J+=188);U<ie.byteLength&&(S.set(ie.subarray(U),0),N=ie.byteLength-U)},this.flush=function(){188===N&&71===S[0]&&(this.trigger("data",S),N=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){N=0,this.trigger("reset")}}).prototype=new o,(yh=function(){var S,N,k,U;yh.prototype.init.call(this),U=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,S=function(ie,ke){var Ue=0;ke.payloadUnitStartIndicator&&(Ue+=ie[Ue]+1),"pat"===ke.type?N(ie.subarray(Ue),ke):k(ie.subarray(Ue),ke)},N=function(ie,ke){ke.section_number=ie[7],ke.last_section_number=ie[8],U.pmtPid=(31&ie[10])<<8|ie[11],ke.pmtPid=U.pmtPid},k=function(ie,ke){var Qe,Ze;if(1&ie[5]){for(U.programMapTable={video:null,audio:null,"timed-metadata":{}},Qe=3+((15&ie[1])<<8|ie[2])-4,Ze=12+((15&ie[10])<<8|ie[11]);Ze<Qe;){var Dt=ie[Ze],Xt=(31&ie[Ze+1])<<8|ie[Ze+2];Dt===As.H264_STREAM_TYPE&&null===U.programMapTable.video?U.programMapTable.video=Xt:Dt===As.ADTS_STREAM_TYPE&&null===U.programMapTable.audio?U.programMapTable.audio=Xt:Dt===As.METADATA_STREAM_TYPE&&(U.programMapTable["timed-metadata"][Xt]=Dt),Ze+=5+((15&ie[Ze+3])<<8|ie[Ze+4])}ke.programMapTable=U.programMapTable}},this.push=function(J){var ie={},ke=4;if(ie.payloadUnitStartIndicator=!!(64&J[1]),ie.pid=31&J[1],ie.pid<<=8,ie.pid|=J[2],(48&J[3])>>>4>1&&(ke+=J[ke]+1),0===ie.pid)ie.type="pat",S(J.subarray(ke),ie),this.trigger("data",ie);else if(ie.pid===this.pmtPid)for(ie.type="pmt",S(J.subarray(ke),ie),this.trigger("data",ie);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([J,ke,ie]):this.processPes_(J,ke,ie)},this.processPes_=function(J,ie,ke){ke.streamType=ke.pid===this.programMapTable.video?As.H264_STREAM_TYPE:ke.pid===this.programMapTable.audio?As.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][ke.pid],ke.type="pes",ke.data=J.subarray(ie),this.trigger("data",ke)}}).prototype=new o,yh.STREAM_TYPES={h264:27,adts:15},(sm=function(){var ie,S=this,N=!1,k={data:[],size:0},U={data:[],size:0},J={data:[],size:0},Ue=function(ze,Ze,Dt){var fs,Xt=new Uint8Array(ze.size),dn={type:Ze},Bt=0,Dn=0,Ts=!1;if(ze.data.length&&!(ze.size<9)){for(dn.trackId=ze.data[0].pid,Bt=0;Bt<ze.data.length;Bt++)Xt.set((fs=ze.data[Bt]).data,Dn),Dn+=fs.data.byteLength;(function(ze,Ze){var Dt,Xt=ze[0]<<16|ze[1]<<8|ze[2];Ze.data=new Uint8Array,1===Xt&&(Ze.packetLength=6+(ze[4]<<8|ze[5]),Ze.dataAlignmentIndicator=0!=(4&ze[6]),192&(Dt=ze[7])&&(Ze.pts=(14&ze[9])<<27|(255&ze[10])<<20|(254&ze[11])<<12|(255&ze[12])<<5|(254&ze[13])>>>3,Ze.pts*=4,Ze.pts+=(6&ze[13])>>>1,Ze.dts=Ze.pts,64&Dt&&(Ze.dts=(14&ze[14])<<27|(255&ze[15])<<20|(254&ze[16])<<12|(255&ze[17])<<5|(254&ze[18])>>>3,Ze.dts*=4,Ze.dts+=(6&ze[18])>>>1)),Ze.data=ze.subarray(9+ze[8]))})(Xt,dn),Ts="video"===Ze||dn.packetLength<=ze.size,(Dt||Ts)&&(ze.size=0,ze.data.length=0),Ts&&S.trigger("data",dn)}};sm.prototype.init.call(this),this.push=function(Qe){({pat:function(){},pes:function(){var Ze,Dt;switch(Qe.streamType){case As.H264_STREAM_TYPE:Ze=k,Dt="video";break;case As.ADTS_STREAM_TYPE:Ze=U,Dt="audio";break;case As.METADATA_STREAM_TYPE:Ze=J,Dt="timed-metadata";break;default:return}Qe.payloadUnitStartIndicator&&Ue(Ze,Dt,!0),Ze.data.push(Qe),Ze.size+=Qe.data.byteLength},pmt:function(){var Ze={type:"metadata",tracks:[]};null!==(ie=Qe.programMapTable).video&&Ze.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ie.video,codec:"avc",type:"video"}),null!==ie.audio&&Ze.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ie.audio,codec:"adts",type:"audio"}),N=!0,S.trigger("data",Ze)}})[Qe.type]()},this.reset=function(){k.size=0,k.data.length=0,U.size=0,U.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Ue(k,"video"),Ue(U,"audio"),Ue(J,"timed-metadata")},this.flush=function(){if(!N&&ie){var Qe={type:"metadata",tracks:[]};null!==ie.video&&Qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ie.video,codec:"avc",type:"video"}),null!==ie.audio&&Qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ie.audio,codec:"adts",type:"audio"}),S.trigger("data",Qe)}N=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new o;var Lp={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Xd,TransportParseStream:yh,ElementaryStream:sm,TimestampRolloverStream:Mb,CaptionStream:Ip.CaptionStream,Cea608Stream:Ip.Cea608Stream,Cea708Stream:Ip.Cea708Stream,MetadataStream:im};for(var _h in As)As.hasOwnProperty(_h)&&(Lp[_h]=As[_h]);var Zd,wu=Lp,lm=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Zd=function(S){var N,k=0;Zd.prototype.init.call(this),this.skipWarn_=function(U,J){this.trigger("log",{level:"warn",message:"adts skiping bytes "+U+" to "+J+" in frame "+k+" outside syncword"})},this.push=function(U){var ie,ke,Ue,Qe,ze,J=0;if(S||(k=0),"audio"===U.type){N&&N.length?(Ue=N,(N=new Uint8Array(Ue.byteLength+U.data.byteLength)).set(Ue),N.set(U.data,Ue.byteLength)):N=U.data;for(var Ze;J+7<N.length;)if(255===N[J]&&240==(246&N[J+1])){if("number"==typeof Ze&&(this.skipWarn_(Ze,J),Ze=null),ke=2*(1&~N[J+1]),ze=9e4*(Qe=1024*(1+(3&N[J+6])))/lm[(60&N[J+2])>>>2],N.byteLength-J<(ie=(3&N[J+3])<<11|N[J+4]<<3|(224&N[J+5])>>5))break;this.trigger("data",{pts:U.pts+k*ze,dts:U.dts+k*ze,sampleCount:Qe,audioobjecttype:1+(N[J+2]>>>6&3),channelcount:(1&N[J+2])<<2|(192&N[J+3])>>>6,samplerate:lm[(60&N[J+2])>>>2],samplingfrequencyindex:(60&N[J+2])>>>2,samplesize:16,data:N.subarray(J+7+ke,J+ie)}),k++,J+=ie}else"number"!=typeof Ze&&(Ze=J),J++;"number"==typeof Ze&&(this.skipWarn_(Ze,J),Ze=null),N=N.subarray(J)}},this.flush=function(){k=0,this.trigger("done")},this.reset=function(){N=void 0,this.trigger("reset")},this.endTimeline=function(){N=void 0,this.trigger("endedtimeline")}}).prototype=new o;var Jd,bh,cm,$_=Zd,um=function(S){var N=S.byteLength,k=0,U=0;this.length=function(){return 8*N},this.bitsAvailable=function(){return 8*N+U},this.loadWord=function(){var J=S.byteLength-N,ie=new Uint8Array(4),ke=Math.min(4,N);if(0===ke)throw new Error("no bytes available");ie.set(S.subarray(J,J+ke)),k=new DataView(ie.buffer).getUint32(0),U=8*ke,N-=ke},this.skipBits=function(J){var ie;U>J?(k<<=J,U-=J):(J-=U,J-=8*(ie=Math.floor(J/8)),N-=ie,this.loadWord(),k<<=J,U-=J)},this.readBits=function(J){var ie=Math.min(U,J),ke=k>>>32-ie;return(U-=ie)>0?k<<=ie:N>0&&this.loadWord(),(ie=J-ie)>0?ke<<ie|this.readBits(ie):ke},this.skipLeadingZeros=function(){var J;for(J=0;J<U;++J)if(0!=(k&2147483648>>>J))return k<<=J,U-=J,J;return this.loadWord(),J+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var J=this.skipLeadingZeros();return this.readBits(J+1)-1},this.readExpGolomb=function(){var J=this.readUnsignedExpGolomb();return 1&J?1+J>>>1:-1*(J>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(bh=function(){var N,k,S=0;bh.prototype.init.call(this),this.push=function(U){var J;k?((J=new Uint8Array(k.byteLength+U.data.byteLength)).set(k),J.set(U.data,k.byteLength),k=J):k=U.data;for(var ie=k.byteLength;S<ie-3;S++)if(1===k[S+2]){N=S+5;break}for(;N<ie;)switch(k[N]){case 0:if(0!==k[N-1]){N+=2;break}if(0!==k[N-2]){N++;break}S+3!==N-2&&this.trigger("data",k.subarray(S+3,N-2));do{N++}while(1!==k[N]&&N<ie);S=N-2,N+=3;break;case 1:if(0!==k[N-1]||0!==k[N-2]){N+=3;break}this.trigger("data",k.subarray(S+3,N-2)),S=N-2,N+=3;break;default:N+=3}k=k.subarray(S),N-=S,S=0},this.reset=function(){k=null,S=0,this.trigger("reset")},this.flush=function(){k&&k.byteLength>3&&this.trigger("data",k.subarray(S+3)),k=null,S=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new o,cm={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Jd=function(){var N,k,U,J,ie,ke,Ue,S=new bh;Jd.prototype.init.call(this),N=this,this.push=function(Qe){"video"===Qe.type&&(k=Qe.trackId,U=Qe.pts,J=Qe.dts,S.push(Qe))},S.on("data",function(Qe){var ze={trackId:k,pts:U,dts:J,data:Qe,nalUnitTypeCode:31&Qe[0]};switch(ze.nalUnitTypeCode){case 5:ze.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ze.nalUnitType="sei_rbsp",ze.escapedRBSP=ie(Qe.subarray(1));break;case 7:ze.nalUnitType="seq_parameter_set_rbsp",ze.escapedRBSP=ie(Qe.subarray(1)),ze.config=ke(ze.escapedRBSP);break;case 8:ze.nalUnitType="pic_parameter_set_rbsp";break;case 9:ze.nalUnitType="access_unit_delimiter_rbsp"}N.trigger("data",ze)}),S.on("done",function(){N.trigger("done")}),S.on("partialdone",function(){N.trigger("partialdone")}),S.on("reset",function(){N.trigger("reset")}),S.on("endedtimeline",function(){N.trigger("endedtimeline")}),this.flush=function(){S.flush()},this.partialFlush=function(){S.partialFlush()},this.reset=function(){S.reset()},this.endTimeline=function(){S.endTimeline()},Ue=function(ze,Ze){var dn,Dt=8,Xt=8;for(dn=0;dn<ze;dn++)0!==Xt&&(Xt=(Dt+Ze.readExpGolomb()+256)%256),Dt=0===Xt?Dt:Xt},ie=function(ze){for(var dn,Bt,Ze=ze.byteLength,Dt=[],Xt=1;Xt<Ze-2;)0===ze[Xt]&&0===ze[Xt+1]&&3===ze[Xt+2]?(Dt.push(Xt+2),Xt+=2):Xt++;if(0===Dt.length)return ze;dn=Ze-Dt.length,Bt=new Uint8Array(dn);var Dn=0;for(Xt=0;Xt<dn;Dn++,Xt++)Dn===Dt[0]&&(Dn++,Dt.shift()),Bt[Xt]=ze[Dn];return Bt},ke=function(ze){var Bt,Dn,Ts,fs,rf,Sh,u0,Tm,Em,Cy,wn,Wc,Ze=0,Dt=0,Xt=0,dn=0,rs=[1,1];if(Dn=(Bt=new um(ze)).readUnsignedByte(),fs=Bt.readUnsignedByte(),Ts=Bt.readUnsignedByte(),Bt.skipUnsignedExpGolomb(),cm[Dn]&&(3===(rf=Bt.readUnsignedExpGolomb())&&Bt.skipBits(1),Bt.skipUnsignedExpGolomb(),Bt.skipUnsignedExpGolomb(),Bt.skipBits(1),Bt.readBoolean()))for(wn=3!==rf?8:12,Wc=0;Wc<wn;Wc++)Bt.readBoolean()&&Ue(Wc<6?16:64,Bt);if(Bt.skipUnsignedExpGolomb(),0===(Sh=Bt.readUnsignedExpGolomb()))Bt.readUnsignedExpGolomb();else if(1===Sh)for(Bt.skipBits(1),Bt.skipExpGolomb(),Bt.skipExpGolomb(),u0=Bt.readUnsignedExpGolomb(),Wc=0;Wc<u0;Wc++)Bt.skipExpGolomb();if(Bt.skipUnsignedExpGolomb(),Bt.skipBits(1),Tm=Bt.readUnsignedExpGolomb(),Em=Bt.readUnsignedExpGolomb(),0===(Cy=Bt.readBits(1))&&Bt.skipBits(1),Bt.skipBits(1),Bt.readBoolean()&&(Ze=Bt.readUnsignedExpGolomb(),Dt=Bt.readUnsignedExpGolomb(),Xt=Bt.readUnsignedExpGolomb(),dn=Bt.readUnsignedExpGolomb()),Bt.readBoolean()&&Bt.readBoolean())switch(Bt.readUnsignedByte()){case 1:rs=[1,1];break;case 2:rs=[12,11];break;case 3:rs=[10,11];break;case 4:rs=[16,11];break;case 5:rs=[40,33];break;case 6:rs=[24,11];break;case 7:rs=[20,11];break;case 8:rs=[32,11];break;case 9:rs=[80,33];break;case 10:rs=[18,11];break;case 11:rs=[15,11];break;case 12:rs=[64,33];break;case 13:rs=[160,99];break;case 14:rs=[4,3];break;case 15:rs=[3,2];break;case 16:rs=[2,1];break;case 255:rs=[Bt.readUnsignedByte()<<8|Bt.readUnsignedByte(),Bt.readUnsignedByte()<<8|Bt.readUnsignedByte()]}return{profileIdc:Dn,levelIdc:Ts,profileCompatibility:fs,width:16*(Tm+1)-2*Ze-2*Dt,height:(2-Cy)*(Em+1)*16-2*Xt-2*dn,sarRatio:rs}}}).prototype=new o;var Th,dm={H264Stream:Jd,NalByteStream:bh},Wv=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Fp=function(S,N){var k=S[N+6]<<21|S[N+7]<<14|S[N+8]<<7|S[N+9];return k=k>=0?k:0,(16&S[N+5])>>4?k+20:k+10},fm=function he(S,N){return S.length-N<10||S[N]!=="I".charCodeAt(0)||S[N+1]!=="D".charCodeAt(0)||S[N+2]!=="3".charCodeAt(0)?N:he(S,N+=Fp(S,N))},Qv=function(S){return S[0]<<21|S[1]<<14|S[2]<<7|S[3]},Kv=function(S,N,k){return unescape(function(S,N,k){var U,J="";for(U=N;U<k;U++)J+="%"+("00"+S[U].toString(16)).slice(-2);return J}(S,N,k))},Ch={isLikelyAacData:function(S){var N=fm(S,0);return S.length>=N+2&&255==(255&S[N])&&240==(240&S[N+1])&&16==(22&S[N+1])},parseId3TagSize:Fp,parseAdtsSize:function(S,N){return 6144&S[N+3]|S[N+4]<<3|(224&S[N+5])>>5},parseType:function(S,N){return S[N]==="I".charCodeAt(0)&&S[N+1]==="D".charCodeAt(0)&&S[N+2]==="3".charCodeAt(0)?"timed-metadata":!0&S[N]&&240==(240&S[N+1])?"audio":null},parseSampleRate:function(S){for(var N=0;N+5<S.length;){if(255===S[N]&&240==(246&S[N+1]))return Wv[(60&S[N+2])>>>2];N++}return null},parseAacTimestamp:function(S){var N,k,U;N=10,64&S[5]&&(N+=4,N+=Qv(S.subarray(10,14)));do{if((k=Qv(S.subarray(N+4,N+8)))<1)return null;if("PRIV"===String.fromCharCode(S[N],S[N+1],S[N+2],S[N+3])){U=S.subarray(N+10,N+k+10);for(var ie=0;ie<U.byteLength;ie++)if(0===U[ie]){if("com.apple.streaming.transportStreamTimestamp"===Kv(U,0,ie)){var Ue=U.subarray(ie+1),Qe=(1&Ue[3])<<30|Ue[4]<<22|Ue[5]<<14|Ue[6]<<6|Ue[7]>>>2;return(Qe*=4)+(3&Ue[7])}break}}N+=10,N+=k}while(N<S.byteLength);return null}};(Th=function(){var S=new Uint8Array,N=0;Th.prototype.init.call(this),this.setTimestamp=function(k){N=k},this.push=function(k){var ke,Ue,Qe,U=0,J=0;for(S.length?(Qe=S.length,(S=new Uint8Array(k.byteLength+Qe)).set(S.subarray(0,Qe)),S.set(k,Qe)):S=k;S.length-J>=3;)if(S[J]!=="I".charCodeAt(0)||S[J+1]!=="D".charCodeAt(0)||S[J+2]!=="3".charCodeAt(0))if(255!=(255&S[J])||240!=(240&S[J+1]))J++;else{if(S.length-J<7||J+(U=Ch.parseAdtsSize(S,J))>S.length)break;Ue={type:"audio",data:S.subarray(J,J+U),pts:N,dts:N},this.trigger("data",Ue),J+=U}else{if(S.length-J<10||J+(U=Ch.parseId3TagSize(S,J))>S.length)break;ke={type:"timed-metadata",data:S.subarray(J,J+U)},this.trigger("data",ke),J+=U}S=S.length-J>0?S.subarray(J):new Uint8Array},this.reset=function(){S=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){S=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new o;var ef,Eh,Vp,Hc,pm=Th,Bp=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Up=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ey=dm.H264Stream,ty=Ch.isLikelyAacData,ry=function(S,N){N.stream=S,this.trigger("log",N)},iy=function(S,N){for(var k=Object.keys(N),U=0;U<k.length;U++){var J=k[U];"headOfPipeline"===J||!N[J].on||N[J].on("log",ry.bind(S,J))}},ds=function(S,N){var k;if(S.length!==N.length)return!1;for(k=0;k<S.length;k++)if(S[k]!==N[k])return!1;return!0},jp=function(S,N,k,U,J,ie){return{start:{dts:S,pts:S+(k-N)},end:{dts:S+(U-N),pts:S+(J-k)},prependedContentDuration:ie,baseMediaDecodeTime:S}};(Eh=function(S,N){var U,k=[],J=0,ie=0,ke=1/0;U=(N=N||{}).firstSequenceNumber||0,Eh.prototype.init.call(this),this.push=function(Ue){Ua_collectDtsInfo(S,Ue),S&&Bp.forEach(function(Qe){S[Qe]=Ue[Qe]}),k.push(Ue)},this.setEarliestDts=function(Ue){J=Ue},this.setVideoBaseMediaDecodeTime=function(Ue){ke=Ue},this.setAudioAppendStart=function(Ue){ie=Ue},this.flush=function(){var Ue,Qe,ze,Ze,Dt,Xt,dn;0!==k.length?(Ue=function(S,N,k){return N.minSegmentDts>=k?S:(N.minSegmentDts=1/0,S.filter(function(U){return U.dts>=k&&(N.minSegmentDts=Math.min(N.minSegmentDts,U.dts),N.minSegmentPts=N.minSegmentDts,!0)}))}(k,S,J),S.baseMediaDecodeTime=Ua_calculateTrackBaseMediaDecodeTime(S,N.keepOriginalTimestamps),dn=gh_prefixWithSilence(S,Ue,ie,ke),S.samples=function(S){var N,U=[];for(N=0;N<S.length;N++)U.push({size:S[N].data.byteLength,duration:1024});return U}(Ue),ze=da_mdat(function(S){var N,k,U=0,J=new Uint8Array(function(S){var N,U=0;for(N=0;N<S.length;N++)U+=S[N].data.byteLength;return U}(S));for(N=0;N<S.length;N++)J.set((k=S[N]).data,U),U+=k.data.byteLength;return J}(Ue)),k=[],Qe=da_moof(U,[S]),Ze=new Uint8Array(Qe.byteLength+ze.byteLength),U++,Ze.set(Qe),Ze.set(ze,Qe.byteLength),Ua_clearDtsInfo(S),Dt=Math.ceil(9216e4/S.samplerate),Ue.length&&(Xt=Ue.length*Dt,this.trigger("segmentTimingInfo",jp(wr_audioTsToVideoTs(S.baseMediaDecodeTime,S.samplerate),Ue[0].dts,Ue[0].pts,Ue[0].dts+Xt,Ue[0].pts+Xt,dn||0)),this.trigger("timingInfo",{start:Ue[0].pts,end:Ue[0].pts+Xt})),this.trigger("data",{track:S,boxes:Ze}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Ua_clearDtsInfo(S),k=[],this.trigger("reset")}}).prototype=new o,(ef=function(S,N){var k,ie,ke,U=[],J=[];k=(N=N||{}).firstSequenceNumber||0,ef.prototype.init.call(this),delete S.minPTS,this.gopCache_=[],this.push=function(Ue){Ua_collectDtsInfo(S,Ue),"seq_parameter_set_rbsp"===Ue.nalUnitType&&!ie&&(ie=Ue.config,S.sps=[Ue.data],Up.forEach(function(Qe){S[Qe]=ie[Qe]},this)),"pic_parameter_set_rbsp"===Ue.nalUnitType&&!ke&&(ke=Ue.data,S.pps=[Ue.data]),U.push(Ue)},this.flush=function(){for(var Qe,ze,Ze,Dt,Xt,Bt,Dn,dn=0;U.length&&"access_unit_delimiter_rbsp"!==U[0].nalUnitType;)U.shift();if(0===U.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if((ze=function(S){var N,k,U=[],J=[];for(U.byteLength=0,U.nalCount=0,U.duration=0,U.pts=S[0].pts,U.dts=S[0].dts,J.byteLength=0,J.nalCount=0,J.duration=0,J.pts=S[0].pts,J.dts=S[0].dts,N=0;N<S.length;N++)(k=S[N]).keyFrame?(U.length&&(J.push(U),J.byteLength+=U.byteLength,J.nalCount+=U.nalCount,J.duration+=U.duration),(U=[k]).nalCount=k.length,U.byteLength=k.byteLength,U.pts=k.pts,U.dts=k.dts,U.duration=k.duration):(U.duration+=k.duration,U.nalCount+=k.length,U.byteLength+=k.byteLength,U.push(k));return J.length&&U.duration<=0&&(U.duration=J[J.length-1].duration),J.byteLength+=U.byteLength,J.nalCount+=U.nalCount,J.duration+=U.duration,J.push(U),J}(function(S){var N,k,U=[],J=[];for(J.byteLength=0,J.nalCount=0,J.duration=0,U.byteLength=0,N=0;N<S.length;N++)"access_unit_delimiter_rbsp"===(k=S[N]).nalUnitType?(U.length&&(U.duration=k.dts-U.dts,J.byteLength+=U.byteLength,J.nalCount+=U.length,J.duration+=U.duration,J.push(U)),(U=[k]).byteLength=k.data.byteLength,U.pts=k.pts,U.dts=k.dts):("slice_layer_without_partitioning_rbsp_idr"===k.nalUnitType&&(U.keyFrame=!0),U.duration=k.dts-U.dts,U.byteLength+=k.data.byteLength,U.push(k));return J.length&&(!U.duration||U.duration<=0)&&(U.duration=J[J.length-1].duration),J.byteLength+=U.byteLength,J.nalCount+=U.length,J.duration+=U.duration,J.push(U),J}(U)))[0][0].keyFrame||((Qe=this.getGopForFusion_(U[0],S))?(dn=Qe.duration,ze.unshift(Qe),ze.byteLength+=Qe.byteLength,ze.nalCount+=Qe.nalCount,ze.pts=Qe.pts,ze.dts=Qe.dts,ze.duration+=Qe.duration):ze=function(S){var N;return!S[0][0].keyFrame&&S.length>1&&(N=S.shift(),S.byteLength-=N.byteLength,S.nalCount-=N.nalCount,S[0][0].dts=N.dts,S[0][0].pts=N.pts,S[0][0].duration+=N.duration),S}(ze)),J.length){var Ts;if(!(Ts=N.alignGopsAtEnd?this.alignGopsAtEnd_(ze):this.alignGopsAtStart_(ze)))return this.gopCache_.unshift({gop:ze.pop(),pps:S.pps,sps:S.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),U=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ua_clearDtsInfo(S),ze=Ts}Ua_collectDtsInfo(S,ze),S.samples=function(S,N){var k,U,J,ie,Ue=N||0,Qe=[];for(k=0;k<S.length;k++)for(ie=S[k],U=0;U<ie.length;U++)Ue+=(J=Vc(ie[U],Ue)).size,Qe.push(J);return Qe}(ze),Dt=da_mdat(function(S){var N,k,U,J,ie,ke,Ue=0,Dt=new Uint8Array(S.byteLength+4*S.nalCount),Xt=new DataView(Dt.buffer);for(N=0;N<S.length;N++)for(J=S[N],k=0;k<J.length;k++)for(ie=J[k],U=0;U<ie.length;U++)Xt.setUint32(Ue,(ke=ie[U]).data.byteLength),Dt.set(ke.data,Ue+=4),Ue+=ke.data.byteLength;return Dt}(ze)),S.baseMediaDecodeTime=Ua_calculateTrackBaseMediaDecodeTime(S,N.keepOriginalTimestamps),this.trigger("processedGopsInfo",ze.map(function(fs){return{pts:fs.pts,dts:fs.dts,byteLength:fs.byteLength}})),this.trigger("segmentTimingInfo",jp(S.baseMediaDecodeTime,(Bt=ze[0]).dts,Bt.pts,(Dn=ze[ze.length-1]).dts+Dn.duration,Dn.pts+Dn.duration,dn)),this.trigger("timingInfo",{start:ze[0].pts,end:ze[ze.length-1].pts+ze[ze.length-1].duration}),this.gopCache_.unshift({gop:ze.pop(),pps:S.pps,sps:S.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),U=[],this.trigger("baseMediaDecodeTime",S.baseMediaDecodeTime),this.trigger("timelineStartInfo",S.timelineStartInfo),Ze=da_moof(k,[S]),Xt=new Uint8Array(Ze.byteLength+Dt.byteLength),k++,Xt.set(Ze),Xt.set(Dt,Ze.byteLength),this.trigger("data",{track:S,boxes:Xt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),U=[],this.gopCache_.length=0,J.length=0,this.trigger("reset")},this.resetStream_=function(){Ua_clearDtsInfo(S),ie=void 0,ke=void 0},this.getGopForFusion_=function(Ue){var Dt,Xt,dn,Bt,Dn,Ze=1/0;for(Dn=0;Dn<this.gopCache_.length;Dn++)dn=(Bt=this.gopCache_[Dn]).gop,S.pps&&ds(S.pps[0],Bt.pps[0])&&S.sps&&ds(S.sps[0],Bt.sps[0])&&(dn.dts<S.timelineStartInfo.dts||(Dt=Ue.dts-dn.dts-dn.duration)>=-1e4&&Dt<=45e3&&(!Xt||Ze>Dt)&&(Xt=Bt,Ze=Dt));return Xt?Xt.gop:null},this.alignGopsAtStart_=function(Ue){var Qe,ze,Ze,Dt,Xt,dn,Bt,Dn;for(Xt=Ue.byteLength,dn=Ue.nalCount,Bt=Ue.duration,Qe=ze=0;Qe<J.length&&ze<Ue.length&&(Ze=J[Qe]).pts!==(Dt=Ue[ze]).pts;)Dt.pts>Ze.pts?Qe++:(ze++,Xt-=Dt.byteLength,dn-=Dt.nalCount,Bt-=Dt.duration);return 0===ze?Ue:ze===Ue.length?null:((Dn=Ue.slice(ze)).byteLength=Xt,Dn.duration=Bt,Dn.nalCount=dn,Dn.pts=Dn[0].pts,Dn.dts=Dn[0].dts,Dn)},this.alignGopsAtEnd_=function(Ue){var Qe,ze,Ze,Dt,Xt,dn,Bt;for(Qe=J.length-1,ze=Ue.length-1,Xt=null,dn=!1;Qe>=0&&ze>=0;){if((Ze=J[Qe]).pts===(Dt=Ue[ze]).pts){dn=!0;break}Ze.pts>Dt.pts?Qe--:(Qe===J.length-1&&(Xt=ze),ze--)}if(!dn&&null===Xt)return null;if(0===(Bt=dn?ze:Xt))return Ue;var Dn=Ue.slice(Bt),Ts=Dn.reduce(function(fs,rf){return fs.byteLength+=rf.byteLength,fs.duration+=rf.duration,fs.nalCount+=rf.nalCount,fs},{byteLength:0,duration:0,nalCount:0});return Dn.byteLength=Ts.byteLength,Dn.duration=Ts.duration,Dn.nalCount=Ts.nalCount,Dn.pts=Dn[0].pts,Dn.dts=Dn[0].dts,Dn},this.alignGopsWith=function(Ue){J=Ue}}).prototype=new o,(Hc=function(S,N){this.numberOfTracks=0,this.metadataStream=N,this.remuxTracks=void 0===(S=S||{}).remux||!!S.remux,this.keepOriginalTimestamps="boolean"==typeof S.keepOriginalTimestamps&&S.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Hc.prototype.init.call(this),this.push=function(k){return k.text?this.pendingCaptions.push(k):k.frames?this.pendingMetadata.push(k):(this.pendingTracks.push(k.track),this.pendingBytes+=k.boxes.byteLength,"video"===k.track.type&&(this.videoTrack=k.track,this.pendingBoxes.push(k.boxes)),void("audio"===k.track.type&&(this.audioTrack=k.track,this.pendingBoxes.unshift(k.boxes))))}}).prototype=new o,Hc.prototype.flush=function(he){var k,U,J,ke,S=0,N={captions:[],captionStreams:{},metadata:[],info:{}},ie=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==he&&"AudioSegmentStream"!==he)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(ie=this.videoTrack.timelineStartInfo.pts,Up.forEach(function(Ue){N.info[Ue]=this.videoTrack[Ue]},this)):this.audioTrack&&(ie=this.audioTrack.timelineStartInfo.pts,Bp.forEach(function(Ue){N.info[Ue]=this.audioTrack[Ue]},this)),this.videoTrack||this.audioTrack){for(N.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,J=function(S){var U,N=c(),k=X(S);return(U=new Uint8Array(N.byteLength+k.byteLength)).set(N),U.set(k,N.byteLength),U}(this.pendingTracks),N.initSegment=new Uint8Array(J.byteLength),N.initSegment.set(J),N.data=new Uint8Array(this.pendingBytes),ke=0;ke<this.pendingBoxes.length;ke++)N.data.set(this.pendingBoxes[ke],S),S+=this.pendingBoxes[ke].byteLength;for(ke=0;ke<this.pendingCaptions.length;ke++)(k=this.pendingCaptions[ke]).startTime=wr_metadataTsToSeconds(k.startPts,ie,this.keepOriginalTimestamps),k.endTime=wr_metadataTsToSeconds(k.endPts,ie,this.keepOriginalTimestamps),N.captionStreams[k.stream]=!0,N.captions.push(k);for(ke=0;ke<this.pendingMetadata.length;ke++)(U=this.pendingMetadata[ke]).cueTime=wr_metadataTsToSeconds(U.pts,ie,this.keepOriginalTimestamps),N.metadata.push(U);for(N.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",N),ke=0;ke<N.captions.length;ke++)this.trigger("caption",k=N.captions[ke]);for(ke=0;ke<N.metadata.length;ke++)this.trigger("id3Frame",U=N.metadata[ke])}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Hc.prototype.setRemux=function(he){this.remuxTracks=he},(Vp=function(S){var U,J,N=this,k=!0;Vp.prototype.init.call(this),this.baseMediaDecodeTime=(S=S||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var ie={};this.transmuxPipeline_=ie,ie.type="aac",ie.metadataStream=new wu.MetadataStream,ie.aacStream=new pm,ie.audioTimestampRolloverStream=new wu.TimestampRolloverStream("audio"),ie.timedMetadataTimestampRolloverStream=new wu.TimestampRolloverStream("timed-metadata"),ie.adtsStream=new $_,ie.coalesceStream=new Hc(S,ie.metadataStream),ie.headOfPipeline=ie.aacStream,ie.aacStream.pipe(ie.audioTimestampRolloverStream).pipe(ie.adtsStream),ie.aacStream.pipe(ie.timedMetadataTimestampRolloverStream).pipe(ie.metadataStream).pipe(ie.coalesceStream),ie.metadataStream.on("timestamp",function(ke){ie.aacStream.setTimestamp(ke.timeStamp)}),ie.aacStream.on("data",function(ke){"timed-metadata"!==ke.type&&"audio"!==ke.type||ie.audioSegmentStream||(J=J||{timelineStartInfo:{baseMediaDecodeTime:N.baseMediaDecodeTime},codec:"adts",type:"audio"},ie.coalesceStream.numberOfTracks++,ie.audioSegmentStream=new Eh(J,S),ie.audioSegmentStream.on("log",N.getLogTrigger_("audioSegmentStream")),ie.audioSegmentStream.on("timingInfo",N.trigger.bind(N,"audioTimingInfo")),ie.adtsStream.pipe(ie.audioSegmentStream).pipe(ie.coalesceStream),N.trigger("trackinfo",{hasAudio:!!J,hasVideo:!!U}))}),ie.coalesceStream.on("data",this.trigger.bind(this,"data")),ie.coalesceStream.on("done",this.trigger.bind(this,"done")),iy(this,ie)},this.setupTsPipeline=function(){var ie={};this.transmuxPipeline_=ie,ie.type="ts",ie.metadataStream=new wu.MetadataStream,ie.packetStream=new wu.TransportPacketStream,ie.parseStream=new wu.TransportParseStream,ie.elementaryStream=new wu.ElementaryStream,ie.timestampRolloverStream=new wu.TimestampRolloverStream,ie.adtsStream=new $_,ie.h264Stream=new ey,ie.captionStream=new wu.CaptionStream(S),ie.coalesceStream=new Hc(S,ie.metadataStream),ie.headOfPipeline=ie.packetStream,ie.packetStream.pipe(ie.parseStream).pipe(ie.elementaryStream).pipe(ie.timestampRolloverStream),ie.timestampRolloverStream.pipe(ie.h264Stream),ie.timestampRolloverStream.pipe(ie.adtsStream),ie.timestampRolloverStream.pipe(ie.metadataStream).pipe(ie.coalesceStream),ie.h264Stream.pipe(ie.captionStream).pipe(ie.coalesceStream),ie.elementaryStream.on("data",function(ke){var Ue;if("metadata"===ke.type){for(Ue=ke.tracks.length;Ue--;)U||"video"!==ke.tracks[Ue].type?!J&&"audio"===ke.tracks[Ue].type&&((J=ke.tracks[Ue]).timelineStartInfo.baseMediaDecodeTime=N.baseMediaDecodeTime):(U=ke.tracks[Ue]).timelineStartInfo.baseMediaDecodeTime=N.baseMediaDecodeTime;U&&!ie.videoSegmentStream&&(ie.coalesceStream.numberOfTracks++,ie.videoSegmentStream=new ef(U,S),ie.videoSegmentStream.on("log",N.getLogTrigger_("videoSegmentStream")),ie.videoSegmentStream.on("timelineStartInfo",function(Qe){J&&!S.keepOriginalTimestamps&&(J.timelineStartInfo=Qe,ie.audioSegmentStream.setEarliestDts(Qe.dts-N.baseMediaDecodeTime))}),ie.videoSegmentStream.on("processedGopsInfo",N.trigger.bind(N,"gopInfo")),ie.videoSegmentStream.on("segmentTimingInfo",N.trigger.bind(N,"videoSegmentTimingInfo")),ie.videoSegmentStream.on("baseMediaDecodeTime",function(Qe){J&&ie.audioSegmentStream.setVideoBaseMediaDecodeTime(Qe)}),ie.videoSegmentStream.on("timingInfo",N.trigger.bind(N,"videoTimingInfo")),ie.h264Stream.pipe(ie.videoSegmentStream).pipe(ie.coalesceStream)),J&&!ie.audioSegmentStream&&(ie.coalesceStream.numberOfTracks++,ie.audioSegmentStream=new Eh(J,S),ie.audioSegmentStream.on("log",N.getLogTrigger_("audioSegmentStream")),ie.audioSegmentStream.on("timingInfo",N.trigger.bind(N,"audioTimingInfo")),ie.audioSegmentStream.on("segmentTimingInfo",N.trigger.bind(N,"audioSegmentTimingInfo")),ie.adtsStream.pipe(ie.audioSegmentStream).pipe(ie.coalesceStream)),N.trigger("trackinfo",{hasAudio:!!J,hasVideo:!!U})}}),ie.coalesceStream.on("data",this.trigger.bind(this,"data")),ie.coalesceStream.on("id3Frame",function(ke){ke.dispatchType=ie.metadataStream.dispatchType,N.trigger("id3Frame",ke)}),ie.coalesceStream.on("caption",this.trigger.bind(this,"caption")),ie.coalesceStream.on("done",this.trigger.bind(this,"done")),iy(this,ie)},this.setBaseMediaDecodeTime=function(ie){var ke=this.transmuxPipeline_;S.keepOriginalTimestamps||(this.baseMediaDecodeTime=ie),J&&(J.timelineStartInfo.dts=void 0,J.timelineStartInfo.pts=void 0,Ua_clearDtsInfo(J),ke.audioTimestampRolloverStream&&ke.audioTimestampRolloverStream.discontinuity()),U&&(ke.videoSegmentStream&&(ke.videoSegmentStream.gopCache_=[]),U.timelineStartInfo.dts=void 0,U.timelineStartInfo.pts=void 0,Ua_clearDtsInfo(U),ke.captionStream.reset()),ke.timestampRolloverStream&&ke.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(ie){J&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(ie)},this.setRemux=function(ie){var ke=this.transmuxPipeline_;S.remux=ie,ke&&ke.coalesceStream&&ke.coalesceStream.setRemux(ie)},this.alignGopsWith=function(ie){U&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(ie)},this.getLogTrigger_=function(ie){var ke=this;return function(Ue){Ue.stream=ie,ke.trigger("log",Ue)}},this.push=function(ie){if(k){var ke=ty(ie);ke&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():!ke&&"ts"!==this.transmuxPipeline_.type&&this.setupTsPipeline(),k=!1}this.transmuxPipeline_.headOfPipeline.push(ie)},this.flush=function(){k=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new o;var nf,W_={Transmuxer:Vp,VideoSegmentStream:ef,AudioSegmentStream:Eh,AUDIO_PROPERTIES:Bp,VIDEO_PROPERTIES:Up,generateSegmentTimingInfo:jp},Hp_toUnsigned=function(S){return S>>>0},rc=function(S){var N="";return N+=String.fromCharCode(S[0]),N+=String.fromCharCode(S[1]),(N+=String.fromCharCode(S[2]))+String.fromCharCode(S[3])},tf=Hp_toUnsigned,fi=function he(S,N){var U,J,ie,ke,Ue,k=[];if(!N.length)return null;for(U=0;U<S.byteLength;)J=tf(S[U]<<24|S[U+1]<<16|S[U+2]<<8|S[U+3]),ie=rc(S.subarray(U+4,U+8)),ke=J>1?U+J:S.byteLength,ie===N[0]&&(1===N.length?k.push(S.subarray(U+8,ke)):(Ue=he(S.subarray(U+8,ke),N.slice(1))).length&&(k=k.concat(Ue))),U=ke;return k},gm=Hp_toUnsigned,$p=function(S){return{isLeading:(12&S[0])>>>2,dependsOn:3&S[0],isDependedOn:(192&S[1])>>>6,hasRedundancy:(48&S[1])>>>4,paddingValue:(14&S[1])>>>1,isNonSyncSample:1&S[1],degradationPriority:S[2]<<8|S[3]}},Ul=function(S){for(var J,ie,N=S.byteLength,k=[],U=1;U<N-2;)0===S[U]&&0===S[U+1]&&3===S[U+2]?(k.push(U+2),U+=2):U++;if(0===k.length)return S;J=N-k.length,ie=new Uint8Array(J);var ke=0;for(U=0;U<J;ke++,U++)ke===k[0]&&(ke++,k.shift()),ie[U]=S[ke];return ie},al=Ip.CaptionStream,ll=function(S,N){for(var k=S,U=0;U<N.length;U++){var J=N[U];if(k<J.size)return J;k-=J.size}return null},Y_=function(S,N){var k=fi(S,["moof","traf"]),U=fi(S,["mdat"]),J={},ie=[];return U.forEach(function(ke,Ue){ie.push({mdat:ke,traf:k[Ue]})}),ie.forEach(function(ke){var Dn,Ts,Ue=ke.mdat,Qe=ke.traf,Ze=function(S){var Ze,N=new DataView(S.buffer,S.byteOffset,S.byteLength),k={version:S[0],flags:new Uint8Array(S.subarray(1,4)),trackId:N.getUint32(4)},U=1&k.flags[2],J=2&k.flags[2],ie=8&k.flags[2],ke=16&k.flags[2],Ue=32&k.flags[2],Qe=65536&k.flags[0],ze=131072&k.flags[0];return Ze=8,U&&(Ze+=4,k.baseDataOffset=N.getUint32(12),Ze+=4),J&&(k.sampleDescriptionIndex=N.getUint32(Ze),Ze+=4),ie&&(k.defaultSampleDuration=N.getUint32(Ze),Ze+=4),ke&&(k.defaultSampleSize=N.getUint32(Ze),Ze+=4),Ue&&(k.defaultSampleFlags=N.getUint32(Ze)),Qe&&(k.durationIsEmpty=!0),!U&&ze&&(k.baseDataOffsetIsMoof=!0),k}(fi(Qe,["tfhd"])[0]),Dt=Ze.trackId,Xt=fi(Qe,["tfdt"]),dn=Xt.length>0?function(S){var N={version:S[0],flags:new Uint8Array(S.subarray(1,4)),baseMediaDecodeTime:gm(S[4]<<24|S[5]<<16|S[6]<<8|S[7])};return 1===N.version&&(N.baseMediaDecodeTime*=Math.pow(2,32),N.baseMediaDecodeTime+=gm(S[8]<<24|S[9]<<16|S[10]<<8|S[11])),N}(Xt[0]).baseMediaDecodeTime:0,Bt=fi(Qe,["trun"]);N===Dt&&Bt.length>0&&(Dn=function(S,N,k){var U=N,J=k.defaultSampleDuration||0,ie=k.defaultSampleSize||0,ke=k.trackId,Ue=[];return S.forEach(function(Qe){var Ze=function(S){var Dt,N={version:S[0],flags:new Uint8Array(S.subarray(1,4)),samples:[]},k=new DataView(S.buffer,S.byteOffset,S.byteLength),U=1&N.flags[2],J=4&N.flags[2],ie=1&N.flags[1],ke=2&N.flags[1],Ue=4&N.flags[1],Qe=8&N.flags[1],ze=k.getUint32(4),Ze=8;for(U&&(N.dataOffset=k.getInt32(Ze),Ze+=4),J&&ze&&(Dt={flags:$p(S.subarray(Ze,Ze+4))},Ze+=4,ie&&(Dt.duration=k.getUint32(Ze),Ze+=4),ke&&(Dt.size=k.getUint32(Ze),Ze+=4),Qe&&(Dt.compositionTimeOffset=1===N.version?k.getInt32(Ze):k.getUint32(Ze),Ze+=4),N.samples.push(Dt),ze--);ze--;)Dt={},ie&&(Dt.duration=k.getUint32(Ze),Ze+=4),ke&&(Dt.size=k.getUint32(Ze),Ze+=4),Ue&&(Dt.flags=$p(S.subarray(Ze,Ze+4)),Ze+=4),Qe&&(Dt.compositionTimeOffset=1===N.version?k.getInt32(Ze):k.getUint32(Ze),Ze+=4),N.samples.push(Dt);return N}(Qe).samples;Ze.forEach(function(Dt){void 0===Dt.duration&&(Dt.duration=J),void 0===Dt.size&&(Dt.size=ie),Dt.trackId=ke,Dt.dts=U,void 0===Dt.compositionTimeOffset&&(Dt.compositionTimeOffset=0),Dt.pts=U+Dt.compositionTimeOffset,U+=Dt.duration}),Ue=Ue.concat(Ze)}),Ue}(Bt,dn,Ze),Ts=function(S,N,k){var ie,ke,Ue,Qe,U=new DataView(S.buffer,S.byteOffset,S.byteLength),J={logs:[],seiNals:[]};for(ke=0;ke+4<S.length;ke+=Ue)if(Ue=U.getUint32(ke),ke+=4,!(Ue<=0))switch(31&S[ke]){case 6:var ze=S.subarray(ke+1,ke+1+Ue),Ze=ll(ke,N);if(ie={nalUnitType:"sei_rbsp",size:Ue,data:ze,escapedRBSP:Ul(ze),trackId:k},Ze)ie.pts=Ze.pts,ie.dts=Ze.dts,Qe=Ze;else{if(!Qe){J.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+ke+" for trackId "+k+". See mux.js#223."});break}ie.pts=Qe.pts,ie.dts=Qe.dts}J.seiNals.push(ie)}return J}(Ue,Dn,Dt),J[Dt]||(J[Dt]={seiNals:[],logs:[]}),J[Dt].seiNals=J[Dt].seiNals.concat(Ts.seiNals),J[Dt].logs=J[Dt].logs.concat(Ts.logs))}),J},J_=function(){var N,k,U,J,ie,ke,S=!1;this.isInitialized=function(){return S},this.init=function(Ue){N=new al,S=!0,ke=!!Ue&&Ue.isPartial,N.on("data",function(Qe){Qe.startTime=Qe.startPts/J,Qe.endTime=Qe.endPts/J,ie.captions.push(Qe),ie.captionStreams[Qe.stream]=!0}),N.on("log",function(Qe){ie.logs.push(Qe)})},this.isNewInit=function(Ue,Qe){return!(Ue&&0===Ue.length||Qe&&"object"==typeof Qe&&0===Object.keys(Qe).length||U===Ue[0]&&J===Qe[U])},this.parse=function(Ue,Qe,ze){var Ze;if(!this.isInitialized())return null;if(!Qe||!ze)return null;if(this.isNewInit(Qe,ze))J=ze[U=Qe[0]];else if(null===U||!J)return k.push(Ue),null;for(;k.length>0;){var Dt=k.shift();this.parse(Dt,Qe,ze)}return(Ze=function(S,N,k){if(null===N)return null;var J=Y_(S,N)[N]||{};return{seiNals:J.seiNals,logs:J.logs,timescale:k}}(Ue,U,J))&&Ze.logs&&(ie.logs=ie.logs.concat(Ze.logs)),null!==Ze&&Ze.seiNals?(this.pushNals(Ze.seiNals),this.flushStream(),ie):ie.logs.length?{logs:ie.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(Ue){if(!this.isInitialized()||!Ue||0===Ue.length)return null;Ue.forEach(function(Qe){N.push(Qe)})},this.flushStream=function(){if(!this.isInitialized())return null;ke?N.partialFlush():N.flush()},this.clearParsedCaptions=function(){ie.captions=[],ie.captionStreams={},ie.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;N.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){k=[],U=null,J=null,ie?this.clearParsedCaptions():ie={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},ic=Hp_toUnsigned,Su=function(S){return("00"+S.toString(16)).slice(-2)},fy_startTime=function(S,N){var k,U,J;return k=fi(N,["moof","traf"]),U=[].concat.apply([],k.map(function(ie){return fi(ie,["tfhd"]).map(function(ke){var Ue,Qe,ze;return Ue=ic(ke[4]<<24|ke[5]<<16|ke[6]<<8|ke[7]),Qe=S[Ue]||9e4,(ze="number"!=typeof(ze=fi(ie,["tfdt"]).map(function(Ze){var Dt,Xt;return Dt=Ze[0],Xt=ic(Ze[4]<<24|Ze[5]<<16|Ze[6]<<8|Ze[7]),1===Dt&&(Xt*=Math.pow(2,32),Xt+=ic(Ze[8]<<24|Ze[9]<<16|Ze[10]<<8|Ze[11])),Xt})[0])||isNaN(ze)?1/0:ze)/Qe})})),J=Math.min.apply(null,U),isFinite(J)?J:0},fy_tracks=function(S){var N=fi(S,["moov","trak"]),k=[];return N.forEach(function(U){var ke,Ue,J={},ie=fi(U,["tkhd"])[0];ie&&(Ue=(ke=new DataView(ie.buffer,ie.byteOffset,ie.byteLength)).getUint8(0),J.id=ke.getUint32(0===Ue?12:20));var Qe=fi(U,["mdia","hdlr"])[0];if(Qe){var ze=rc(Qe.subarray(8,12));J.type="vide"===ze?"video":"soun"===ze?"audio":ze}var Ze=fi(U,["mdia","minf","stbl","stsd"])[0];if(Ze){var Dt=Ze.subarray(8);J.codec=rc(Dt.subarray(4,8));var dn,Xt=fi(Dt,[J.codec])[0];Xt&&(/^[asm]vc[1-9]$/i.test(J.codec)?(dn=Xt.subarray(78),"avcC"===rc(dn.subarray(4,8))&&dn.length>11?(J.codec+=".",J.codec+=Su(dn[9]),J.codec+=Su(dn[10]),J.codec+=Su(dn[11])):J.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(J.codec)?(dn=Xt.subarray(28),"esds"===rc(dn.subarray(4,8))&&dn.length>20&&0!==dn[19]?(J.codec+="."+Su(dn[19]),J.codec+="."+Su(dn[20]>>>2&63).replace(/^0/,"")):J.codec="mp4a.40.2"):J.codec=J.codec.toLowerCase())}var Dn=fi(U,["mdia","mdhd"])[0];Dn&&(J.timescale=nf(Dn)),k.push(J)}),k},Cm=(nf=function(S){var k=0===S[0]?12:20;return ic(S[k]<<24|S[k+1]<<16|S[k+2]<<8|S[k+3])},function(S){var N=31&S[1];return(N<<=8)|S[2]}),xh=function(S){return!!(64&S[1])},wh=function(S){var N=0;return(48&S[3])>>>4>1&&(N+=S[4]+1),N},Wp=function(S){switch(S){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},$c=jv_handleRollover,Rr={};Rr.ts={parseType:function(S,N){var k=Cm(S);return 0===k?"pat":k===N?"pmt":N?"pes":null},parsePat:function(S){var N=xh(S),k=4+wh(S);return N&&(k+=S[k]+1),(31&S[k+10])<<8|S[k+11]},parsePmt:function(S){var N={},k=xh(S),U=4+wh(S);if(k&&(U+=S[U]+1),1&S[U+5]){var ie;ie=3+((15&S[U+1])<<8|S[U+2])-4;for(var Ue=12+((15&S[U+10])<<8|S[U+11]);Ue<ie;){var Qe=U+Ue;N[(31&S[Qe+1])<<8|S[Qe+2]]=S[Qe],Ue+=5+((15&S[Qe+3])<<8|S[Qe+4])}return N}},parsePayloadUnitStartIndicator:xh,parsePesType:function(S,N){switch(N[Cm(S)]){case As.H264_STREAM_TYPE:return"video";case As.ADTS_STREAM_TYPE:return"audio";case As.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(S){if(!xh(S))return null;var k=4+wh(S);if(k>=S.byteLength)return null;var J,U=null;return 192&(J=S[k+7])&&((U={}).pts=(14&S[k+9])<<27|(255&S[k+10])<<20|(254&S[k+11])<<12|(255&S[k+12])<<5|(254&S[k+13])>>>3,U.pts*=4,U.pts+=(6&S[k+13])>>>1,U.dts=U.pts,64&J&&(U.dts=(14&S[k+14])<<27|(255&S[k+15])<<20|(254&S[k+16])<<12|(255&S[k+17])<<5|(254&S[k+18])>>>3,U.dts*=4,U.dts+=(6&S[k+18])>>>1)),U},videoPacketContainsKeyFrame:function(S){for(var N=4+wh(S),k=S.subarray(N),U=0,J=0,ie=!1;J<k.byteLength-3;J++)if(1===k[J+2]){U=J+5;break}for(;U<k.byteLength;)switch(k[U]){case 0:if(0!==k[U-1]){U+=2;break}if(0!==k[U-2]){U++;break}J+3!==U-2&&"slice_layer_without_partitioning_rbsp_idr"===Wp(31&k[J+3])&&(ie=!0);do{U++}while(1!==k[U]&&U<k.length);J=U-2,U+=3;break;case 1:if(0!==k[U-1]||0!==k[U-2]){U+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Wp(31&k[J+3])&&(ie=!0),J=U-2,U+=3;break;default:U+=3}return k=k.subarray(J),U-=J,J=0,k&&k.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Wp(31&k[J+3])&&(ie=!0),ie}},Rr.aac=Ch;var zc=9e4,uo=188,_y=function(S,N,k){for(var ie,Ue,Qe,ze,U=0,J=uo,Ze=!1;J<=S.byteLength;)if(71!==S[U]||71!==S[J]&&J!==S.byteLength)U++,J++;else{switch(ie=S.subarray(U,J),Rr.ts.parseType(ie,N.pid)){case"pes":Ue=Rr.ts.parsePesType(ie,N.table),Qe=Rr.ts.parsePayloadUnitStartIndicator(ie),"audio"===Ue&&Qe&&(ze=Rr.ts.parsePesTime(ie))&&(ze.type="audio",k.audio.push(ze),Ze=!0)}if(Ze)break;U+=uo,J+=uo}for(U=(J=S.byteLength)-uo,Ze=!1;U>=0;)if(71!==S[U]||71!==S[J]&&J!==S.byteLength)U--,J--;else{switch(ie=S.subarray(U,J),Rr.ts.parseType(ie,N.pid)){case"pes":Ue=Rr.ts.parsePesType(ie,N.table),Qe=Rr.ts.parsePayloadUnitStartIndicator(ie),"audio"===Ue&&Qe&&(ze=Rr.ts.parsePesTime(ie))&&(ze.type="audio",k.audio.push(ze),Ze=!0)}if(Ze)break;U-=uo,J-=uo}},t0=function(S,N,k){for(var ie,Ue,Qe,ze,Ze,Dt,Xt,U=0,J=uo,dn=!1,Bt={data:[],size:0};J<S.byteLength;)if(71!==S[U]||71!==S[J])U++,J++;else{switch(ie=S.subarray(U,J),Rr.ts.parseType(ie,N.pid)){case"pes":if(Ue=Rr.ts.parsePesType(ie,N.table),Qe=Rr.ts.parsePayloadUnitStartIndicator(ie),"video"===Ue&&(Qe&&!dn&&(ze=Rr.ts.parsePesTime(ie))&&(ze.type="video",k.video.push(ze),dn=!0),!k.firstKeyFrame)){if(Qe&&0!==Bt.size){for(Ze=new Uint8Array(Bt.size),Dt=0;Bt.data.length;)Xt=Bt.data.shift(),Ze.set(Xt,Dt),Dt+=Xt.byteLength;if(Rr.ts.videoPacketContainsKeyFrame(Ze)){var Dn=Rr.ts.parsePesTime(Ze);Dn?(k.firstKeyFrame=Dn,k.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Bt.size=0}Bt.data.push(ie),Bt.size+=ie.byteLength}}if(dn&&k.firstKeyFrame)break;U+=uo,J+=uo}for(U=(J=S.byteLength)-uo,dn=!1;U>=0;)if(71!==S[U]||71!==S[J])U--,J--;else{switch(ie=S.subarray(U,J),Rr.ts.parseType(ie,N.pid)){case"pes":Ue=Rr.ts.parsePesType(ie,N.table),Qe=Rr.ts.parsePayloadUnitStartIndicator(ie),"video"===Ue&&Qe&&(ze=Rr.ts.parsePesTime(ie))&&(ze.type="video",k.video.push(ze),dn=!0)}if(dn)break;U-=uo,J-=uo}},a0_inspect=function(S,N){var U;return(U=Rr.aac.isLikelyAacData(S)?function(S){for(var Ue,N=!1,k=0,U=null,J=null,ie=0,ke=0;S.length-ke>=3;){switch(Rr.aac.parseType(S,ke)){case"timed-metadata":if(S.length-ke<10){N=!0;break}if((ie=Rr.aac.parseId3TagSize(S,ke))>S.length){N=!0;break}null===J&&(Ue=S.subarray(ke,ke+ie),J=Rr.aac.parseAacTimestamp(Ue)),ke+=ie;break;case"audio":if(S.length-ke<7){N=!0;break}if((ie=Rr.aac.parseAdtsSize(S,ke))>S.length){N=!0;break}null===U&&(Ue=S.subarray(ke,ke+ie),U=Rr.aac.parseSampleRate(Ue)),k++,ke+=ie;break;default:ke++}if(N)return null}if(null===U||null===J)return null;var ze=zc/U;return{audio:[{type:"audio",dts:J,pts:J},{type:"audio",dts:J+1024*k*ze,pts:J+1024*k*ze}]}}(S):function(S){var N={pid:null,table:null},k={};for(var U in function(S,N){for(var J,k=0,U=uo;U<S.byteLength;)if(71!==S[k]||71!==S[U])k++,U++;else{switch(J=S.subarray(k,U),Rr.ts.parseType(J,N.pid)){case"pat":N.pid=Rr.ts.parsePat(J);break;case"pmt":var ke=Rr.ts.parsePmt(J);N.table=N.table||{},Object.keys(ke).forEach(function(Ue){N.table[Ue]=ke[Ue]})}k+=uo,U+=uo}}(S,N),N.table)if(N.table.hasOwnProperty(U))switch(N.table[U]){case As.H264_STREAM_TYPE:k.video=[],t0(S,N,k),0===k.video.length&&delete k.video;break;case As.ADTS_STREAM_TYPE:k.audio=[],_y(S,N,k),0===k.audio.length&&delete k.audio}return k}(S))&&(U.audio||U.video)?(function(S,N){if(S.audio&&S.audio.length){var k=N;(void 0===k||isNaN(k))&&(k=S.audio[0].dts),S.audio.forEach(function(ie){ie.dts=$c(ie.dts,k),ie.pts=$c(ie.pts,k),ie.dtsTime=ie.dts/zc,ie.ptsTime=ie.pts/zc})}if(S.video&&S.video.length){var U=N;if((void 0===U||isNaN(U))&&(U=S.video[0].dts),S.video.forEach(function(ie){ie.dts=$c(ie.dts,U),ie.pts=$c(ie.pts,U),ie.dtsTime=ie.dts/zc,ie.ptsTime=ie.pts/zc}),S.firstKeyFrame){var J=S.firstKeyFrame;J.dts=$c(J.dts,U),J.pts=$c(J.pts,U),J.dtsTime=J.dts/zc,J.ptsTime=J.pts/zc}}}(U,N),U):null},by=function(){function he(N,k){this.options=k||{},this.self=N,this.init()}var S=he.prototype;return S.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new W_.Transmuxer(this.options),function(S,N){N.on("data",function(k){var U=k.initSegment;k.initSegment={data:U.buffer,byteOffset:U.byteOffset,byteLength:U.byteLength};var J=k.data;k.data=J.buffer,S.postMessage({action:"data",segment:k,byteOffset:J.byteOffset,byteLength:J.byteLength},[k.data])}),N.on("done",function(k){S.postMessage({action:"done"})}),N.on("gopInfo",function(k){S.postMessage({action:"gopInfo",gopInfo:k})}),N.on("videoSegmentTimingInfo",function(k){var U={start:{decode:wr_videoTsToSeconds(k.start.dts),presentation:wr_videoTsToSeconds(k.start.pts)},end:{decode:wr_videoTsToSeconds(k.end.dts),presentation:wr_videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:wr_videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(U.prependedContentDuration=wr_videoTsToSeconds(k.prependedContentDuration)),S.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:U})}),N.on("audioSegmentTimingInfo",function(k){var U={start:{decode:wr_videoTsToSeconds(k.start.dts),presentation:wr_videoTsToSeconds(k.start.pts)},end:{decode:wr_videoTsToSeconds(k.end.dts),presentation:wr_videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:wr_videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(U.prependedContentDuration=wr_videoTsToSeconds(k.prependedContentDuration)),S.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:U})}),N.on("id3Frame",function(k){S.postMessage({action:"id3Frame",id3Frame:k})}),N.on("caption",function(k){S.postMessage({action:"caption",caption:k})}),N.on("trackinfo",function(k){S.postMessage({action:"trackinfo",trackInfo:k})}),N.on("audioTimingInfo",function(k){S.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:wr_videoTsToSeconds(k.start),end:wr_videoTsToSeconds(k.end)}})}),N.on("videoTimingInfo",function(k){S.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:wr_videoTsToSeconds(k.start),end:wr_videoTsToSeconds(k.end)}})}),N.on("log",function(k){S.postMessage({action:"log",log:k})})}(this.self,this.transmuxer)},S.pushMp4Captions=function(k){this.captionParser||(this.captionParser=new J_,this.captionParser.init());var U=new Uint8Array(k.data,k.byteOffset,k.byteLength),J=this.captionParser.parse(U,k.trackIds,k.timescales);this.self.postMessage({action:"mp4Captions",captions:J&&J.captions||[],logs:J&&J.logs||[],data:U.buffer},[U.buffer])},S.probeMp4StartTime=function(k){var J=k.data,ie=fy_startTime(k.timescales,J);this.self.postMessage({action:"probeMp4StartTime",startTime:ie,data:J},[J.buffer])},S.probeMp4Tracks=function(k){var U=k.data,J=fy_tracks(U);this.self.postMessage({action:"probeMp4Tracks",tracks:J,data:U},[U.buffer])},S.probeTs=function(k){var U=k.data,J=k.baseStartTime,ie="number"!=typeof J||isNaN(J)?void 0:9e4*J,ke=a0_inspect(U,ie),Ue=null;ke&&((Ue={hasVideo:ke.video&&2===ke.video.length||!1,hasAudio:ke.audio&&2===ke.audio.length||!1}).hasVideo&&(Ue.videoStart=ke.video[0].ptsTime),Ue.hasAudio&&(Ue.audioStart=ke.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:Ue,data:U},[U.buffer])},S.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},S.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},S.push=function(k){var U=new Uint8Array(k.data,k.byteOffset,k.byteLength);this.transmuxer.push(U)},S.reset=function(){this.transmuxer.reset()},S.setTimestampOffset=function(k){this.transmuxer.setBaseMediaDecodeTime(Math.round(wr_secondsToVideoTs(k.timestampOffset||0)))},S.setAudioAppendStart=function(k){this.transmuxer.setAudioAppendStart(Math.ceil(wr_secondsToVideoTs(k.appendStart)))},S.setRemux=function(k){this.transmuxer.setRemux(k.remux)},S.flush=function(k){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},S.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},S.alignGopsWith=function(k){this.transmuxer.alignGopsWith(k.gopsToAlignWith.slice())},he}();self.onmessage=function(he){"init"===he.data.action&&he.data.options?this.messageHandlers=new by(self,he.data.options):(this.messageHandlers||(this.messageHandlers=new by(self)),he.data&&he.data.action&&"init"!==he.data.action&&this.messageHandlers[he.data.action]&&this.messageHandlers[he.data.action](he.data))}}))),xn=function(o){var a=o.transmuxer,s=o.bytes,n=o.audioAppendStart,i=o.gopsToAlignWith,c=o.remux,m=o.onData,E=o.onTrackInfo,O=o.onAudioTimingInfo,R=o.onVideoTimingInfo,X=o.onVideoSegmentTimingInfo,Q=o.onAudioSegmentTimingInfo,ve=o.onId3,Me=o.onCaptions,we=o.onDone,Se=o.onEndedTimeline,st=o.onTransmuxerLog,it=o.isEndOfTimeline,bt={buffer:[]},xt=it;if(a.onmessage=function(kt){a.currentTransmux===o&&("data"===kt.data.action&&function(o,a,s){var n=o.data.segment,i=n.type,c=n.initSegment,R=n.videoFrameDtsTime,X=n.videoFramePtsTime;a.buffer.push({captions:n.captions,captionStreams:n.captionStreams,metadata:n.metadata});var Q=o.data.segment.boxes||{data:o.data.segment.data},ve={type:i,data:new Uint8Array(Q.data,Q.data.byteOffset,Q.data.byteLength),initSegment:new Uint8Array(c.data,c.byteOffset,c.byteLength)};void 0!==R&&(ve.videoFrameDtsTime=R),void 0!==X&&(ve.videoFramePtsTime=X),s(ve)}(kt,bt,m),"trackinfo"===kt.data.action&&E(kt.data.trackInfo),"gopInfo"===kt.data.action&&function(o,a){a.gopInfo=o.data.gopInfo}(kt,bt),"audioTimingInfo"===kt.data.action&&O(kt.data.audioTimingInfo),"videoTimingInfo"===kt.data.action&&R(kt.data.videoTimingInfo),"videoSegmentTimingInfo"===kt.data.action&&X(kt.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===kt.data.action&&Q(kt.data.audioSegmentTimingInfo),"id3Frame"===kt.data.action&&ve([kt.data.id3Frame],kt.data.id3Frame.dispatchType),"caption"===kt.data.action&&Me(kt.data.caption),"endedtimeline"===kt.data.action&&(xt=!1,Se()),"log"===kt.data.action&&st(kt.data.log),"transmuxed"===kt.data.type&&(xt||(a.onmessage=null,function(o){var a=o.transmuxedData,s=o.callback;a.buffer=[],s(a)}({transmuxedData:bt,callback:we}),$i(a))))},n&&a.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&a.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),void 0!==c&&a.postMessage({action:"setRemux",remux:c}),s.byteLength){var $t=s instanceof ArrayBuffer?s:s.buffer,Jt=s instanceof ArrayBuffer?0:s.byteOffset;a.postMessage({action:"push",data:$t,byteOffset:Jt,byteLength:s.byteLength},[$t])}it&&a.postMessage({action:"endTimeline"}),a.postMessage({action:"flush"})},$i=function(o){o.currentTransmux=null,o.transmuxQueue.length&&(o.currentTransmux=o.transmuxQueue.shift(),"function"==typeof o.currentTransmux?o.currentTransmux():xn(o.currentTransmux))},cs=function(o,a){o.postMessage({action:a}),$i(o)},na_reset=function(o){!function(o,a){if(!a.currentTransmux)return a.currentTransmux=o,void cs(a,o);a.transmuxQueue.push(cs.bind(null,a,o))}("reset",o)},Mo=function(o){var a=o.transmuxer,s=o.endAction||o.action,n=o.callback,i=ce({},o,{endAction:null,transmuxer:null,callback:null});if(a.addEventListener("message",function O(R){R.data.action===s&&(a.removeEventListener("message",O),R.data.data&&(R.data.data=new Uint8Array(R.data.data,o.byteOffset||0,o.byteLength||R.data.data.byteLength),o.data&&(o.data=R.data.data)),n(R.data))}),o.data){var m=o.data instanceof ArrayBuffer;i.byteOffset=m?0:o.data.byteOffset,i.byteLength=o.data.byteLength,a.postMessage(i,[m?o.data:o.data.buffer])}else a.postMessage(i)},ia=function(o){o.forEach(function(a){a.abort()})},Ln=function(o,a){return a.timedout?{status:a.status,message:"HLS request timed-out at URL: "+a.uri,code:-101,xhr:a}:a.aborted?{status:a.status,message:"HLS request aborted at URL: "+a.uri,code:-102,xhr:a}:o?{status:a.status,message:"HLS request errored at URL: "+a.uri,code:2,xhr:a}:"arraybuffer"===a.responseType&&0===a.response.byteLength?{status:a.status,message:"Empty HLS response at URL: "+a.uri,code:2,xhr:a}:null},lr=function(o,a,s){return function(n,i){var c=i.response,m=Ln(n,i);if(m)return s(m,o);if(16!==c.byteLength)return s({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:2,xhr:i},o);for(var E=new DataView(c),O=new Uint32Array([E.getUint32(0),E.getUint32(4),E.getUint32(8),E.getUint32(12)]),R=0;R<a.length;R++)a[R].bytes=O;return s(null,o)}},ts=function(o,a){var s=It(o.map.bytes);if("mp4"!==s)return a({internal:!0,message:"Found unsupported "+(s||"unknown")+" container for initialization segment at URL: "+(o.map.resolvedUri||o.map.uri),code:2});Mo({action:"probeMp4Tracks",data:o.map.bytes,transmuxer:o.transmuxer,callback:function(c){var m=c.tracks;return o.map.bytes=c.data,m.forEach(function(O){o.map.tracks=o.map.tracks||{},!o.map.tracks[O.type]&&(o.map.tracks[O.type]=O,"number"==typeof O.id&&O.timescale&&(o.map.timescales=o.map.timescales||{},o.map.timescales[O.id]=O.timescale))}),a(null)}})},Il=function(o){var a=o.segment,s=o.bytes,n=o.trackInfoFn,i=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,m=o.audioSegmentTimingInfoFn,E=o.id3Fn,O=o.captionsFn,R=o.isEndOfTimeline,X=o.endedTimelineFn,Q=o.dataFn,ve=o.doneFn,Me=o.onTransmuxerLog,we=a.map&&a.map.tracks||{},Se=Boolean(we.audio&&we.video),st=i.bind(null,a,"audio","start"),it=i.bind(null,a,"audio","end"),bt=i.bind(null,a,"video","start"),xt=i.bind(null,a,"video","end");Mo({action:"probeTs",transmuxer:a.transmuxer,data:s,baseStartTime:a.baseStartTime,callback:function(Jt){a.bytes=s=Jt.data;var Lt=Jt.result;Lt&&(n(a,{hasAudio:Lt.hasAudio,hasVideo:Lt.hasVideo,isMuxed:Se}),n=null,Lt.hasAudio&&!Se&&st(Lt.audioStart),Lt.hasVideo&&bt(Lt.videoStart),st=null,bt=null),function(o){if(!o.transmuxer.currentTransmux)return o.transmuxer.currentTransmux=o,void xn(o);o.transmuxer.transmuxQueue.push(o)}({bytes:s,transmuxer:a.transmuxer,audioAppendStart:a.audioAppendStart,gopsToAlignWith:a.gopsToAlignWith,remux:Se,onData:function(Lt){Lt.type="combined"===Lt.type?"video":Lt.type,Q(a,Lt)},onTrackInfo:function(Lt){n&&(Se&&(Lt.isMuxed=!0),n(a,Lt))},onAudioTimingInfo:function(Lt){st&&void 0!==Lt.start&&(st(Lt.start),st=null),it&&void 0!==Lt.end&&it(Lt.end)},onVideoTimingInfo:function(Lt){bt&&void 0!==Lt.start&&(bt(Lt.start),bt=null),xt&&void 0!==Lt.end&&xt(Lt.end)},onVideoSegmentTimingInfo:function(Lt){c(Lt)},onAudioSegmentTimingInfo:function(Lt){m(Lt)},onId3:function(Lt,kt){E(a,Lt,kt)},onCaptions:function(Lt){O(a,[Lt])},isEndOfTimeline:R,onEndedTimeline:function(){X()},onTransmuxerLog:Me,onDone:function(Lt){!ve||(Lt.type="combined"===Lt.type?"video":Lt.type,ve(null,a,Lt))}})}})},Vr=function(o){var a=o.segment,s=o.bytes,n=o.trackInfoFn,i=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,m=o.audioSegmentTimingInfoFn,E=o.id3Fn,O=o.captionsFn,R=o.isEndOfTimeline,X=o.endedTimelineFn,Q=o.dataFn,ve=o.doneFn,Me=o.onTransmuxerLog,we=new Uint8Array(s);if(function(o){return Li(o,["moof"]).length>0}(we)){a.isFmp4=!0;var Se=a.map.tracks,st={isFmp4:!0,hasVideo:!!Se.video,hasAudio:!!Se.audio};Se.audio&&Se.audio.codec&&"enca"!==Se.audio.codec&&(st.audioCodec=Se.audio.codec),Se.video&&Se.video.codec&&"encv"!==Se.video.codec&&(st.videoCodec=Se.video.codec),Se.video&&Se.audio&&(st.isMuxed=!0),n(a,st);var it=function(xt){Q(a,{data:we,type:st.hasAudio&&!st.isMuxed?"audio":"video"}),xt&&xt.length&&O(a,xt),ve(null,a,{})};Mo({action:"probeMp4StartTime",timescales:a.map.timescales,data:we,transmuxer:a.transmuxer,callback:function(xt){var wt=xt.data,$t=xt.startTime;s=wt.buffer,a.bytes=we=wt,st.hasAudio&&!st.isMuxed&&i(a,"audio","start",$t),st.hasVideo&&i(a,"video","start",$t),Se.video&&wt.byteLength&&a.transmuxer?Mo({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:a.transmuxer,data:we,timescales:a.map.timescales,trackIds:[Se.video.id],callback:function(Lt){s=Lt.data.buffer,a.bytes=we=Lt.data,Lt.logs.forEach(function(kt){Me(et.mergeOptions(kt,{stream:"mp4CaptionParser"}))}),it(Lt.captions)}}):it()}})}else{if(a.transmuxer)return void 0===a.container&&(a.container=It(we)),"ts"!==a.container&&"aac"!==a.container?(n(a,{hasAudio:!1,hasVideo:!1}),void ve(null,a,{})):void Il({segment:a,bytes:s,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:m,id3Fn:E,captionsFn:O,isEndOfTimeline:R,endedTimelineFn:X,dataFn:Q,doneFn:ve,onTransmuxerLog:Me});ve(null,a,{})}},Tu=function(o,a){var E,s=o.id,n=o.key,i=o.encryptedBytes,c=o.decryptionWorker;c.addEventListener("message",function O(R){if(R.data.source===s){c.removeEventListener("message",O);var X=R.data.decrypted;a(new Uint8Array(X.bytes,X.byteOffset,X.byteLength))}}),E=n.bytes.slice?n.bytes.slice():new Uint32Array(Array.prototype.slice.call(n.bytes)),c.postMessage(hp({source:s,encrypted:i,key:E,iv:n.iv}),[i.buffer,E.buffer])},eh=function(o){var a=o.xhr,s=o.xhrOptions,i=o.segment,c=o.abortFn,m=o.progressFn,E=o.trackInfoFn,O=o.timingInfoFn,R=o.videoSegmentTimingInfoFn,X=o.audioSegmentTimingInfoFn,Q=o.id3Fn,ve=o.captionsFn,Me=o.isEndOfTimeline,we=o.endedTimelineFn,Se=o.dataFn,bt=[],xt=function(o){var a=o.activeXhrs,s=o.decryptionWorker,n=o.trackInfoFn,i=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,m=o.audioSegmentTimingInfoFn,E=o.id3Fn,O=o.captionsFn,R=o.isEndOfTimeline,X=o.endedTimelineFn,Q=o.dataFn,ve=o.doneFn,Me=o.onTransmuxerLog,we=0,Se=!1;return function(st,it){if(!Se){if(st)return Se=!0,ia(a),ve(st,it);if((we+=1)===a.length){var bt=function(){if(it.encryptedBytes)return function(o){var s=o.segment,n=o.trackInfoFn,i=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,m=o.audioSegmentTimingInfoFn,E=o.id3Fn,O=o.captionsFn,R=o.isEndOfTimeline,X=o.endedTimelineFn,Q=o.dataFn,ve=o.doneFn,Me=o.onTransmuxerLog;Tu({id:s.requestId,key:s.key,encryptedBytes:s.encryptedBytes,decryptionWorker:o.decryptionWorker},function(we){s.bytes=we,Vr({segment:s,bytes:s.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:m,id3Fn:E,captionsFn:O,isEndOfTimeline:R,endedTimelineFn:X,dataFn:Q,doneFn:ve,onTransmuxerLog:Me})})}({decryptionWorker:s,segment:it,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:m,id3Fn:E,captionsFn:O,isEndOfTimeline:R,endedTimelineFn:X,dataFn:Q,doneFn:ve,onTransmuxerLog:Me});Vr({segment:it,bytes:it.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:m,id3Fn:E,captionsFn:O,isEndOfTimeline:R,endedTimelineFn:X,dataFn:Q,doneFn:ve,onTransmuxerLog:Me})};if(it.endOfAllRequests=Date.now(),it.map&&it.map.encryptedBytes&&!it.map.bytes)return Tu({decryptionWorker:s,id:it.requestId+"-init",encryptedBytes:it.map.encryptedBytes,key:it.map.key},function(xt){it.map.bytes=xt,ts(it,function(wt){if(wt)return ia(a),ve(wt,it);bt()})});bt()}}}}({activeXhrs:bt,decryptionWorker:o.decryptionWorker,trackInfoFn:E,timingInfoFn:O,videoSegmentTimingInfoFn:R,audioSegmentTimingInfoFn:X,id3Fn:Q,captionsFn:ve,isEndOfTimeline:Me,endedTimelineFn:we,dataFn:Se,doneFn:o.doneFn,onTransmuxerLog:o.onTransmuxerLog});if(i.key&&!i.key.bytes){var wt=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&wt.push(i.map.key);var Lt=a(et.mergeOptions(s,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),lr(i,wt,xt));bt.push(Lt)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){var Qr=a(et.mergeOptions(s,{uri:i.map.key.resolvedUri,responseType:"arraybuffer"}),lr(i,[i.map.key],xt));bt.push(Qr)}var ri=et.mergeOptions(s,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:qf(i.map)}),ii=function(o){var a=o.segment,s=o.finishProcessingFn;return function(n,i){var c=Ln(n,i);if(c)return s(c,a);var m=new Uint8Array(i.response);if(a.map.key)return a.map.encryptedBytes=m,s(null,a);a.map.bytes=m,ts(a,function(E){if(E)return E.xhr=i,E.status=i.status,s(E,a);s(null,a)})}}({segment:i,finishProcessingFn:xt}),Cr=a(ri,ii);bt.push(Cr)}var Uc=et.mergeOptions(s,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:qf(i)}),ko=a(Uc,function(o){var a=o.segment,s=o.finishProcessingFn,n=o.responseType;return function(i,c){var m=Ln(i,c);if(m)return s(m,a);var E="arraybuffer"!==n&&c.responseText?function(o){for(var a=new Uint8Array(new ArrayBuffer(o.length)),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return a.buffer}(c.responseText.substring(a.lastReachedChar||0)):c.response;return a.stats=function(o){return{bandwidth:o.bandwidth,bytesReceived:o.bytesReceived||0,roundTripTime:o.roundTripTime||0}}(c),a.key?a.encryptedBytes=new Uint8Array(E):a.bytes=new Uint8Array(E),s(null,a)}}({segment:i,finishProcessingFn:xt,responseType:Uc.responseType}));ko.addEventListener("progress",function(o){var a=o.segment,s=o.progressFn;return function(n){if(!n.target.aborted)return a.stats=et.mergeOptions(a.stats,function(o){var a=o.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-a.requestTime||0};return n.bytesReceived=o.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(n)),!a.stats.firstBytesReceivedAt&&a.stats.bytesReceived&&(a.stats.firstBytesReceivedAt=Date.now()),s(n,a)}}({segment:i,progressFn:m,trackInfoFn:E,timingInfoFn:O,videoSegmentTimingInfoFn:R,audioSegmentTimingInfoFn:X,id3Fn:Q,captionsFn:ve,isEndOfTimeline:Me,endedTimelineFn:we,dataFn:Se})),bt.push(ko);var ns={};return bt.forEach(function(ua){ua.addEventListener("loadend",function(o){var a=o.loadendState,s=o.abortFn;return function(n){n.target.aborted&&s&&!a.calledAbortFn&&(s(),a.calledAbortFn=!0)}}({loadendState:ns,abortFn:c}))}),function(){return ia(bt)}},ov=us("CodecUtils"),vp=function(o,a){var s=a.attributes||{};return o&&o.mediaGroups&&o.mediaGroups.AUDIO&&s.AUDIO&&o.mediaGroups.AUDIO[s.AUDIO]},th=function(o){var a={};return o.forEach(function(s){var n=s.mediaType,i=s.type,c=s.details;a[n]=a[n]||[],a[n].push(Qt(""+i+c))}),Object.keys(a).forEach(function(s){if(a[s].length>1)return ov("multiple "+s+" codecs found as attributes: "+a[s].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(a[s]=null);a[s]=a[s][0]}),a},nh=function(o){var a=0;return o.audio&&a++,o.video&&a++,a},rh=function(o,a){var s=a.attributes||{},n=th(function(o){var a=o.attributes||{};if(a.CODECS)return fn(a.CODECS)}(a)||[]);if(vp(o,a)&&!n.audio&&!function(o,a){if(!vp(o,a))return!0;var n=o.mediaGroups.AUDIO[(a.attributes||{}).AUDIO];for(var i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1}(o,a)){var i=th(function(o,a){if(!o.mediaGroups.AUDIO||!a)return null;var s=o.mediaGroups.AUDIO[a];if(!s)return null;for(var n in s){var i=s[n];if(i.default&&i.playlists)return fn(i.playlists[0].attributes.CODECS)}return null}(o,s.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},ih=us("PlaylistSelector"),t_=function(o){if(o&&o.playlist){var a=o.playlist;return JSON.stringify({id:a.id,bandwidth:o.bandwidth,width:o.width,height:o.height,codecs:a.attributes&&a.attributes.CODECS||""})}},sh=function(o,a){if(!o)return"";var s=z().getComputedStyle(o);return s?s[a]:""},Fc=function(o,a){var s=o.slice();o.sort(function(n,i){var c=a(n,i);return 0===c?s.indexOf(n)-s.indexOf(i):c})},Ig=function(o,a){var s,n;return o.attributes.BANDWIDTH&&(s=o.attributes.BANDWIDTH),s=s||z().Number.MAX_VALUE,a.attributes.BANDWIDTH&&(n=a.attributes.BANDWIDTH),s-(n||z().Number.MAX_VALUE)},uv=function(o,a,s,n,i,c){if(o){var m={bandwidth:a,width:s,height:n,limitRenditionByPlayerDimensions:i},E=o.playlists;Vs.isAudioOnly(o)&&(E=c.getAudioTrackPlaylists_(),m.audioOnly=!0);var O=E.map(function(Yt){var Qr=Yt.attributes&&Yt.attributes.RESOLUTION&&Yt.attributes.RESOLUTION.width,ri=Yt.attributes&&Yt.attributes.RESOLUTION&&Yt.attributes.RESOLUTION.height;return{bandwidth:Yt.attributes&&Yt.attributes.BANDWIDTH||z().Number.MAX_VALUE,width:Qr,height:ri,playlist:Yt}});Fc(O,function(Yt,pr){return Yt.bandwidth-pr.bandwidth});var R=(O=O.filter(function(Yt){return!Vs.isIncompatible(Yt.playlist)})).filter(function(Yt){return Vs.isEnabled(Yt.playlist)});R.length||(R=O.filter(function(Yt){return!Vs.isDisabled(Yt.playlist)}));var X=R.filter(function(Yt){return Yt.bandwidth*Te.BANDWIDTH_VARIANCE<a}),Q=X[X.length-1],ve=X.filter(function(Yt){return Yt.bandwidth===Q.bandwidth})[0];if(!1===i){var Me=ve||R[0]||O[0];if(Me&&Me.playlist){var we="sortedPlaylistReps";return ve&&(we="bandwidthBestRep"),R[0]&&(we="enabledPlaylistReps"),ih("choosing "+t_(Me)+" using "+we+" with options",m),Me.playlist}return ih("could not choose a playlist with options",m),null}var Se=X.filter(function(Yt){return Yt.width&&Yt.height});Fc(Se,function(Yt,pr){return Yt.width-pr.width});var st=Se.filter(function(Yt){return Yt.width===s&&Yt.height===n});Q=st[st.length-1];var bt,xt,wt,$t,it=st.filter(function(Yt){return Yt.bandwidth===Q.bandwidth})[0];if(it||(xt=(bt=Se.filter(function(Yt){return Yt.width>s||Yt.height>n})).filter(function(Yt){return Yt.width===bt[0].width&&Yt.height===bt[0].height}),Q=xt[xt.length-1],wt=xt.filter(function(Yt){return Yt.bandwidth===Q.bandwidth})[0]),c.experimentalLeastPixelDiffSelector){var Jt=Se.map(function(Yt){return Yt.pixelDiff=Math.abs(Yt.width-s)+Math.abs(Yt.height-n),Yt});Fc(Jt,function(Yt,pr){return Yt.pixelDiff===pr.pixelDiff?pr.bandwidth-Yt.bandwidth:Yt.pixelDiff-pr.pixelDiff}),$t=Jt[0]}var Lt=$t||wt||it||ve||R[0]||O[0];if(Lt&&Lt.playlist){var kt="sortedPlaylistReps";return $t?kt="leastPixelDiffRep":wt?kt="resolutionPlusOneRep":it?kt="resolutionBestRep":ve?kt="bandwidthBestRep":R[0]&&(kt="enabledPlaylistReps"),ih("choosing "+t_(Lt)+" using "+kt+" with options",m),Lt.playlist}return ih("could not choose a playlist with options",m),null}},cv=function(){var o=this.useDevicePixelRatio&&z().devicePixelRatio||1;return uv(this.playlists.master,this.systemBandwidth,parseInt(sh(this.tech_.el(),"width"),10)*o,parseInt(sh(this.tech_.el(),"height"),10)*o,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Ud=function(o,a,s){var n,i;if(s&&s.cues)for(n=s.cues.length;n--;)(i=s.cues[n]).startTime>=o&&i.endTime<=a&&s.removeCue(i)},Ng=function(o){return"number"==typeof o&&isFinite(o)},yp=1/60,Vd=function(o){var a=o.startOfSegment,s=o.duration,n=o.segment,i=o.part,c=o.playlist,m=c.mediaSequence,E=c.id,O=c.segments,X=o.mediaIndex,Q=o.partIndex,ve=o.timeline,Me=(void 0===O?[]:O).length-1,we="mediaIndex/partIndex increment";o.getMediaInfoForTime?we="getMediaInfoForTime ("+o.getMediaInfoForTime+")":o.isSyncRequest&&(we="getSyncSegmentCandidate (isSyncRequest)"),o.independent&&(we+=" with independent "+o.independent);var Se="number"==typeof Q,st=o.segment.uri?"segment":"pre-segment",it=Se?Uf({preloadSegment:n})-1:0;return st+" ["+(m+X)+"/"+(m+Me)+"]"+(Se?" part ["+Q+"/"+it+"]":"")+" segment start/end ["+n.start+" => "+n.end+"]"+(Se?" part start/end ["+i.start+" => "+i.end+"]":"")+" startOfSegment ["+a+"] duration ["+s+"] timeline ["+ve+"] selected by ["+we+"] playlist ["+E+"]"},pv=function(o){return o+"TimingInfo"},Fg=function(o){var a=o.timelineChangeController,n=o.segmentTimeline,i=o.loaderType,c=o.audioDisabled;if(o.currentTimeline===n)return!1;if("audio"===i){var m=a.lastTimelineChange({type:"main"});return!m||m.to!==n}if("main"===i&&c){var E=a.pendingTimelineChange({type:"audio"});return!(E&&E.to===n)}return!1},gv=function(o){var a=o.segmentDuration,s=o.maxDuration;return!!a&&Math.round(a)>s+Al},ah=function(p){function o(s,n){var i;if(i=p.call(this)||this,!s)throw new TypeError("Initialization settings are required");if("function"!=typeof s.currentTime)throw new TypeError("No currentTime getter specified");if(!s.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=s.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.partIndex=null,i.hasPlayed_=s.hasPlayed,i.currentTime_=s.currentTime,i.seekable_=s.seekable,i.seeking_=s.seeking,i.duration_=s.duration,i.mediaSource_=s.mediaSource,i.vhs_=s.vhs,i.loaderType_=s.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=s.segmentMetadataTrack,i.goalBufferLength_=s.goalBufferLength,i.sourceType_=s.sourceType,i.sourceUpdater_=s.sourceUpdater,i.inbandTextTracks_=s.inbandTextTracks,i.state_="INIT",i.timelineChangeController_=s.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.parse708captions_=s.parse708captions,i.captionServices_=s.captionServices,i.experimentalExactManifestTimings=s.experimentalExactManifestTimings,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=et.browser.IE_VERSION>=11,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=s.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=s.decrypter,i.syncController_=s.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",function(){i.isEndOfStream_()||(i.ended_=!1)}),i.fetchAtBuffer_=!1,i.logger_=us("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(ue(i),"state",{get:function(){return this.state_},set:function(m){m!==this.state_&&(this.logger_(this.state_+" -> "+m),this.state_=m,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),i}j(o,p);var a=o.prototype;return a.createTransmuxer_=function(){return function(o){var a=new sn;a.currentTransmux=null,a.transmuxQueue=[];var s=a.terminate;return a.terminate=function(){return a.currentTransmux=null,a.transmuxQueue.length=0,s.call(a)},a.postMessage({action:"init",options:o}),a}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},a.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},a.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&z().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},a.setAudio=function(n){this.audioDisabled_=!n,n?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},a.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},a.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,z().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},a.checkForAbort_=function(n){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==n:(this.state="READY",!0)},a.error=function(n){return void 0!==n&&(this.logger_("error occurred:",n),this.error_=n),this.pendingSegment_=null,this.error_},a.endOfStream=function(){this.ended_=!0,this.transmuxer_&&na_reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},a.buffered_=function(){var n=this.getMediaInfo_();if(!this.sourceUpdater_||!n)return et.createTimeRanges();if("main"===this.loaderType_){var c=n.hasVideo;if(c&&n.hasAudio&&!this.audioDisabled_&&!n.isMuxed)return this.sourceUpdater_.buffered();if(c)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},a.initSegmentForMap=function(n,i){if(void 0===i&&(i=!1),!n)return null;var c=Ld(n),m=this.initSegments_[c];return i&&!m&&n.bytes&&(this.initSegments_[c]=m={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,tracks:n.tracks,timescales:n.timescales}),m||n},a.segmentKey=function(n,i){if(void 0===i&&(i=!1),!n)return null;var c=Nn(n),m=this.keyCache_[c];this.cacheEncryptionKeys_&&i&&!m&&n.bytes&&(this.keyCache_[c]=m={resolvedUri:n.resolvedUri,bytes:n.bytes});var E={resolvedUri:(m||n).resolvedUri};return m&&(E.bytes=m.bytes),E},a.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},a.load=function(){if(this.monitorBuffer_(),this.playlist_){if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},a.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},a.playlist=function(n,i){if(void 0===i&&(i={}),n){var c=this.playlist_,m=this.pendingSegment_;this.playlist_=n,this.xhrOptions_=i,"INIT"===this.state&&(n.syncInfo={mediaSequence:n.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(n));var E=null;if(c&&(c.id?E=c.id:c.uri&&(E=c.uri)),this.logger_("playlist update ["+E+" => "+(n.id||n.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!c||c.uri!==n.uri)return null!==this.mediaIndex&&(n.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var O=n.mediaSequence-c.mediaSequence;if(this.logger_("live window shift ["+O+"]"),null!==this.mediaIndex)if(this.mediaIndex-=O,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var R=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!R.parts||!R.parts.length||!R.parts[this.partIndex])){var X=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=X}}m&&(m.mediaIndex-=O,m.mediaIndex<0?(m.mediaIndex=null,m.partIndex=null):(m.mediaIndex>=0&&(m.segment=n.segments[m.mediaIndex]),m.partIndex>=0&&m.segment.parts&&(m.part=m.segment.parts[m.partIndex]))),this.syncController_.saveExpiredSegmentInfo(c,n)}},a.pause=function(){this.checkBufferTimeout_&&(z().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},a.paused=function(){return null===this.checkBufferTimeout_},a.resetEverything=function(n){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,n),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},a.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},a.resyncLoader=function(){this.transmuxer_&&na_reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},a.remove=function(n,i,c,m){if(void 0===c&&(c=function(){}),void 0===m&&(m=!1),i===1/0&&(i=this.duration_()),i<=n)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var E=1,O=function(){0==--E&&c()};for(var R in(m||!this.audioDisabled_)&&(E++,this.sourceUpdater_.removeAudio(n,i,O)),(m||"main"===this.loaderType_)&&(this.gopBuffer_=function(o,a,s,n){for(var i=Math.ceil((a-n)*Gt.ONE_SECOND_IN_TS),c=Math.ceil((s-n)*Gt.ONE_SECOND_IN_TS),m=o.slice(),E=o.length;E--&&!(o[E].pts<=c););if(-1===E)return m;for(var O=E+1;O--&&!(o[O].pts<=i););return O=Math.max(O,0),m.splice(O,E-O+1),m}(this.gopBuffer_,n,i,this.timeMapping_),E++,this.sourceUpdater_.removeVideo(n,i,O)),this.inbandTextTracks_)Ud(n,i,this.inbandTextTracks_[R]);Ud(n,i,this.segmentMetadataTrack_),O()}else this.logger_("skipping remove because no source updater or starting media info")},a.monitorBuffer_=function(){this.checkBufferTimeout_&&z().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=z().setTimeout(this.monitorBufferTick_.bind(this),1)},a.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&z().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=z().setTimeout(this.monitorBufferTick_.bind(this),500)},a.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var n=this.chooseNextRequest_();!n||("number"==typeof n.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline})),this.loadSegment_(n))}},a.isEndOfStream_=function(n,i,c){if(void 0===n&&(n=this.mediaIndex),void 0===i&&(i=this.playlist_),void 0===c&&(c=this.partIndex),!i||!this.mediaSource_)return!1;var m="number"==typeof n&&i.segments[n];return i.endList&&"open"===this.mediaSource_.readyState&&n+1===i.segments.length&&(!m||!m.parts||c+1===m.parts.length)},a.chooseNextRequest_=function(){var n=this.buffered_(),i=Nf(n)||0,c=Lf(n,this.currentTime_()),m=!this.hasPlayed_()&&c>=1,E=c>=this.goalBufferLength_(),O=this.playlist_.segments;if(!O.length||m||E)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var R={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(R.isSyncRequest)R.mediaIndex=function(o,a,s){a=a||[];for(var n=[],i=0,c=0;c<a.length;c++){var m=a[c];if(o===m.timeline&&(n.push(c),(i+=m.duration)>s))return c}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,O,i);else if(null!==this.mediaIndex){var X=O[this.mediaIndex],Q="number"==typeof this.partIndex?this.partIndex:-1;R.startOfSegment=X.end?X.end:i,X.parts&&X.parts[Q+1]?(R.mediaIndex=this.mediaIndex,R.partIndex=Q+1):R.mediaIndex=this.mediaIndex+1}else{var ve=Vs.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?i:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),Me=ve.segmentIndex,we=ve.startTime,Se=ve.partIndex;R.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+i:"currentTime "+this.currentTime_(),R.mediaIndex=Me,R.startOfSegment=we,R.partIndex=Se}var st=O[R.mediaIndex],it=st&&"number"==typeof R.partIndex&&st.parts&&st.parts[R.partIndex];if(!st||"number"==typeof R.partIndex&&!it)return null;if("number"!=typeof R.partIndex&&st.parts&&(R.partIndex=0,it=st.parts[0]),!c&&it&&!it.independent)if(0===R.partIndex){var bt=O[R.mediaIndex-1],xt=bt.parts&&bt.parts.length&&bt.parts[bt.parts.length-1];xt&&xt.independent&&(R.mediaIndex-=1,R.partIndex=bt.parts.length-1,R.independent="previous segment")}else st.parts[R.partIndex-1].independent&&(R.partIndex-=1,R.independent="previous part");return R.mediaIndex>=O.length-1&&this.mediaSource_&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?null:this.generateSegmentInfo_(R)},a.generateSegmentInfo_=function(n){var i=n.independent,c=n.playlist,m=n.mediaIndex,E=n.startOfSegment,O=n.isSyncRequest,R=n.partIndex,X=n.forceTimestampOffset,Q=n.getMediaInfoForTime,ve=c.segments[m],Me="number"==typeof R&&ve.parts[R],we={requestId:"segment-loader-"+Math.random(),uri:Me&&Me.resolvedUri||ve.resolvedUri,mediaIndex:m,partIndex:Me?R:null,isSyncRequest:O,startOfSegment:E,playlist:c,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:ve.timeline,duration:Me&&Me.duration||ve.duration,segment:ve,part:Me,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:Q,independent:i},Se=void 0!==X?X:this.isPendingTimestampOffset_;we.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:ve.timeline,currentTimeline:this.currentTimeline_,startOfSegment:E,buffered:this.buffered_(),overrideCheck:Se});var st=Nf(this.sourceUpdater_.audioBuffered());return"number"==typeof st&&(we.audioAppendStart=st-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(we.gopsToAlignWith=function(o,a,s){if(null==a||!o.length)return[];var i,n=Math.ceil((a-s+3)*Gt.ONE_SECOND_IN_TS);for(i=0;i<o.length&&!(o[i].pts>n);i++);return o.slice(i)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),we},a.timestampOffsetForSegment_=function(n){return function(o){var a=o.segmentTimeline,s=o.currentTimeline,n=o.startOfSegment,i=o.buffered;return o.overrideCheck||a!==s?a<s?n:i.length?i.end(i.length-1):n:null}(n)},a.earlyAbortWhenNeeded_=function(n){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)){var i=this.currentTime_(),c=n.bandwidth,m=this.pendingSegment_.duration,E=Vs.estimateSegmentRequestTime(m,c,this.playlist_,n.bytesReceived),O=function(o,a,s){return void 0===s&&(s=1),((o.length?o.end(o.length-1):0)-a)/s}(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(!(E<=O)){var R=function(o){var s=o.currentTime,n=o.bandwidth,i=o.duration,c=o.segmentDuration,m=o.timeUntilRebuffer,E=o.currentTimeline,O=o.syncController,R=o.master.playlists.filter(function(we){return!Vs.isIncompatible(we)}),X=R.filter(Vs.isEnabled);X.length||(X=R.filter(function(we){return!Vs.isDisabled(we)}));var ve=X.filter(Vs.hasAttribute.bind(null,"BANDWIDTH")).map(function(we){var st=O.getSyncPoint(we,i,E,s)?1:2;return{playlist:we,rebufferingImpact:Vs.estimateSegmentRequestTime(c,n,we)*st-m}}),Me=ve.filter(function(we){return we.rebufferingImpact<=0});return Fc(Me,function(we,Se){return Ig(Se.playlist,we.playlist)}),Me.length?Me[0]:(Fc(ve,function(we,Se){return we.rebufferingImpact-Se.rebufferingImpact}),ve[0]||null)}({master:this.vhs_.playlists.master,currentTime:i,bandwidth:c,duration:this.duration_(),segmentDuration:m,timeUntilRebuffer:O,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(R){var ve=.5;O<=Al&&(ve=1),R.playlist&&R.playlist.uri!==this.playlist_.uri&&!(E-O-R.rebufferingImpact<ve)&&(this.bandwidth=R.playlist.attributes.BANDWIDTH*Te.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},a.handleAbort_=function(n){this.logger_("Aborting "+Vd(n)),this.mediaRequestsAborted+=1},a.handleProgress_=function(n,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")},a.handleTrackInfo_=function(n,i){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&(this.checkForIllegalMediaSwitch(i)||(function(o,a){if(!o&&!a||!o&&a||o&&!a)return!1;if(o===a)return!0;var s=Object.keys(o).sort(),n=Object.keys(a).sort();if(s.length!==n.length)return!1;for(var i=0;i<s.length;i++){var c=s[i];if(c!==n[i]||o[c]!==a[c])return!1}return!0}(this.currentMediaInfo_,i=i||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(n.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},a.handleTimingInfo_=function(n,i,c,m){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var E=this.pendingSegment_,O=pv(i);E[O]=E[O]||{},E[O][c]=m,this.logger_("timinginfo: "+i+" - "+c+" - "+m),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},a.handleCaptions_=function(n,i){var c=this;if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(0===i.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,n,i));var E=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),O={};i.forEach(function(R){O[R.stream]=O[R.stream]||{startTime:1/0,captions:[],endTime:0};var X=O[R.stream];X.startTime=Math.min(X.startTime,R.startTime+E),X.endTime=Math.max(X.endTime,R.endTime+E),X.captions.push(R)}),Object.keys(O).forEach(function(R){var X=O[R],Q=X.startTime,ve=X.endTime,Me=X.captions,we=c.inbandTextTracks_;c.logger_("adding cues from "+Q+" -> "+ve+" for "+R),function(o,a,s){if(!o[s]){a.trigger({type:"usage",name:"vhs-608"}),a.trigger({type:"usage",name:"hls-608"});var n=s;/^cc708_/.test(s)&&(n="SERVICE"+s.split("_")[1]);var i=a.textTracks().getTrackById(n);if(i)o[s]=i;else{var m=s,E=s,O=!1,R=(a.options_.vhs&&a.options_.vhs.captionServices||{})[n];R&&(m=R.label,E=R.language,O=R.default),o[s]=a.addRemoteTextTrack({kind:"captions",id:n,default:O,label:m,language:E},!1).track}}}(we,c.vhs_.tech_,R),Ud(Q,ve,we[R]),function(o){var a=o.inbandTextTracks,s=o.captionArray,n=o.timestampOffset;if(s){var i=z().WebKitDataCue||z().VTTCue;s.forEach(function(c){a[c.stream].addCue(new i(c.startTime+n,c.endTime+n,c.text))})}}({captionArray:Me,inbandTextTracks:we,timestampOffset:E})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},a.handleId3_=function(n,i,c){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.id3.push(this.handleId3_.bind(this,n,i,c));var E=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();(function(o,a,s){o.metadataTrack_||(o.metadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,o.metadataTrack_.inBandMetadataTrackDispatchType=a)})(this.inbandTextTracks_,c,this.vhs_.tech_),function(o){var a=o.inbandTextTracks,s=o.metadataArray,n=o.timestampOffset,i=o.videoDuration;if(s){var c=z().WebKitDataCue||z().VTTCue,m=a.metadataTrack_;if(m&&(s.forEach(function(ve){var Me=ve.cueTime+n;"number"!=typeof Me||z().isNaN(Me)||Me<0||!(Me<1/0)||ve.frames.forEach(function(we){var Se=new c(Me,Me,we.value||we.url||we.data||"");Se.frame=we,Se.value=we,function(o){Object.defineProperties(o.frame,{id:{get:function(){return et.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),o.value.key}},value:{get:function(){return et.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),o.value.data}},privateData:{get:function(){return et.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),o.value.data}}})}(Se),m.addCue(Se)})}),m.cues&&m.cues.length)){for(var E=m.cues,O=[],R=0;R<E.length;R++)E[R]&&O.push(E[R]);var X=O.reduce(function(ve,Me){var we=ve[Me.startTime]||[];return we.push(Me),ve[Me.startTime]=we,ve},{}),Q=Object.keys(X).sort(function(ve,Me){return Number(ve)-Number(Me)});Q.forEach(function(ve,Me){var we=X[ve],Se=Number(Q[Me+1])||i;we.forEach(function(st){st.endTime=Se})})}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:E,videoDuration:this.duration_()})}},a.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(n){return n()}),this.metadataQueue_.caption.forEach(function(n){return n()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},a.processCallQueue_=function(){var n=this.callQueue_;this.callQueue_=[],n.forEach(function(i){return i()})},a.processLoadQueue_=function(){var n=this.loadQueue_;this.loadQueue_=[],n.forEach(function(i){return i()})},a.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var n=this.pendingSegment_;return!(!n||this.getCurrentMediaInfo_()&&Fg({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},a.getCurrentMediaInfo_=function(n){return void 0===n&&(n=this.pendingSegment_),n&&n.trackInfo||this.currentMediaInfo_},a.getMediaInfo_=function(n){return void 0===n&&(n=this.pendingSegment_),this.getCurrentMediaInfo_(n)||this.startingMediaInfo_},a.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var n=this.pendingSegment_,i=this.getCurrentMediaInfo_();return!(!n||!i||i.hasVideo&&!n.videoTimingInfo||i.hasAudio&&!this.audioDisabled_&&!i.isMuxed&&!n.audioTimingInfo||Fg({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},a.handleData_=function(n,i){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,n,i));var c=this.pendingSegment_;if(this.setTimeMapping_(c.timeline),this.updateMediaSecondsLoaded_(c.part||c.segment),"closed"!==this.mediaSource_.readyState){if(n.map&&(n.map=this.initSegmentForMap(n.map,!0),c.segment.map=n.map),n.key&&this.segmentKey(n.key,!0),c.isFmp4=n.isFmp4,c.timingInfo=c.timingInfo||{},c.isFmp4)this.trigger("fmp4"),c.timingInfo.start=c[pv(i.type)].start;else{var O,m=this.getCurrentMediaInfo_(),E="main"===this.loaderType_&&m&&m.hasVideo;E&&(O=c.videoTimingInfo.start),c.timingInfo.start=this.trueSegmentStart_({currentStart:c.timingInfo.start,playlist:c.playlist,mediaIndex:c.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:E,firstVideoFrameTimeForData:O,videoTimingInfo:c.videoTimingInfo,audioTimingInfo:c.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(c,i.type),this.updateSourceBufferTimestampOffset_(c),c.isSyncRequest){this.updateTimingInfoEnd_(c),this.syncController_.saveSegmentTimingInfo({segmentInfo:c,shouldSaveTimelineMapping:"main"===this.loaderType_});var R=this.chooseNextRequest_();if(R.mediaIndex!==c.mediaIndex||R.partIndex!==c.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}c.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(c,i)}}},a.updateAppendInitSegmentStatus=function(n,i){"main"===this.loaderType_&&"number"==typeof n.timestampOffset&&!n.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==n.playlist&&(this.appendInitSegment_[i]=!0)},a.getInitSegmentAndUpdateState_=function(n){var i=n.type,c=n.initSegment,m=n.map,E=n.playlist;if(m){var O=Ld(m);if(this.activeInitSegmentId_===O)return null;c=this.initSegmentForMap(m,!0).bytes,this.activeInitSegmentId_=O}return c&&this.appendInitSegment_[i]?(this.playlistOfLastInitSegment_[i]=E,this.appendInitSegment_[i]=!1,this.activeInitSegmentId_=null,c):null},a.handleQuotaExceededError_=function(n,i){var c=this,m=n.segmentInfo,E=n.type,O=n.bytes,R=this.sourceUpdater_.audioBuffered(),X=this.sourceUpdater_.videoBuffered();R.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Oo(R).join(", ")),X.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Oo(X).join(", "));var Q=R.length?R.start(0):0,ve=R.length?R.end(R.length-1):0,Me=X.length?X.start(0):0,we=X.length?X.end(X.length-1):0;if(ve-Q<=1&&we-Me<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+O.byteLength+", audio buffer: "+Oo(R).join(", ")+", video buffer: "+Oo(X).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:m,type:E,bytes:O}));var st=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+st),this.remove(0,st,function(){c.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),c.waitingOnRemove_=!1,c.quotaExceededErrorRetryTimeout_=z().setTimeout(function(){c.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),c.quotaExceededErrorRetryTimeout_=null,c.processCallQueue_()},1e3)},!0)},a.handleAppendError_=function(n,i){var c=n.segmentInfo,m=n.type,E=n.bytes;if(i){if(22===i.code)return void this.handleQuotaExceededError_({segmentInfo:c,type:m,bytes:E});this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error(m+" append of "+E.length+"b failed for segment #"+c.mediaIndex+" in playlist "+c.playlist.id),this.trigger("appenderror")}},a.appendToSourceBuffer_=function(n){var i=n.segmentInfo,c=n.type,m=n.initSegment,E=n.data,O=n.bytes;if(!O){var R=[E],X=E.byteLength;m&&(R.unshift(m),X+=m.byteLength),O=function(o){var s,a=0;return o.bytes&&(s=new Uint8Array(o.bytes),o.segments.forEach(function(n){s.set(n,a),a+=n.byteLength})),s}({bytes:X,segments:R})}this.sourceUpdater_.appendBuffer({segmentInfo:i,type:c,bytes:O},this.handleAppendError_.bind(this,{segmentInfo:i,type:c,bytes:O}))},a.handleSegmentTimingInfo_=function(n,i,c){if(this.pendingSegment_&&i===this.pendingSegment_.requestId){var m=this.pendingSegment_.segment,E=n+"TimingInfo";m[E]||(m[E]={}),m[E].transmuxerPrependedSeconds=c.prependedContentDuration||0,m[E].transmuxedPresentationStart=c.start.presentation,m[E].transmuxedDecodeStart=c.start.decode,m[E].transmuxedPresentationEnd=c.end.presentation,m[E].transmuxedDecodeEnd=c.end.decode,m[E].baseMediaDecodeTime=c.baseMediaDecodeTime}},a.appendData_=function(n,i){var c=i.type,m=i.data;if(m&&m.byteLength&&("audio"!==c||!this.audioDisabled_)){var E=this.getInitSegmentAndUpdateState_({type:c,initSegment:i.initSegment,playlist:n.playlist,map:n.isFmp4?n.segment.map:null});this.appendToSourceBuffer_({segmentInfo:n,type:c,initSegment:E,data:m})}},a.loadSegment_=function(n){var i=this;this.state="WAITING",this.pendingSegment_=n,this.trimBackBuffer_(n),"number"==typeof n.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(n):this.loadQueue_.push(function(){var c=ce({},n,{forceTimestampOffset:!0});ce(n,i.generateSegmentInfo_(c)),i.isPendingTimestampOffset_=!1,i.updateTransmuxerAndRequestSegment_(n)})},a.updateTransmuxerAndRequestSegment_=function(n){var i=this;this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset}));var c=this.createSimplifiedSegmentObj_(n),R=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)||null!==this.mediaIndex&&n.timeline!==this.currentTimeline_&&n.timeline>0;this.logger_("Requesting "+Vd(n)),c.map&&!c.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=eh({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:c,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:R,endedTimelineFn:function(){i.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(Q){var ve=Q.message,Me=Q.level,we=Q.stream;i.logger_(Vd(n)+" logged from transmuxer stream "+we+" as a "+Me+": "+ve)}})},a.trimBackBuffer_=function(n){var i=function(o,a,s){var n=a-Te.BACK_BUFFER_LENGTH;return o.length&&(n=Math.max(n,o.start(0))),Math.min(a-s,n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)},a.createSimplifiedSegmentObj_=function(n){var i=n.segment,c=n.part,m={resolvedUri:c?c.resolvedUri:i.resolvedUri,byterange:c?c.byterange:i.byterange,requestId:n.requestId,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,part:n.part},E=n.playlist.segments[n.mediaIndex-1];if(E&&E.timeline===i.timeline&&(E.videoTimingInfo?m.baseStartTime=E.videoTimingInfo.transmuxedDecodeEnd:E.audioTimingInfo&&(m.baseStartTime=E.audioTimingInfo.transmuxedDecodeEnd)),i.key){var O=i.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]);m.key=this.segmentKey(i.key),m.key.iv=O}return i.map&&(m.map=this.initSegmentForMap(i.map)),m},a.saveTransferStats_=function(n){this.mediaRequests+=1,n&&(this.mediaBytesTransferred+=n.bytesReceived,this.mediaTransferDuration+=n.roundTripTime)},a.saveBandwidthRelatedStats_=function(n,i){this.pendingSegment_.byteLength=i.bytesReceived,n<yp?this.logger_("Ignoring segment's bandwidth because its duration of "+n+" is less than the min to record "+yp):(this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime)},a.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},a.segmentRequestFinished_=function(n,i,c){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,n,i,c));else if(this.saveTransferStats_(i.stats),this.pendingSegment_&&i.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",-102===n.code)return;return this.pause(),-101===n.code?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(n),void this.trigger("error"))}var m=this.pendingSegment_;this.saveBandwidthRelatedStats_(m.duration,i.stats),m.endOfAllRequests=i.endOfAllRequests,c.gopInfo&&(this.gopBuffer_=function(o,a,s){if(!a.length)return o;if(s)return a.slice();for(var n=a[0].pts,i=0;i<o.length&&!(o[i].pts>=n);i++);return o.slice(0,i).concat(a)}(this.gopBuffer_,c.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(m)}},a.setTimeMapping_=function(n){var i=this.syncController_.mappingForTimeline(n);null!==i&&(this.timeMapping_=i)},a.updateMediaSecondsLoaded_=function(n){this.mediaSecondsLoaded+="number"==typeof n.start&&"number"==typeof n.end?n.end-n.start:n.duration},a.shouldUpdateTransmuxerTimestampOffset_=function(n){return null!==n&&("main"===this.loaderType_&&n!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&n!==this.sourceUpdater_.audioTimestampOffset())},a.trueSegmentStart_=function(n){var i=n.currentStart,m=n.mediaIndex,E=n.firstVideoFrameTimeForData;if(void 0!==i)return i;if(!n.useVideoTimingInfo)return n.audioTimingInfo.start;var ve=n.playlist.segments[m-1];return 0!==m&&ve&&void 0!==ve.start&&ve.end===E+n.currentVideoTimestampOffset?n.videoTimingInfo.start:E},a.waitForAppendsToComplete_=function(n){var i=this.getCurrentMediaInfo_(n);if(!i)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var O="main"===this.loaderType_&&i.hasVideo,R=!this.audioDisabled_&&i.hasAudio&&!i.isMuxed;if(n.waitingOnAppends=0,!n.hasAppendedData_)return!n.timingInfo&&"number"==typeof n.timestampOffset&&(this.isPendingTimestampOffset_=!0),n.timingInfo={start:0},n.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(n),this.processMetadataQueue_()),void this.checkAppendsDone_(n);O&&n.waitingOnAppends++,R&&n.waitingOnAppends++,O&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,n)),R&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,n))},a.checkAppendsDone_=function(n){this.checkForAbort_(n.requestId)||(n.waitingOnAppends--,0===n.waitingOnAppends&&this.handleAppendsDone_())},a.checkForIllegalMediaSwitch=function(n){var i=function(o,a,s){return"main"===o&&a&&s?s.hasAudio||s.hasVideo?a.hasVideo&&!s.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!a.hasVideo&&s.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),n);return!!i&&(this.error({message:i,blacklistDuration:1/0}),this.trigger("error"),!0)},a.updateSourceBufferTimestampOffset_=function(n){if(null!==n.timestampOffset&&"number"==typeof n.timingInfo.start&&!n.changedTimestampOffset&&"main"===this.loaderType_){var i=!1;n.timestampOffset-=n.timingInfo.start,n.changedTimestampOffset=!0,n.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(n.timestampOffset),i=!0),n.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(n.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}},a.updateTimingInfoEnd_=function(n){n.timingInfo=n.timingInfo||{};var i=this.getMediaInfo_(),m="main"===this.loaderType_&&i&&i.hasVideo&&n.videoTimingInfo?n.videoTimingInfo:n.audioTimingInfo;!m||(n.timingInfo.end="number"==typeof m.end?m.end:m.start+n.duration)},a.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var n=this.pendingSegment_;this.updateTimingInfoEnd_(n),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var i=function(o,a){if("hls"!==a)return null;var s=function(o,a){return Math.max(o&&"number"==typeof o.start&&"number"==typeof o.end?o.end-o.start:0,a&&"number"==typeof a.start&&"number"==typeof a.end?a.end-a.start:0)}(o.audioTimingInfo,o.videoTimingInfo);if(!s)return null;var n=o.playlist.targetDuration,i=gv({segmentDuration:s,maxDuration:2*n}),c=gv({segmentDuration:s,maxDuration:n});return i||c?{severity:i?"warn":"info",message:"Segment with index "+o.mediaIndex+" from playlist "+o.playlist.id+" has a duration of "+s+" when the reported duration is "+o.duration+" and the target duration is "+n+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1"}:null}(n,this.sourceType_);if(i&&("warn"===i.severity?et.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(n),this.pendingSegment_=null,this.state="READY",!n.isSyncRequest||(this.trigger("syncinfoupdate"),n.hasAppendedData_)){this.logger_("Appended "+Vd(n)),this.addSegmentMetadataCue_(n),this.fetchAtBuffer_=!0,this.currentTimeline_!==n.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline}),"main"===this.loaderType_&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:n.timeline})),this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate");var c=n.segment,m=n.part,E=c.end&&this.currentTime_()-c.end>3*n.playlist.targetDuration,O=m&&m.end&&this.currentTime_()-m.end>3*n.playlist.partTargetDuration;if(E||O)return this.logger_("bad "+(E?"segment":"part")+" "+Vd(n)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=n.mediaIndex,this.partIndex=n.partIndex,this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)&&this.endOfStream(),this.trigger("appended"),n.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+Vd(n))},a.recordThroughput_=function(n){if(n.duration<yp)this.logger_("Ignoring segment's throughput because its duration of "+n.duration+" is less than the min to record "+yp);else{var i=this.throughput.rate,c=Date.now()-n.endOfAllRequests+1,m=Math.floor(n.byteLength/c*8*1e3);this.throughput.rate+=(m-i)/++this.throughput.count}},a.addSegmentMetadataCue_=function(n){if(this.segmentMetadataTrack_){var i=n.segment,c=i.start,m=i.end;if(Ng(c)&&Ng(m)){Ud(c,m,this.segmentMetadataTrack_);var E=z().WebKitDataCue||z().VTTCue,O={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.id,start:c,end:m},X=new E(c,m,JSON.stringify(O));X.value=O,this.segmentMetadataTrack_.addCue(X)}}},o}(et.EventTarget);function Eu(){}var xu,mv=function(o){return"string"!=typeof o?o:o.replace(/./,function(a){return a.toUpperCase()})},_p=["video","audio"],lh=function(o,a){var s=a[o+"Buffer"];return s&&s.updating||a.queuePending[o]},uh=function p(o,a){if(0!==a.queue.length){var s=0,n=a.queue[s];if("mediaSource"===n.type)return void(!a.updating()&&"closed"!==a.mediaSource.readyState&&(a.queue.shift(),n.action(a),n.doneFn&&n.doneFn(),p("audio",a),p("video",a)));if("mediaSource"!==o&&a.ready()&&"closed"!==a.mediaSource.readyState&&!lh(o,a)){if(n.type!==o){if(null===(s=function(o,a){for(var s=0;s<a.length;s++){var n=a[s];if("mediaSource"===n.type)return null;if(n.type===o)return s}return null}(o,a.queue)))return;n=a.queue[s]}if(a.queue.splice(s,1),a.queuePending[o]=n,n.action(o,a),!n.doneFn)return a.queuePending[o]=null,void p(o,a)}}},bp=function(o,a){var s=a[o+"Buffer"],n=mv(o);!s||(s.removeEventListener("updateend",a["on"+n+"UpdateEnd_"]),s.removeEventListener("error",a["on"+n+"Error_"]),a.codecs[o]=null,a[o+"Buffer"]=null)},sl=function(o,a){return o&&a&&-1!==Array.prototype.indexOf.call(o.sourceBuffers,a)},aa_appendBuffer=function(o,a,s){return function(n,i){var c=i[n+"Buffer"];if(sl(i.mediaSource,c)){i.logger_("Appending segment "+a.mediaIndex+"'s "+o.length+" bytes to "+n+"Buffer");try{c.appendBuffer(o)}catch(m){i.logger_("Error with code "+m.code+" "+(22===m.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+a.mediaIndex+" to "+n+"Buffer"),i.queuePending[n]=null,s(m)}}}},aa_remove=function(o,a){return function(s,n){var i=n[s+"Buffer"];if(sl(n.mediaSource,i)){n.logger_("Removing "+o+" to "+a+" from "+s+"Buffer");try{i.remove(o,a)}catch(c){n.logger_("Remove "+o+" to "+a+" from "+s+"Buffer failed")}}}},aa_timestampOffset=function(o){return function(a,s){var n=s[a+"Buffer"];!sl(s.mediaSource,n)||(s.logger_("Setting "+a+"timestampOffset to "+o),n.timestampOffset=o)}},aa_callback=function(o){return function(a,s){o()}},aa_endOfStream=function(o){return function(a){if("open"===a.mediaSource.readyState){a.logger_("Calling mediaSource endOfStream("+(o||"")+")");try{a.mediaSource.endOfStream(o)}catch(s){et.log.warn("Failed to call media source endOfStream",s)}}}},aa_duration=function(o){return function(a){a.logger_("Setting mediaSource duration to "+o);try{a.mediaSource.duration=o}catch(s){et.log.warn("Failed to set media source duration",s)}}},aa_addSourceBuffer=function(o,a){return function(s){var n=mv(o),i=oi(a);s.logger_("Adding "+o+"Buffer with codec "+a+" to mediaSource");var c=s.mediaSource.addSourceBuffer(i);c.addEventListener("updateend",s["on"+n+"UpdateEnd_"]),c.addEventListener("error",s["on"+n+"Error_"]),s.codecs[o]=a,s[o+"Buffer"]=c}},aa_removeSourceBuffer=function(o){return function(a){var s=a[o+"Buffer"];if(bp(o,a),sl(a.mediaSource,s)){a.logger_("Removing "+o+"Buffer with codec "+a.codecs[o]+" from mediaSource");try{a.mediaSource.removeSourceBuffer(s)}catch(n){et.log.warn("Failed to removeSourceBuffer "+o+"Buffer",n)}}}},aa_changeType=function(o){return function(a,s){var n=s[a+"Buffer"],i=oi(o);!sl(s.mediaSource,n)||s.codecs[a]!==o&&(s.logger_("changing "+a+"Buffer codec from "+s.codecs[a]+" to "+o),n.changeType(i),s.codecs[a]=o)}},la=function(o){var a=o.type,s=o.sourceUpdater;s.queue.push({type:a,action:o.action,doneFn:o.doneFn,name:o.name}),uh(a,s)},Cp=function(o,a){return function(s){if(a.queuePending[o]){var n=a.queuePending[o].doneFn;a.queuePending[o]=null,n&&n(a[o+"Error_"])}uh(o,a)}},h_=function(p){function o(s){var n;return(n=p.call(this)||this).mediaSource=s,n.sourceopenListener_=function(){return uh("mediaSource",ue(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=us("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Cp("video",ue(n)),n.onAudioUpdateEnd_=Cp("audio",ue(n)),n.onVideoError_=function(i){n.videoError_=i},n.onAudioError_=function(i){n.audioError_=i},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}j(o,p);var a=o.prototype;return a.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},a.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},a.hasInitializedAnyEme=function(){return this.initializedEme_},a.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},a.createSourceBuffers=function(n){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(n),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},a.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},a.addSourceBuffer=function(n,i){la({type:"mediaSource",sourceUpdater:this,action:aa_addSourceBuffer(n,i),name:"addSourceBuffer"})},a.abort=function(n){la({type:n,sourceUpdater:this,action:function(o,a){if("open"===a.mediaSource.readyState){var s=a[o+"Buffer"];if(sl(a.mediaSource,s)){a.logger_("calling abort on "+o+"Buffer");try{s.abort()}catch(n){et.log.warn("Failed to abort on "+o+"Buffer",n)}}}},name:"abort"})},a.removeSourceBuffer=function(n){this.canRemoveSourceBuffer()?la({type:"mediaSource",sourceUpdater:this,action:aa_removeSourceBuffer(n),name:"removeSourceBuffer"}):et.log.error("removeSourceBuffer is not supported!")},a.canRemoveSourceBuffer=function(){return!et.browser.IE_VERSION&&!et.browser.IS_FIREFOX&&z().MediaSource&&z().MediaSource.prototype&&"function"==typeof z().MediaSource.prototype.removeSourceBuffer},o.canChangeType=function(){return z().SourceBuffer&&z().SourceBuffer.prototype&&"function"==typeof z().SourceBuffer.prototype.changeType},a.canChangeType=function(){return this.constructor.canChangeType()},a.changeType=function(n,i){this.canChangeType()?la({type:n,sourceUpdater:this,action:aa_changeType(i),name:"changeType"}):et.log.error("changeType is not supported!")},a.addOrChangeSourceBuffers=function(n){var i=this;if(!n||"object"!=typeof n||0===Object.keys(n).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(n).forEach(function(c){var m=n[c];if(!i.hasCreatedSourceBuffers())return i.addSourceBuffer(c,m);i.canChangeType()&&i.changeType(c,m)})},a.appendBuffer=function(n,i){var c=this,m=n.segmentInfo,E=n.type,O=n.bytes;if(this.processedAppend_=!0,"audio"===E&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([n,i]),void this.logger_("delayed audio append of "+O.length+" until video append");if(la({type:E,sourceUpdater:this,action:aa_appendBuffer(O,m||{mediaIndex:-1},i),doneFn:i,name:"appendBuffer"}),"video"===E){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var X=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+X.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,X.forEach(function(Q){c.appendBuffer.apply(c,Q)})}},a.audioBuffered=function(){return sl(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:et.createTimeRange()},a.videoBuffered=function(){return sl(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:et.createTimeRange()},a.buffered=function(){var n=sl(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=sl(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!n?this.audioBuffered():n&&!i?this.videoBuffered():function(o,a){var s=null,n=null,i=0,c=[],m=[];if(!(o&&o.length&&a&&a.length))return et.createTimeRange();for(var E=o.length;E--;)c.push({time:o.start(E),type:"start"}),c.push({time:o.end(E),type:"end"});for(E=a.length;E--;)c.push({time:a.start(E),type:"start"}),c.push({time:a.end(E),type:"end"});for(c.sort(function(O,R){return O.time-R.time}),E=0;E<c.length;E++)"start"===c[E].type?2==++i&&(s=c[E].time):"end"===c[E].type&&1==--i&&(n=c[E].time),null!==s&&null!==n&&(m.push([s,n]),s=null,n=null);return et.createTimeRanges(m)}(this.audioBuffered(),this.videoBuffered())},a.setDuration=function(n,i){void 0===i&&(i=Eu),la({type:"mediaSource",sourceUpdater:this,action:aa_duration(n),name:"duration",doneFn:i})},a.endOfStream=function(n,i){void 0===n&&(n=null),void 0===i&&(i=Eu),"string"!=typeof n&&(n=void 0),la({type:"mediaSource",sourceUpdater:this,action:aa_endOfStream(n),name:"endOfStream",doneFn:i})},a.removeAudio=function(n,i,c){void 0===c&&(c=Eu),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?la({type:"audio",sourceUpdater:this,action:aa_remove(n,i),doneFn:c,name:"remove"}):c()},a.removeVideo=function(n,i,c){void 0===c&&(c=Eu),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?la({type:"video",sourceUpdater:this,action:aa_remove(n,i),doneFn:c,name:"remove"}):c()},a.updating=function(){return!(!lh("audio",this)&&!lh("video",this))},a.audioTimestampOffset=function(n){return void 0!==n&&this.audioBuffer&&this.audioTimestampOffset_!==n&&(la({type:"audio",sourceUpdater:this,action:aa_timestampOffset(n),name:"timestampOffset"}),this.audioTimestampOffset_=n),this.audioTimestampOffset_},a.videoTimestampOffset=function(n){return void 0!==n&&this.videoBuffer&&this.videoTimestampOffset!==n&&(la({type:"video",sourceUpdater:this,action:aa_timestampOffset(n),name:"timestampOffset"}),this.videoTimestampOffset_=n),this.videoTimestampOffset_},a.audioQueueCallback=function(n){!this.audioBuffer||la({type:"audio",sourceUpdater:this,action:aa_callback(n),name:"callback"})},a.videoQueueCallback=function(n){!this.videoBuffer||la({type:"video",sourceUpdater:this,action:aa_callback(n),name:"callback"})},a.dispose=function(){var n=this;this.trigger("dispose"),_p.forEach(function(i){n.abort(i),n.canRemoveSourceBuffer()?n.removeSourceBuffer(i):n[i+"QueueCallback"](function(){return bp(i,n)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},o}(et.EventTarget),vv=function(o){return decodeURIComponent(escape(String.fromCharCode.apply(null,o)))},Bg=new Uint8Array("\n\n".split("").map(function(p){return p.charCodeAt(0)})),yv=function(p){function o(s,n){var i;return void 0===n&&(n={}),(i=p.call(this,s,n)||this).mediaSource_=null,i.subtitlesTrack_=null,i.loaderType_="subtitle",i.featuresNativeTextTracks_=s.featuresNativeTextTracks,i.shouldSaveSegmentTimingInfo_=!1,i}j(o,p);var a=o.prototype;return a.createTransmuxer_=function(){return null},a.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return et.createTimeRanges();var n=this.subtitlesTrack_.cues;return et.createTimeRanges([[n[0].startTime,n[n.length-1].startTime]])},a.initSegmentForMap=function(n,i){if(void 0===i&&(i=!1),!n)return null;var c=Ld(n),m=this.initSegments_[c];if(i&&!m&&n.bytes){var O=new Uint8Array(Bg.byteLength+n.bytes.byteLength);O.set(n.bytes),O.set(Bg,n.bytes.byteLength),this.initSegments_[c]=m={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:O}}return m||n},a.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},a.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},a.track=function(n){return void 0===n||(this.subtitlesTrack_=n,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},a.remove=function(n,i){Ud(n,i,this.subtitlesTrack_)},a.fillBuffer_=function(){var n=this,i=this.chooseNextRequest_();if(i){if(null===this.syncController_.timestampOffsetForTimeline(i.timeline))return this.syncController_.one("timestampoffset",function(){n.state="READY",n.paused()||n.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(i)}},a.timestampOffsetForSegment_=function(){return null},a.chooseNextRequest_=function(){return this.skipEmptySegments_(p.prototype.chooseNextRequest_.call(this))},a.skipEmptySegments_=function(n){for(;n&&n.segment.empty;){if(n.mediaIndex+1>=n.playlist.segments.length){n=null;break}n=this.generateSegmentInfo_({playlist:n.playlist,mediaIndex:n.mediaIndex+1,startOfSegment:n.startOfSegment+n.duration,isSyncRequest:n.isSyncRequest})}return n},a.stopForError=function(n){this.error(n),this.state="READY",this.pause(),this.trigger("error")},a.segmentRequestFinished_=function(n,i,c){var m=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(i.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(n)return-101===n.code&&this.handleTimeout_(),-102===n.code?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(n);var E=this.pendingSegment_;this.saveBandwidthRelatedStats_(E.duration,i.stats),this.state="APPENDING",this.trigger("appending");var O=E.segment;if(O.map&&(O.map.bytes=i.map.bytes),E.bytes=i.bytes,"function"!=typeof z().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var R,X=function(){m.subtitlesTrack_.tech_.off("vttjsloaded",R),m.stopForError({message:"Error loading vtt.js"})};return R=function(){m.subtitlesTrack_.tech_.off("vttjserror",X),m.segmentRequestFinished_(n,i,c)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",R),void this.subtitlesTrack_.tech_.one("vttjserror",X)}O.requested=!0;try{this.parseVTTCues_(E)}catch(Q){return void this.stopForError({message:Q.message})}if(this.updateTimeMapping_(E,this.syncController_.timelines[E.timeline],this.playlist_),E.timingInfo=E.cues.length?{start:E.cues[0].startTime,end:E.cues[E.cues.length-1].endTime}:{start:E.startOfSegment,end:E.startOfSegment+E.duration},E.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");E.byteLength=E.bytes.byteLength,this.mediaSecondsLoaded+=O.duration,E.cues.forEach(function(Q){m.subtitlesTrack_.addCue(m.featuresNativeTextTracks_?new(z().VTTCue)(Q.startTime,Q.endTime,Q.text):Q)}),function(o){var a=o.cues;if(a)for(var s=0;s<a.length;s++){for(var n=[],i=0,c=0;c<a.length;c++)a[s].startTime===a[c].startTime&&a[s].endTime===a[c].endTime&&a[s].text===a[c].text&&++i>1&&n.push(a[c]);n.length&&n.forEach(function(m){return o.removeCue(m)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},a.handleData_=function(){},a.updateTimingInfoEnd_=function(){},a.parseVTTCues_=function(n){var i,c=!1;"function"==typeof z().TextDecoder?i=new(z().TextDecoder)("utf8"):(i=z().WebVTT.StringDecoder(),c=!0);var m=new(z().WebVTT.Parser)(z(),z().vttjs,i);if(n.cues=[],n.timestampmap={MPEGTS:0,LOCAL:0},m.oncue=n.cues.push.bind(n.cues),m.ontimestampmap=function(R){n.timestampmap=R},m.onparsingerror=function(R){et.log.warn("Error encountered when parsing cues: "+R.message)},n.segment.map){var E=n.segment.map.bytes;c&&(E=vv(E)),m.parse(E)}var O=n.bytes;c&&(O=vv(O)),m.parse(O),m.flush()},a.updateTimeMapping_=function(n,i,c){var m=n.segment;if(i){if(!n.cues.length)return void(m.empty=!0);var E=n.timestampmap,O=E.MPEGTS/Gt.ONE_SECOND_IN_TS-E.LOCAL+i.mapping;n.cues.forEach(function(Q){Q.startTime+=O,Q.endTime+=O}),c.syncInfo||(c.syncInfo={mediaSequence:c.mediaSequence+n.mediaIndex,time:Math.min(n.cues[0].startTime,n.cues[n.cues.length-1].startTime-m.duration)})}},o}(ah),_v=function(o,a){for(var s=o.cues,n=0;n<s.length;n++){var i=s[n];if(a>=i.adStartTime&&a<=i.adEndTime)return i}return null},Nl=[{name:"VOD",run:function(o,a,s,n,i){return s!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:"ProgramDateTime",run:function(o,a,s,n,i){if(!Object.keys(o.timelineToDatetimeMappings).length)return null;var c=null,m=null,E=Bf(a);i=i||0;for(var O=0;O<E.length;O++){var X=E[a.endList||0===i?O:E.length-(O+1)],Q=X.segment,ve=o.timelineToDatetimeMappings[Q.timeline];if(ve&&Q.dateTimeObject){var we=Q.dateTimeObject.getTime()/1e3+ve;if(Q.parts&&"number"==typeof X.partIndex)for(var Se=0;Se<X.partIndex;Se++)we+=Q.parts[Se].duration;var st=Math.abs(i-we);if(null!==m&&(0===st||m<st))break;m=st,c={time:we,segmentIndex:X.segmentIndex,partIndex:X.partIndex}}}return c}},{name:"Segment",run:function(o,a,s,n,i){var c=null,m=null;i=i||0;for(var E=Bf(a),O=0;O<E.length;O++){var X=E[a.endList||0===i?O:E.length-(O+1)],Q=X.segment,ve=X.part&&X.part.start||Q&&Q.start;if(Q.timeline===n&&void 0!==ve){var Me=Math.abs(i-ve);if(null!==m&&m<Me)break;(!c||null===m||m>=Me)&&(m=Me,c={time:ve,segmentIndex:X.segmentIndex,partIndex:X.partIndex})}}return c}},{name:"Discontinuity",run:function(o,a,s,n,i){var c=null;if(i=i||0,a.discontinuityStarts&&a.discontinuityStarts.length)for(var m=null,E=0;E<a.discontinuityStarts.length;E++){var O=a.discontinuityStarts[E],X=o.discontinuities[a.discontinuitySequence+E+1];if(X){var Q=Math.abs(i-X.time);if(null!==m&&m<Q)break;(!c||null===m||m>=Q)&&(m=Q,c={time:X.time,segmentIndex:O,partIndex:null})}}return c}},{name:"Playlist",run:function(o,a,s,n,i){return a.syncInfo?{time:a.syncInfo.time,segmentIndex:a.syncInfo.mediaSequence-a.mediaSequence,partIndex:null}:null}}],Tp=function(p){function o(s){var n;return(n=p.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=us("SyncController"),n}j(o,p);var a=o.prototype;return a.getSyncPoint=function(n,i,c,m){var E=this.runStrategies_(n,i,c,m);return E.length?this.selectSyncPoint_(E,{key:"time",value:m}):null},a.getExpiredTime=function(n,i){if(!n||!n.segments)return null;var c=this.runStrategies_(n,i,n.discontinuitySequence,0);if(!c.length)return null;var m=this.selectSyncPoint_(c,{key:"segmentIndex",value:0});return m.segmentIndex>0&&(m.time*=-1),Math.abs(m.time+yu({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:m.segmentIndex,endIndex:0}))},a.runStrategies_=function(n,i,c,m){for(var E=[],O=0;O<Nl.length;O++){var R=Nl[O],X=R.run(this,n,i,c,m);X&&(X.strategy=R.name,E.push({strategy:R.name,syncPoint:X}))}return E},a.selectSyncPoint_=function(n,i){for(var c=n[0].syncPoint,m=Math.abs(n[0].syncPoint[i.key]-i.value),E=n[0].strategy,O=1;O<n.length;O++){var R=Math.abs(n[O].syncPoint[i.key]-i.value);R<m&&(m=R,c=n[O].syncPoint,E=n[O].strategy)}return this.logger_("syncPoint for ["+i.key+": "+i.value+"] chosen with strategy ["+E+"]: [time:"+c.time+", segmentIndex:"+c.segmentIndex+("number"==typeof c.partIndex?",partIndex:"+c.partIndex:"")+"]"),c},a.saveExpiredSegmentInfo=function(n,i){var c=i.mediaSequence-n.mediaSequence;if(c>86400)et.log.warn("Not saving expired segment info. Media sequence gap "+c+" is too large.");else for(var m=c-1;m>=0;m--){var E=n.segments[m];if(E&&void 0!==E.start){i.syncInfo={mediaSequence:n.mediaSequence+m,time:E.start},this.logger_("playlist refresh sync: [time:"+i.syncInfo.time+", mediaSequence: "+i.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},a.setDateTimeMappingForStart=function(n){if(this.timelineToDatetimeMappings={},n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var i=n.segments[0],c=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-c}},a.saveSegmentTimingInfo=function(n){var i=n.segmentInfo,c=n.shouldSaveTimelineMapping,m=this.calculateSegmentTimeMapping_(i,i.timingInfo,c),E=i.segment;m&&(this.saveDiscontinuitySyncInfo_(i),i.playlist.syncInfo||(i.playlist.syncInfo={mediaSequence:i.playlist.mediaSequence+i.mediaIndex,time:E.start}));var O=E.dateTimeObject;E.discontinuity&&c&&O&&(this.timelineToDatetimeMappings[E.timeline]=-O.getTime()/1e3)},a.timestampOffsetForTimeline=function(n){return void 0===this.timelines[n]?null:this.timelines[n].time},a.mappingForTimeline=function(n){return void 0===this.timelines[n]?null:this.timelines[n].mapping},a.calculateSegmentTimeMapping_=function(n,i,c){var R,X,m=n.segment,E=n.part,O=this.timelines[n.timeline];if("number"==typeof n.timestampOffset)O={time:n.startOfSegment,mapping:n.startOfSegment-i.start},c&&(this.timelines[n.timeline]=O,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": [time: "+O.time+"] [mapping: "+O.mapping+"]")),R=n.startOfSegment,X=i.end+O.mapping;else{if(!O)return!1;R=i.start+O.mapping,X=i.end+O.mapping}return E&&(E.start=R,E.end=X),(!m.start||R<m.start)&&(m.start=R),m.end=X,!0},a.saveDiscontinuitySyncInfo_=function(n){var i=n.playlist,c=n.segment;if(c.discontinuity)this.discontinuities[c.timeline]={time:c.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(var m=0;m<i.discontinuityStarts.length;m++){var E=i.discontinuityStarts[m],O=i.discontinuitySequence+m+1,R=E-n.mediaIndex,X=Math.abs(R);if(!this.discontinuities[O]||this.discontinuities[O].accuracy>X){var Q;Q=R<0?c.start-yu({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:n.mediaIndex,endIndex:E}):c.end+yu({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:n.mediaIndex+1,endIndex:E}),this.discontinuities[O]={time:Q,accuracy:X}}}},a.dispose=function(){this.trigger("dispose"),this.off()},o}(et.EventTarget),p_=function(p){function o(){var s;return(s=p.call(this)||this).pendingTimelineChanges_={},s.lastTimelineChanges_={},s}j(o,p);var a=o.prototype;return a.clearPendingTimelineChange=function(n){this.pendingTimelineChanges_[n]=null,this.trigger("pendingtimelinechange")},a.pendingTimelineChange=function(n){var i=n.type,c=n.from,m=n.to;return"number"==typeof c&&"number"==typeof m&&(this.pendingTimelineChanges_[i]={type:i,from:c,to:m},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[i]},a.lastTimelineChange=function(n){var i=n.type,c=n.from,m=n.to;return"number"==typeof c&&"number"==typeof m&&(this.lastTimelineChanges_[i]={type:i,from:c,to:m},delete this.pendingTimelineChanges_[i],this.trigger("timelinechange")),this.lastTimelineChanges_[i]},a.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},o}(et.EventTarget),Cb=Tt(Ct(Pt(function(){function p(we,Se,st){return we(st={path:Se,exports:{},require:function(bt,xt){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},st.exports),st.exports}var a=p(function(we){function Se(it,bt){for(var xt=0;xt<bt.length;xt++){var wt=bt[xt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(it,wt.key,wt)}}we.exports=function(it,bt,xt){return bt&&Se(it.prototype,bt),xt&&Se(it,xt),it},we.exports.default=we.exports,we.exports.__esModule=!0}),s=p(function(we){function Se(st,it){return we.exports=Se=Object.setPrototypeOf||function(xt,wt){return xt.__proto__=wt,xt},we.exports.default=we.exports,we.exports.__esModule=!0,Se(st,it)}we.exports=Se,we.exports.default=we.exports,we.exports.__esModule=!0}),n=p(function(we){we.exports=function(st,it){st.prototype=Object.create(it.prototype),st.prototype.constructor=st,s(st,it)},we.exports.default=we.exports,we.exports.__esModule=!0}),i=function(){function we(){this.listeners={}}var Se=we.prototype;return Se.on=function(it,bt){this.listeners[it]||(this.listeners[it]=[]),this.listeners[it].push(bt)},Se.off=function(it,bt){if(!this.listeners[it])return!1;var xt=this.listeners[it].indexOf(bt);return this.listeners[it]=this.listeners[it].slice(0),this.listeners[it].splice(xt,1),xt>-1},Se.trigger=function(it){var bt=this.listeners[it];if(bt)if(2===arguments.length)for(var xt=bt.length,wt=0;wt<xt;++wt)bt[wt].call(this,arguments[1]);else for(var $t=Array.prototype.slice.call(arguments,1),Jt=bt.length,Lt=0;Lt<Jt;++Lt)bt[Lt].apply(this,$t)},Se.dispose=function(){this.listeners={}},Se.pipe=function(it){this.on("data",function(bt){it.push(bt)})},we}(),E=null,O=function(){function we(st){E||(E=function(){var wt,$t,Jt,Yt,pr,ri,ii,Cr,Se=[[[],[],[],[],[]],[[],[],[],[],[]]],st=Se[0],it=Se[1],bt=st[4],xt=it[4],Lt=[],kt=[];for(wt=0;wt<256;wt++)kt[(Lt[wt]=wt<<1^283*(wt>>7))^wt]=wt;for($t=Jt=0;!bt[$t];$t^=Yt||1,Jt=kt[Jt]||1)for(bt[$t]=ri=(ri=Jt^Jt<<1^Jt<<2^Jt<<3^Jt<<4)>>8^255&ri^99,xt[ri]=$t,Cr=16843009*Lt[pr=Lt[Yt=Lt[$t]]]^65537*pr^257*Yt^16843008*$t,ii=257*Lt[ri]^16843008*ri,wt=0;wt<4;wt++)st[wt][$t]=ii=ii<<24^ii>>>8,it[wt][ri]=Cr=Cr<<24^Cr>>>8;for(wt=0;wt<5;wt++)st[wt]=st[wt].slice(0),it[wt]=it[wt].slice(0);return Se}()),this._tables=[[E[0][0].slice(),E[0][1].slice(),E[0][2].slice(),E[0][3].slice(),E[0][4].slice()],[E[1][0].slice(),E[1][1].slice(),E[1][2].slice(),E[1][3].slice(),E[1][4].slice()]];var it,bt,xt,wt=this._tables[0][4],$t=this._tables[1],Jt=st.length,Lt=1;if(4!==Jt&&6!==Jt&&8!==Jt)throw new Error("Invalid aes key size");var kt=st.slice(0),Yt=[];for(this._key=[kt,Yt],it=Jt;it<4*Jt+28;it++)xt=kt[it-1],(it%Jt==0||8===Jt&&it%Jt==4)&&(xt=wt[xt>>>24]<<24^wt[xt>>16&255]<<16^wt[xt>>8&255]<<8^wt[255&xt],it%Jt==0&&(xt=xt<<8^xt>>>24^Lt<<24,Lt=Lt<<1^283*(Lt>>7))),kt[it]=kt[it-Jt]^xt;for(bt=0;it;bt++,it--)xt=kt[3&bt?it:it-4],Yt[bt]=it<=4||bt<4?xt:$t[0][wt[xt>>>24]]^$t[1][wt[xt>>16&255]]^$t[2][wt[xt>>8&255]]^$t[3][wt[255&xt]]}return we.prototype.decrypt=function(it,bt,xt,wt,$t,Jt){var ri,ii,Cr,Ba,Lt=this._key[1],kt=it^Lt[0],Yt=wt^Lt[1],pr=xt^Lt[2],Qr=bt^Lt[3],Uc=Lt.length/4-2,ko=4,ns=this._tables[1],ua=ns[0],zi=ns[1],ca=ns[2],da=ns[3],Hs=ns[4];for(Ba=0;Ba<Uc;Ba++)ri=ua[kt>>>24]^zi[Yt>>16&255]^ca[pr>>8&255]^da[255&Qr]^Lt[ko],ii=ua[Yt>>>24]^zi[pr>>16&255]^ca[Qr>>8&255]^da[255&kt]^Lt[ko+1],Cr=ua[pr>>>24]^zi[Qr>>16&255]^ca[kt>>8&255]^da[255&Yt]^Lt[ko+2],Qr=ua[Qr>>>24]^zi[kt>>16&255]^ca[Yt>>8&255]^da[255&pr]^Lt[ko+3],ko+=4,kt=ri,Yt=ii,pr=Cr;for(Ba=0;Ba<4;Ba++)$t[(3&-Ba)+Jt]=Hs[kt>>>24]<<24^Hs[Yt>>16&255]<<16^Hs[pr>>8&255]<<8^Hs[255&Qr]^Lt[ko++],ri=kt,kt=Yt,Yt=pr,pr=Qr,Qr=ri},we}(),R=function(we){function Se(){var it;return(it=we.call(this,i)||this).jobs=[],it.delay=1,it.timeout_=null,it}n(Se,we);var st=Se.prototype;return st.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},st.push=function(bt){this.jobs.push(bt),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},Se}(i),X=function(Se){return Se<<24|(65280&Se)<<8|(16711680&Se)>>8|Se>>>24},ve=function(){function we(st,it,bt,xt){var wt=we.STEP,$t=new Int32Array(st.buffer),Jt=new Uint8Array(st.byteLength),Lt=0;for(this.asyncStream_=new R,this.asyncStream_.push(this.decryptChunk_($t.subarray(Lt,Lt+wt),it,bt,Jt)),Lt=wt;Lt<$t.length;Lt+=wt)bt=new Uint32Array([X($t[Lt-4]),X($t[Lt-3]),X($t[Lt-2]),X($t[Lt-1])]),this.asyncStream_.push(this.decryptChunk_($t.subarray(Lt,Lt+wt),it,bt,Jt));this.asyncStream_.push(function(){xt(null,function(we){return we.subarray(0,we.byteLength-we[we.byteLength-1])}(Jt))})}return we.prototype.decryptChunk_=function(it,bt,xt,wt){return function(){var $t=function(Se,st,it){var Jt,Lt,kt,Yt,pr,Qr,ri,ii,Cr,bt=new Int32Array(Se.buffer,Se.byteOffset,Se.byteLength>>2),xt=new O(Array.prototype.slice.call(st)),wt=new Uint8Array(Se.byteLength),$t=new Int32Array(wt.buffer);for(Jt=it[0],Lt=it[1],kt=it[2],Yt=it[3],Cr=0;Cr<bt.length;Cr+=4)pr=X(bt[Cr]),Qr=X(bt[Cr+1]),ri=X(bt[Cr+2]),ii=X(bt[Cr+3]),xt.decrypt(pr,Qr,ri,ii,$t,Cr),$t[Cr]=X($t[Cr]^Jt),$t[Cr+1]=X($t[Cr+1]^Lt),$t[Cr+2]=X($t[Cr+2]^kt),$t[Cr+3]=X($t[Cr+3]^Yt),Jt=pr,Lt=Qr,kt=ri,Yt=ii;return wt}(it,bt,xt);wt.set($t,it.byteOffset)}},a(we,null,[{key:"STEP",get:function(){return 32e3}}]),we}();self.onmessage=function(we){var Se=we.data,st=new Uint8Array(Se.encrypted.bytes,Se.encrypted.byteOffset,Se.encrypted.byteLength),it=new Uint32Array(Se.key.bytes,Se.key.byteOffset,Se.key.byteLength/4),bt=new Uint32Array(Se.iv.bytes,Se.iv.byteOffset,Se.iv.byteLength/4);new ve(st,it,bt,function(xt,wt){self.postMessage(function(Se){var st={};return Object.keys(Se).forEach(function(it){var bt=Se[it];st[it]=ArrayBuffer.isView(bt)?{bytes:bt.buffer,byteOffset:bt.byteOffset,byteLength:bt.byteLength}:bt}),st}({source:Se.source,decrypted:wt}),[wt.buffer])})}}))),jd=function(o){var a=o.default?"main":"alternative";return o.characteristics&&o.characteristics.indexOf("public.accessibility.describes-video")>=0&&(a="main-desc"),a},ch=function(o,a){o.abort(),o.pause(),a&&a.activePlaylistLoader&&(a.activePlaylistLoader.pause(),a.activePlaylistLoader=null)},Bc=function(o,a){a.activePlaylistLoader=o,o.load()},fh={AUDIO:function(o,a){return function(){var n=a.mediaTypes[o],i=a.blacklistCurrentPlaylist;ch(a.segmentLoaders[o],n);var c=n.activeTrack(),m=n.activeGroup(),E=(m.filter(function(X){return X.default})[0]||m[0]).id,O=n.tracks[E];if(c!==O){for(var R in et.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[R].enabled=n.tracks[R]===O;n.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(o,a){return function(){var s=a.segmentLoaders[o],n=a.mediaTypes[o];et.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ch(s,n);var i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}}},Tv={AUDIO:function(o,a,s){if(a){var n=s.tech,i=s.requestOptions,c=s.segmentLoaders[o];a.on("loadedmetadata",function(){var m=a.media();c.playlist(m,i),(!n.paused()||m.endList&&"none"!==n.preload())&&c.load()}),a.on("loadedplaylist",function(){c.playlist(a.media(),i),n.paused()||c.load()}),a.on("error",fh[o](o,s))}},SUBTITLES:function(o,a,s){var n=s.tech,i=s.requestOptions,c=s.segmentLoaders[o],m=s.mediaTypes[o];a.on("loadedmetadata",function(){var E=a.media();c.playlist(E,i),c.track(m.activeTrack()),(!n.paused()||E.endList&&"none"!==n.preload())&&c.load()}),a.on("loadedplaylist",function(){c.playlist(a.media(),i),n.paused()||c.load()}),a.on("error",fh[o](o,s))}},Ev={AUDIO:function(o,a){var s=a.vhs,n=a.sourceType,i=a.segmentLoaders[o],c=a.requestOptions,m=a.master.mediaGroups,E=a.mediaTypes[o],O=E.groups,R=E.tracks,X=E.logger_,Q=a.masterPlaylistLoader,ve=_u(Q.master);for(var Me in(!m[o]||0===Object.keys(m[o]).length)&&(m[o]={main:{default:{default:!0}}},ve&&(m[o].main.default.playlists=Q.master.playlists)),m[o])for(var we in O[Me]||(O[Me]=[]),m[o][Me]){var Se=m[o][Me][we],st=void 0;if(ve?(X("AUDIO group '"+Me+"' label '"+we+"' is a master playlist"),Se.isMasterPlaylist=!0,st=null):st="vhs-json"===n&&Se.playlists?new tc(Se.playlists[0],s,c):Se.resolvedUri?new tc(Se.resolvedUri,s,c):Se.playlists&&"dash"===n?new fe(Se.playlists[0],s,c,Q):null,Se=et.mergeOptions({id:we,playlistLoader:st},Se),Tv[o](o,Se.playlistLoader,a),O[Me].push(Se),void 0===R[we]){var it=new et.AudioTrack({id:we,kind:jd(Se),enabled:!1,language:Se.language,default:Se.default,label:we});R[we]=it}}i.on("error",fh[o](o,a))},SUBTITLES:function(o,a){var s=a.tech,n=a.vhs,i=a.sourceType,c=a.segmentLoaders[o],m=a.requestOptions,E=a.master.mediaGroups,O=a.mediaTypes[o],R=O.groups,X=O.tracks,Q=a.masterPlaylistLoader;for(var ve in E[o])for(var Me in R[ve]||(R[ve]=[]),E[o][ve])if(!E[o][ve][Me].forced){var we=E[o][ve][Me],Se=void 0;if("hls"===i)Se=new tc(we.resolvedUri,n,m);else if("dash"===i){if(!we.playlists.filter(function(bt){return bt.excludeUntil!==1/0}).length)return;Se=new fe(we.playlists[0],n,m,Q)}else"vhs-json"===i&&(Se=new tc(we.playlists?we.playlists[0]:we.resolvedUri,n,m));if(we=et.mergeOptions({id:Me,playlistLoader:Se},we),Tv[o](o,we.playlistLoader,a),R[ve].push(we),void 0===X[Me]){var it=s.addRemoteTextTrack({id:Me,kind:"subtitles",default:we.default&&we.autoselect,language:we.language,label:Me},!1).track;X[Me]=it}}c.on("error",fh[o](o,a))},"CLOSED-CAPTIONS":function(o,a){var s=a.tech,n=a.master.mediaGroups,i=a.mediaTypes[o],c=i.groups,m=i.tracks;for(var E in n[o])for(var O in c[E]||(c[E]=[]),n[o][E]){var R=n[o][E][O];if(/^(?:CC|SERVICE)/.test(R.instreamId)){var X=s.options_.vhs&&s.options_.vhs.captionServices||{},Q={label:O,language:R.language,instreamId:R.instreamId,default:R.default&&R.autoselect};if(X[Q.instreamId]&&(Q=et.mergeOptions(Q,X[Q.instreamId])),void 0===Q.default&&delete Q.default,c[E].push(et.mergeOptions({id:O},R)),void 0===m[O]){var ve=s.addRemoteTextTrack({id:Q.instreamId,kind:"captions",default:Q.default,language:Q.language,label:Q.label},!1).track;m[O]=ve}}}}},v_=function p(o,a){for(var s=0;s<o.length;s++)if(Ad(a,o[s])||o[s].playlists&&p(o[s].playlists,a))return!0;return!1},y_={AUDIO:function(o,a){return function(){var s=a.mediaTypes[o].tracks;for(var n in s)if(s[n].enabled)return s[n];return null}},SUBTITLES:function(o,a){return function(){var s=a.mediaTypes[o].tracks;for(var n in s)if("showing"===s[n].mode||"hidden"===s[n].mode)return s[n];return null}}},b_=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],$d=function(o){return this.audioSegmentLoader_[o]+this.mainSegmentLoader_[o]},T_=function(p){function o(s){var n;n=p.call(this)||this;var i=s.src,c=s.handleManifestRedirects,m=s.withCredentials,E=s.tech,O=s.bandwidth,R=s.externVhs,X=s.useCueTags,Q=s.blacklistDuration,ve=s.enableLowInitialPlaylist,Me=s.sourceType,we=s.cacheEncryptionKeys,Se=s.experimentalBufferBasedABR,st=s.experimentalLeastPixelDiffSelector,it=s.captionServices;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");var bt=s.maxPlaylistRetries;null==bt&&(bt=1/0),xu=R,n.experimentalBufferBasedABR=Boolean(Se),n.experimentalLeastPixelDiffSelector=Boolean(st),n.withCredentials=m,n.tech_=E,n.vhs_=E.vhs,n.sourceType_=Me,n.useCueTags_=X,n.blacklistDuration=Q,n.maxPlaylistRetries=bt,n.enableLowInitialPlaylist=ve,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:m,handleManifestRedirects:c,maxPlaylistRetries:bt,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=function(){var o={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(a){o[a]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Eu,activeTrack:Eu,getActiveGroup:Eu,onGroupChanged:Eu,onTrackChanged:Eu,lastTrack_:null,logger_:us("MediaGroups["+a+"]")}}),o}(),n.mediaSource=new(z().MediaSource),n.handleDurationChange_=n.handleDurationChange_.bind(ue(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(ue(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(ue(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=et.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new Tp(s),n.segmentMetadataTrack_=E.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Cb,n.sourceUpdater_=new h_(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new p_;var xt={vhs:n.vhs_,parse708captions:s.parse708captions,captionServices:it,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:O,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:we,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:s.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new fe(i,n.vhs_,n.requestOptions_):new tc(i,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new ah(et.mergeOptions(xt,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),s),n.audioSegmentLoader_=new ah(et.mergeOptions(xt,{loaderType:"audio"}),s),n.subtitleSegmentLoader_=new yv(et.mergeOptions(xt,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),s),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),b_.forEach(function($t){n[$t+"_"]=$d.bind(ue(n),$t)}),n.logger_=us("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var wt="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(wt,function(){var $t=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-$t,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}j(o,p);var a=o.prototype;return a.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},a.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},a.appendsToLoadedData_=function(){var n=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return-1===n||-1===i?-1:n+i},a.timeToLoadedData_=function(){return this.timeToLoadedData__},a.checkABR_=function(){var n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,"abr")},a.switchMedia_=function(n,i,c){var m=this.media(),E=m&&(m.id||m.uri),O=n.id||n.uri;E&&E!==O&&(this.logger_("switch media "+E+" -> "+O+" from "+i),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+i})),this.masterPlaylistLoader_.media(n,c)},a.startABRTimer_=function(){var n=this;this.stopABRTimer_(),this.abrTimer_=z().setInterval(function(){return n.checkABR_()},250)},a.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(z().clearInterval(this.abrTimer_),this.abrTimer_=null)},a.getAudioTrackPlaylists_=function(){var n=this.master(),i=n&&n.playlists||[];if(!n||!n.mediaGroups||!n.mediaGroups.AUDIO)return i;var E,c=n.mediaGroups.AUDIO,m=Object.keys(c);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)E=this.mediaTypes_.AUDIO.activeTrack();else{var O=c.main||m.length&&c[m[0]];for(var R in O)if(O[R].default){E={label:R};break}}if(!E)return i;var X=[];for(var Q in c)if(c[Q][E.label]){var ve=c[Q][E.label];if(ve.playlists&&ve.playlists.length)X.push.apply(X,ve.playlists);else if(ve.uri)X.push(ve);else if(n.playlists.length)for(var Me=0;Me<n.playlists.length;Me++){var we=n.playlists[Me];we.attributes&&we.attributes.AUDIO&&we.attributes.AUDIO===Q&&X.push(we)}}return X.length?X:i},a.setupMasterPlaylistLoaderListeners_=function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var i=n.masterPlaylistLoader_.media(),c=1.5*i.targetDuration*1e3;n.requestOptions_.timeout=Md(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:c,i.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(i,n.requestOptions_),n.mainSegmentLoader_.load()),function(o){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(Me){Ev[Me](Me,o)});var a=o.mediaTypes,s=o.masterPlaylistLoader,n=o.tech,i=o.vhs,c=o.segmentLoaders,m=c.AUDIO,E=c.main;["AUDIO","SUBTITLES"].forEach(function(Me){a[Me].activeGroup=function(o,a){return function(s){var i=a.mediaTypes[o].groups,c=a.masterPlaylistLoader.media();if(!c)return null;var m=null;c.attributes[o]&&(m=i[c.attributes[o]]);var E=Object.keys(i);if(!m)if("AUDIO"===o&&E.length>1&&_u(a.master))for(var O=0;O<E.length;O++){var R=i[E[O]];if(v_(R,c)){m=R;break}}else i.main?m=i.main:1===E.length&&(m=i[E[0]]);return void 0===s?m:null!==s&&m&&m.filter(function(X){return X.id===s.id})[0]||null}}(Me,o),a[Me].activeTrack=y_[Me](Me,o),a[Me].onGroupChanged=function(o,a){return function(){var s=a.segmentLoaders,n=s[o],i=s.main,c=a.mediaTypes[o],m=c.activeTrack(),E=c.getActiveGroup(),O=c.activePlaylistLoader,R=c.lastGroup_;if((!E||!R||E.id!==R.id)&&(c.lastGroup_=E,c.lastTrack_=m,ch(n,c),E&&!E.isMasterPlaylist)){if(!E.playlistLoader)return void(O&&i.resetEverything());n.resyncLoader(),Bc(E.playlistLoader,c)}}}(Me,o),a[Me].onGroupChanging=function(o,a){return function(){var s=a.segmentLoaders[o];a.mediaTypes[o].lastGroup_=null,s.abort(),s.pause()}}(Me,o),a[Me].onTrackChanged=function(o,a){return function(){var s=a.masterPlaylistLoader,n=a.segmentLoaders,i=n[o],c=n.main,m=a.mediaTypes[o],E=m.activeTrack(),O=m.getActiveGroup(),R=m.activePlaylistLoader,X=m.lastTrack_;if((!X||!E||X.id!==E.id)&&(m.lastGroup_=O,m.lastTrack_=E,ch(i,m),O)){if(O.isMasterPlaylist){if(!E||!X||E.id===X.id)return;var Q=a.vhs.masterPlaylistController_,ve=Q.selectPlaylist();if(Q.media()===ve)return;return m.logger_("track change. Switching master audio from "+X.id+" to "+E.id),s.pause(),c.resetEverything(),void Q.fastQualityChange_(ve)}if("AUDIO"===o){if(!O.playlistLoader)return c.setAudio(!0),void c.resetEverything();i.setAudio(!0),c.setAudio(!1)}if(R===O.playlistLoader)return void Bc(O.playlistLoader,m);i.track&&i.track(E),i.resetEverything(),Bc(O.playlistLoader,m)}}}(Me,o),a[Me].getActiveGroup=function(o,a){var s=a.mediaTypes;return function(){var n=s[o].activeTrack();return n?s[o].activeGroup(n):null}}(Me,o)});var O=a.AUDIO.activeGroup();if(O){var R=(O.filter(function(Me){return Me.default})[0]||O[0]).id;a.AUDIO.tracks[R].enabled=!0,a.AUDIO.onGroupChanged(),a.AUDIO.onTrackChanged(),a.AUDIO.getActiveGroup().playlistLoader?(E.setAudio(!1),m.setAudio(!0)):E.setAudio(!0)}s.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(Me){return a[Me].onGroupChanged()})}),s.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(Me){return a[Me].onGroupChanging()})});var Q=function(){a.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};for(var ve in n.audioTracks().addEventListener("change",Q),n.remoteTextTracks().addEventListener("change",a.SUBTITLES.onTrackChanged),i.on("dispose",function(){n.audioTracks().removeEventListener("change",Q),n.remoteTextTracks().removeEventListener("change",a.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),a.AUDIO.tracks)n.audioTracks().addTrack(a.AUDIO.tracks[ve])}({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,vhs:n.vhs_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),i),n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){n.loadOnPlay_&&n.tech_.off("play",n.loadOnPlay_);var i=n.masterPlaylistLoader_.media();if(!i){var c;if(n.excludeUnsupportedVariants_(),n.enableLowInitialPlaylist&&(c=n.selectInitialPlaylist()),c||(c=n.selectPlaylist()),!c||!n.shouldSwitchToMedia_(c))return;if(n.initialMedia_=c,n.switchMedia_(n.initialMedia_,"initial"),"vhs-json"!==n.sourceType_||!n.initialMedia_.segments)return;i=n.initialMedia_}n.handleUpdatedMediaPlaylist(i)}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var i=n.masterPlaylistLoader_.media(),c=1.5*i.targetDuration*1e3;n.requestOptions_.timeout=Md(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:c,n.mainSegmentLoader_.playlist(i,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var i=n.masterPlaylistLoader_.media();"playlist-unchanged"!==i.lastExcludeReason_&&n.stuckAtPlaylistEnd_(i)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},a.handleUpdatedMediaPlaylist=function(n){this.useCueTags_&&this.updateAdCues_(n),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.updateDuration(!n.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},a.triggerPresenceUsage_=function(n,i){var c=n.mediaGroups||{},m=!0,E=Object.keys(c.AUDIO);for(var O in c.AUDIO)for(var R in c.AUDIO[O])c.AUDIO[O][R].uri||(m=!1);m&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(c.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),xu.Playlist.isAes(i)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),E.length&&Object.keys(c.AUDIO[E[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},a.shouldSwitchToMedia_=function(n){var i=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,c=this.tech_.currentTime(),m=this.bufferLowWaterLine(),E=this.bufferHighWaterLine();return function(o){var a=o.currentPlaylist,s=o.buffered,n=o.currentTime,i=o.nextPlaylist,c=o.bufferLowWaterLine,m=o.bufferHighWaterLine,E=o.duration,O=o.experimentalBufferBasedABR,R=o.log;if(!i)return et.log.warn("We received no playlist to switch to. Please check your stream."),!1;var X="allowing switch "+(a&&a.id||"null")+" -> "+i.id;if(!a)return R(X+" as current playlist is not set"),!0;if(i.id===a.id)return!1;var Q=Boolean(Ri(s,n).length);if(!a.endList)return Q||"number"!=typeof a.partTargetDuration?(R(X+" as current playlist is live"),!0):(R("not "+X+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var ve=Lf(s,n),Me=O?Te.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Te.MAX_BUFFER_LOW_WATER_LINE;if(E<Me)return R(X+" as duration < max low water line ("+E+" < "+Me+")"),!0;var we=i.attributes.BANDWIDTH,Se=a.attributes.BANDWIDTH;if(we<Se&&(!O||ve<m)){var st=X+" as next bandwidth < current bandwidth ("+we+" < "+Se+")";return O&&(st+=" and forwardBuffer < bufferHighWaterLine ("+ve+" < "+m+")"),R(st),!0}if((!O||we>Se)&&ve>=c){var it=X+" as forwardBuffer >= bufferLowWaterLine ("+ve+" >= "+c+")";return O&&(it+=" and next bandwidth > current bandwidth ("+we+" > "+Se+")"),R(it),!0}return R("not "+X+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:c,currentPlaylist:i,nextPlaylist:n,bufferLowWaterLine:m,bufferHighWaterLine:E,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},a.setupSegmentLoaderListeners_=function(){var n=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var c=n.selectPlaylist();n.shouldSwitchToMedia_(c)&&n.switchMedia_(c,"bandwidthupdate"),n.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){n.error=n.mainSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){n.error=n.audioSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){n.logger_("main segment loader ended"),n.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(c){n.experimentalBufferBasedABR||(n.delegateLoaders_("all",["abort"]),n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))});var i=function(){if(!n.sourceUpdater_.hasCreatedSourceBuffers())return n.tryToCreateSourceBuffers_();var m=n.getCodecsOrExclude_();!m||n.sourceUpdater_.addOrChangeSourceBuffers(m)};this.mainSegmentLoader_.on("trackinfo",i),this.audioSegmentLoader_.on("trackinfo",i),this.mainSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){n.logger_("audioSegmentLoader ended"),n.onEndOfStream()})},a.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},a.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},a.smoothQualityChange_=function(n){void 0===n&&(n=this.selectPlaylist()),this.fastQualityChange_(n)},a.fastQualityChange_=function(n){var i=this;void 0===n&&(n=this.selectPlaylist()),n!==this.masterPlaylistLoader_.media()?(this.switchMedia_(n,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){i.tech_.setCurrentTime(et.browser.IE_VERSION||et.browser.IS_EDGE?i.tech_.currentTime()+.04:i.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},a.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<n.start(0))return this.tech_.setCurrentTime(n.end(n.length-1))}},a.setupFirstPlay=function(){var n=this,i=this.masterPlaylistLoader_.media();if(!i||this.tech_.paused()||this.hasPlayed_)return!1;if(!i.endList){var c=this.seekable();if(!c.length)return!1;if(et.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){n.trigger("firstplay"),n.tech_.setCurrentTime(c.end(0)),n.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(c.end(0))}return this.hasPlayed_=!0,this.load(),!0},a.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var n=this.tech_.play();void 0!==n&&"function"==typeof n.then&&n.then(null,function(i){})}this.trigger("sourceopen")},a.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var n=this.inbandTextTracks_.metadataTrack_.cues;if(n&&n.length){var i=this.duration();n[n.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}}},a.handleDurationChange_=function(){this.tech_.trigger("durationchange")},a.onEndOfStream=function(){var n=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var i=this.mainSegmentLoader_.getCurrentMediaInfo_();n=!i||i.hasVideo?n&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}!n||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},a.stuckAtPlaylistEnd_=function(n){if(!this.seekable().length)return!1;var c=this.syncController_.getExpiredTime(n,this.duration());if(null===c)return!1;var m=xu.Playlist.playlistEnd(n,c),E=this.tech_.currentTime(),O=this.tech_.buffered();if(!O.length)return m-E<=ar;var R=O.end(O.length-1);return R-E<=ar&&m-R<=ar},a.blacklistCurrentPlaylist=function(n,i){void 0===n&&(n={});var c=n.playlist||this.masterPlaylistLoader_.media();if(i=i||n.blacklistDuration||this.blacklistDuration,!c)return this.error=n,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));c.playlistErrors_++;var X,m=this.masterPlaylistLoader_.master.playlists,E=m.filter(Rc),O=1===E.length&&E[0]===c;if(1===m.length&&i!==1/0)return et.log.warn("Problem encountered with playlist "+c.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(O);if(O){var R=!1;m.forEach(function(st){if(st!==c){var it=st.excludeUntil;void 0!==it&&it!==1/0&&(R=!0,delete st.excludeUntil)}}),R&&(et.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}X=c.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*i,c.excludeUntil=X,n.reason&&(c.lastExcludeReason_=n.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var Q=this.selectPlaylist();if(!Q)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");(n.internal?this.logger_:et.log.warn)((n.internal?"Internal problem":"Problem")+" encountered with playlist "+c.id+"."+(n.message?" "+n.message:"")+" Switching to playlist "+Q.id+"."),Q.attributes.AUDIO!==c.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),Q.attributes.SUBTITLES!==c.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var we=Q.targetDuration/2*1e3||5e3,Se="number"==typeof Q.lastRequest&&Date.now()-Q.lastRequest<=we;return this.switchMedia_(Q,"exclude",O||Se)},a.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},a.delegateLoaders_=function(n,i){var c=this,m=[],E="all"===n;(E||"main"===n)&&m.push(this.masterPlaylistLoader_);var O=[];(E||"audio"===n)&&O.push("AUDIO"),(E||"subtitle"===n)&&(O.push("CLOSED-CAPTIONS"),O.push("SUBTITLES")),O.forEach(function(R){var X=c.mediaTypes_[R]&&c.mediaTypes_[R].activePlaylistLoader;X&&m.push(X)}),["main","audio","subtitle"].forEach(function(R){var X=c[R+"SegmentLoader_"];X&&(n===R||"all"===n)&&m.push(X)}),m.forEach(function(R){return i.forEach(function(X){"function"==typeof R[X]&&R[X]()})})},a.setCurrentTime=function(n){var i=Ri(this.tech_.buffered(),n);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?i&&i.length?n:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},a.duration=function(){if(!this.masterPlaylistLoader_)return 0;var n=this.masterPlaylistLoader_.media();return n?n.endList?this.mediaSource?this.mediaSource.duration:xu.Playlist.duration(n):1/0:0},a.seekable=function(){return this.seekable_},a.onSyncInfoUpdate_=function(){var n;if(this.masterPlaylistLoader_&&!this.sourceUpdater_.hasCreatedSourceBuffers()){var i=this.masterPlaylistLoader_.media();if(i){var c=this.syncController_.getExpiredTime(i,this.duration());if(null!==c){var O,R,m=this.masterPlaylistLoader_.master,E=xu.Playlist.seekable(i,c,xu.Playlist.liveEdgeDelay(m,i));0===E.length||this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(c=this.syncController_.getExpiredTime(i,this.duration()))||0===(n=xu.Playlist.seekable(i,c,xu.Playlist.liveEdgeDelay(m,i))).length)||(this.seekable_&&this.seekable_.length&&(O=this.seekable_.end(0),R=this.seekable_.start(0)),this.seekable_=n?n.start(0)>E.end(0)||E.start(0)>n.end(0)?E:et.createTimeRanges([[n.start(0)>E.start(0)?n.start(0):E.start(0),n.end(0)<E.end(0)?n.end(0):E.end(0)]]):E,(!this.seekable_||!this.seekable_.length||this.seekable_.end(0)!==O||this.seekable_.start(0)!==R)&&(this.logger_("seekable updated ["+kf(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")))}}}},a.updateDuration=function(n){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,n),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(n){var i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1))}else{var c=this.tech_.buffered(),m=xu.Playlist.duration(this.masterPlaylistLoader_.media());c.length>0&&(m=Math.max(m,c.end(c.length-1))),this.mediaSource.duration!==m&&this.sourceUpdater_.setDuration(m)}},a.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(i){var c=n.mediaTypes_[i].groups;for(var m in c)c[m].forEach(function(E){E.playlistLoader&&E.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},a.master=function(){return this.masterPlaylistLoader_.master},a.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},a.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),c=!n||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!i||!c)},a.getCodecsOrExclude_=function(){var n=this,i={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};i.video=i.main;var c=rh(this.master(),this.media()),m={},E=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(i.main.hasVideo&&(m.video=c.video||i.main.videoCodec||"avc1.4d400d"),i.main.isMuxed&&(m.video+=","+(c.audio||i.main.audioCodec||wi)),(i.main.hasAudio&&!i.main.isMuxed||i.audio.hasAudio||E)&&(m.audio=c.audio||i.main.audioCodec||i.audio.audioCodec||wi,i.audio.isFmp4=i.main.hasAudio&&!i.main.isMuxed?i.main.isFmp4:i.audio.isFmp4),m.audio||m.video){var X,R={};if(["video","audio"].forEach(function(we){if(m.hasOwnProperty(we)&&!function(Se,st){return Se?qr(st):rr(st)}(i[we].isFmp4,m[we])){var Se=i[we].isFmp4?"browser":"muxer";R[Se]=R[Se]||[],R[Se].push(m[we]),"audio"===we&&(X=Se)}}),E&&X&&this.media().attributes.AUDIO){var Q=this.media().attributes.AUDIO;this.master().playlists.forEach(function(we){(we.attributes&&we.attributes.AUDIO)===Q&&we!==n.media()&&(we.excludeUntil=1/0)}),this.logger_("excluding audio group "+Q+" as "+X+' does not support codec(s): "'+m.audio+'"')}if(!Object.keys(R).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var Me=[];if(["video","audio"].forEach(function(we){var Se=(fn(n.sourceUpdater_.codecs[we]||"")[0]||{}).type,st=(fn(m[we]||"")[0]||{}).type;Se&&st&&Se.toLowerCase()!==st.toLowerCase()&&Me.push('"'+n.sourceUpdater_.codecs[we]+'" -> "'+m[we]+'"')}),Me.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+Me.join(", ")+".",blacklistDuration:1/0,internal:!0})}return m}var ve=Object.keys(R).reduce(function(we,Se){return we&&(we+=", "),we+(Se+' does not support codec(s): "')+R[Se].join(",")+'"'},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:ve,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},a.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var n=this.getCodecsOrExclude_();if(n){this.sourceUpdater_.createSourceBuffers(n);var i=[n.video,n.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}}},a.excludeUnsupportedVariants_=function(){var n=this,i=this.master().playlists,c=[];Object.keys(i).forEach(function(m){var E=i[m];if(-1===c.indexOf(E.id)){c.push(E.id);var O=rh(n.master,E),R=[];O.audio&&!rr(O.audio)&&!qr(O.audio)&&R.push("audio codec "+O.audio),O.video&&!rr(O.video)&&!qr(O.video)&&R.push("video codec "+O.video),O.text&&"stpp.ttml.im1t"===O.text&&R.push("text codec "+O.text),R.length&&(E.excludeUntil=1/0,n.logger_("excluding "+E.id+" for unsupported: "+R.join(", ")))}})},a.excludeIncompatibleVariants_=function(n){var i=this,c=[],m=this.master().playlists,E=th(fn(n)),O=nh(E),R=E.video&&fn(E.video)[0]||null,X=E.audio&&fn(E.audio)[0]||null;Object.keys(m).forEach(function(Q){var ve=m[Q];if(-1===c.indexOf(ve.id)&&ve.excludeUntil!==1/0){c.push(ve.id);var Me=[],we=rh(i.masterPlaylistLoader_.master,ve),Se=nh(we);if(we.audio||we.video){if(Se!==O&&Me.push('codec count "'+Se+'" !== "'+O+'"'),!i.sourceUpdater_.canChangeType()){var st=we.video&&fn(we.video)[0]||null,it=we.audio&&fn(we.audio)[0]||null;st&&R&&st.type.toLowerCase()!==R.type.toLowerCase()&&Me.push('video codec "'+st.type+'" !== "'+R.type+'"'),it&&X&&it.type.toLowerCase()!==X.type.toLowerCase()&&Me.push('audio codec "'+it.type+'" !== "'+X.type+'"')}Me.length&&(ve.excludeUntil=1/0,i.logger_("blacklisting "+ve.id+": "+Me.join(" && ")))}}})},a.updateAdCues_=function(n){var i=0,c=this.seekable();c.length&&(i=c.start(0)),function(o,a,s){if(void 0===s&&(s=0),o.segments)for(var i,n=s,c=0;c<o.segments.length;c++){var m=o.segments[c];if(i||(i=_v(a,n+m.duration/2)),i){if("cueIn"in m){i.endTime=n,i.adEndTime=n,n+=m.duration,i=null;continue}if(n<i.endTime){n+=m.duration;continue}i.endTime+=m.duration}else if("cueOut"in m&&((i=new(z().VTTCue)(n,n+m.duration,m.cueOut)).adStartTime=n,i.adEndTime=n+parseFloat(m.cueOut),a.addCue(i)),"cueOutCont"in m){var E=m.cueOutCont.split("/").map(parseFloat),O=E[0],R=E[1];(i=new(z().VTTCue)(n,n+m.duration,"")).adStartTime=n-O,i.adEndTime=i.adStartTime+R,a.addCue(i)}n+=m.duration}}(n,this.cueTagsTrack_,i)},a.goalBufferLength=function(){var n=this.tech_.currentTime(),i=Te.GOAL_BUFFER_LENGTH,c=Te.GOAL_BUFFER_LENGTH_RATE,m=Math.max(i,Te.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+n*c,m)},a.bufferLowWaterLine=function(){var n=this.tech_.currentTime(),i=Te.BUFFER_LOW_WATER_LINE,c=Te.BUFFER_LOW_WATER_LINE_RATE,m=Math.max(i,Te.MAX_BUFFER_LOW_WATER_LINE),E=Math.max(i,Te.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+n*c,this.experimentalBufferBasedABR?E:m)},a.bufferHighWaterLine=function(){return Te.BUFFER_HIGH_WATER_LINE},o}(et.EventTarget),x_=function(o,a,s){var n=o.masterPlaylistController_,m=n[(o.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(n);if(a.attributes){var E=a.attributes.RESOLUTION;this.width=E&&E.width,this.height=E&&E.height,this.bandwidth=a.attributes.BANDWIDTH}this.codecs=rh(n.master(),a),this.playlist=a,this.id=s,this.enabled=function(o,a,s){return function(n){var i=o.master.playlists[a],c=Po(i),m=Rc(i);return void 0===n?m:(n?delete i.disabled:i.disabled=!0,n!==m&&!c&&(s(),o.trigger(n?"renditionenabled":"renditiondisabled")),n)}}(o.playlists,a.id,m)},Sv=["seeking","seeked","pause","playing","error"],Ov=function(){function p(a){var s=this;this.masterPlaylistController_=a.masterPlaylistController,this.tech_=a.tech,this.seekable=a.seekable,this.allowSeeksWithinUnsafeLiveWindow=a.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=a.liveRangeSafeTimeDelta,this.media=a.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=us("PlaybackWatcher"),this.logger_("initialize");var n=function(){return s.monitorCurrentTime_()},i=function(){return s.monitorCurrentTime_()},c=function(){return s.techWaiting_()},m=function(){return s.cancelTimer_()},E=this.masterPlaylistController_,O=["main","subtitle","audio"],R={};O.forEach(function(Q){R[Q]={reset:function(){return s.resetSegmentDownloads_(Q)},updateend:function(){return s.checkSegmentDownloads_(Q)}},E[Q+"SegmentLoader_"].on("appendsdone",R[Q].updateend),E[Q+"SegmentLoader_"].on("playlistupdate",R[Q].reset),s.tech_.on(["seeked","seeking"],R[Q].reset)});var X=function(ve){["main","audio"].forEach(function(Me){E[Me+"SegmentLoader_"][ve]("appended",s.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){s.fixesBadSeeks_()&&(s.consecutiveUpdates=0,s.lastRecordedTime=s.tech_.currentTime(),X("off"))},this.clearSeekingAppendCheck_=function(){return X("off")},this.watchForBadSeeking_=function(){s.clearSeekingAppendCheck_(),X("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",c),this.tech_.on(Sv,m),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=function(){s.clearSeekingAppendCheck_(),s.logger_("dispose"),s.tech_.off("waiting",c),s.tech_.off(Sv,m),s.tech_.off("canplay",i),s.tech_.off("play",n),s.tech_.off("seeking",s.watchForBadSeeking_),s.tech_.off("seeked",s.clearSeekingAppendCheck_),O.forEach(function(Q){E[Q+"SegmentLoader_"].off("appendsdone",R[Q].updateend),E[Q+"SegmentLoader_"].off("playlistupdate",R[Q].reset),s.tech_.off(["seeked","seeking"],R[Q].reset)}),s.checkCurrentTimeTimeout_&&z().clearTimeout(s.checkCurrentTimeTimeout_),s.cancelTimer_()}}var o=p.prototype;return o.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&z().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=z().setTimeout(this.monitorCurrentTime_.bind(this),250)},o.resetSegmentDownloads_=function(s){var n=this.masterPlaylistController_[s+"SegmentLoader_"];this[s+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+s+" loader"),this[s+"StalledDownloads_"]=0,this[s+"Buffered_"]=n.buffered_()},o.checkSegmentDownloads_=function(s){var n=this.masterPlaylistController_,i=n[s+"SegmentLoader_"],c=i.buffered_(),m=function(o,a){if(o===a)return!1;if(!o&&a||!a&&o||o.length!==a.length)return!0;for(var s=0;s<o.length;s++)if(o.start(s)!==a.start(s)||o.end(s)!==a.end(s))return!0;return!1}(this[s+"Buffered_"],c);this[s+"Buffered_"]=c,m?this.resetSegmentDownloads_(s):(this[s+"StalledDownloads_"]++,this.logger_("found #"+this[s+"StalledDownloads_"]+" "+s+" appends that did not increase buffer (possible stalled download)",{playlistId:i.playlist_&&i.playlist_.id,buffered:Oo(c)}),!(this[s+"StalledDownloads_"]<10)&&(this.logger_(s+" loader stalled download exclusion"),this.resetSegmentDownloads_(s),this.tech_.trigger({type:"usage",name:"vhs-"+s+"-download-exclusion"}),"subtitle"!==s&&n.blacklistCurrentPlaylist({message:"Excessive "+s+" segment downloading detected."},1/0)))},o.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var s=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===s&&(!n.length||s+ar>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&s===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):s===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=s)}},o.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},o.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var m,n=this.seekable(),i=this.tech_.currentTime();if(this.afterSeekableWindow_(n,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(m=n.end(n.length-1)),this.beforeSeekableWindow_(n,i)){var O=n.start(0);m=O+(O===n.end(0)?0:ar)}if(void 0!==m)return this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+kf(n)+". Seeking to "+m+"."),this.tech_.setCurrentTime(m),!0;for(var R=this.masterPlaylistController_.sourceUpdater_,X=this.tech_.buffered(),Q=R.audioBuffer?R.audioBuffered():null,ve=R.videoBuffer?R.videoBuffered():null,Me=this.media(),we=Me.partTargetDuration?Me.partTargetDuration:2*(Me.targetDuration-Al),Se=[Q,ve],st=0;st<Se.length;st++)if(Se[st]&&Lf(Se[st],i)<we)return!1;var bt=Ji(X,i);return 0!==bt.length&&(m=bt.start(0)+ar,this.logger_("Buffered region starts ("+bt.start(0)+")  just beyond seek point ("+i+"). Seeking to "+m+"."),this.tech_.setCurrentTime(m),!0)},o.waiting_=function(){if(!this.techWaiting_()){var s=this.tech_.currentTime(),n=this.tech_.buffered(),i=Ri(n,s);if(i.length&&s+3<=i.end(0))return this.cancelTimer_(),this.tech_.setCurrentTime(s),this.logger_("Stopped at "+s+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})}},o.techWaiting_=function(){var s=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(s,n)){var i=s.end(s.length-1);return this.logger_("Fell out of live window at time "+n+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var c=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,m=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:c.audioBuffered(),videoBuffered:c.videoBuffered(),currentTime:n}))return this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var O=Ji(m,n);if(O.length>0){var R=O.start(0)-n;return this.logger_("Stopped at "+n+", setting timer for "+R+", seeking to "+O.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*R,n),!0}return!1},o.afterSeekableWindow_=function(s,n,i,c){if(void 0===c&&(c=!1),!s.length)return!1;var m=s.end(s.length-1)+ar;return!i.endList&&c&&(m=s.end(s.length-1)+3*i.targetDuration),n>m},o.beforeSeekableWindow_=function(s,n){return!!(s.length&&s.start(0)>0&&n<s.start(0)-this.liveRangeSafeTimeDelta)},o.videoUnderflow_=function(s){var n=s.videoBuffered,i=s.audioBuffered,c=s.currentTime;if(n){var m;if(n.length&&i.length){var E=Ri(n,c-3),O=Ri(n,c),R=Ri(i,c);R.length&&!O.length&&E.length&&(m={start:E.end(0),end:R.end(0)})}else Ji(n,c).length||(m=this.gapFromVideoUnderflow_(n,c));return!!m&&(this.logger_("Encountered a gap in video from "+m.start+" to "+m.end+". Seeking to current time "+c),!0)}},o.skipTheGap_=function(s){var n=this.tech_.buffered(),i=this.tech_.currentTime(),c=Ji(n,i);this.cancelTimer_(),0!==c.length&&i===s&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",s,"nextRange start:",c.start(0)),this.tech_.setCurrentTime(c.start(0)+Al),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},o.gapFromVideoUnderflow_=function(s,n){for(var i=function(o){if(o.length<2)return et.createTimeRanges();for(var a=[],s=1;s<o.length;s++){var n=o.end(s-1),i=o.start(s);a.push([n,i])}return et.createTimeRanges(a)}(s),c=0;c<i.length;c++){var m=i.start(c),E=i.end(c);if(n-m<4&&n-m>2)return{start:m,end:E}}return null},p}(),Ei={errorInterval:30,getSource:function(o){return o(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},jg=function p(o,a){var s=0,n=0,i=et.mergeOptions(Ei,a);o.ready(function(){o.trigger({type:"usage",name:"vhs-error-reload-initialized"}),o.trigger({type:"usage",name:"hls-error-reload-initialized"})});var c=function(){n&&o.currentTime(n)},m=function(Q){null!=Q&&(n=o.duration()!==1/0&&o.currentTime()||0,o.one("loadedmetadata",c),o.src(Q),o.trigger({type:"usage",name:"vhs-error-reload"}),o.trigger({type:"usage",name:"hls-error-reload"}),o.play())},E=function(){return Date.now()-s<1e3*i.errorInterval?(o.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void o.trigger({type:"usage",name:"hls-error-reload-canceled"})):i.getSource&&"function"==typeof i.getSource?(s=Date.now(),i.getSource.call(o,m)):void et.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},O=function X(){o.off("loadedmetadata",c),o.off("error",E),o.off("dispose",X)};o.on("error",E),o.on("dispose",O),o.reloadSourceOnError=function(Q){O(),p(o,Q)}},js={PlaylistLoader:tc,Playlist:Vs,utils:ta,STANDARD_PLAYLIST_SELECTOR:cv,INITIAL_PLAYLIST_SELECTOR:function(){var o=this,a=this.playlists.master.playlists.filter(Vs.isEnabled);return Fc(a,function(n,i){return Ig(n,i)}),a.filter(function(n){return!!rh(o.playlists.master,n).video})[0]||null},lastBandwidthSelector:cv,movingAverageBandwidthSelector:function(o){var a=-1,s=-1;if(o<0||o>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&z().devicePixelRatio||1;return a<0&&(a=this.systemBandwidth,s=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==s&&(a=o*this.systemBandwidth+(1-o)*a,s=this.systemBandwidth),uv(this.playlists.master,a,parseInt(sh(this.tech_.el(),"width"),10)*n,parseInt(sh(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Ig,comparePlaylistResolution:function(o,a){var s,n;return o.attributes.RESOLUTION&&o.attributes.RESOLUTION.width&&(s=o.attributes.RESOLUTION.width),s=s||z().Number.MAX_VALUE,a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width&&(n=a.attributes.RESOLUTION.width),s===(n=n||z().Number.MAX_VALUE)&&o.attributes.BANDWIDTH&&a.attributes.BANDWIDTH?o.attributes.BANDWIDTH-a.attributes.BANDWIDTH:s-n},xhr:dp()};Object.keys(Te).forEach(function(p){Object.defineProperty(js,p,{get:function(){return et.log.warn("using Vhs."+p+" is UNSAFE be sure you know what you are doing"),Te[p]},set:function(a){et.log.warn("using Vhs."+p+" is UNSAFE be sure you know what you are doing"),"number"!=typeof a||a<0?et.log.warn("value of Vhs."+p+" must be greater than or equal to 0"):Te[p]=a}})});var zg="videojs-vhs",Wg=function(o,a){for(var s=a.media(),n=-1,i=0;i<o.length;i++)if(o[i].id===s.id){n=i;break}o.selectedIndex_=n,o.trigger({selectedIndex:n,type:"change"})};js.canPlaySource=function(){return et.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ep=function(){if(!z().localStorage)return null;var o=z().localStorage.getItem(zg);if(!o)return null;try{return JSON.parse(o)}catch(a){return null}};js.supportsNativeHls=function(){if(!ee()||!ee().createElement)return!1;var p=ee().createElement("video");return!!et.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(a){return/maybe|probably/i.test(p.canPlayType(a))})}(),js.supportsNativeDash=!!(ee()&&ee().createElement&&et.getTech("Html5").isSupported())&&/maybe|probably/i.test(ee().createElement("video").canPlayType("application/dash+xml")),js.supportsTypeNatively=function(p){return"hls"===p?js.supportsNativeHls:"dash"===p&&js.supportsNativeDash},js.isSupported=function(){return et.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var xp=function(p){function o(s,n,i){var c;if(c=p.call(this,n,et.mergeOptions(i.hls,i.vhs))||this,i.hls&&Object.keys(i.hls).length&&et.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof i.initialBandwidth&&(c.options_.bandwidth=i.initialBandwidth),c.logger_=us("VhsHandler"),n.options_&&n.options_.playerId){var m=et(n.options_.playerId);m.hasOwnProperty("hls")||Object.defineProperty(m,"hls",{get:function(){return et.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),ue(c)},configurable:!0}),m.hasOwnProperty("vhs")||Object.defineProperty(m,"vhs",{get:function(){return et.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),ue(c)},configurable:!0}),m.hasOwnProperty("dash")||Object.defineProperty(m,"dash",{get:function(){return et.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),ue(c)},configurable:!0}),c.player_=m}if(c.tech_=n,c.source_=s,c.stats={},c.ignoreNextSeekingEvent_=!1,c.setOptions_(),c.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(c.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return c.on(ee(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(E){var O=ee().fullscreenElement||ee().webkitFullscreenElement||ee().mozFullScreenElement||ee().msFullscreenElement;O&&O.contains(c.tech_.el())?c.masterPlaylistController_.fastQualityChange_():c.masterPlaylistController_.checkABR_()}),c.on(c.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),c.on(c.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),c.on(c.tech_,"play",c.play),c}j(o,p);var a=o.prototype;return a.setOptions_=function(){var n=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var i=Ep();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Te.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Te.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(c){void 0!==n.source_[c]&&(n.options_[c]=n.source_[c])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},a.src=function(n,i){var c=this;if(n){this.setOptions_(),this.options_.src=function(o){return 0===o.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(o.substring(o.indexOf(",")+1)):o}(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=js,this.options_.sourceType=an(i),this.options_.seekTo=function(O){c.tech_.setCurrentTime(O)},this.options_.smoothQualityChange&&et.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new T_(this.options_);var m=et.mergeOptions({liveRangeSafeTimeDelta:ar},this.options_,{seekable:function(){return c.seekable()},media:function(){return c.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Ov(m),this.masterPlaylistController_.on("error",function(){var O=et.players[c.tech_.options_.playerId],R=c.masterPlaylistController_.error;"object"!=typeof R||R.code?"string"==typeof R&&(R={message:R,code:3}):R.code=3,O.error(R)});var E=this.options_.experimentalBufferBasedABR?js.movingAverageBandwidthSelector(.55):js.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):E.bind(this),this.masterPlaylistController_.selectInitialPlaylist=js.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(R){this.masterPlaylistController_.selectPlaylist=R.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(R){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=R,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var R=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,X=z().navigator.connection||z().navigator.mozConnection||z().navigator.webkitConnection,Q=1e7;if(this.options_.useNetworkInformationApi&&X){var ve=1e3*X.downlink*1e3;R=ve>=Q&&R>=Q?Math.max(R,ve):ve}return R},set:function(R){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=R,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(this.throughput>0?1/this.throughput:0)))},set:function(){et.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return c.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return c.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return c.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return c.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return c.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return c.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return c.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return c.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return c.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return c.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return c.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return c.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return c.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Oo(c.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return c.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return c.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return c.tech_.name_},enumerable:!0},duration:{get:function(){return c.tech_.duration()},enumerable:!0},master:{get:function(){return c.playlists.master},enumerable:!0},playerDimensions:{get:function(){return c.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Oo(c.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return c.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){c.options_.useBandwidthFromLocalStorage&&function(o){if(!z().localStorage)return!1;var a=Ep();a=a?et.mergeOptions(a,o):o;try{z().localStorage.setItem(zg,JSON.stringify(a))}catch(s){return!1}}({bandwidth:c.bandwidth,throughput:Math.round(c.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(o){o.representations=function(){var a=o.masterPlaylistController_.master(),s=_u(a)?o.masterPlaylistController_.getAudioTrackPlaylists_():a.playlists;return s?s.filter(function(n){return!Po(n)}).map(function(n,i){return new x_(o,n,n.id)}):[]}}(c)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){c.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=z().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},a.setupEme_=function(){var n=this,i=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,c=function(o){var a=o.player,c=function(o,a,s){if(!o)return o;var n={};a&&a.attributes&&a.attributes.CODECS&&(n=th(fn(a.attributes.CODECS))),s&&s.attributes&&s.attributes.CODECS&&(n.audio=s.attributes.CODECS);var i=oi(n.video),c=oi(n.audio),m={};for(var E in o)m[E]={},c&&(m[E].audioContentType=c),i&&(m[E].videoContentType=i),a.contentProtection&&a.contentProtection[E]&&a.contentProtection[E].pssh&&(m[E].pssh=a.contentProtection[E].pssh),"string"==typeof o[E]&&(m[E].url=o[E]);return et.mergeOptions(o,m)}(o.sourceKeySystems,o.media,o.audioMedia);return!(!c||(a.currentSource().keySystems=c,c&&!a.eme&&(et.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))}({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:i&&i.media()});this.player_.tech_.on("keystatuschange",function(m){"output-restricted"===m.status&&n.masterPlaylistController_.blacklistCurrentPlaylist({playlist:n.masterPlaylistController_.media(),message:"DRM keystatus changed to "+m.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),11!==et.browser.IE_VERSION&&c?(this.logger_("waiting for EME key session creation"),function(o){var a=o.player,s=o.sourceKeySystems,n=o.audioMedia,i=o.mainPlaylists;if(!a.eme.initializeMediaKeys)return Promise.resolve();var m=function(o,a){return o.reduce(function(s,n){if(!n.contentProtection)return s;var i=a.reduce(function(c,m){var E=n.contentProtection[m];return E&&E.pssh&&(c[m]={pssh:E.pssh}),c},{});return Object.keys(i).length&&s.push(i),s},[])}(n?i.concat([n]):i,Object.keys(s)),E=[],O=[];return m.forEach(function(R){O.push(new Promise(function(X,Q){a.tech_.one("keysessioncreated",X)})),E.push(new Promise(function(X,Q){a.eme.initializeMediaKeys({keySystems:R},function(ve){ve?Q(ve):X()})}))}),Promise.race([Promise.all(E),Promise.race(O)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:i&&i.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){n.logger_("created EME key session"),n.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(m){n.logger_("error while creating EME key session",m),n.player_.error({message:"Failed to initialize media keys for EME",code:3})})):this.masterPlaylistController_.sourceUpdater_.initializedEme()},a.setupQualityLevels_=function(){var n=this,i=et.players[this.tech_.options_.playerId];!i||!i.qualityLevels||this.qualityLevels_||(this.qualityLevels_=i.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(o,a){a.representations().forEach(function(s){o.addQualityLevel(s)}),Wg(o,a.playlists)}(n.qualityLevels_,n)}),this.playlists.on("mediachange",function(){Wg(n.qualityLevels_,n.playlists)}))},o.version=function(){return{"@videojs/http-streaming":"2.12.0","mux.js":"5.14.1","mpd-parser":"0.19.2","m3u8-parser":"4.7.0","aes-decrypter":"3.1.2"}},a.version=function(){return this.constructor.version()},a.canChangeType=function(){return h_.canChangeType()},a.play=function(){this.masterPlaylistController_.play()},a.setCurrentTime=function(n){this.masterPlaylistController_.setCurrentTime(n)},a.duration=function(){return this.masterPlaylistController_.duration()},a.seekable=function(){return this.masterPlaylistController_.seekable()},a.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&z().URL.revokeObjectURL&&(z().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),p.prototype.dispose.call(this)},a.convertToProgramTime=function(n,i){return function(o){var a=o.playlist,s=o.time,n=void 0===s?void 0:s,i=o.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!a||void 0===n)return i({message:"getProgramTime: playlist and time must be provided"});var c=function(o,a){if(!a||!a.segments||0===a.segments.length)return null;for(var n,s=0,i=0;i<a.segments.length&&!(o<=(s=(n=a.segments[i]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:s+n.duration));i++);var c=a.segments[a.segments.length-1];if(c.videoTimingInfo&&c.videoTimingInfo.transmuxedPresentationEnd<o)return null;if(o>s){if(o>s+.25*c.duration)return null;n=c}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:s-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(n,a);if(!c)return i({message:"valid programTime was not found"});if("estimate"===c.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:c.estimatedStart});var m={mediaSeconds:n},E=function(o,a){if(!a.dateTimeObject)return null;var c=o-(a.videoTimingInfo.transmuxedPresentationStart+a.videoTimingInfo.transmuxerPrependedSeconds);return new Date(a.dateTimeObject.getTime()+1e3*c)}(n,c.segment);return E&&(m.programDateTime=E.toISOString()),i(null,m)}({playlist:this.masterPlaylistController_.media(),time:n,callback:i})},a.seekToProgramTime=function(n,i,c,m){return void 0===c&&(c=!0),void 0===m&&(m=2),gp({programTime:n,playlist:this.masterPlaylistController_.media(),retryCount:m,pauseAfterSeek:c,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})},o}(et.getComponent("Component")),wp={name:"videojs-http-streaming",VERSION:"2.12.0",canHandleSource:function(o,a){void 0===a&&(a={});var s=et.mergeOptions(et.options,a);return wp.canPlayType(o.type,s)},handleSource:function(o,a,s){void 0===s&&(s={});var n=et.mergeOptions(et.options,s);return a.vhs=new xp(o,a,n),et.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return et.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),a.vhs},configurable:!0}),a.vhs.xhr=dp(),a.vhs.src(o.src,o.type),a.vhs},canPlayType:function(o,a){void 0===a&&(a={});var n=et.mergeOptions(et.options,a).vhs.overrideNative,i=void 0===n?!et.browser.IS_ANY_SAFARI:n,c=an(o);return!c||js.supportsTypeNatively(c)&&!i?"":"maybe"}};qr("avc1.4d400d,mp4a.40.2")&&et.getTech("Html5").registerSourceHandler(wp,0),et.VhsHandler=xp,Object.defineProperty(et,"HlsHandler",{get:function(){return et.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),xp},configurable:!0}),et.VhsSourceHandler=wp,Object.defineProperty(et,"HlsSourceHandler",{get:function(){return et.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),wp},configurable:!0}),et.Vhs=js,Object.defineProperty(et,"Hls",{get:function(){return et.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),js},configurable:!0}),et.use||(et.registerComponent("Hls",js),et.registerComponent("Vhs",js)),et.options.vhs=et.options.vhs||{},et.options.hls=et.options.hls||{},et.getPlugin&&et.getPlugin("reloadSourceOnError")||(et.registerPlugin||et.plugin)("reloadSourceOnError",function(o){jg(this,o)});const M_=et;var kv=F(8629),Gg=F(8720);const Rv=["videoElement"];let A_=(()=>{class p{constructor(){this.isPlaying=!0}ngOnInit(){void 0!==this.videoElement&&(this.player=M_(this.videoElement.nativeElement,this.options,function(){this.load()}))}createOptions(a,s){return{controlsList:"nodownload",autoplay:s,controls:!1,preload:"auto",loadingSpinner:!1,sources:[{src:a,type:"video/webm"}]}}play(a=0){var s=this;return(0,A.Z)(function*(){yield(0,kv.Vs)(a);const n=s.player.play();void 0!==n&&n.then(i=>Promise.resolve()).catch(i=>{console.log("~ error",i)})})()}pause(){return this.player.pause()}get currentTime(){return this.player.currentTime()}set currentTime(a){this.player.currentTime(a)}ngOnDestroy(){this.player&&this.player.dispose()}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=Gg.Xpm({type:p,selectors:[["app-video-player"]],viewQuery:function(a,s){if(1&a&&Gg.Gf(Rv,7),2&a){let n;Gg.iGM(n=Gg.CRH())&&(s.videoElement=n.first)}},decls:0,vars:0,template:function(a,s){},styles:[""],encapsulation:2}),p})()},3557:(ct,Le,F)=>{"use strict";F.d(Le,{W:()=>j});const A="assets/animations/layout/",b="assets/animations/views/",z="assets/animations/views/config/features/",de=z+"balances/",ee=z+"regions/",ue=z+"usages/",oe=z+"carriers/",j={background:A+"Background.mp4",introFrame:A+"IntroFrame.webm",soundSequence:A+"SoundSequence.webm",reactor:A+"Reactor.webm",mainFrame:A+"MainFrame.webm",display:A+"Display.webm",selectionInfo:A+"SelectionInfo.webm",buttonCube:A+"ButtonCube.webm",buttonConfig:A+"ButtonConfig.webm",buttonChart:A+"ButtonChart.webm",buttonMute:A+"ButtonMute.webm",logo:A+"Logo.webm",initDescription:b+"Description.webm",configInfo:b+"ConfigInfo.webm",balances:de+"Balances.webm",buttonEB:de+"ButtonEB.webm",buttonUA:de+"ButtonUA.webm",buttonRES:de+"ButtonRES.webm",region_0:ee+"Wien.webm",region_1:ee+"Nieder\xf6sterreich.webm",region_2:ee+"Ober\xf6sterreich.webm",region_3:ee+"Burgenland.webm",region_4:ee+"K\xe4rnten.webm",region_5:ee+"Salzburg.webm",region_6:ee+"Steiermark.webm",region_7:ee+"Vorarlberg.webm",region_8:ee+"Tirol.webm",region_9:ee+"Austria.webm",carriersButton:oe+"CarriersButton.webm",carriersModal:oe+"CarriersModal.webm",usagesBackground:ue+"UsagesBackground.webm",usageSwitch_0:ue+"UsageSwitch_0.webm",usageSwitch_1:ue+"UsageSwitch_1.webm",usageSwitch_2:ue+"UsageSwitch_2.webm",usageSwitch_3:ue+"UsageSwitch_3.webm",usageSwitch_4:ue+"UsageSwitch_4.webm",usageSwitch_5:ue+"UsageSwitch_5.webm",usageSwitch_6:ue+"UsageSwitch_6.webm",usageSwitch_7:ue+"UsageSwitch_7.webm"}},5380:(ct,Le,F)=>{"use strict";var A=F(8583),b=F(8720);class z extends A.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends z{static makeCurrent(){(0,A.HT)(new de)}onAndCancel(d,u,g){return d.addEventListener(u,g,!1),()=>{d.removeEventListener(u,g,!1)}}dispatchEvent(d,u){d.dispatchEvent(u)}remove(d){d.parentNode&&d.parentNode.removeChild(d)}createElement(d,u){return(u=u||this.getDefaultDocument()).createElement(d)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(d){return d.nodeType===Node.ELEMENT_NODE}isShadowRoot(d){return d instanceof DocumentFragment}getGlobalEventTarget(d,u){return"window"===u?window:"document"===u?d:"body"===u?d.body:null}getBaseHref(d){const u=(ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null);return null==u?null:function(v){ue=ue||document.createElement("a"),ue.setAttribute("href",v);const d=ue.pathname;return"/"===d.charAt(0)?d:`/${d}`}(u)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(d){return(0,A.Mx)(document.cookie,d)}}let ue,ee=null;const j=new b.OlP("TRANSITION_ID"),ne=[{provide:b.ip1,useFactory:function(v,d,u){return()=>{u.get(b.CZH).donePromise.then(()=>{const g=(0,A.q)(),T=d.querySelectorAll(`style[ng-transition="${v}"]`);for(let L=0;L<T.length;L++)g.remove(T[L])})}},deps:[j,A.K0,b.zs3],multi:!0}];class G{static init(){(0,b.VLi)(new G)}addToWindow(d){b.dqk.getAngularTestability=(g,T=!0)=>{const L=d.findTestabilityInTree(g,T);if(null==L)throw new Error("Could not find testability for element.");return L},b.dqk.getAllAngularTestabilities=()=>d.getAllTestabilities(),b.dqk.getAllAngularRootElements=()=>d.getAllRootElements(),b.dqk.frameworkStabilizers||(b.dqk.frameworkStabilizers=[]),b.dqk.frameworkStabilizers.push(g=>{const T=b.dqk.getAllAngularTestabilities();let L=T.length,K=!1;const fe=function(Te){K=K||Te,L--,0==L&&g(K)};T.forEach(function(Te){Te.whenStable(fe)})})}findTestabilityInTree(d,u,g){if(null==u)return null;const T=d.getTestability(u);return null!=T?T:g?(0,A.q)().isShadowRoot(u)?this.findTestabilityInTree(d,u.host,!0):this.findTestabilityInTree(d,u.parentElement,!0):null}}let le=(()=>{class v{build(){return new XMLHttpRequest}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();const pe=new b.OlP("EventManagerPlugins");let xe=(()=>{class v{constructor(u,g){this._zone=g,this._eventNameToPlugin=new Map,u.forEach(T=>T.manager=this),this._plugins=u.slice().reverse()}addEventListener(u,g,T){return this._findPluginFor(g).addEventListener(u,g,T)}addGlobalEventListener(u,g,T){return this._findPluginFor(g).addGlobalEventListener(u,g,T)}getZone(){return this._zone}_findPluginFor(u){const g=this._eventNameToPlugin.get(u);if(g)return g;const T=this._plugins;for(let L=0;L<T.length;L++){const K=T[L];if(K.supports(u))return this._eventNameToPlugin.set(u,K),K}throw new Error(`No event manager plugin found for event ${u}`)}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(pe),b.LFG(b.R0b))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();class Fe{constructor(d){this._doc=d}addGlobalEventListener(d,u,g){const T=(0,A.q)().getGlobalEventTarget(this._doc,d);if(!T)throw new Error(`Unsupported event target ${T} for event ${u}`);return this.addEventListener(T,u,g)}}let Re=(()=>{class v{constructor(){this._stylesSet=new Set}addStyles(u){const g=new Set;u.forEach(T=>{this._stylesSet.has(T)||(this._stylesSet.add(T),g.add(T))}),this.onStylesAdded(g)}onStylesAdded(u){}getAllStyles(){return Array.from(this._stylesSet)}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})(),Je=(()=>{class v extends Re{constructor(u){super(),this._doc=u,this._hostNodes=new Map,this._hostNodes.set(u.head,[])}_addStylesToHost(u,g,T){u.forEach(L=>{const K=this._doc.createElement("style");K.textContent=L,T.push(g.appendChild(K))})}addHost(u){const g=[];this._addStylesToHost(this._stylesSet,u,g),this._hostNodes.set(u,g)}removeHost(u){const g=this._hostNodes.get(u);g&&g.forEach(ft),this._hostNodes.delete(u)}onStylesAdded(u){this._hostNodes.forEach((g,T)=>{this._addStylesToHost(u,T,g)})}ngOnDestroy(){this._hostNodes.forEach(u=>u.forEach(ft))}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(A.K0))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();function ft(v){(0,A.q)().remove(v)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g;function Un(v,d,u){for(let g=0;g<d.length;g++){let T=d[g];Array.isArray(T)?Un(v,T,u):(T=T.replace(lt,v),u.push(T))}return u}function Sn(v){return d=>{if("__ngUnwrap__"===d)return v;!1===v(d)&&(d.preventDefault(),d.returnValue=!1)}}let Mn=(()=>{class v{constructor(u,g,T){this.eventManager=u,this.sharedStylesHost=g,this.appId=T,this.rendererByCompId=new Map,this.defaultRenderer=new Rn(u)}createRenderer(u,g){if(!u||!g)return this.defaultRenderer;switch(g.encapsulation){case b.ifc.Emulated:{let T=this.rendererByCompId.get(g.id);return T||(T=new qr(this.eventManager,this.sharedStylesHost,g,this.appId),this.rendererByCompId.set(g.id,T)),T.applyToHost(u),T}case 1:case b.ifc.ShadowDom:return new rr(this.eventManager,this.sharedStylesHost,u,g);default:if(!this.rendererByCompId.has(g.id)){const T=Un(g.id,g.styles,[]);this.sharedStylesHost.addStyles(T),this.rendererByCompId.set(g.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(xe),b.LFG(Je),b.LFG(b.AFp))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();class Rn{constructor(d){this.eventManager=d,this.data=Object.create(null)}destroy(){}createElement(d,u){return u?document.createElementNS(vt[u]||u,d):document.createElement(d)}createComment(d){return document.createComment(d)}createText(d){return document.createTextNode(d)}appendChild(d,u){d.appendChild(u)}insertBefore(d,u,g){d&&d.insertBefore(u,g)}removeChild(d,u){d&&d.removeChild(u)}selectRootElement(d,u){let g="string"==typeof d?document.querySelector(d):d;if(!g)throw new Error(`The selector "${d}" did not match any elements`);return u||(g.textContent=""),g}parentNode(d){return d.parentNode}nextSibling(d){return d.nextSibling}setAttribute(d,u,g,T){if(T){u=T+":"+u;const L=vt[T];L?d.setAttributeNS(L,u,g):d.setAttribute(u,g)}else d.setAttribute(u,g)}removeAttribute(d,u,g){if(g){const T=vt[g];T?d.removeAttributeNS(T,u):d.removeAttribute(`${g}:${u}`)}else d.removeAttribute(u)}addClass(d,u){d.classList.add(u)}removeClass(d,u){d.classList.remove(u)}setStyle(d,u,g,T){T&(b.JOm.DashCase|b.JOm.Important)?d.style.setProperty(u,g,T&b.JOm.Important?"important":""):d.style[u]=g}removeStyle(d,u,g){g&b.JOm.DashCase?d.style.removeProperty(u):d.style[u]=""}setProperty(d,u,g){d[u]=g}setValue(d,u){d.nodeValue=u}listen(d,u,g){return"string"==typeof d?this.eventManager.addGlobalEventListener(d,u,Sn(g)):this.eventManager.addEventListener(d,u,Sn(g))}}class qr extends Rn{constructor(d,u,g,T){super(d),this.component=g;const L=Un(T+"-"+g.id,g.styles,[]);u.addStyles(L),this.contentAttr="_ngcontent-%COMP%".replace(lt,T+"-"+g.id),this.hostAttr=function(v){return"_nghost-%COMP%".replace(lt,v)}(T+"-"+g.id)}applyToHost(d){super.setAttribute(d,this.hostAttr,"")}createElement(d,u){const g=super.createElement(d,u);return super.setAttribute(g,this.contentAttr,""),g}}class rr extends Rn{constructor(d,u,g,T){super(d),this.sharedStylesHost=u,this.hostEl=g,this.shadowRoot=g.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const L=Un(T.id,T.styles,[]);for(let K=0;K<L.length;K++){const fe=document.createElement("style");fe.textContent=L[K],this.shadowRoot.appendChild(fe)}}nodeOrShadowRoot(d){return d===this.hostEl?this.shadowRoot:d}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(d,u){return super.appendChild(this.nodeOrShadowRoot(d),u)}insertBefore(d,u,g){return super.insertBefore(this.nodeOrShadowRoot(d),u,g)}removeChild(d,u){return super.removeChild(this.nodeOrShadowRoot(d),u)}parentNode(d){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(d)))}}let wi=(()=>{class v extends Fe{constructor(u){super(u)}supports(u){return!0}addEventListener(u,g,T){return u.addEventListener(g,T,!1),()=>this.removeEventListener(u,g,T)}removeEventListener(u,g,T){return u.removeEventListener(g,T)}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(A.K0))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();const Jn=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ga={alt:v=>v.altKey,control:v=>v.ctrlKey,meta:v=>v.metaKey,shift:v=>v.shiftKey};let En=(()=>{class v extends Fe{constructor(u){super(u)}supports(u){return null!=v.parseEventName(u)}addEventListener(u,g,T){const L=v.parseEventName(g),K=v.eventCallback(L.fullKey,T,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,A.q)().onAndCancel(u,L.domEventName,K))}static parseEventName(u){const g=u.toLowerCase().split("."),T=g.shift();if(0===g.length||"keydown"!==T&&"keyup"!==T)return null;const L=v._normalizeKey(g.pop());let K="";if(Jn.forEach(Te=>{const Be=g.indexOf(Te);Be>-1&&(g.splice(Be,1),K+=Te+".")}),K+=L,0!=g.length||0===L.length)return null;const fe={};return fe.domEventName=T,fe.fullKey=K,fe}static getEventFullKey(u){let g="",T=function(v){let d=v.key;if(null==d){if(d=v.keyIdentifier,null==d)return"Unidentified";d.startsWith("U+")&&(d=String.fromCharCode(parseInt(d.substring(2),16)),3===v.location&&Lo.hasOwnProperty(d)&&(d=Lo[d]))}return yn[d]||d}(u);return T=T.toLowerCase()," "===T?T="space":"."===T&&(T="dot"),Jn.forEach(L=>{L!=T&&ga[L](u)&&(g+=L+".")}),g+=T,g}static eventCallback(u,g,T){return L=>{v.getEventFullKey(L)===u&&T.runGuarded(()=>g(L))}}static _normalizeKey(u){switch(u){case"esc":return"escape";default:return u}}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(A.K0))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();const Vn=(0,b.eFA)(b._c5,"browser",[{provide:b.Lbi,useValue:A.bD},{provide:b.g9A,useValue:function(){de.makeCurrent(),G.init()},multi:!0},{provide:A.K0,useFactory:function(){return(0,b.RDi)(document),document},deps:[]}]),jn=[[],{provide:b.zSh,useValue:"root"},{provide:b.qLn,useFactory:function(){return new b.qLn},deps:[]},{provide:pe,useClass:wi,multi:!0,deps:[A.K0,b.R0b,b.Lbi]},{provide:pe,useClass:En,multi:!0,deps:[A.K0]},[],{provide:Mn,useClass:Mn,deps:[xe,Je,b.AFp]},{provide:b.FYo,useExisting:Mn},{provide:Re,useExisting:Je},{provide:Je,useClass:Je,deps:[A.K0]},{provide:b.dDg,useClass:b.dDg,deps:[b.R0b]},{provide:xe,useClass:xe,deps:[pe,b.R0b]},{provide:A.JF,useClass:le,deps:[]},[]];let sr=(()=>{class v{constructor(u){if(u)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(u){return{ngModule:v,providers:[{provide:b.AFp,useValue:u.appId},{provide:j,useExisting:b.AFp},ne]}}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(v,12))},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({providers:jn,imports:[A.ez,b.hGG]}),v})();"undefined"!=typeof window&&window;let or=(()=>{class v{constructor(){this.store={},this.onSerializeCallbacks={}}static init(u){const g=new v;return g.store=u,g}get(u,g){return void 0!==this.store[u]?this.store[u]:g}set(u,g){this.store[u]=g}remove(u){delete this.store[u]}hasKey(u){return this.store.hasOwnProperty(u)}onSerialize(u,g){this.onSerializeCallbacks[u]=g}toJson(){for(const u in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(u))try{this.store[u]=this.onSerializeCallbacks[u]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store)}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();function Pr(v,d){const u=v.getElementById(d+"-state");let g={};if(u&&u.textContent)try{g=JSON.parse(function(v){const d={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return v.replace(/&[^;]+;/g,u=>d[u])}(u.textContent))}catch(T){console.warn("Exception while restoring TransferState for app "+d,T)}return or.init(g)}let zs=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({providers:[{provide:or,useFactory:Pr,deps:[A.K0,b.AFp]}]}),v})();var Yr=F(6465),Ni=F(5917),_n=F(7574),ho=F(4612),os=F(5435),gi=F(8002);class ks{}class Pi{}class li{constructor(d){this.normalizedNames=new Map,this.lazyUpdate=null,d?this.lazyInit="string"==typeof d?()=>{this.headers=new Map,d.split("\n").forEach(u=>{const g=u.indexOf(":");if(g>0){const T=u.slice(0,g),L=T.toLowerCase(),K=u.slice(g+1).trim();this.maybeSetNormalizedName(T,L),this.headers.has(L)?this.headers.get(L).push(K):this.headers.set(L,[K])}})}:()=>{this.headers=new Map,Object.keys(d).forEach(u=>{let g=d[u];const T=u.toLowerCase();"string"==typeof g&&(g=[g]),g.length>0&&(this.headers.set(T,g),this.maybeSetNormalizedName(u,T))})}:this.headers=new Map}has(d){return this.init(),this.headers.has(d.toLowerCase())}get(d){this.init();const u=this.headers.get(d.toLowerCase());return u&&u.length>0?u[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(d){return this.init(),this.headers.get(d.toLowerCase())||null}append(d,u){return this.clone({name:d,value:u,op:"a"})}set(d,u){return this.clone({name:d,value:u,op:"s"})}delete(d,u){return this.clone({name:d,value:u,op:"d"})}maybeSetNormalizedName(d,u){this.normalizedNames.has(u)||this.normalizedNames.set(u,d)}init(){this.lazyInit&&(this.lazyInit instanceof li?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(d=>this.applyUpdate(d)),this.lazyUpdate=null))}copyFrom(d){d.init(),Array.from(d.headers.keys()).forEach(u=>{this.headers.set(u,d.headers.get(u)),this.normalizedNames.set(u,d.normalizedNames.get(u))})}clone(d){const u=new li;return u.lazyInit=this.lazyInit&&this.lazyInit instanceof li?this.lazyInit:this,u.lazyUpdate=(this.lazyUpdate||[]).concat([d]),u}applyUpdate(d){const u=d.name.toLowerCase();switch(d.op){case"a":case"s":let g=d.value;if("string"==typeof g&&(g=[g]),0===g.length)return;this.maybeSetNormalizedName(d.name,u);const T=("a"===d.op?this.headers.get(u):void 0)||[];T.push(...g),this.headers.set(u,T);break;case"d":const L=d.value;if(L){let K=this.headers.get(u);if(!K)return;K=K.filter(fe=>-1===L.indexOf(fe)),0===K.length?(this.headers.delete(u),this.normalizedNames.delete(u)):this.headers.set(u,K)}else this.headers.delete(u),this.normalizedNames.delete(u)}}forEach(d){this.init(),Array.from(this.normalizedNames.keys()).forEach(u=>d(this.normalizedNames.get(u),this.headers.get(u)))}}class Es{encodeKey(d){return Fo(d)}encodeValue(d){return Fo(d)}decodeKey(d){return decodeURIComponent(d)}decodeValue(d){return decodeURIComponent(d)}}const dr=/%(\d[a-f0-9])/gi,to={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Fo(v){return encodeURIComponent(v).replace(dr,(d,u)=>{var g;return null!==(g=to[u])&&void 0!==g?g:d})}function Gs(v){return`${v}`}class mi{constructor(d={}){if(this.updates=null,this.cloneFrom=null,this.encoder=d.encoder||new Es,d.fromString){if(d.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(v,d){const u=new Map;return v.length>0&&v.replace(/^\?/,"").split("&").forEach(T=>{const L=T.indexOf("="),[K,fe]=-1==L?[d.decodeKey(T),""]:[d.decodeKey(T.slice(0,L)),d.decodeValue(T.slice(L+1))],Te=u.get(K)||[];Te.push(fe),u.set(K,Te)}),u}(d.fromString,this.encoder)}else d.fromObject?(this.map=new Map,Object.keys(d.fromObject).forEach(u=>{const g=d.fromObject[u];this.map.set(u,Array.isArray(g)?g:[g])})):this.map=null}has(d){return this.init(),this.map.has(d)}get(d){this.init();const u=this.map.get(d);return u?u[0]:null}getAll(d){return this.init(),this.map.get(d)||null}keys(){return this.init(),Array.from(this.map.keys())}append(d,u){return this.clone({param:d,value:u,op:"a"})}appendAll(d){const u=[];return Object.keys(d).forEach(g=>{const T=d[g];Array.isArray(T)?T.forEach(L=>{u.push({param:g,value:L,op:"a"})}):u.push({param:g,value:T,op:"a"})}),this.clone(u)}set(d,u){return this.clone({param:d,value:u,op:"s"})}delete(d,u){return this.clone({param:d,value:u,op:"d"})}toString(){return this.init(),this.keys().map(d=>{const u=this.encoder.encodeKey(d);return this.map.get(d).map(g=>u+"="+this.encoder.encodeValue(g)).join("&")}).filter(d=>""!==d).join("&")}clone(d){const u=new mi({encoder:this.encoder});return u.cloneFrom=this.cloneFrom||this,u.updates=(this.updates||[]).concat(d),u}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(d=>this.map.set(d,this.cloneFrom.map.get(d))),this.updates.forEach(d=>{switch(d.op){case"a":case"s":const u=("a"===d.op?this.map.get(d.param):void 0)||[];u.push(Gs(d.value)),this.map.set(d.param,u);break;case"d":if(void 0===d.value){this.map.delete(d.param);break}{let g=this.map.get(d.param)||[];const T=g.indexOf(Gs(d.value));-1!==T&&g.splice(T,1),g.length>0?this.map.set(d.param,g):this.map.delete(d.param)}}}),this.cloneFrom=this.updates=null)}}class Bo{constructor(){this.map=new Map}set(d,u){return this.map.set(d,u),this}get(d){return this.map.has(d)||this.map.set(d,d.defaultValue()),this.map.get(d)}delete(d){return this.map.delete(d),this}keys(){return this.map.keys()}}function jr(v){return"undefined"!=typeof ArrayBuffer&&v instanceof ArrayBuffer}function ln(v){return"undefined"!=typeof Blob&&v instanceof Blob}function Tr(v){return"undefined"!=typeof FormData&&v instanceof FormData}class Dr{constructor(d,u,g,T){let L;if(this.url=u,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=d.toUpperCase(),function(v){switch(v){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||T?(this.body=void 0!==g?g:null,L=T):L=g,L&&(this.reportProgress=!!L.reportProgress,this.withCredentials=!!L.withCredentials,L.responseType&&(this.responseType=L.responseType),L.headers&&(this.headers=L.headers),L.context&&(this.context=L.context),L.params&&(this.params=L.params)),this.headers||(this.headers=new li),this.context||(this.context=new Bo),this.params){const K=this.params.toString();if(0===K.length)this.urlWithParams=u;else{const fe=u.indexOf("?");this.urlWithParams=u+(-1===fe?"?":fe<u.length-1?"&":"")+K}}else this.params=new mi,this.urlWithParams=u}serializeBody(){return null===this.body?null:jr(this.body)||ln(this.body)||Tr(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof mi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tr(this.body)?null:ln(this.body)?this.body.type||null:jr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(d={}){var u;const g=d.method||this.method,T=d.url||this.url,L=d.responseType||this.responseType,K=void 0!==d.body?d.body:this.body,fe=void 0!==d.withCredentials?d.withCredentials:this.withCredentials,Te=void 0!==d.reportProgress?d.reportProgress:this.reportProgress;let Be=d.headers||this.headers,tt=d.params||this.params;const gt=null!==(u=d.context)&&void 0!==u?u:this.context;return void 0!==d.setHeaders&&(Be=Object.keys(d.setHeaders).reduce((Tt,Ct)=>Tt.set(Ct,d.setHeaders[Ct]),Be)),d.setParams&&(tt=Object.keys(d.setParams).reduce((Tt,Ct)=>Tt.set(Ct,d.setParams[Ct]),tt)),new Dr(g,T,K,{params:tt,headers:Be,context:gt,reportProgress:Te,responseType:L,withCredentials:fe})}}var $n=(()=>(($n=$n||{})[$n.Sent=0]="Sent",$n[$n.UploadProgress=1]="UploadProgress",$n[$n.ResponseHeader=2]="ResponseHeader",$n[$n.DownloadProgress=3]="DownloadProgress",$n[$n.Response=4]="Response",$n[$n.User=5]="User",$n))();class no{constructor(d,u=200,g="OK"){this.headers=d.headers||new li,this.status=void 0!==d.status?d.status:u,this.statusText=d.statusText||g,this.url=d.url||null,this.ok=this.status>=200&&this.status<300}}class Br extends no{constructor(d={}){super(d),this.type=$n.ResponseHeader}clone(d={}){return new Br({headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class ja extends no{constructor(d={}){super(d),this.type=$n.Response,this.body=void 0!==d.body?d.body:null}clone(d={}){return new ja({body:void 0!==d.body?d.body:this.body,headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class zl extends no{constructor(d){super(d,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${d.url||"(unknown url)"}`:`Http failure response for ${d.url||"(unknown url)"}: ${d.status} ${d.statusText}`,this.error=d.error||null}}function go(v,d){return{body:d,headers:v.headers,context:v.context,observe:v.observe,params:v.params,reportProgress:v.reportProgress,responseType:v.responseType,withCredentials:v.withCredentials}}let Ha=(()=>{class v{constructor(u){this.handler=u}request(u,g,T={}){let L;if(u instanceof Dr)L=u;else{let Te,Be;Te=T.headers instanceof li?T.headers:new li(T.headers),T.params&&(Be=T.params instanceof mi?T.params:new mi({fromObject:T.params})),L=new Dr(u,g,void 0!==T.body?T.body:null,{headers:Te,context:T.context,params:Be,reportProgress:T.reportProgress,responseType:T.responseType||"json",withCredentials:T.withCredentials})}const K=(0,Ni.of)(L).pipe((0,ho.b)(Te=>this.handler.handle(Te)));if(u instanceof Dr||"events"===T.observe)return K;const fe=K.pipe((0,os.h)(Te=>Te instanceof ja));switch(T.observe||"body"){case"body":switch(L.responseType){case"arraybuffer":return fe.pipe((0,gi.U)(Te=>{if(null!==Te.body&&!(Te.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Te.body}));case"blob":return fe.pipe((0,gi.U)(Te=>{if(null!==Te.body&&!(Te.body instanceof Blob))throw new Error("Response is not a Blob.");return Te.body}));case"text":return fe.pipe((0,gi.U)(Te=>{if(null!==Te.body&&"string"!=typeof Te.body)throw new Error("Response is not a string.");return Te.body}));case"json":default:return fe.pipe((0,gi.U)(Te=>Te.body))}case"response":return fe;default:throw new Error(`Unreachable: unhandled observe type ${T.observe}}`)}}delete(u,g={}){return this.request("DELETE",u,g)}get(u,g={}){return this.request("GET",u,g)}head(u,g={}){return this.request("HEAD",u,g)}jsonp(u,g){return this.request("JSONP",u,{params:(new mi).append(g,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(u,g={}){return this.request("OPTIONS",u,g)}patch(u,g,T={}){return this.request("PATCH",u,go(T,g))}post(u,g,T={}){return this.request("POST",u,go(T,g))}put(u,g,T={}){return this.request("PUT",u,go(T,g))}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(ks))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();class ma{constructor(d,u){this.next=d,this.interceptor=u}handle(d){return this.interceptor.intercept(d,this.next)}}const cl=new b.OlP("HTTP_INTERCEPTORS");let Er=(()=>{class v{intercept(u,g){return g.handle(u)}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();const Vo=/^\)\]\}',?\n/;let Wa=(()=>{class v{constructor(u){this.xhrFactory=u}handle(u){if("JSONP"===u.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _n.y(g=>{const T=this.xhrFactory.build();if(T.open(u.method,u.urlWithParams),u.withCredentials&&(T.withCredentials=!0),u.headers.forEach((Ct,Pt)=>T.setRequestHeader(Ct,Pt.join(","))),u.headers.has("Accept")||T.setRequestHeader("Accept","application/json, text/plain, */*"),!u.headers.has("Content-Type")){const Ct=u.detectContentTypeHeader();null!==Ct&&T.setRequestHeader("Content-Type",Ct)}if(u.responseType){const Ct=u.responseType.toLowerCase();T.responseType="json"!==Ct?Ct:"text"}const L=u.serializeBody();let K=null;const fe=()=>{if(null!==K)return K;const Ct=1223===T.status?204:T.status,Pt=T.statusText||"OK",Ut=new li(T.getAllResponseHeaders()),sn=function(v){return"responseURL"in v&&v.responseURL?v.responseURL:/^X-Request-URL:/m.test(v.getAllResponseHeaders())?v.getResponseHeader("X-Request-URL"):null}(T)||u.url;return K=new Br({headers:Ut,status:Ct,statusText:Pt,url:sn}),K},Te=()=>{let{headers:Ct,status:Pt,statusText:Ut,url:sn}=fe(),on=null;204!==Pt&&(on=void 0===T.response?T.responseText:T.response),0===Pt&&(Pt=on?200:0);let bn=Pt>=200&&Pt<300;if("json"===u.responseType&&"string"==typeof on){const An=on;on=on.replace(Vo,"");try{on=""!==on?JSON.parse(on):null}catch(xn){on=An,bn&&(bn=!1,on={error:xn,text:on})}}bn?(g.next(new ja({body:on,headers:Ct,status:Pt,statusText:Ut,url:sn||void 0})),g.complete()):g.error(new zl({error:on,headers:Ct,status:Pt,statusText:Ut,url:sn||void 0}))},Be=Ct=>{const{url:Pt}=fe(),Ut=new zl({error:Ct,status:T.status||0,statusText:T.statusText||"Unknown Error",url:Pt||void 0});g.error(Ut)};let tt=!1;const gt=Ct=>{tt||(g.next(fe()),tt=!0);let Pt={type:$n.DownloadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(Pt.total=Ct.total),"text"===u.responseType&&!!T.responseText&&(Pt.partialText=T.responseText),g.next(Pt)},Tt=Ct=>{let Pt={type:$n.UploadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(Pt.total=Ct.total),g.next(Pt)};return T.addEventListener("load",Te),T.addEventListener("error",Be),T.addEventListener("timeout",Be),T.addEventListener("abort",Be),u.reportProgress&&(T.addEventListener("progress",gt),null!==L&&T.upload&&T.upload.addEventListener("progress",Tt)),T.send(L),g.next({type:$n.Sent}),()=>{T.removeEventListener("error",Be),T.removeEventListener("abort",Be),T.removeEventListener("load",Te),T.removeEventListener("timeout",Be),u.reportProgress&&(T.removeEventListener("progress",gt),null!==L&&T.upload&&T.upload.removeEventListener("progress",Tt)),T.readyState!==T.DONE&&T.abort()}})}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(A.JF))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();const dl=new b.OlP("XSRF_COOKIE_NAME"),xs=new b.OlP("XSRF_HEADER_NAME");class mo{}let va=(()=>{class v{constructor(u,g,T){this.doc=u,this.platform=g,this.cookieName=T,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const u=this.doc.cookie||"";return u!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,A.Mx)(u,this.cookieName),this.lastCookieString=u),this.lastToken}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(A.K0),b.LFG(b.Lbi),b.LFG(dl))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})(),ya=(()=>{class v{constructor(u,g){this.tokenService=u,this.headerName=g}intercept(u,g){const T=u.url.toLowerCase();if("GET"===u.method||"HEAD"===u.method||T.startsWith("http://")||T.startsWith("https://"))return g.handle(u);const L=this.tokenService.getToken();return null!==L&&!u.headers.has(this.headerName)&&(u=u.clone({headers:u.headers.set(this.headerName,L)})),g.handle(u)}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(mo),b.LFG(xs))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})(),Li=(()=>{class v{constructor(u,g){this.backend=u,this.injector=g,this.chain=null}handle(u){if(null===this.chain){const g=this.injector.get(cl,[]);this.chain=g.reduceRight((T,L)=>new ma(T,L),this.backend)}return this.chain.handle(u)}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(Pi),b.LFG(b.zs3))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})(),yo=(()=>{class v{static disable(){return{ngModule:v,providers:[{provide:ya,useClass:Er}]}}static withOptions(u={}){return{ngModule:v,providers:[u.cookieName?{provide:dl,useValue:u.cookieName}:[],u.headerName?{provide:xs,useValue:u.headerName}:[]]}}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({providers:[ya,{provide:cl,useExisting:ya,multi:!0},{provide:mo,useClass:va},{provide:dl,useValue:"XSRF-TOKEN"},{provide:xs,useValue:"X-XSRF-TOKEN"}]}),v})(),fl=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({providers:[Ha,{provide:ks,useClass:Li},Wa,{provide:Pi,useExisting:Wa}],imports:[[yo.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),v})();class fr{}const ws="*";function Mi(v,d){return{type:7,name:v,definitions:d,options:{}}}function Yi(v,d=null){return{type:4,styles:d,timings:v}}function _o(v,d=null){return{type:2,steps:v,options:d}}function Zt(v){return{type:6,styles:v,offset:null}}function as(v,d,u){return{type:0,name:v,styles:d,options:u}}function q(v){return{type:5,steps:v}}function me(v,d,u=null){return{type:1,expr:v,animation:d,options:u}}function V(v,d,u=null){return{type:11,selector:v,animation:d,options:u}}function be(v){Promise.resolve(null).then(v)}class We{constructor(d=0,u=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=d+u}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){be(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(d=>d()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(d){this._position=this.totalTime?d*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(d){const u="start"==d?this._onStartFns:this._onDoneFns;u.forEach(g=>g()),u.length=0}}class ot{constructor(d){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=d;let u=0,g=0,T=0;const L=this.players.length;0==L?be(()=>this._onFinish()):this.players.forEach(K=>{K.onDone(()=>{++u==L&&this._onFinish()}),K.onDestroy(()=>{++g==L&&this._onDestroy()}),K.onStart(()=>{++T==L&&this._onStart()})}),this.totalTime=this.players.reduce((K,fe)=>Math.max(K,fe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this.players.forEach(d=>d.init())}onStart(d){this._onStartFns.push(d)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(d=>d()),this._onStartFns=[])}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(d=>d.play())}pause(){this.players.forEach(d=>d.pause())}restart(){this.players.forEach(d=>d.restart())}finish(){this._onFinish(),this.players.forEach(d=>d.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(d=>d.destroy()),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}reset(){this.players.forEach(d=>d.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(d){const u=d*this.totalTime;this.players.forEach(g=>{const T=g.totalTime?Math.min(1,u/g.totalTime):1;g.setPosition(T)})}getPosition(){const d=this.players.reduce((u,g)=>null===u||g.totalTime>u.totalTime?g:u,null);return null!=d?d.getPosition():0}beforeDestroy(){this.players.forEach(d=>{d.beforeDestroy&&d.beforeDestroy()})}triggerCallback(d){const u="start"==d?this._onStartFns:this._onDoneFns;u.forEach(g=>g()),u.length=0}}function ut(){return"undefined"!=typeof window&&void 0!==window.document}function Ot(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function St(v){switch(v.length){case 0:return new We;case 1:return v[0];default:return new ot(v)}}function It(v,d,u,g,T={},L={}){const K=[],fe=[];let Te=-1,Be=null;if(g.forEach(tt=>{const gt=tt.offset,Tt=gt==Te,Ct=Tt&&Be||{};Object.keys(tt).forEach(Pt=>{let Ut=Pt,sn=tt[Pt];if("offset"!==Pt)switch(Ut=d.normalizePropertyName(Ut,K),sn){case"!":sn=T[Pt];break;case ws:sn=L[Pt];break;default:sn=d.normalizeStyleValue(Pt,Ut,sn,K)}Ct[Ut]=sn}),Tt||fe.push(Ct),Be=Ct,Te=gt}),K.length){const tt="\n - ";throw new Error(`Unable to animate due to the following errors:${tt}${K.join(tt)}`)}return fe}function zt(v,d,u,g){switch(d){case"start":v.onStart(()=>g(u&&Gt(u,"start",v)));break;case"done":v.onDone(()=>g(u&&Gt(u,"done",v)));break;case"destroy":v.onDestroy(()=>g(u&&Gt(u,"destroy",v)))}}function Gt(v,d,u){const g=u.totalTime,L=Wt(v.element,v.triggerName,v.fromState,v.toState,d||v.phaseName,null==g?v.totalTime:g,!!u.disabled),K=v._data;return null!=K&&(L._data=K),L}function Wt(v,d,u,g,T="",L=0,K){return{element:v,triggerName:d,fromState:u,toState:g,phaseName:T,totalTime:L,disabled:!!K}}function en(v,d,u){let g;return v instanceof Map?(g=v.get(d),g||v.set(d,g=u)):(g=v[d],g||(g=v[d]=u)),g}function un(v){const d=v.indexOf(":");return[v.substring(1,d),v.substr(d+1)]}let Wn=(v,d)=>!1,tn=(v,d)=>!1,Ur=(v,d,u)=>[];const vr=Ot();(vr||"undefined"!=typeof Element)&&(Wn=ut()?(v,d)=>{for(;d&&d!==document.documentElement;){if(d===v)return!0;d=d.parentNode||d.host}return!1}:(v,d)=>v.contains(d),tn=(()=>{if(vr||Element.prototype.matches)return(v,d)=>v.matches(d);{const v=Element.prototype,d=v.matchesSelector||v.mozMatchesSelector||v.msMatchesSelector||v.oMatchesSelector||v.webkitMatchesSelector;return d?(u,g)=>d.apply(u,[g]):tn}})(),Ur=(v,d,u)=>{let g=[];if(u){const T=v.querySelectorAll(d);for(let L=0;L<T.length;L++)g.push(T[L])}else{const T=v.querySelector(d);T&&g.push(T)}return g});let Fi=null,Xi=!1;function Nt(v){Fi||(Fi=("undefined"!=typeof document?document.body:null)||{},Xi=!!Fi.style&&"WebkitAppearance"in Fi.style);let d=!0;return Fi.style&&!function(v){return"ebkit"==v.substring(1,6)}(v)&&(d=v in Fi.style,!d&&Xi&&(d="Webkit"+v.charAt(0).toUpperCase()+v.substr(1)in Fi.style)),d}const kn=tn,Ar=Wn,Ga=Ur;function Xr(v){const d={};return Object.keys(v).forEach(u=>{const g=u.replace(/([a-z])([A-Z])/g,"$1-$2");d[g]=v[u]}),d}let Zr=(()=>{class v{validateStyleProperty(u){return Nt(u)}matchesElement(u,g){return kn(u,g)}containsElement(u,g){return Ar(u,g)}query(u,g,T){return Ga(u,g,T)}computeStyle(u,g,T){return T||""}animate(u,g,T,L,K,fe=[],Te){return new We(T,L)}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})(),ci=(()=>{class v{}return v.NOOP=new Zr,v})();const Ss="ng-enter",$r="ng-leave",pl="ng-trigger",Ho=".ng-trigger",Bi="ng-animating",Ql=".ng-animating";function $o(v){if("number"==typeof v)return v;const d=v.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:Ru(parseFloat(d[1]),d[2])}function Ru(v,d){switch(d){case"s":return 1e3*v;default:return v}}function _a(v,d,u){return v.hasOwnProperty("duration")?v:function(v,d,u){let T,L=0,K="";if("string"==typeof v){const fe=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===fe)return d.push(`The provided timing value "${v}" is invalid.`),{duration:0,delay:0,easing:""};T=Ru(parseFloat(fe[1]),fe[2]);const Te=fe[3];null!=Te&&(L=Ru(parseFloat(Te),fe[4]));const Be=fe[5];Be&&(K=Be)}else T=v;if(!u){let fe=!1,Te=d.length;T<0&&(d.push("Duration values below 0 are not allowed for this animation step."),fe=!0),L<0&&(d.push("Delay values below 0 are not allowed for this animation step."),fe=!0),fe&&d.splice(Te,0,`The provided timing value "${v}" is invalid.`)}return{duration:T,delay:L,easing:K}}(v,d,u)}function zo(v,d={}){return Object.keys(v).forEach(u=>{d[u]=v[u]}),d}function Ks(v,d,u={}){if(d)for(let g in v)u[g]=v[g];else zo(v,u);return u}function lc(v,d,u){return u?d+":"+u+";":""}function Ca(v){let d="";for(let u=0;u<v.style.length;u++){const g=v.style.item(u);d+=lc(0,g,v.style.getPropertyValue(g))}for(const u in v.style)v.style.hasOwnProperty(u)&&!u.startsWith("_")&&(d+=lc(0,Gr(u),v.style[u]));v.setAttribute("style",d)}function ms(v,d,u){v.style&&(Object.keys(d).forEach(g=>{const T=vs(g);u&&!u.hasOwnProperty(g)&&(u[g]=v.style[T]),v.style[T]=d[g]}),Ot()&&Ca(v))}function bo(v,d){v.style&&(Object.keys(d).forEach(u=>{const g=vs(u);v.style[g]=""}),Ot()&&Ca(v))}function yi(v){return Array.isArray(v)?1==v.length?v[0]:_o(v):v}const ql=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qa(v){let d=[];if("string"==typeof v){let u;for(;u=ql.exec(v);)d.push(u[1]);ql.lastIndex=0}return d}function gl(v,d,u){const g=v.toString(),T=g.replace(ql,(L,K)=>{let fe=d[K];return d.hasOwnProperty(K)||(u.push(`Please provide a value for the animation param ${K}`),fe=""),fe.toString()});return T==g?v:T}function Kl(v){const d=[];let u=v.next();for(;!u.done;)d.push(u.value),u=v.next();return d}const _i=/-+([a-z0-9])/g;function vs(v){return v.replace(_i,(...d)=>d[1].toUpperCase())}function Gr(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Lu(v,d){return 0===v||0===d}function cr(v,d,u){const g=Object.keys(u);if(g.length&&d.length){let L=d[0],K=[];if(g.forEach(fe=>{L.hasOwnProperty(fe)||K.push(fe),L[fe]=u[fe]}),K.length)for(var T=1;T<d.length;T++){let fe=d[T];K.forEach(function(Te){fe[Te]=Yl(v,Te)})}}return d}function Jr(v,d,u){switch(d.type){case 7:return v.visitTrigger(d,u);case 0:return v.visitState(d,u);case 1:return v.visitTransition(d,u);case 2:return v.visitSequence(d,u);case 3:return v.visitGroup(d,u);case 4:return v.visitAnimate(d,u);case 5:return v.visitKeyframes(d,u);case 6:return v.visitStyle(d,u);case 8:return v.visitReference(d,u);case 9:return v.visitAnimateChild(d,u);case 10:return v.visitAnimateRef(d,u);case 11:return v.visitQuery(d,u);case 12:return v.visitStagger(d,u);default:throw new Error(`Unable to resolve animation metadata node #${d.type}`)}}function Yl(v,d){return window.getComputedStyle(v)[d]}function Wo(v,d){const u=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(g=>function(v,d,u){if(":"==v[0]){const Te=function(v,d){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(u,g)=>parseFloat(g)>parseFloat(u);case":decrement":return(u,g)=>parseFloat(g)<parseFloat(u);default:return d.push(`The transition alias value "${v}" is not supported`),"* => *"}}(v,u);if("function"==typeof Te)return void d.push(Te);v=Te}const g=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return u.push(`The provided transition expression "${v}" is not supported`),d;const T=g[1],L=g[2],K=g[3];d.push(Fu(T,K));"<"==L[0]&&!("*"==T&&"*"==K)&&d.push(Fu(K,T))}(g,u,d)):u.push(v),u}const Ta=new Set(["true","1"]),Ii=new Set(["false","0"]);function Fu(v,d){const u=Ta.has(v)||Ii.has(v),g=Ta.has(d)||Ii.has(d);return(T,L)=>{let K="*"==v||v==T,fe="*"==d||d==L;return!K&&u&&"boolean"==typeof T&&(K=T?Ta.has(v):Ii.has(v)),!fe&&g&&"boolean"==typeof L&&(fe=L?Ta.has(d):Ii.has(d)),K&&fe}}const io=new RegExp("s*:selfs*,?","g");function Ea(v,d,u){return new vl(v).build(d,u)}class vl{constructor(d){this._driver=d}build(d,u){const g=new Yc(u);return this._resetContextStyleTimingState(g),Jr(this,yi(d),g)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles={},d.collectedStyles[""]={},d.currentTime=0}visitTrigger(d,u){let g=u.queryCount=0,T=u.depCount=0;const L=[],K=[];return"@"==d.name.charAt(0)&&u.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),d.definitions.forEach(fe=>{if(this._resetContextStyleTimingState(u),0==fe.type){const Te=fe,Be=Te.name;Be.toString().split(/\s*,\s*/).forEach(tt=>{Te.name=tt,L.push(this.visitState(Te,u))}),Te.name=Be}else if(1==fe.type){const Te=this.visitTransition(fe,u);g+=Te.queryCount,T+=Te.depCount,K.push(Te)}else u.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:d.name,states:L,transitions:K,queryCount:g,depCount:T,options:null}}visitState(d,u){const g=this.visitStyle(d.styles,u),T=d.options&&d.options.params||null;if(g.containsDynamicStyles){const L=new Set,K=T||{};if(g.styles.forEach(fe=>{if(_l(fe)){const Te=fe;Object.keys(Te).forEach(Be=>{Qa(Te[Be]).forEach(tt=>{K.hasOwnProperty(tt)||L.add(tt)})})}}),L.size){const fe=Kl(L.values());u.errors.push(`state("${d.name}", ...) must define default values for all the following style substitutions: ${fe.join(", ")}`)}}return{type:0,name:d.name,style:g,options:T?{params:T}:null}}visitTransition(d,u){u.queryCount=0,u.depCount=0;const g=Jr(this,yi(d.animation),u);return{type:1,matchers:Wo(d.expr,u.errors),animation:g,queryCount:u.queryCount,depCount:u.depCount,options:ls(d.options)}}visitSequence(d,u){return{type:2,steps:d.steps.map(g=>Jr(this,g,u)),options:ls(d.options)}}visitGroup(d,u){const g=u.currentTime;let T=0;const L=d.steps.map(K=>{u.currentTime=g;const fe=Jr(this,K,u);return T=Math.max(T,u.currentTime),fe});return u.currentTime=T,{type:3,steps:L,options:ls(d.options)}}visitAnimate(d,u){const g=function(v,d){let u=null;if(v.hasOwnProperty("duration"))u=v;else if("number"==typeof v)return xa(_a(v,d).duration,0,"");const g=v;if(g.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=xa(0,0,"");return L.dynamic=!0,L.strValue=g,L}return u=u||_a(g,d),xa(u.duration,u.delay,u.easing)}(d.timings,u.errors);u.currentAnimateTimings=g;let T,L=d.styles?d.styles:Zt({});if(5==L.type)T=this.visitKeyframes(L,u);else{let K=d.styles,fe=!1;if(!K){fe=!0;const Be={};g.easing&&(Be.easing=g.easing),K=Zt(Be)}u.currentTime+=g.duration+g.delay;const Te=this.visitStyle(K,u);Te.isEmptyStep=fe,T=Te}return u.currentAnimateTimings=null,{type:4,timings:g,style:T,options:null}}visitStyle(d,u){const g=this._makeStyleAst(d,u);return this._validateStyleAst(g,u),g}_makeStyleAst(d,u){const g=[];Array.isArray(d.styles)?d.styles.forEach(K=>{"string"==typeof K?K==ws?g.push(K):u.errors.push(`The provided style string value ${K} is not allowed.`):g.push(K)}):g.push(d.styles);let T=!1,L=null;return g.forEach(K=>{if(_l(K)){const fe=K,Te=fe.easing;if(Te&&(L=Te,delete fe.easing),!T)for(let Be in fe)if(fe[Be].toString().indexOf("{{")>=0){T=!0;break}}}),{type:6,styles:g,easing:L,offset:d.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(d,u){const g=u.currentAnimateTimings;let T=u.currentTime,L=u.currentTime;g&&L>0&&(L-=g.duration+g.delay),d.styles.forEach(K=>{"string"!=typeof K&&Object.keys(K).forEach(fe=>{if(!this._driver.validateStyleProperty(fe))return void u.errors.push(`The provided animation property "${fe}" is not a supported CSS property for animations`);const Te=u.collectedStyles[u.currentQuerySelector],Be=Te[fe];let tt=!0;Be&&(L!=T&&L>=Be.startTime&&T<=Be.endTime&&(u.errors.push(`The CSS property "${fe}" that exists between the times of "${Be.startTime}ms" and "${Be.endTime}ms" is also being animated in a parallel animation between the times of "${L}ms" and "${T}ms"`),tt=!1),L=Be.startTime),tt&&(Te[fe]={startTime:L,endTime:T}),u.options&&function(v,d,u){const g=d.params||{},T=Qa(v);T.length&&T.forEach(L=>{g.hasOwnProperty(L)||u.push(`Unable to resolve the local animation param ${L} in the given list of values`)})}(K[fe],u.options,u.errors)})})}visitKeyframes(d,u){const g={type:5,styles:[],options:null};if(!u.currentAnimateTimings)return u.errors.push("keyframes() must be placed inside of a call to animate()"),g;let L=0;const K=[];let fe=!1,Te=!1,Be=0;const tt=d.steps.map(on=>{const bn=this._makeStyleAst(on,u);let An=null!=bn.offset?bn.offset:function(v){if("string"==typeof v)return null;let d=null;if(Array.isArray(v))v.forEach(u=>{if(_l(u)&&u.hasOwnProperty("offset")){const g=u;d=parseFloat(g.offset),delete g.offset}});else if(_l(v)&&v.hasOwnProperty("offset")){const u=v;d=parseFloat(u.offset),delete u.offset}return d}(bn.styles),xn=0;return null!=An&&(L++,xn=bn.offset=An),Te=Te||xn<0||xn>1,fe=fe||xn<Be,Be=xn,K.push(xn),bn});Te&&u.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),fe&&u.errors.push("Please ensure that all keyframe offsets are in order");const gt=d.steps.length;let Tt=0;L>0&&L<gt?u.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==L&&(Tt=1/(gt-1));const Ct=gt-1,Pt=u.currentTime,Ut=u.currentAnimateTimings,sn=Ut.duration;return tt.forEach((on,bn)=>{const An=Tt>0?bn==Ct?1:Tt*bn:K[bn],xn=An*sn;u.currentTime=Pt+Ut.delay+xn,Ut.duration=xn,this._validateStyleAst(on,u),on.offset=An,g.styles.push(on)}),g}visitReference(d,u){return{type:8,animation:Jr(this,yi(d.animation),u),options:ls(d.options)}}visitAnimateChild(d,u){return u.depCount++,{type:9,options:ls(d.options)}}visitAnimateRef(d,u){return{type:10,animation:this.visitReference(d.animation,u),options:ls(d.options)}}visitQuery(d,u){const g=u.currentQuerySelector,T=d.options||{};u.queryCount++,u.currentQuery=d;const[L,K]=function(v){const d=!!v.split(/\s*,\s*/).find(u=>":self"==u);return d&&(v=v.replace(io,"")),[v=v.replace(/@\*/g,Ho).replace(/@\w+/g,u=>Ho+"-"+u.substr(1)).replace(/:animating/g,Ql),d]}(d.selector);u.currentQuerySelector=g.length?g+" "+L:L,en(u.collectedStyles,u.currentQuerySelector,{});const fe=Jr(this,yi(d.animation),u);return u.currentQuery=null,u.currentQuerySelector=g,{type:11,selector:L,limit:T.limit||0,optional:!!T.optional,includeSelf:K,animation:fe,originalSelector:d.selector,options:ls(d.options)}}visitStagger(d,u){u.currentQuery||u.errors.push("stagger() can only be used inside of query()");const g="full"===d.timings?{duration:0,delay:0,easing:"full"}:_a(d.timings,u.errors,!0);return{type:12,animation:Jr(this,yi(d.animation),u),timings:g,options:null}}}class Yc{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function _l(v){return!Array.isArray(v)&&"object"==typeof v}function ls(v){return v?(v=zo(v)).params&&(v.params=function(v){return v?zo(v):null}(v.params)):v={},v}function xa(v,d,u){return{duration:v,delay:d,easing:u}}function Ys(v,d,u,g,T,L,K=null,fe=!1){return{type:1,element:v,keyframes:d,preStyleProps:u,postStyleProps:g,duration:T,delay:L,totalTime:T+L,easing:K,subTimeline:fe}}class Eo{constructor(){this._map=new Map}consume(d){let u=this._map.get(d);return u?this._map.delete(d):u=[],u}append(d,u){let g=this._map.get(d);g||this._map.set(d,g=[]),g.push(...u)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const wa=new RegExp(":enter","g"),Qo=new RegExp(":leave","g");function qo(v,d,u,g,T,L={},K={},fe,Te,Be=[]){return(new ju).buildKeyframes(v,d,u,g,T,L,K,fe,Te,Be)}class ju{buildKeyframes(d,u,g,T,L,K,fe,Te,Be,tt=[]){Be=Be||new Eo;const gt=new Xl(d,u,Be,T,L,tt,[]);gt.options=Te,gt.currentTimeline.setStyles([K],null,gt.errors,Te),Jr(this,g,gt);const Tt=gt.timelines.filter(Ct=>Ct.containsAnimation());if(Tt.length&&Object.keys(fe).length){const Ct=Tt[Tt.length-1];Ct.allowOnlyTimelineStyles()||Ct.setStyles([fe],null,gt.errors,Te)}return Tt.length?Tt.map(Ct=>Ct.buildKeyframes()):[Ys(u,[],[],[],0,0,"",!1)]}visitTrigger(d,u){}visitState(d,u){}visitTransition(d,u){}visitAnimateChild(d,u){const g=u.subInstructions.consume(u.element);if(g){const T=u.createSubContext(d.options),L=u.currentTimeline.currentTime,K=this._visitSubInstructions(g,T,T.options);L!=K&&u.transformIntoNewTimeline(K)}u.previousNode=d}visitAnimateRef(d,u){const g=u.createSubContext(d.options);g.transformIntoNewTimeline(),this.visitReference(d.animation,g),u.transformIntoNewTimeline(g.currentTimeline.currentTime),u.previousNode=d}_visitSubInstructions(d,u,g){let L=u.currentTimeline.currentTime;const K=null!=g.duration?$o(g.duration):null,fe=null!=g.delay?$o(g.delay):null;return 0!==K&&d.forEach(Te=>{const Be=u.appendInstructionToTimeline(Te,K,fe);L=Math.max(L,Be.duration+Be.delay)}),L}visitReference(d,u){u.updateOptions(d.options,!0),Jr(this,d.animation,u),u.previousNode=d}visitSequence(d,u){const g=u.subContextCount;let T=u;const L=d.options;if(L&&(L.params||L.delay)&&(T=u.createSubContext(L),T.transformIntoNewTimeline(),null!=L.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=xo);const K=$o(L.delay);T.delayNextStep(K)}d.steps.length&&(d.steps.forEach(K=>Jr(this,K,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>g&&T.transformIntoNewTimeline()),u.previousNode=d}visitGroup(d,u){const g=[];let T=u.currentTimeline.currentTime;const L=d.options&&d.options.delay?$o(d.options.delay):0;d.steps.forEach(K=>{const fe=u.createSubContext(d.options);L&&fe.delayNextStep(L),Jr(this,K,fe),T=Math.max(T,fe.currentTimeline.currentTime),g.push(fe.currentTimeline)}),g.forEach(K=>u.currentTimeline.mergeTimelineCollectedStyles(K)),u.transformIntoNewTimeline(T),u.previousNode=d}_visitTiming(d,u){if(d.dynamic){const g=d.strValue;return _a(u.params?gl(g,u.params,u.errors):g,u.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,u){const g=u.currentAnimateTimings=this._visitTiming(d.timings,u),T=u.currentTimeline;g.delay&&(u.incrementTime(g.delay),T.snapshotCurrentStyles());const L=d.style;5==L.type?this.visitKeyframes(L,u):(u.incrementTime(g.duration),this.visitStyle(L,u),T.applyStylesToKeyframe()),u.currentAnimateTimings=null,u.previousNode=d}visitStyle(d,u){const g=u.currentTimeline,T=u.currentAnimateTimings;!T&&g.getCurrentStyleProperties().length&&g.forwardFrame();const L=T&&T.easing||d.easing;d.isEmptyStep?g.applyEmptyStep(L):g.setStyles(d.styles,L,u.errors,u.options),u.previousNode=d}visitKeyframes(d,u){const g=u.currentAnimateTimings,T=u.currentTimeline.duration,L=g.duration,fe=u.createSubContext().currentTimeline;fe.easing=g.easing,d.styles.forEach(Te=>{fe.forwardTime((Te.offset||0)*L),fe.setStyles(Te.styles,Te.easing,u.errors,u.options),fe.applyStylesToKeyframe()}),u.currentTimeline.mergeTimelineCollectedStyles(fe),u.transformIntoNewTimeline(T+L),u.previousNode=d}visitQuery(d,u){const g=u.currentTimeline.currentTime,T=d.options||{},L=T.delay?$o(T.delay):0;L&&(6===u.previousNode.type||0==g&&u.currentTimeline.getCurrentStyleProperties().length)&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=xo);let K=g;const fe=u.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!T.optional,u.errors);u.currentQueryTotal=fe.length;let Te=null;fe.forEach((Be,tt)=>{u.currentQueryIndex=tt;const gt=u.createSubContext(d.options,Be);L&&gt.delayNextStep(L),Be===u.element&&(Te=gt.currentTimeline),Jr(this,d.animation,gt),gt.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,gt.currentTimeline.currentTime)}),u.currentQueryIndex=0,u.currentQueryTotal=0,u.transformIntoNewTimeline(K),Te&&(u.currentTimeline.mergeTimelineCollectedStyles(Te),u.currentTimeline.snapshotCurrentStyles()),u.previousNode=d}visitStagger(d,u){const g=u.parentContext,T=u.currentTimeline,L=d.timings,K=Math.abs(L.duration),fe=K*(u.currentQueryTotal-1);let Te=K*u.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":Te=fe-Te;break;case"full":Te=g.currentStaggerTime}const tt=u.currentTimeline;Te&&tt.delayNextStep(Te);const gt=tt.currentTime;Jr(this,d.animation,u),u.previousNode=d,g.currentStaggerTime=T.currentTime-gt+(T.startTime-g.currentTimeline.startTime)}}const xo={};class Xl{constructor(d,u,g,T,L,K,fe,Te){this._driver=d,this.element=u,this.subInstructions=g,this._enterClassName=T,this._leaveClassName=L,this.errors=K,this.timelines=fe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Te||new Zl(this._driver,u,0),fe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,u){if(!d)return;const g=d;let T=this.options;null!=g.duration&&(T.duration=$o(g.duration)),null!=g.delay&&(T.delay=$o(g.delay));const L=g.params;if(L){let K=T.params;K||(K=this.options.params={}),Object.keys(L).forEach(fe=>{(!u||!K.hasOwnProperty(fe))&&(K[fe]=gl(L[fe],K,this.errors))})}}_copyOptions(){const d={};if(this.options){const u=this.options.params;if(u){const g=d.params={};Object.keys(u).forEach(T=>{g[T]=u[T]})}}return d}createSubContext(d=null,u,g){const T=u||this.element,L=new Xl(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,g||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(d),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(d){return this.previousNode=xo,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,u,g){const T={duration:null!=u?u:d.duration,delay:this.currentTimeline.currentTime+(null!=g?g:0)+d.delay,easing:""},L=new Sa(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,T,d.stretchStartingKeyframe);return this.timelines.push(L),T}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,u,g,T,L,K){let fe=[];if(T&&fe.push(this.element),d.length>0){d=(d=d.replace(wa,"."+this._enterClassName)).replace(Qo,"."+this._leaveClassName);let Be=this._driver.query(this.element,d,1!=g);0!==g&&(Be=g<0?Be.slice(Be.length+g,Be.length):Be.slice(0,g)),fe.push(...Be)}return!L&&0==fe.length&&K.push(`\`query("${u}")\` returned zero elements. (Use \`query("${u}", { optional: true })\` if you wish to allow this.)`),fe}}class Zl{constructor(d,u,g,T){this._driver=d,this.element=u,this.startTime=g,this._elementTimelineStylesLookup=T,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(u),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(u,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const u=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||u?(this.forwardTime(this.currentTime+d),u&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,u){return this.applyStylesToKeyframe(),new Zl(this._driver,d,u||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,u){this._localTimelineStyles[d]=u,this._globalTimelineStyles[d]=u,this._styleSummary[d]={time:this.currentTime,value:u}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&(this._previousKeyframe.easing=d),Object.keys(this._globalTimelineStyles).forEach(u=>{this._backFill[u]=this._globalTimelineStyles[u]||ws,this._currentKeyframe[u]=ws}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,u,g,T){u&&(this._previousKeyframe.easing=u);const L=T&&T.params||{},K=function(v,d){const u={};let g;return v.forEach(T=>{"*"===T?(g=g||Object.keys(d),g.forEach(L=>{u[L]=ws})):Ks(T,!1,u)}),u}(d,this._globalTimelineStyles);Object.keys(K).forEach(fe=>{const Te=gl(K[fe],L,g);this._pendingStyles[fe]=Te,this._localTimelineStyles.hasOwnProperty(fe)||(this._backFill[fe]=this._globalTimelineStyles.hasOwnProperty(fe)?this._globalTimelineStyles[fe]:ws),this._updateStyle(fe,Te)})}applyStylesToKeyframe(){const d=this._pendingStyles,u=Object.keys(d);0!=u.length&&(this._pendingStyles={},u.forEach(g=>{this._currentKeyframe[g]=d[g]}),Object.keys(this._localTimelineStyles).forEach(g=>{this._currentKeyframe.hasOwnProperty(g)||(this._currentKeyframe[g]=this._localTimelineStyles[g])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(d=>{const u=this._localTimelineStyles[d];this._pendingStyles[d]=u,this._updateStyle(d,u)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let u in this._currentKeyframe)d.push(u);return d}mergeTimelineCollectedStyles(d){Object.keys(d._styleSummary).forEach(u=>{const g=this._styleSummary[u],T=d._styleSummary[u];(!g||T.time>g.time)&&this._updateStyle(u,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,u=new Set,g=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((fe,Te)=>{const Be=Ks(fe,!0);Object.keys(Be).forEach(tt=>{const gt=Be[tt];"!"==gt?d.add(tt):gt==ws&&u.add(tt)}),g||(Be.offset=Te/this.duration),T.push(Be)});const L=d.size?Kl(d.values()):[],K=u.size?Kl(u.values()):[];if(g){const fe=T[0],Te=zo(fe);fe.offset=0,Te.offset=1,T=[fe,Te]}return Ys(this.element,T,L,K,this.duration,this.startTime,this.easing,!1)}}class Sa extends Zl{constructor(d,u,g,T,L,K,fe=!1){super(d,u,K.delay),this.keyframes=g,this.preStyleProps=T,this.postStyleProps=L,this._stretchStartingKeyframe=fe,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:u,duration:g,easing:T}=this.timings;if(this._stretchStartingKeyframe&&u){const L=[],K=g+u,fe=u/K,Te=Ks(d[0],!1);Te.offset=0,L.push(Te);const Be=Ks(d[0],!1);Be.offset=cc(fe),L.push(Be);const tt=d.length-1;for(let gt=1;gt<=tt;gt++){let Tt=Ks(d[gt],!1);Tt.offset=cc((u+Tt.offset*g)/K),L.push(Tt)}g=K,u=0,T="",d=L}return Ys(this.element,d,this.preStyleProps,this.postStyleProps,g,u,T,!0)}}function cc(v,d=3){const u=Math.pow(10,d-1);return Math.round(v*u)/u}class Ka{}class Oa extends Ka{normalizePropertyName(d,u){return vs(d)}normalizeStyleValue(d,u,g,T){let L="";const K=g.toString().trim();if(Zc[u]&&0!==g&&"0"!==g)if("number"==typeof g)L="px";else{const fe=g.match(/^[+-]?[\d\.]+([a-z]*)$/);fe&&0==fe[1].length&&T.push(`Please provide a CSS unit value for ${d}:${g}`)}return K+L}}const Zc=(()=>function(v){const d={};return v.forEach(u=>d[u]=!0),d}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ci(v,d,u,g,T,L,K,fe,Te,Be,tt,gt,Tt){return{type:0,element:v,triggerName:d,isRemovalTransition:T,fromState:u,fromStyles:L,toState:g,toStyles:K,timelines:fe,queriedElements:Te,preStyleProps:Be,postStyleProps:tt,totalTime:gt,errors:Tt}}const Ko={};class Jl{constructor(d,u,g){this._triggerName=d,this.ast=u,this._stateStyles=g}match(d,u,g,T){return function(v,d,u,g,T){return v.some(L=>L(d,u,g,T))}(this.ast.matchers,d,u,g,T)}buildStyles(d,u,g){const T=this._stateStyles["*"],L=this._stateStyles[d],K=T?T.buildStyles(u,g):{};return L?L.buildStyles(u,g):K}build(d,u,g,T,L,K,fe,Te,Be,tt){const gt=[],Tt=this.ast.options&&this.ast.options.params||Ko,Pt=this.buildStyles(g,fe&&fe.params||Ko,gt),Ut=Te&&Te.params||Ko,sn=this.buildStyles(T,Ut,gt),on=new Set,bn=new Map,An=new Map,xn="void"===T,$i={params:Object.assign(Object.assign({},Tt),Ut)},cs=tt?[]:qo(d,u,this.ast.animation,L,K,Pt,sn,$i,Be,gt);let nr=0;if(cs.forEach(Do=>{nr=Math.max(Do.duration+Do.delay,nr)}),gt.length)return Ci(u,this._triggerName,g,T,xn,Pt,sn,[],[],bn,An,nr,gt);cs.forEach(Do=>{const Ms=Do.element,Cu=en(bn,Ms,{});Do.preStyleProps.forEach(Mo=>Cu[Mo]=!0);const na=en(An,Ms,{});Do.postStyleProps.forEach(Mo=>na[Mo]=!0),Ms!==u&&on.add(Ms)});const es=Kl(on.values());return Ci(u,this._triggerName,g,T,xn,Pt,sn,cs,es,bn,An,nr)}}class Hu{constructor(d,u,g){this.styles=d,this.defaultParams=u,this.normalizer=g}buildStyles(d,u){const g={},T=zo(this.defaultParams);return Object.keys(d).forEach(L=>{const K=d[L];null!=K&&(T[L]=K)}),this.styles.styles.forEach(L=>{if("string"!=typeof L){const K=L;Object.keys(K).forEach(fe=>{let Te=K[fe];Te.length>1&&(Te=gl(Te,T,u));const Be=this.normalizer.normalizePropertyName(fe,u);Te=this.normalizer.normalizeStyleValue(fe,Be,Te,u),g[Be]=Te})}}),g}}class I{constructor(d,u,g){this.name=d,this.ast=u,this._normalizer=g,this.transitionFactories=[],this.states={},u.states.forEach(T=>{this.states[T.name]=new Hu(T.style,T.options&&T.options.params||{},g)}),P(this.states,"true","1"),P(this.states,"false","0"),u.transitions.forEach(T=>{this.transitionFactories.push(new Jl(d,T,this.states))}),this.fallbackTransition=function(v,d,u){return new Jl(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,fe)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,u,g,T){return this.transitionFactories.find(K=>K.match(d,u,g,T))||null}matchStyles(d,u,g){return this.fallbackTransition.buildStyles(d,u,g)}}function P(v,d,u){v.hasOwnProperty(d)?v.hasOwnProperty(u)||(v[u]=v[d]):v.hasOwnProperty(u)&&(v[d]=v[u])}const H=new Eo;class te{constructor(d,u,g){this.bodyNode=d,this._driver=u,this._normalizer=g,this._animations={},this._playersById={},this.players=[]}register(d,u){const g=[],T=Ea(this._driver,u,g);if(g.length)throw new Error(`Unable to build the animation due to the following errors: ${g.join("\n")}`);this._animations[d]=T}_buildPlayer(d,u,g){const T=d.element,L=It(0,this._normalizer,0,d.keyframes,u,g);return this._driver.animate(T,L,d.duration,d.delay,d.easing,[],!0)}create(d,u,g={}){const T=[],L=this._animations[d];let K;const fe=new Map;if(L?(K=qo(this._driver,u,L,Ss,$r,{},{},g,H,T),K.forEach(tt=>{const gt=en(fe,tt.element,{});tt.postStyleProps.forEach(Tt=>gt[Tt]=null)})):(T.push("The requested animation doesn't exist or has already been destroyed"),K=[]),T.length)throw new Error(`Unable to create the animation due to the following errors: ${T.join("\n")}`);fe.forEach((tt,gt)=>{Object.keys(tt).forEach(Tt=>{tt[Tt]=this._driver.computeStyle(gt,Tt,ws)})});const Be=St(K.map(tt=>{const gt=fe.get(tt.element);return this._buildPlayer(tt,{},gt)}));return this._playersById[d]=Be,Be.onDestroy(()=>this.destroy(d)),this.players.push(Be),Be}destroy(d){const u=this._getPlayer(d);u.destroy(),delete this._playersById[d];const g=this.players.indexOf(u);g>=0&&this.players.splice(g,1)}_getPlayer(d){const u=this._playersById[d];if(!u)throw new Error(`Unable to find the timeline player referenced by ${d}`);return u}listen(d,u,g,T){const L=Wt(u,"","","");return zt(this._getPlayer(d),g,L,T),()=>{}}command(d,u,g,T){if("register"==g)return void this.register(d,T[0]);if("create"==g)return void this.create(d,u,T[0]||{});const L=this._getPlayer(d);switch(g){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(d)}}}const ye="ng-animate-queued",Ge="ng-animate-disabled",_t=".ng-animate-disabled",mn=[],tr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ui="__ng_removed";class Ns{constructor(d,u=""){this.namespaceId=u;const g=d&&d.hasOwnProperty("value");if(this.value=null!=(v=g?d.value:d)?v:null,g){const L=zo(d);delete L.value,this.options=L}else this.options={};var v;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(d){const u=d.params;if(u){const g=this.options.params;Object.keys(u).forEach(T=>{null==g[T]&&(g[T]=u[T])})}}}const Ls="void",Pa=new Ns(Ls);class hr{constructor(d,u,g){this.id=d,this.hostElement=u,this._engine=g,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,Ti(u,this._hostClassName)}listen(d,u,g,T){if(!this._triggers.hasOwnProperty(u))throw new Error(`Unable to listen on the animation trigger event "${g}" because the animation trigger "${u}" doesn't exist!`);if(null==g||0==g.length)throw new Error(`Unable to listen on the animation trigger "${u}" because the provided event is undefined!`);if("start"!=(v=g)&&"done"!=v)throw new Error(`The provided animation trigger event "${g}" for the animation trigger "${u}" is not supported!`);var v;const L=en(this._elementListeners,d,[]),K={name:u,phase:g,callback:T};L.push(K);const fe=en(this._engine.statesByElement,d,{});return fe.hasOwnProperty(u)||(Ti(d,pl),Ti(d,pl+"-"+u),fe[u]=Pa),()=>{this._engine.afterFlush(()=>{const Te=L.indexOf(K);Te>=0&&L.splice(Te,1),this._triggers[u]||delete fe[u]})}}register(d,u){return!this._triggers[d]&&(this._triggers[d]=u,!0)}_getTrigger(d){const u=this._triggers[d];if(!u)throw new Error(`The provided animation trigger "${d}" has not been registered!`);return u}trigger(d,u,g,T=!0){const L=this._getTrigger(u),K=new Cl(this.id,u,d);let fe=this._engine.statesByElement.get(d);fe||(Ti(d,pl),Ti(d,pl+"-"+u),this._engine.statesByElement.set(d,fe={}));let Te=fe[u];const Be=new Ns(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&Te&&Be.absorbOptions(Te.options),fe[u]=Be,Te||(Te=Pa),Be.value!==Ls&&Te.value===Be.value){if(!function(v,d){const u=Object.keys(v),g=Object.keys(d);if(u.length!=g.length)return!1;for(let T=0;T<u.length;T++){const L=u[T];if(!d.hasOwnProperty(L)||v[L]!==d[L])return!1}return!0}(Te.params,Be.params)){const Ut=[],sn=L.matchStyles(Te.value,Te.params,Ut),on=L.matchStyles(Be.value,Be.params,Ut);Ut.length?this._engine.reportError(Ut):this._engine.afterFlush(()=>{bo(d,sn),ms(d,on)})}return}const Tt=en(this._engine.playersByElement,d,[]);Tt.forEach(Ut=>{Ut.namespaceId==this.id&&Ut.triggerName==u&&Ut.queued&&Ut.destroy()});let Ct=L.matchTransition(Te.value,Be.value,d,Be.params),Pt=!1;if(!Ct){if(!T)return;Ct=L.fallbackTransition,Pt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:u,transition:Ct,fromState:Te,toState:Be,player:K,isFallbackTransition:Pt}),Pt||(Ti(d,ye),K.onStart(()=>{$u(d,ye)})),K.onDone(()=>{let Ut=this.players.indexOf(K);Ut>=0&&this.players.splice(Ut,1);const sn=this._engine.playersByElement.get(d);if(sn){let on=sn.indexOf(K);on>=0&&sn.splice(on,1)}}),this.players.push(K),Tt.push(K),K}deregister(d){delete this._triggers[d],this._engine.statesByElement.forEach((u,g)=>{delete u[d]}),this._elementListeners.forEach((u,g)=>{this._elementListeners.set(g,u.filter(T=>T.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const u=this._engine.playersByElement.get(d);u&&(u.forEach(g=>g.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,u){const g=this._engine.driver.query(d,Ho,!0);g.forEach(T=>{if(T[Ui])return;const L=this._engine.fetchNamespacesByElement(T);L.size?L.forEach(K=>K.triggerLeaveAnimation(T,u,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(d,u,g,T){const L=this._engine.statesByElement.get(d);if(L){const K=[];if(Object.keys(L).forEach(fe=>{if(this._triggers[fe]){const Te=this.trigger(d,fe,Ls,T);Te&&K.push(Te)}}),K.length)return this._engine.markElementAsRemoved(this.id,d,!0,u),g&&St(K).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const u=this._elementListeners.get(d),g=this._engine.statesByElement.get(d);if(u&&g){const T=new Set;u.forEach(L=>{const K=L.name;if(T.has(K))return;T.add(K);const Te=this._triggers[K].fallbackTransition,Be=g[K]||Pa,tt=new Ns(Ls),gt=new Cl(this.id,K,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:K,transition:Te,fromState:Be,toState:tt,player:gt,isFallbackTransition:!0})})}}removeNode(d,u){const g=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,u),this.triggerLeaveAnimation(d,u,!0))return;let T=!1;if(g.totalAnimations){const L=g.players.length?g.playersByQueriedElement.get(d):[];if(L&&L.length)T=!0;else{let K=d;for(;K=K.parentNode;)if(g.statesByElement.get(K)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(d),T)g.markElementAsRemoved(this.id,d,!1,u);else{const L=d[Ui];(!L||L===tr)&&(g.afterFlush(()=>this.clearElementCache(d)),g.destroyInnerAnimations(d),g._onRemovalComplete(d,u))}}insertNode(d,u){Ti(d,this._hostClassName)}drainQueuedTransitions(d){const u=[];return this._queue.forEach(g=>{const T=g.player;if(T.destroyed)return;const L=g.element,K=this._elementListeners.get(L);K&&K.forEach(fe=>{if(fe.name==g.triggerName){const Te=Wt(L,g.triggerName,g.fromState.value,g.toState.value);Te._data=d,zt(g.player,fe.phase,Te,fe.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):u.push(g)}),this._queue=[],u.sort((g,T)=>{const L=g.transition.ast.depCount,K=T.transition.ast.depCount;return 0==L||0==K?L-K:this._engine.driver.containsElement(g.element,T.element)?1:-1})}destroy(d){this.players.forEach(u=>u.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}elementContainsData(d){let u=!1;return this._elementListeners.has(d)&&(u=!0),u=!!this._queue.find(g=>g.element===d)||u,u}}class xr{constructor(d,u,g){this.bodyNode=d,this.driver=u,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,L)=>{}}_onRemovalComplete(d,u){this.onRemovalComplete(d,u)}get queuedPlayers(){const d=[];return this._namespaceList.forEach(u=>{u.players.forEach(g=>{g.queued&&d.push(g)})}),d}createNamespace(d,u){const g=new hr(d,u,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,u)?this._balanceNamespaceList(g,u):(this.newHostElements.set(u,g),this.collectEnterElement(u)),this._namespaceLookup[d]=g}_balanceNamespaceList(d,u){const g=this._namespaceList.length-1;if(g>=0){let T=!1;for(let L=g;L>=0;L--)if(this.driver.containsElement(this._namespaceList[L].hostElement,u)){this._namespaceList.splice(L+1,0,d),T=!0;break}T||this._namespaceList.splice(0,0,d)}else this._namespaceList.push(d);return this.namespacesByHostElement.set(u,d),d}register(d,u){let g=this._namespaceLookup[d];return g||(g=this.createNamespace(d,u)),g}registerTrigger(d,u,g){let T=this._namespaceLookup[d];T&&T.register(u,g)&&this.totalAnimations++}destroy(d,u){if(!d)return;const g=this._fetchNamespace(d);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[d];const T=this._namespaceList.indexOf(g);T>=0&&this._namespaceList.splice(T,1)}),this.afterFlushAnimationsDone(()=>g.destroy(u))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const u=new Set,g=this.statesByElement.get(d);if(g){const T=Object.keys(g);for(let L=0;L<T.length;L++){const K=g[T[L]].namespaceId;if(K){const fe=this._fetchNamespace(K);fe&&u.add(fe)}}}return u}trigger(d,u,g,T){if(af(u)){const L=this._fetchNamespace(d);if(L)return L.trigger(u,g,T),!0}return!1}insertNode(d,u,g,T){if(!af(u))return;const L=u[Ui];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const K=this.collectedLeaveElements.indexOf(u);K>=0&&this.collectedLeaveElements.splice(K,1)}if(d){const K=this._fetchNamespace(d);K&&K.insertNode(u,g)}T&&this.collectEnterElement(u)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,u){u?this.disabledNodes.has(d)||(this.disabledNodes.add(d),Ti(d,Ge)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),$u(d,Ge))}removeNode(d,u,g,T){if(af(u)){const L=d?this._fetchNamespace(d):null;if(L?L.removeNode(u,T):this.markElementAsRemoved(d,u,!1,T),g){const K=this.namespacesByHostElement.get(u);K&&K.id!==d&&K.removeNode(u,T)}}else this._onRemovalComplete(u,T)}markElementAsRemoved(d,u,g,T){this.collectedLeaveElements.push(u),u[Ui]={namespaceId:d,setForRemoval:T,hasAnimation:g,removedBeforeQueried:!1}}listen(d,u,g,T,L){return af(u)?this._fetchNamespace(d).listen(u,g,T,L):()=>{}}_buildInstruction(d,u,g,T,L){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,g,T,d.fromState.options,d.toState.options,u,L)}destroyInnerAnimations(d){let u=this.driver.query(d,Ho,!0);u.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(u=this.driver.query(d,Ql,!0),u.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(d){const u=this.playersByElement.get(d);u&&u.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(d){const u=this.playersByQueriedElement.get(d);u&&u.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return St(this.players).onDone(()=>d());d()})}processLeaveNode(d){const u=d[Ui];if(u&&u.setForRemoval){if(d[Ui]=tr,u.namespaceId){this.destroyInnerAnimations(d);const g=this._fetchNamespace(u.namespaceId);g&&g.clearElementCache(d)}this._onRemovalComplete(d,u.setForRemoval)}this.driver.matchesElement(d,_t)&&this.markElementAsDisabled(d,!1),this.driver.query(d,_t,!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(d=-1){let u=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,T)=>this._balanceNamespaceList(g,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)Ti(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{u=this._flushAnimations(g,d)}finally{for(let T=0;T<g.length;T++)g[T]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],u.length?St(u).onDone(()=>{g.forEach(T=>T())}):g.forEach(T=>T())}}reportError(d){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${d.join("\n")}`)}_flushAnimations(d,u){const g=new Eo,T=[],L=new Map,K=[],fe=new Map,Te=new Map,Be=new Map,tt=new Set;this.disabledNodes.forEach(cn=>{tt.add(cn);const Cn=this.driver.query(cn,".ng-animate-queued",!0);for(let Ln=0;Ln<Cn.length;Ln++)tt.add(Cn[Ln])});const gt=this.bodyNode,Tt=Array.from(this.statesByElement.keys()),Ct=ag(Tt,this.collectedEnterElements),Pt=new Map;let Ut=0;Ct.forEach((cn,Cn)=>{const Ln=Ss+Ut++;Pt.set(Cn,Ln),cn.forEach(lr=>Ti(lr,Ln))});const sn=[],on=new Set,bn=new Set;for(let cn=0;cn<this.collectedLeaveElements.length;cn++){const Cn=this.collectedLeaveElements[cn],Ln=Cn[Ui];Ln&&Ln.setForRemoval&&(sn.push(Cn),on.add(Cn),Ln.hasAnimation?this.driver.query(Cn,".ng-star-inserted",!0).forEach(lr=>on.add(lr)):bn.add(Cn))}const An=new Map,xn=ag(Tt,Array.from(on));xn.forEach((cn,Cn)=>{const Ln=$r+Ut++;An.set(Cn,Ln),cn.forEach(lr=>Ti(lr,Ln))}),d.push(()=>{Ct.forEach((cn,Cn)=>{const Ln=Pt.get(Cn);cn.forEach(lr=>$u(lr,Ln))}),xn.forEach((cn,Cn)=>{const Ln=An.get(Cn);cn.forEach(lr=>$u(lr,Ln))}),sn.forEach(cn=>{this.processLeaveNode(cn)})});const $i=[],cs=[];for(let cn=this._namespaceList.length-1;cn>=0;cn--)this._namespaceList[cn].drainQueuedTransitions(u).forEach(Ln=>{const lr=Ln.player,ts=Ln.element;if($i.push(lr),this.collectedEnterElements.length){const Ao=ts[Ui];if(Ao&&Ao.setForMove)return void lr.destroy()}const sa=!gt||!this.driver.containsElement(gt,ts),ao=An.get(ts),Il=Pt.get(ts),Vr=this._buildInstruction(Ln,g,Il,ao,sa);if(Vr.errors&&Vr.errors.length)cs.push(Vr);else{if(sa)return lr.onStart(()=>bo(ts,Vr.fromStyles)),lr.onDestroy(()=>ms(ts,Vr.toStyles)),void T.push(lr);if(Ln.isFallbackTransition)return lr.onStart(()=>bo(ts,Vr.fromStyles)),lr.onDestroy(()=>ms(ts,Vr.toStyles)),void T.push(lr);Vr.timelines.forEach(Ao=>Ao.stretchStartingKeyframe=!0),g.append(ts,Vr.timelines),K.push({instruction:Vr,player:lr,element:ts}),Vr.queriedElements.forEach(Ao=>en(fe,Ao,[]).push(lr)),Vr.preStyleProps.forEach((Ao,Fa)=>{const kl=Object.keys(Ao);if(kl.length){let Io=Te.get(Fa);Io||Te.set(Fa,Io=new Set),kl.forEach(eh=>Io.add(eh))}}),Vr.postStyleProps.forEach((Ao,Fa)=>{const kl=Object.keys(Ao);let Io=Be.get(Fa);Io||Be.set(Fa,Io=new Set),kl.forEach(eh=>Io.add(eh))})}});if(cs.length){const cn=[];cs.forEach(Cn=>{cn.push(`@${Cn.triggerName} has failed due to:\n`),Cn.errors.forEach(Ln=>cn.push(`- ${Ln}\n`))}),$i.forEach(Cn=>Cn.destroy()),this.reportError(cn)}const nr=new Map,es=new Map;K.forEach(cn=>{const Cn=cn.element;g.has(Cn)&&(es.set(Cn,Cn),this._beforeAnimationBuild(cn.player.namespaceId,cn.instruction,nr))}),T.forEach(cn=>{const Cn=cn.element;this._getPreviousPlayers(Cn,!1,cn.namespaceId,cn.triggerName,null).forEach(lr=>{en(nr,Cn,[]).push(lr),lr.destroy()})});const Do=sn.filter(cn=>ed(cn,Te,Be)),Ms=new Map;Ft(Ms,this.driver,bn,Be,ws).forEach(cn=>{ed(cn,Te,Be)&&Do.push(cn)});const na=new Map;Ct.forEach((cn,Cn)=>{Ft(na,this.driver,new Set(cn),Te,"!")}),Do.forEach(cn=>{const Cn=Ms.get(cn),Ln=na.get(cn);Ms.set(cn,Object.assign(Object.assign({},Cn),Ln))});const Mo=[],ra=[],ia={};K.forEach(cn=>{const{element:Cn,player:Ln,instruction:lr}=cn;if(g.has(Cn)){if(tt.has(Cn))return Ln.onDestroy(()=>ms(Cn,lr.toStyles)),Ln.disabled=!0,Ln.overrideTotalTime(lr.totalTime),void T.push(Ln);let ts=ia;if(es.size>1){let ao=Cn;const Il=[];for(;ao=ao.parentNode;){const Vr=es.get(ao);if(Vr){ts=Vr;break}Il.push(ao)}Il.forEach(Vr=>es.set(Vr,ts))}const sa=this._buildAnimation(Ln.namespaceId,lr,nr,L,na,Ms);if(Ln.setRealPlayer(sa),ts===ia)Mo.push(Ln);else{const ao=this.playersByElement.get(ts);ao&&ao.length&&(Ln.parentPlayer=St(ao)),T.push(Ln)}}else bo(Cn,lr.fromStyles),Ln.onDestroy(()=>ms(Cn,lr.toStyles)),ra.push(Ln),tt.has(Cn)&&T.push(Ln)}),ra.forEach(cn=>{const Cn=L.get(cn.element);if(Cn&&Cn.length){const Ln=St(Cn);cn.setRealPlayer(Ln)}}),T.forEach(cn=>{cn.parentPlayer?cn.syncPlayerEvents(cn.parentPlayer):cn.destroy()});for(let cn=0;cn<sn.length;cn++){const Cn=sn[cn],Ln=Cn[Ui];if($u(Cn,$r),Ln&&Ln.hasAnimation)continue;let lr=[];if(fe.size){let sa=fe.get(Cn);sa&&sa.length&&lr.push(...sa);let ao=this.driver.query(Cn,Ql,!0);for(let Il=0;Il<ao.length;Il++){let Vr=fe.get(ao[Il]);Vr&&Vr.length&&lr.push(...Vr)}}const ts=lr.filter(sa=>!sa.destroyed);ts.length?yr(this,Cn,ts):this.processLeaveNode(Cn)}return sn.length=0,Mo.forEach(cn=>{this.players.push(cn),cn.onDone(()=>{cn.destroy();const Cn=this.players.indexOf(cn);this.players.splice(Cn,1)}),cn.play()}),Mo}elementContainsData(d,u){let g=!1;const T=u[Ui];return T&&T.setForRemoval&&(g=!0),this.playersByElement.has(u)&&(g=!0),this.playersByQueriedElement.has(u)&&(g=!0),this.statesByElement.has(u)&&(g=!0),this._fetchNamespace(d).elementContainsData(u)||g}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,u,g,T,L){let K=[];if(u){const fe=this.playersByQueriedElement.get(d);fe&&(K=fe)}else{const fe=this.playersByElement.get(d);if(fe){const Te=!L||L==Ls;fe.forEach(Be=>{Be.queued||!Te&&Be.triggerName!=T||K.push(Be)})}}return(g||T)&&(K=K.filter(fe=>!(g&&g!=fe.namespaceId||T&&T!=fe.triggerName))),K}_beforeAnimationBuild(d,u,g){const L=u.element,K=u.isRemovalTransition?void 0:d,fe=u.isRemovalTransition?void 0:u.triggerName;for(const Te of u.timelines){const Be=Te.element,tt=Be!==L,gt=en(g,Be,[]);this._getPreviousPlayers(Be,tt,K,fe,u.toState).forEach(Ct=>{const Pt=Ct.getRealPlayer();Pt.beforeDestroy&&Pt.beforeDestroy(),Ct.destroy(),gt.push(Ct)})}bo(L,u.fromStyles)}_buildAnimation(d,u,g,T,L,K){const fe=u.triggerName,Te=u.element,Be=[],tt=new Set,gt=new Set,Tt=u.timelines.map(Pt=>{const Ut=Pt.element;tt.add(Ut);const sn=Ut[Ui];if(sn&&sn.removedBeforeQueried)return new We(Pt.duration,Pt.delay);const on=Ut!==Te,bn=function(v){const d=[];return Xa(v,d),d}((g.get(Ut)||mn).map(nr=>nr.getRealPlayer())).filter(nr=>!!nr.element&&nr.element===Ut),An=L.get(Ut),xn=K.get(Ut),$i=It(0,this._normalizer,0,Pt.keyframes,An,xn),cs=this._buildPlayer(Pt,$i,bn);if(Pt.subTimeline&&T&&gt.add(Ut),on){const nr=new Cl(d,fe,Ut);nr.setRealPlayer(cs),Be.push(nr)}return cs});Be.forEach(Pt=>{en(this.playersByQueriedElement,Pt.element,[]).push(Pt),Pt.onDone(()=>function(v,d,u){let g;if(v instanceof Map){if(g=v.get(d),g){if(g.length){const T=g.indexOf(u);g.splice(T,1)}0==g.length&&v.delete(d)}}else if(g=v[d],g){if(g.length){const T=g.indexOf(u);g.splice(T,1)}0==g.length&&delete v[d]}return g}(this.playersByQueriedElement,Pt.element,Pt))}),tt.forEach(Pt=>Ti(Pt,Bi));const Ct=St(Tt);return Ct.onDestroy(()=>{tt.forEach(Pt=>$u(Pt,Bi)),ms(Te,u.toStyles)}),gt.forEach(Pt=>{en(T,Pt,[]).push(Ct)}),Ct}_buildPlayer(d,u,g){return u.length>0?this.driver.animate(d.element,u,d.duration,d.delay,d.easing,g):new We(d.duration,d.delay)}}class Cl{constructor(d,u,g){this.namespaceId=d,this.triggerName=u,this.element=g,this._player=new We,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,Object.keys(this._queuedCallbacks).forEach(u=>{this._queuedCallbacks[u].forEach(g=>zt(d,u,void 0,g))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const u=this._player;u.triggerCallback&&d.onStart(()=>u.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,u){en(this._queuedCallbacks,d,[]).push(u)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const u=this._player;u.triggerCallback&&u.triggerCallback(d)}}function af(v){return v&&1===v.nodeType}function lf(v,d){const u=v.style.display;return v.style.display=null!=d?d:"none",u}function Ft(v,d,u,g,T){const L=[];u.forEach(Te=>L.push(lf(Te)));const K=[];g.forEach((Te,Be)=>{const tt={};Te.forEach(gt=>{const Tt=tt[gt]=d.computeStyle(Be,gt,T);(!Tt||0==Tt.length)&&(Be[Ui]=Gn,K.push(Be))}),v.set(Be,tt)});let fe=0;return u.forEach(Te=>lf(Te,L[fe++])),K}function ag(v,d){const u=new Map;if(v.forEach(fe=>u.set(fe,[])),0==d.length)return u;const T=new Set(d),L=new Map;function K(fe){if(!fe)return 1;let Te=L.get(fe);if(Te)return Te;const Be=fe.parentNode;return Te=u.has(Be)?Be:T.has(Be)?1:K(Be),L.set(fe,Te),Te}return d.forEach(fe=>{const Te=K(fe);1!==Te&&u.get(Te).push(fe)}),u}const Jc="$$classes";function Ti(v,d){if(v.classList)v.classList.add(d);else{let u=v[Jc];u||(u=v[Jc]={}),u[d]=!0}}function $u(v,d){if(v.classList)v.classList.remove(d);else{let u=v[Jc];u&&delete u[d]}}function yr(v,d,u){St(u).onDone(()=>v.processLeaveNode(d))}function Xa(v,d){for(let u=0;u<v.length;u++){const g=v[u];g instanceof ot?Xa(g.players,d):d.push(g)}}function ed(v,d,u){const g=u.get(v);if(!g)return!1;let T=d.get(v);return T?g.forEach(L=>T.add(L)):d.set(v,g),u.delete(v),!0}class Fs{constructor(d,u,g){this.bodyNode=d,this._driver=u,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(T,L)=>{},this._transitionEngine=new xr(d,u,g),this._timelineEngine=new te(d,u,g),this._transitionEngine.onRemovalComplete=(T,L)=>this.onRemovalComplete(T,L)}registerTrigger(d,u,g,T,L){const K=d+"-"+T;let fe=this._triggerCache[K];if(!fe){const Te=[],Be=Ea(this._driver,L,Te);if(Te.length)throw new Error(`The animation trigger "${T}" has failed to build due to the following errors:\n - ${Te.join("\n - ")}`);fe=function(v,d,u){return new I(v,d,u)}(T,Be,this._normalizer),this._triggerCache[K]=fe}this._transitionEngine.registerTrigger(u,T,fe)}register(d,u){this._transitionEngine.register(d,u)}destroy(d,u){this._transitionEngine.destroy(d,u)}onInsert(d,u,g,T){this._transitionEngine.insertNode(d,u,g,T)}onRemove(d,u,g,T){this._transitionEngine.removeNode(d,u,T||!1,g)}disableAnimations(d,u){this._transitionEngine.markElementAsDisabled(d,u)}process(d,u,g,T){if("@"==g.charAt(0)){const[L,K]=un(g);this._timelineEngine.command(L,u,K,T)}else this._transitionEngine.trigger(d,u,g,T)}listen(d,u,g,T,L){if("@"==g.charAt(0)){const[K,fe]=un(g);return this._timelineEngine.listen(K,u,fe,L)}return this._transitionEngine.listen(d,u,g,T,L)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Yo(v,d){let u=null,g=null;return Array.isArray(d)&&d.length?(u=Xo(d[0]),d.length>1&&(g=Xo(d[d.length-1]))):d&&(u=Xo(d)),u||g?new hc(v,u,g):null}let hc=(()=>{class v{constructor(u,g,T){this._element=u,this._startStyles=g,this._endStyles=T,this._state=0;let L=v.initialStylesByElement.get(u);L||v.initialStylesByElement.set(u,L={}),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&ms(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ms(this._element,this._initialStyles),this._endStyles&&(ms(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(bo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bo(this._element,this._endStyles),this._endStyles=null),ms(this._element,this._initialStyles),this._state=3)}}return v.initialStylesByElement=new WeakMap,v})();function Xo(v){let d=null;const u=Object.keys(v);for(let g=0;g<u.length;g++){const T=u[g];so(T)&&(d=d||{},d[T]=v[T])}return d}function so(v){return"display"===v||"position"===v}const kh="animation",td="animationend";class Rh{constructor(d,u,g,T,L,K,fe){this._element=d,this._name=u,this._duration=g,this._delay=T,this._easing=L,this._fillMode=K,this._onDoneFn=fe,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Te=>this._handleCallback(Te)}apply(){(function(v,d){const u=rd(v,"").trim();let g=0;u.length&&(function(v,d){let u=0;for(let g=0;g<v.length;g++)","===v.charAt(g)&&u++;return u}(u)+1,d=`${u}, ${d}`),nd(v,"",d)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),df(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){uf(this._element,this._name,"paused")}resume(){uf(this._element,this._name,"running")}setPosition(d){const u=Tl(this._element,this._name);this._position=d*this._duration,nd(this._element,"Delay",`-${this._position}ms`,u)}getPosition(){return this._position}_handleCallback(d){const u=d._ngTestManualTimestamp||Date.now(),g=1e3*parseFloat(d.elapsedTime.toFixed(3));d.animationName==this._name&&Math.max(u-this._startTime,0)>=this._delay&&g>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),df(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(v,d){const g=rd(v,"").split(","),T=Nh(g,d);T>=0&&(g.splice(T,1),nd(v,"",g.join(",")))}(this._element,this._name))}}function uf(v,d,u){nd(v,"PlayState",u,Tl(v,d))}function Tl(v,d){const u=rd(v,"");return u.indexOf(",")>0?Nh(u.split(","),d):Nh([u],d)}function Nh(v,d){for(let u=0;u<v.length;u++)if(v[u].indexOf(d)>=0)return u;return-1}function df(v,d,u){u?v.removeEventListener(td,d):v.addEventListener(td,d)}function nd(v,d,u,g){const T=kh+d;if(null!=g){const L=v.style[T];if(L.length){const K=L.split(",");K[g]=u,u=K.join(",")}}v.style[T]=u}function rd(v,d){return v.style[kh+d]||""}class El{constructor(d,u,g,T,L,K,fe,Te){this.element=d,this.keyframes=u,this.animationName=g,this._duration=T,this._delay=L,this._finalStyles=fe,this._specialStyles=Te,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=K||"linear",this.totalTime=T+L,this._buildStyler()}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(d=>d()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(d=>d()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(d){this._styler.setPosition(d)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Rh(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(d){const u="start"==d?this._onStartFns:this._onDoneFns;u.forEach(g=>g()),u.length=0}beforeDestroy(){this.init();const d={};if(this.hasStarted()){const u=this._state>=3;Object.keys(this._finalStyles).forEach(g=>{"offset"!=g&&(d[g]=u?this._finalStyles[g]:Yl(this.element,g))})}this.currentSnapshot=d}}class zu extends We{constructor(d,u){super(),this.element=d,this._startingStyles={},this.__initialized=!1,this._styles=Xr(u)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(d=>{this._startingStyles[d]=this.element.style[d]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(d=>this.element.style.setProperty(d,this._styles[d])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(d=>{const u=this._startingStyles[d];u?this.element.style.setProperty(d,u):this.element.style.removeProperty(d)}),this._startingStyles=null,super.destroy())}}class tu{constructor(){this._count=0}validateStyleProperty(d){return Nt(d)}matchesElement(d,u){return kn(d,u)}containsElement(d,u){return Ar(d,u)}query(d,u,g){return Ga(d,u,g)}computeStyle(d,u,g){return window.getComputedStyle(d)[u]}buildKeyframeElement(d,u,g){g=g.map(fe=>Xr(fe));let T=`@keyframes ${u} {\n`,L="";g.forEach(fe=>{L=" ";const Te=parseFloat(fe.offset);T+=`${L}${100*Te}% {\n`,L+=" ",Object.keys(fe).forEach(Be=>{const tt=fe[Be];switch(Be){case"offset":return;case"easing":return void(tt&&(T+=`${L}animation-timing-function: ${tt};\n`));default:return void(T+=`${L}${Be}: ${tt};\n`)}}),T+=`${L}}\n`}),T+="}\n";const K=document.createElement("style");return K.textContent=T,K}animate(d,u,g,T,L,K=[],fe){const Te=K.filter(sn=>sn instanceof El),Be={};Lu(g,T)&&Te.forEach(sn=>{let on=sn.currentSnapshot;Object.keys(on).forEach(bn=>Be[bn]=on[bn])});const tt=function(v){let d={};return v&&(Array.isArray(v)?v:[v]).forEach(g=>{Object.keys(g).forEach(T=>{"offset"==T||"easing"==T||(d[T]=g[T])})}),d}(u=cr(d,u,Be));if(0==g)return new zu(d,tt);const gt="gen_css_kf_"+this._count++,Tt=this.buildKeyframeElement(d,gt,u);(function(v){var d;const u=null===(d=v.getRootNode)||void 0===d?void 0:d.call(v);return"undefined"!=typeof ShadowRoot&&u instanceof ShadowRoot?u:document.head})(d).appendChild(Tt);const Pt=Yo(d,u),Ut=new El(d,u,gt,g,T,L,tt,Pt);return Ut.onDestroy(()=>{var v;(v=Tt).parentNode.removeChild(v)}),Ut}}class pc{constructor(d,u,g,T){this.element=d,this.keyframes=u,this.options=g,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(d,u,g){return d.animate(u,g)}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(u=>{"offset"!=u&&(d[u]=this._finished?this._finalKeyframe[u]:Yl(this.element,u))}),this.currentSnapshot=d}triggerCallback(d){const u="start"==d?this._onStartFns:this._onDoneFns;u.forEach(g=>g()),u.length=0}}class Zm{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ys().toString()),this._cssKeyframesDriver=new tu}validateStyleProperty(d){return Nt(d)}matchesElement(d,u){return kn(d,u)}containsElement(d,u){return Ar(d,u)}query(d,u,g){return Ga(d,u,g)}computeStyle(d,u,g){return window.getComputedStyle(d)[u]}overrideWebAnimationsSupport(d){this._isNativeImpl=d}animate(d,u,g,T,L,K=[],fe){if(!fe&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(d,u,g,T,L,K);const tt={duration:g,delay:T,fill:0==T?"both":"forwards"};L&&(tt.easing=L);const gt={},Tt=K.filter(Pt=>Pt instanceof pc);Lu(g,T)&&Tt.forEach(Pt=>{let Ut=Pt.currentSnapshot;Object.keys(Ut).forEach(sn=>gt[sn]=Ut[sn])});const Ct=Yo(d,u=cr(d,u=u.map(Pt=>Ks(Pt,!1)),gt));return new pc(d,u,tt,Ct)}}function ys(){return ut()&&Element.prototype.animate||{}}let Zo=(()=>{class v extends fr{constructor(u,g){super(),this._nextAnimationId=0,this._renderer=u.createRenderer(g.body,{id:"0",encapsulation:b.ifc.None,styles:[],data:{animation:[]}})}build(u){const g=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(u)?_o(u):u;return Ir(this._renderer,null,g,"register",[T]),new Bs(g,this._renderer)}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(b.FYo),b.LFG(A.K0))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();class Bs extends class{}{constructor(d,u){super(),this._id=d,this._renderer=u}create(d,u){return new Vi(this._id,d,u||{},this._renderer)}}class Vi{constructor(d,u,g,T){this.id=d,this.element=u,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(d,u){return this._renderer.listen(this.element,`@@${this.id}:${d}`,u)}_command(d,...u){return Ir(this._renderer,this.element,this.id,d,u)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){var d,u;return null!==(u=null===(d=this._renderer.engine.players[+this.id])||void 0===d?void 0:d.getPosition())&&void 0!==u?u:0}}function Ir(v,d,u,g,T){return v.setProperty(d,`@@${u}:${g}`,T)}const Da="@.disabled";let wl=(()=>{class v{constructor(u,g,T){this.delegate=u,this.engine=g,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),g.onRemovalComplete=(L,K)=>{K&&K.parentNode(L)&&K.removeChild(L.parentNode,L)}}createRenderer(u,g){const L=this.delegate.createRenderer(u,g);if(!(u&&g&&g.data&&g.data.animation)){let tt=this._rendererCache.get(L);return tt||(tt=new Uh("",L,this.engine),this._rendererCache.set(L,tt)),tt}const K=g.id,fe=g.id+"-"+this._currentId;this._currentId++,this.engine.register(fe,u);const Te=tt=>{Array.isArray(tt)?tt.forEach(Te):this.engine.registerTrigger(K,fe,u,tt.name,tt)};return g.data.animation.forEach(Te),new Vh(this,fe,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(u,g,T){u>=0&&u<this._microtaskId?this._zone.run(()=>g(T)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(L=>{const[K,fe]=L;K(fe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(b.FYo),b.LFG(Fs),b.LFG(b.R0b))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();class Uh{constructor(d,u,g){this.namespaceId=d,this.delegate=u,this.engine=g,this.destroyNode=this.delegate.destroyNode?T=>u.destroyNode(T):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(d,u){return this.delegate.createElement(d,u)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,u){this.delegate.appendChild(d,u),this.engine.onInsert(this.namespaceId,u,d,!1)}insertBefore(d,u,g,T=!0){this.delegate.insertBefore(d,u,g),this.engine.onInsert(this.namespaceId,u,d,T)}removeChild(d,u,g){this.engine.onRemove(this.namespaceId,u,this.delegate,g)}selectRootElement(d,u){return this.delegate.selectRootElement(d,u)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,u,g,T){this.delegate.setAttribute(d,u,g,T)}removeAttribute(d,u,g){this.delegate.removeAttribute(d,u,g)}addClass(d,u){this.delegate.addClass(d,u)}removeClass(d,u){this.delegate.removeClass(d,u)}setStyle(d,u,g,T){this.delegate.setStyle(d,u,g,T)}removeStyle(d,u,g){this.delegate.removeStyle(d,u,g)}setProperty(d,u,g){"@"==u.charAt(0)&&u==Da?this.disableAnimations(d,!!g):this.delegate.setProperty(d,u,g)}setValue(d,u){this.delegate.setValue(d,u)}listen(d,u,g){return this.delegate.listen(d,u,g)}disableAnimations(d,u){this.engine.disableAnimations(d,u)}}class Vh extends Uh{constructor(d,u,g,T){super(u,g,T),this.factory=d,this.namespaceId=u}setProperty(d,u,g){"@"==u.charAt(0)?"."==u.charAt(1)&&u==Da?this.disableAnimations(d,g=void 0===g||!!g):this.engine.process(this.namespaceId,d,u.substr(1),g):this.delegate.setProperty(d,u,g)}listen(d,u,g){if("@"==u.charAt(0)){const T=function(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(d);let L=u.substr(1),K="";return"@"!=L.charAt(0)&&([L,K]=function(v){const d=v.indexOf(".");return[v.substring(0,d),v.substr(d+1)]}(L)),this.engine.listen(this.namespaceId,T,L,K,fe=>{this.factory.scheduleListenerCallback(fe._data||-1,g,fe)})}return this.delegate.listen(d,u,g)}}let Wu=(()=>{class v extends Fs{constructor(u,g,T){super(u.body,g,T)}ngOnDestroy(){this.flush()}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(A.K0),b.LFG(ci),b.LFG(Ka))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();const gf=new b.OlP("AnimationModuleType"),gc=[{provide:fr,useClass:Zo},{provide:Ka,useFactory:function(){return new Oa}},{provide:Fs,useClass:Wu},{provide:b.FYo,useFactory:function(v,d,u){return new wl(v,d,u)},deps:[Mn,Fs,b.R0b]}],od=[{provide:ci,useFactory:function(){return"function"==typeof ys()?new Zm:new tu}},{provide:gf,useValue:"BrowserAnimations"},...gc],mc=[{provide:ci,useClass:Zr},{provide:gf,useValue:"NoopAnimations"},...gc];let Hh=(()=>{class v{static withConfig(u){return{ngModule:v,providers:u.disableAnimations?mc:od}}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({providers:od,imports:[sr]}),v})();var $h=F(1439),el=F(205),vc=F(9796),ug=F(9105);function Qu(v,d,u,g){return(0,ug.m)(u)&&(g=u,u=void 0),g?Qu(v,d,u).pipe((0,gi.U)(T=>(0,vc.k)(T)?g(...T):g(T))):new _n.y(T=>{yc(v,d,function(K){T.next(arguments.length>1?Array.prototype.slice.call(arguments):K)},T,u)})}function yc(v,d,u,g,T){let L;if(function(v){return v&&"function"==typeof v.addEventListener&&"function"==typeof v.removeEventListener}(v)){const K=v;v.addEventListener(d,u,T),L=()=>K.removeEventListener(d,u,T)}else if(function(v){return v&&"function"==typeof v.on&&"function"==typeof v.off}(v)){const K=v;v.on(d,u),L=()=>K.off(d,u)}else if(function(v){return v&&"function"==typeof v.addListener&&"function"==typeof v.removeListener}(v)){const K=v;v.addListener(d,u),L=()=>K.removeListener(d,u)}else{if(!v||!v.length)throw new TypeError("Invalid event target");for(let K=0,fe=v.length;K<fe;K++)yc(v[K],d,u,g,T)}g.add(L)}var cg=F(8071),Ol=F(7709),_c=F(8640);const So=new _n.y(_c.Z);var oo=F(6682),ad=F(3190),bc=F(4458),Pl=F(5257),ud=F(8307),mf=F(3637),su=F(7393),ou=F(3098);class yf{constructor(d,u){this.delay=d,this.scheduler=u}call(d,u){return u.subscribe(new _f(d,this.delay,this.scheduler))}}class _f extends su.L{constructor(d,u,g){super(d),this.delay=u,this.scheduler=g,this.queue=[],this.active=!1,this.errored=!1}static dispatch(d){const u=d.source,g=u.queue,T=d.scheduler,L=d.destination;for(;g.length>0&&g[0].time-T.now()<=0;)g.shift().notification.observe(L);if(g.length>0){const K=Math.max(0,g[0].time-T.now());this.schedule(d,K)}else this.unsubscribe(),u.active=!1}_schedule(d){this.active=!0,this.destination.add(d.schedule(_f.dispatch,this.delay,{source:this,destination:this.destination,scheduler:d}))}scheduleNotification(d){if(!0===this.errored)return;const u=this.scheduler,g=new Jo(u.now()+this.delay,d);this.queue.push(g),!1===this.active&&this._schedule(u)}_next(d){this.scheduleNotification(ou.P.createNext(d))}_error(d){this.errored=!0,this.queue=[],this.destination.error(d),this.unsubscribe()}_complete(){this.scheduleNotification(ou.P.createComplete()),this.unsubscribe()}}class Jo{constructor(d,u){this.time=d,this.notification=u}}const Aa="Service workers are disabled or not supported by this browser";class au{constructor(d){if(this.serviceWorker=d,d){const g=Qu(d,"controllerchange").pipe((0,gi.U)(()=>d.controller)),T=(0,$h.P)(()=>(0,Ni.of)(d.controller)),L=(0,cg.z)(T,g);this.worker=L.pipe((0,os.h)(tt=>!!tt)),this.registration=this.worker.pipe((0,ad.w)(()=>d.getRegistration()));const Be=Qu(d,"message").pipe((0,gi.U)(tt=>tt.data)).pipe((0,os.h)(tt=>tt&&tt.type)).pipe((0,bc.O)(new Ol.xQ));Be.connect(),this.events=Be}else this.worker=this.events=this.registration=(Aa,(0,$h.P)(()=>(0,el._)(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(d,u){return this.worker.pipe((0,Pl.q)(1),(0,ud.b)(g=>{g.postMessage(Object.assign({action:d},u))})).toPromise().then(()=>{})}postMessageWithStatus(d,u,g){const T=this.waitForStatus(g),L=this.postMessage(d,u);return Promise.all([T,L]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(d){return this.events.pipe((0,os.h)(g=>g.type===d))}nextEventOfType(d){return this.eventsOfType(d).pipe((0,Pl.q)(1))}waitForStatus(d){return this.eventsOfType("STATUS").pipe((0,os.h)(u=>u.nonce===d),(0,Pl.q)(1),(0,gi.U)(u=>{if(!u.status)throw new Error(u.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Cf=(()=>{class v{constructor(u){if(this.sw=u,this.subscriptionChanges=new Ol.xQ,!u.isEnabled)return this.messages=So,this.notificationClicks=So,void(this.subscription=So);this.messages=this.sw.eventsOfType("PUSH").pipe((0,gi.U)(T=>T.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,gi.U)(T=>T.data)),this.pushManager=this.sw.registration.pipe((0,gi.U)(T=>T.pushManager));const g=this.pushManager.pipe((0,ad.w)(T=>T.getSubscription()));this.subscription=(0,oo.T)(g,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(u){if(!this.sw.isEnabled)return Promise.reject(new Error(Aa));const g={userVisibleOnly:!0};let T=this.decodeBase64(u.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),L=new Uint8Array(new ArrayBuffer(T.length));for(let K=0;K<T.length;K++)L[K]=T.charCodeAt(K);return g.applicationServerKey=L,this.pushManager.pipe((0,ad.w)(K=>K.subscribe(g)),(0,Pl.q)(1)).toPromise().then(K=>(this.subscriptionChanges.next(K),K))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Pl.q)(1),(0,ad.w)(g=>{if(null===g)throw new Error("Not subscribed to push notifications.");return g.unsubscribe().then(T=>{if(!T)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Aa))}decodeBase64(u){return atob(u)}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(au))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})(),Tf=(()=>{class v{constructor(u){if(this.sw=u,!u.isEnabled)return this.available=So,this.activated=So,void(this.unrecoverable=So);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Aa));const u=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:u},u)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Aa));const u=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:u},u)}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(au))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();class Ef{}const Wh=new b.OlP("NGSW_REGISTER_SCRIPT");function cd(v,d,u,g){return()=>{if(!(0,A.NF)(g)||!("serviceWorker"in navigator)||!1===u.enabled)return;let L;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof u.registrationStrategy)L=u.registrationStrategy();else{const[fe,...Te]=(u.registrationStrategy||"registerWhenStable:30000").split(":");switch(fe){case"registerImmediately":L=(0,Ni.of)(null);break;case"registerWithDelay":L=xf(+Te[0]||0);break;case"registerWhenStable":L=Te[0]?(0,oo.T)(Cc(v),xf(+Te[0])):Cc(v);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${u.registrationStrategy}`)}}v.get(b.R0b).runOutsideAngular(()=>L.pipe((0,Pl.q)(1)).subscribe(()=>navigator.serviceWorker.register(d,{scope:u.scope}).catch(fe=>console.error("Service worker registration failed with:",fe))))}}function xf(v){return(0,Ni.of)(null).pipe(function(v,d=mf.P){const g=function(v){return v instanceof Date&&!isNaN(+v)}(v)?+v-d.now():Math.abs(v);return T=>T.lift(new yf(g,d))}(v))}function Cc(v){return v.get(b.z2F).isStable.pipe((0,os.h)(u=>u))}function Gh(v,d){return new au((0,A.NF)(d)&&!1!==v.enabled?navigator.serviceWorker:void 0)}let wf=(()=>{class v{static register(u,g={}){return{ngModule:v,providers:[{provide:Wh,useValue:u},{provide:Ef,useValue:g},{provide:au,useFactory:Gh,deps:[Ef,b.Lbi]},{provide:b.ip1,useFactory:cd,deps:[b.zs3,Wh,Ef,b.Lbi],multi:!0}]}}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({providers:[Cf,Tf]}),v})();function qu(){return()=>!0}function Qh(){return()=>{}}let Ia=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({providers:[{provide:b.ip1,useFactory:qu,deps:[],multi:!0},{provide:b.ip1,useFactory:Qh,deps:[],multi:!0}]}),v})();var Tc=F(884),Sf=F(4854),Ec=F(6339);class hd extends Tc.i{constructor(d,u){super(),this.httpClient=d,this.options=u,this.print=Ec.S,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=g=>new Sf.y(T=>{const L=g.getContext(),K=(bn,An)=>function(...v){const d=v.find(u=>void 0!==u);return void 0===d?v[v.length-1]:d}(L[bn],this.options[bn],An);let fe=K("method","POST");const Te=K("includeQuery",!0),Be=K("includeExtensions",!1),tt=K("uri","graphql"),gt=K("withCredentials"),Tt=K("useMultipart"),Ct=!0===this.options.useGETForQueries,Pt=g.query.definitions.some(bn=>"OperationDefinition"===bn.kind&&"query"===bn.operation);Ct&&Pt&&(fe="GET");const Ut={method:fe,url:"function"==typeof tt?tt(g):tt,body:{operationName:g.operationName,variables:g.variables},options:{withCredentials:gt,useMultipart:Tt,headers:this.options.headers}};Be&&(Ut.body.extensions=g.extensions),Te&&(Ut.body.query=this.print(g.query));const sn=function(v){let d=v.headers&&v.headers instanceof li?v.headers:new li(v.headers);if(v.clientAwareness){const{name:u,version:g}=v.clientAwareness;u&&!d.has("apollographql-client-name")&&(d=d.set("apollographql-client-name",u)),g&&!d.has("apollographql-client-version")&&(d=d.set("apollographql-client-version",g))}return d}(L);Ut.options.headers=((v,d)=>v&&d?d.keys().reduce((g,T)=>g.set(T,d.getAll(T)),v):d||v)(Ut.options.headers,sn);const on=((v,d,u)=>{const g=-1!==["POST","PUT","PATCH"].indexOf(v.method.toUpperCase()),L=v.body.length;let fe,K=v.options&&v.options.useMultipart;if(K){if(L)return new _n.y(Be=>Be.error(new Error("File upload is not available when combined with Batching")));if(!g)return new _n.y(Be=>Be.error(new Error("File upload is not available when GET is used")));if(!u)return new _n.y(Be=>Be.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));fe=u(v.body),K=!!fe.files.size}let Te={};if(L){if(!g)return new _n.y(Be=>Be.error(new Error("Batching is not available for GET requests")));Te={body:v.body}}else{const Be=K?fe.clone:v.body;Te=g?{body:Be}:{params:Object.keys(v.body).reduce((gt,Tt)=>{const Ct=v.body[Tt];return gt[Tt]=(Be=>-1!==["variables","extensions"].indexOf(Be.toLowerCase()))(Tt)?JSON.stringify(Ct):Ct,gt},{})}}if(K&&g){const Be=new FormData;Be.append("operations",JSON.stringify(Te.body));const tt={},gt=fe.files;let Tt=0;gt.forEach(Ct=>{tt[++Tt]=Ct}),Be.append("map",JSON.stringify(tt)),Tt=0,gt.forEach((Ct,Pt)=>{Be.append(++Tt+"",Pt,Pt.name)}),Te.body=Be}return d.request(v.method,v.url,Iu(Iu({observe:"response",responseType:"json",reportProgress:!1},Te),v.options))})(Ut,this.httpClient,this.options.extractFiles).subscribe({next:bn=>{g.setContext({response:bn}),T.next(bn.body)},error:bn=>T.error(bn),complete:()=>T.complete()});return()=>{on.closed||on.unsubscribe()}})}request(d){return this.requester(d)}}let xc=(()=>{class v{constructor(u){this.httpClient=u}create(u){return new hd(this.httpClient,u)}}return v.\u0275fac=function(u){return new(u||v)(b.LFG(Ha))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var gn=F(4762),Zi=F(9591),ka=F(1747),wc=F(1913),uu=F(1598),pd=function(){function v(){this.getFragmentDoc=(0,ka.re)(uu.Yk)}return v.prototype.batch=function(d){var T,u=this;return this.performTransaction(function(){return T=d.update(u)},"string"==typeof d.optimistic?d.optimistic:!1===d.optimistic?null:void 0),T},v.prototype.recordOptimisticTransaction=function(d,u){this.performTransaction(d,u)},v.prototype.transformDocument=function(d){return d},v.prototype.identify=function(d){},v.prototype.gc=function(){return[]},v.prototype.modify=function(d){return!1},v.prototype.transformForLink=function(d){return d},v.prototype.readQuery=function(d,u){return void 0===u&&(u=!!d.optimistic),this.read((0,gn.pi)((0,gn.pi)({},d),{rootId:d.id||"ROOT_QUERY",optimistic:u}))},v.prototype.readFragment=function(d,u){return void 0===u&&(u=!!d.optimistic),this.read((0,gn.pi)((0,gn.pi)({},d),{query:this.getFragmentDoc(d.fragment,d.fragmentName),rootId:d.id,optimistic:u}))},v.prototype.writeQuery=function(d){var u=d.id,g=d.data,T=(0,gn._T)(d,["id","data"]);return this.write(Object.assign(T,{dataId:u||"ROOT_QUERY",result:g}))},v.prototype.writeFragment=function(d){var u=d.id,g=d.data,T=d.fragment,L=d.fragmentName,K=(0,gn._T)(d,["id","data","fragment","fragmentName"]);return this.write(Object.assign(K,{query:this.getFragmentDoc(T,L),dataId:u,result:g}))},v.prototype.updateQuery=function(d,u){return this.batch({update:function(g){var T=g.readQuery(d),L=u(T);return null==L?T:(g.writeQuery((0,gn.pi)((0,gn.pi)({},d),{data:L})),L)}})},v.prototype.updateFragment=function(d,u){return this.batch({update:function(g){var T=g.readFragment(d),L=u(T);return null==L?T:(g.writeFragment((0,gn.pi)((0,gn.pi)({},d),{data:L})),L)}})},v}(),cu=function(d,u,g,T){this.message=d,this.path=u,this.query=g,this.variables=T},Pn=F(9737),du=F(7125),gd=F(7289),ti=F(4155),tl=F(1144),md=F(6216),Ku=F(443),Ra=F(9231);function Yu(v){return __DEV__&&function(v){var d=new Set([v]);d.forEach(function(u){(0,Ra.s)(u)&&function(v){if(__DEV__&&!Object.isFrozen(v))try{Object.freeze(v)}catch(d){if(d instanceof TypeError)return null;throw d}return v}(u)===u&&Object.getOwnPropertyNames(u).forEach(function(g){(0,Ra.s)(u[g])&&d.add(u[g])})})}(v),v}var v,d,vd=F(2844),hn=F(460),yd=Object.create(null),Pf=function(){return yd},fu=Object.create(null),ji=function(){function v(d,u){var g=this;this.policies=d,this.group=u,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(T,L){return Yu((0,Pn.Yk)(T)?g.get(T.__ref,L):T&&T[L])},this.canRead=function(T){return(0,Pn.Yk)(T)?g.has(T.__ref):"object"==typeof T},this.toReference=function(T,L){if("string"==typeof T)return(0,Pn.kQ)(T);if((0,Pn.Yk)(T))return T;var K=g.policies.identify(T)[0];if(K){var fe=(0,Pn.kQ)(K);return L&&g.merge(K,T),fe}}}return v.prototype.toObject=function(){return(0,gn.pi)({},this.data)},v.prototype.has=function(d){return void 0!==this.lookup(d,!0)},v.prototype.get=function(d,u){if(this.group.depend(d,u),hn.RI.call(this.data,d)){var g=this.data[d];if(g&&hn.RI.call(g,u))return g[u]}return"__typename"===u&&hn.RI.call(this.policies.rootTypenamesById,d)?this.policies.rootTypenamesById[d]:this instanceof ni?this.parent.get(d,u):void 0},v.prototype.lookup=function(d,u){return u&&this.group.depend(d,"__exists"),hn.RI.call(this.data,d)?this.data[d]:this instanceof ni?this.parent.lookup(d,u):this.policies.rootTypenamesById[d]?Object.create(null):void 0},v.prototype.merge=function(d,u){var T,g=this;(0,Pn.Yk)(d)&&(d=d.__ref),(0,Pn.Yk)(u)&&(u=u.__ref);var L="string"==typeof d?this.lookup(T=d):d,K="string"==typeof u?this.lookup(T=u):u;if(K){__DEV__?(0,Zi.kG)("string"==typeof T,"store.merge expects a string ID"):(0,Zi.kG)("string"==typeof T,1);var fe=new md.w0(Pc).merge(L,K);if(this.data[T]=fe,fe!==L&&(delete this.refs[T],this.group.caching)){var Te=Object.create(null);L||(Te.__exists=1),Object.keys(K).forEach(function(Be){if(!L||L[Be]!==fe[Be]){Te[Be]=1;var tt=(0,hn.E_)(Be);tt!==Be&&!g.policies.hasKeyArgs(fe.__typename,tt)&&(Te[tt]=1),void 0===fe[Be]&&!(g instanceof ni)&&delete fe[Be]}}),Te.__typename&&!(L&&L.__typename)&&this.policies.rootTypenamesById[T]===fe.__typename&&delete Te.__typename,Object.keys(Te).forEach(function(Be){return g.group.dirty(T,Be)})}}},v.prototype.modify=function(d,u){var g=this,T=this.lookup(d);if(T){var L=Object.create(null),K=!1,fe=!0,Te={DELETE:yd,INVALIDATE:fu,isReference:Pn.Yk,toReference:this.toReference,canRead:this.canRead,readField:function(Be,tt){return g.policies.readField("string"==typeof Be?{fieldName:Be,from:tt||(0,Pn.kQ)(d)}:Be,{store:g})}};if(Object.keys(T).forEach(function(Be){var tt=(0,hn.E_)(Be),gt=T[Be];if(void 0!==gt){var Tt="function"==typeof u?u:u[Be]||u[tt];if(Tt){var Ct=Tt===Pf?yd:Tt(Yu(gt),(0,gn.pi)((0,gn.pi)({},Te),{fieldName:tt,storeFieldName:Be,storage:g.getStorage(d,Be)}));Ct===fu?g.group.dirty(d,Be):(Ct===yd&&(Ct=void 0),Ct!==gt&&(L[Be]=Ct,K=!0,gt=Ct))}void 0!==gt&&(fe=!1)}}),K)return this.merge(d,L),fe&&(this instanceof ni?this.data[d]=void 0:delete this.data[d],this.group.dirty(d,"__exists")),!0}return!1},v.prototype.delete=function(d,u,g){var T,L=this.lookup(d);if(L){var K=this.getFieldValue(L,"__typename"),fe=u&&g?this.policies.getStoreFieldName({typename:K,fieldName:u,args:g}):u;return this.modify(d,fe?((T={})[fe]=Pf,T):Pf)}return!1},v.prototype.evict=function(d,u){var g=!1;return d.id&&(hn.RI.call(this.data,d.id)&&(g=this.delete(d.id,d.fieldName,d.args)),this instanceof ni&&this!==u&&(g=this.parent.evict(d,u)||g),(d.fieldName||g)&&this.group.dirty(d.id,d.fieldName||"__exists")),g},v.prototype.clear=function(){this.replace(null)},v.prototype.extract=function(){var d=this,u=this.toObject(),g=[];return this.getRootIdSet().forEach(function(T){hn.RI.call(d.policies.rootTypenamesById,T)||g.push(T)}),g.length&&(u.__META={extraRootIds:g.sort()}),u},v.prototype.replace=function(d){var u=this;if(Object.keys(this.data).forEach(function(L){d&&hn.RI.call(d,L)||u.delete(L)}),d){var g=d.__META,T=(0,gn._T)(d,["__META"]);Object.keys(T).forEach(function(L){u.merge(L,T[L])}),g&&g.extraRootIds.forEach(this.retain,this)}},v.prototype.retain=function(d){return this.rootIds[d]=(this.rootIds[d]||0)+1},v.prototype.release=function(d){if(this.rootIds[d]>0){var u=--this.rootIds[d];return u||delete this.rootIds[d],u}return 0},v.prototype.getRootIdSet=function(d){return void 0===d&&(d=new Set),Object.keys(this.rootIds).forEach(d.add,d),this instanceof ni?this.parent.getRootIdSet(d):Object.keys(this.policies.rootTypenamesById).forEach(d.add,d),d},v.prototype.gc=function(){var d=this,u=this.getRootIdSet(),g=this.toObject();u.forEach(function(K){hn.RI.call(g,K)&&(Object.keys(d.findChildRefIds(K)).forEach(u.add,u),delete g[K])});var T=Object.keys(g);if(T.length){for(var L=this;L instanceof ni;)L=L.parent;T.forEach(function(K){return L.delete(K)})}return T},v.prototype.findChildRefIds=function(d){if(!hn.RI.call(this.refs,d)){var u=this.refs[d]=Object.create(null),g=this.data[d];if(!g)return u;var T=new Set([g]);T.forEach(function(L){(0,Pn.Yk)(L)&&(u[L.__ref]=!0),(0,Ra.s)(L)&&Object.keys(L).forEach(function(K){var fe=L[K];(0,Ra.s)(fe)&&T.add(fe)})})}return this.refs[d]},v.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},v}(),Sc=function(){function v(d,u){void 0===u&&(u=null),this.caching=d,this.parent=u,this.d=null,this.resetCaching()}return v.prototype.resetCaching=function(){this.d=this.caching?(0,ka.dP)():null,this.keyMaker=new vd.B(gd.mr)},v.prototype.depend=function(d,u){if(this.d){this.d(Oc(d,u));var g=(0,hn.E_)(u);g!==u&&this.d(Oc(d,g)),this.parent&&this.parent.depend(d,u)}},v.prototype.dirty=function(d,u){this.d&&this.d.dirty(Oc(d,u),"__exists"===u?"forget":"setDirty")},v}();function Oc(v,d){return d+"#"+v}function _d(v,d){Xu(v)&&v.group.depend(d,"__exists")}d=function(u){function g(T){var K=T.resultCaching,Te=T.seed,Be=u.call(this,T.policies,new Sc(void 0===K||K))||this;return Be.stump=new hu(Be),Be.storageTrie=new vd.B(gd.mr),Te&&Be.replace(Te),Be}return(0,gn.ZT)(g,u),g.prototype.addLayer=function(T,L){return this.stump.addLayer(T,L)},g.prototype.removeLayer=function(){return this},g.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},g}(v=ji||(ji={})),v.Root=d;var ni=function(v){function d(u,g,T,L){var K=v.call(this,g.policies,L)||this;return K.id=u,K.parent=g,K.replay=T,K.group=L,T(K),K}return(0,gn.ZT)(d,v),d.prototype.addLayer=function(u,g){return new d(u,this,g,this.group)},d.prototype.removeLayer=function(u){var g=this,T=this.parent.removeLayer(u);return u===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(L){var K=g.data[L],fe=T.lookup(L);fe?K?K!==fe&&Object.keys(K).forEach(function(Te){(0,wc.D)(K[Te],fe[Te])||g.group.dirty(L,Te)}):(g.group.dirty(L,"__exists"),Object.keys(fe).forEach(function(Te){g.group.dirty(L,Te)})):g.delete(L)}),T):T===this.parent?this:T.addLayer(this.id,this.replay)},d.prototype.toObject=function(){return(0,gn.pi)((0,gn.pi)({},this.parent.toObject()),this.data)},d.prototype.findChildRefIds=function(u){var g=this.parent.findChildRefIds(u);return hn.RI.call(this.data,u)?(0,gn.pi)((0,gn.pi)({},g),v.prototype.findChildRefIds.call(this,u)):g},d.prototype.getStorage=function(){for(var u=this.parent;u.parent;)u=u.parent;return u.getStorage.apply(u,arguments)},d}(ji),hu=function(v){function d(u){return v.call(this,"EntityStore.Stump",u,function(){},new Sc(u.group.caching,u.group))||this}return(0,gn.ZT)(d,v),d.prototype.removeLayer=function(){return this},d.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},d}(ni);function Pc(v,d,u){var g=v[u],T=d[u];return(0,wc.D)(g,T)?g:T}function Xu(v){return!!(v instanceof ji&&v.group.caching)}var Zs=F(7149);function bd(v){return[v.selectionSet,v.objectOrReference,v.context,v.context.canonizeResults]}var hg=function(){function v(d){var u=this;this.knownResults=new(gd.mr?WeakMap:Map),this.config=(0,ti.o)(d,{addTypename:!1!==d.addTypename,canonizeResults:(0,hn.lg)(d)}),this.canon=d.canon||new Zs.h,this.executeSelectionSet=(0,ka.re)(function(g){var T,L=g.context.canonizeResults,K=bd(g);K[3]=!L;var fe=(T=u.executeSelectionSet).peek.apply(T,K);return fe?L?(0,gn.pi)((0,gn.pi)({},fe),{result:u.canon.admit(fe.result)}):fe:(_d(g.context.store,g.enclosingRef.__ref),u.execSelectionSetImpl(g))},{max:this.config.resultCacheMaxSize,keyArgs:bd,makeCacheKey:function(g,T,L,K){if(Xu(L.store))return L.store.makeCacheKey(g,(0,Pn.Yk)(T)?T.__ref:T,L.varString,K)}}),this.executeSubSelectedArray=(0,ka.re)(function(g){return _d(g.context.store,g.enclosingRef.__ref),u.execSubSelectedArrayImpl(g)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(g){var T=g.field,L=g.array,K=g.context;if(Xu(K.store))return K.store.makeCacheKey(T,L,K.varString)}})}return v.prototype.resetCanon=function(){this.canon=new Zs.h},v.prototype.diffQueryAgainstStore=function(d){var u=d.store,g=d.query,T=d.rootId,L=void 0===T?"ROOT_QUERY":T,K=d.variables,fe=d.returnPartialData,Te=void 0===fe||fe,Be=d.canonizeResults,tt=void 0===Be?this.config.canonizeResults:Be,gt=this.config.cache.policies;K=(0,gn.pi)((0,gn.pi)({},(0,tl.O4)((0,tl.iW)(g))),K);var Ut,Tt=(0,Pn.kQ)(L),Ct=new md.w0,Pt=this.executeSelectionSet({selectionSet:(0,tl.p$)(g).selectionSet,objectOrReference:Tt,enclosingRef:Tt,context:{store:u,query:g,policies:gt,variables:K,varString:(0,Zs.B)(K),canonizeResults:tt,fragmentMap:(0,uu.F)((0,tl.kU)(g)),merge:function(sn,on){return Ct.merge(sn,on)}}});if(Pt.missing&&(Ut=[new cu(Yh(Pt.missing),Pt.missing,g,K)],!Te))throw Ut[0];return{result:Pt.result,complete:!Ut,missing:Ut}},v.prototype.isFresh=function(d,u,g,T){if(Xu(T.store)&&this.knownResults.get(d)===g){var L=this.executeSelectionSet.peek(g,u,T,this.canon.isKnown(d));if(L&&d===L.result)return!0}return!1},v.prototype.execSelectionSetImpl=function(d){var u=this,g=d.selectionSet,T=d.objectOrReference,L=d.enclosingRef,K=d.context;if((0,Pn.Yk)(T)&&!K.policies.rootTypenamesById[T.__ref]&&!K.store.has(T.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(T.__ref," object")};var Tt,fe=K.variables,Te=K.policies,tt=K.store.getFieldValue(T,"__typename"),gt={};function Ct(on,bn){var An;return on.missing&&(Tt=K.merge(Tt,((An={})[bn]=on.missing,An))),on.result}this.config.addTypename&&"string"==typeof tt&&!Te.rootIdsByTypename[tt]&&(gt={__typename:tt});var Pt=new Set(g.selections);Pt.forEach(function(on){var bn,An;if((0,Ku.LZ)(on,fe))if((0,Pn.My)(on)){var xn=Te.readField({fieldName:on.name.value,field:on,variables:K.variables,from:T},K),$i=(0,Pn.u2)(on);void 0===xn?du.Gw.added(on)||(Tt=K.merge(Tt,((bn={})[$i]="Can't find field '".concat(on.name.value,"' on ").concat((0,Pn.Yk)(T)?T.__ref+" object":"object "+JSON.stringify(T,null,2)),bn))):(0,hn.kJ)(xn)?xn=Ct(u.executeSubSelectedArray({field:on,array:xn,enclosingRef:L,context:K}),$i):on.selectionSet?null!=xn&&(xn=Ct(u.executeSelectionSet({selectionSet:on.selectionSet,objectOrReference:xn,enclosingRef:(0,Pn.Yk)(xn)?xn:L,context:K}),$i)):K.canonizeResults&&(xn=u.canon.pass(xn)),void 0!==xn&&(gt=K.merge(gt,((An={})[$i]=xn,An)))}else{var cs=(0,uu.hi)(on,K.fragmentMap);cs&&Te.fragmentMatches(cs,tt)&&cs.selectionSet.selections.forEach(Pt.add,Pt)}});var Ut={result:gt,missing:Tt},sn=K.canonizeResults?this.canon.admit(Ut):Yu(Ut);return sn.result&&this.knownResults.set(sn.result,g),sn},v.prototype.execSubSelectedArrayImpl=function(d){var fe,u=this,g=d.field,T=d.array,L=d.enclosingRef,K=d.context;function Te(Be,tt){var gt;return Be.missing&&(fe=K.merge(fe,((gt={})[tt]=Be.missing,gt))),Be.result}return g.selectionSet&&(T=T.filter(K.store.canRead)),T=T.map(function(Be,tt){return null===Be?null:(0,hn.kJ)(Be)?Te(u.executeSubSelectedArray({field:g,array:Be,enclosingRef:L,context:K}),tt):g.selectionSet?Te(u.executeSelectionSet({selectionSet:g.selectionSet,objectOrReference:Be,enclosingRef:(0,Pn.Yk)(Be)?Be:L,context:K}),tt):(__DEV__&&function(v,d,u){if(!d.selectionSet){var g=new Set([u]);g.forEach(function(T){(0,Ra.s)(T)&&(__DEV__?(0,Zi.kG)(!(0,Pn.Yk)(T),"Missing selection set for object of type ".concat((0,hn.jp)(v,T)," returned for query field ").concat(d.name.value)):(0,Zi.kG)(!(0,Pn.Yk)(T),5),Object.values(T).forEach(g.add,g))})}}(K.store,g,Be),Be)}),{result:K.canonizeResults?this.canon.admit(T):T,missing:fe}},v}();function Yh(v){try{JSON.stringify(v,function(d,u){if("string"==typeof u)throw u;return u})}catch(d){return d}}var Xh=F(3107),Zh=F(8779),gg=F(5801),Zu=F(4350),Dc=Object.create(null);function Cd(v){var d=JSON.stringify(v);return Dc[d]||(Dc[d]=Object.create(null))}function Mf(v){var d=Cd(v);return d.keyFieldsFn||(d.keyFieldsFn=function(u,g){var T=function(K,fe){return g.readField(fe,K)},L=g.keyObject=Td(v,function(K){var fe=rn(g.storeObject,K,T);return void 0===fe&&u!==g.storeObject&&hn.RI.call(u,K[0])&&(fe=rn(u,K,Ed)),__DEV__?(0,Zi.kG)(void 0!==fe,"Missing field '".concat(K.join("."),"' while extracting keyFields from ").concat(JSON.stringify(u))):(0,Zi.kG)(void 0!==fe,2),fe});return"".concat(g.typename,":").concat(JSON.stringify(L))})}function mg(v){var d=Cd(v);return d.keyArgsFn||(d.keyArgsFn=function(u,g){var T=g.field,L=g.variables,K=g.fieldName,fe=Td(v,function(Be){var tt=Be[0],gt=tt.charAt(0);if("@"!==gt)if("$"!==gt){if(u)return rn(u,Be)}else{var Ut=tt.slice(1);if(L&&hn.RI.call(L,Ut)){var sn=Be.slice(0);return sn[0]=Ut,rn(L,sn)}}else if(T&&(0,Zh.O)(T.directives)){var Tt=tt.slice(1),Ct=T.directives.find(function(on){return on.name.value===Tt}),Pt=Ct&&(0,Pn.NC)(Ct,L);return Pt&&rn(Pt,Be.slice(1))}}),Te=JSON.stringify(fe);return(u||"{}"!==Te)&&(K+=":"+Te),K})}function Td(v,d){var u=new md.w0;return Mc(v).reduce(function(g,T){var L,K=d(T);if(void 0!==K){for(var fe=T.length-1;fe>=0;--fe)(L={})[T[fe]]=K,K=L;g=u.merge(g,K)}return g},Object.create(null))}function Mc(v){var d=Cd(v);if(!d.paths){var u=d.paths=[],g=[];v.forEach(function(T,L){(0,hn.kJ)(T)?(Mc(T).forEach(function(K){return u.push(g.concat(K))}),g.length=0):(g.push(T),(0,hn.kJ)(v[L+1])||(u.push(g.slice(0)),g.length=0))})}return d.paths}function Ed(v,d){return v[d]}function rn(v,d,u){return u=u||Ed,Na(d.reduce(function g(T,L){return(0,hn.kJ)(T)?T.map(function(K){return g(K,L)}):T&&u(T,L)},v))}function Na(v){return(0,Ra.s)(v)?(0,hn.kJ)(v)?v.map(Na):Td(Object.keys(v).sort(),function(d){return rn(v,d)}):v}function xd(v){return void 0!==v.args?v.args:v.field?(0,Pn.NC)(v.field,v.variables):null}Pn.PT.setStringify(Zs.B);var Af=function(){},wd=function(v,d){return d.fieldName},Ac=function(v,d,u){return(0,u.mergeObjects)(v,d)},Jh=function(v,d){return d},di=function(){function v(d){this.config=d,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,gn.pi)({dataIdFromObject:hn.uG},d),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),d.possibleTypes&&this.addPossibleTypes(d.possibleTypes),d.typePolicies&&this.addTypePolicies(d.typePolicies)}return v.prototype.identify=function(d,u){var g,T=this,L=u&&(u.typename||(null===(g=u.storeObject)||void 0===g?void 0:g.__typename))||d.__typename;if(L===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var Te,K=u&&u.storeObject||d,fe=(0,gn.pi)((0,gn.pi)({},u),{typename:L,storeObject:K,readField:u&&u.readField||function(){var Tt=pu(arguments,K);return T.readField(Tt,{store:T.cache.data,variables:Tt.variables})}}),Be=L&&this.getTypePolicy(L),tt=Be&&Be.keyFn||this.config.dataIdFromObject;tt;){var gt=tt(d,fe);if(!(0,hn.kJ)(gt)){Te=gt;break}tt=Mf(gt)}return Te=Te?String(Te):void 0,fe.keyObject?[Te,fe.keyObject]:[Te]},v.prototype.addTypePolicies=function(d){var u=this;Object.keys(d).forEach(function(g){var T=d[g],L=T.queryType,K=T.mutationType,fe=T.subscriptionType,Te=(0,gn._T)(T,["queryType","mutationType","subscriptionType"]);L&&u.setRootTypename("Query",g),K&&u.setRootTypename("Mutation",g),fe&&u.setRootTypename("Subscription",g),hn.RI.call(u.toBeAdded,g)?u.toBeAdded[g].push(Te):u.toBeAdded[g]=[Te]})},v.prototype.updateTypePolicy=function(d,u){var g=this,T=this.getTypePolicy(d),L=u.keyFields,K=u.fields;function fe(Te,Be){Te.merge="function"==typeof Be?Be:!0===Be?Ac:!1===Be?Jh:Te.merge}fe(T,u.merge),T.keyFn=!1===L?Af:(0,hn.kJ)(L)?Mf(L):"function"==typeof L?L:T.keyFn,K&&Object.keys(K).forEach(function(Te){var Be=g.getFieldPolicy(d,Te,!0),tt=K[Te];if("function"==typeof tt)Be.read=tt;else{var gt=tt.keyArgs,Tt=tt.read,Ct=tt.merge;Be.keyFn=!1===gt?wd:(0,hn.kJ)(gt)?mg(gt):"function"==typeof gt?gt:Be.keyFn,"function"==typeof Tt&&(Be.read=Tt),fe(Be,Ct)}Be.read&&Be.merge&&(Be.keyFn=Be.keyFn||wd)})},v.prototype.setRootTypename=function(d,u){void 0===u&&(u=d);var g="ROOT_"+d.toUpperCase(),T=this.rootTypenamesById[g];u!==T&&(__DEV__?(0,Zi.kG)(!T||T===d,"Cannot change root ".concat(d," __typename more than once")):(0,Zi.kG)(!T||T===d,3),T&&delete this.rootIdsByTypename[T],this.rootIdsByTypename[u]=g,this.rootTypenamesById[g]=u)},v.prototype.addPossibleTypes=function(d){var u=this;this.usingPossibleTypes=!0,Object.keys(d).forEach(function(g){u.getSupertypeSet(g,!0),d[g].forEach(function(T){u.getSupertypeSet(T,!0).add(g);var L=T.match(hn.$O);(!L||L[0]!==T)&&u.fuzzySubtypes.set(T,new RegExp(T))})})},v.prototype.getTypePolicy=function(d){var u=this;if(!hn.RI.call(this.typePolicies,d)){var g=this.typePolicies[d]=Object.create(null);g.fields=Object.create(null);var T=this.supertypeMap.get(d);T&&T.size&&T.forEach(function(K){var fe=u.getTypePolicy(K),Te=fe.fields,Be=(0,gn._T)(fe,["fields"]);Object.assign(g,Be),Object.assign(g.fields,Te)})}var L=this.toBeAdded[d];return L&&L.length&&L.splice(0).forEach(function(K){u.updateTypePolicy(d,K)}),this.typePolicies[d]},v.prototype.getFieldPolicy=function(d,u,g){if(d){var T=this.getTypePolicy(d).fields;return T[u]||g&&(T[u]=Object.create(null))}},v.prototype.getSupertypeSet=function(d,u){var g=this.supertypeMap.get(d);return!g&&u&&this.supertypeMap.set(d,g=new Set),g},v.prototype.fragmentMatches=function(d,u,g,T){var L=this;if(!d.typeCondition)return!0;if(!u)return!1;var K=d.typeCondition.name.value;if(u===K)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(K))for(var fe=this.getSupertypeSet(u,!0),Te=[fe],Be=function(Pt){var Ut=L.getSupertypeSet(Pt,!1);Ut&&Ut.size&&Te.indexOf(Ut)<0&&Te.push(Ut)},tt=!(!g||!this.fuzzySubtypes.size),gt=!1,Tt=0;Tt<Te.length;++Tt){var Ct=Te[Tt];if(Ct.has(K))return fe.has(K)||(gt&&__DEV__&&Zi.kG.warn("Inferring subtype ".concat(u," of supertype ").concat(K)),fe.add(K)),!0;Ct.forEach(Be),tt&&Tt===Te.length-1&&(0,hn.RC)(d.selectionSet,g,T)&&(tt=!1,gt=!0,this.fuzzySubtypes.forEach(function(Pt,Ut){var sn=u.match(Pt);sn&&sn[0]===u&&Be(Ut)}))}return!1},v.prototype.hasKeyArgs=function(d,u){var g=this.getFieldPolicy(d,u,!1);return!(!g||!g.keyFn)},v.prototype.getStoreFieldName=function(d){var L,u=d.typename,g=d.fieldName,T=this.getFieldPolicy(u,g,!1),K=T&&T.keyFn;if(K&&u)for(var fe={typename:u,fieldName:g,field:d.field||null,variables:d.variables},Te=xd(d);K;){var Be=K(Te,fe);if(!(0,hn.kJ)(Be)){L=Be||g;break}K=mg(Be)}return void 0===L&&(L=d.field?(0,Pn.vf)(d.field,d.variables):(0,Pn.PT)(g,xd(d))),!1===L?g:g===(0,hn.E_)(L)?L:g+":"+L},v.prototype.readField=function(d,u){var g=d.from;if(g&&(d.field||d.fieldName)){if(void 0===d.typename){var L=u.store.getFieldValue(g,"__typename");L&&(d.typename=L)}var K=this.getStoreFieldName(d),fe=(0,hn.E_)(K),Te=u.store.getFieldValue(g,K),Be=this.getFieldPolicy(d.typename,fe,!1),tt=Be&&Be.read;if(tt){var gt=_s(this,g,d,u,u.store.getStorage((0,Pn.Yk)(g)?g.__ref:g,K));return Zu.ab.withValue(this.cache,tt,[Te,gt])}return Te}},v.prototype.getReadFunction=function(d,u){var g=this.getFieldPolicy(d,u,!1);return g&&g.read},v.prototype.getMergeFunction=function(d,u,g){var T=this.getFieldPolicy(d,u,!1),L=T&&T.merge;return!L&&g&&(L=(T=this.getTypePolicy(g))&&T.merge),L},v.prototype.runMergeFunction=function(d,u,g,T,L){var K=g.field,fe=g.typename,Te=g.merge;return Te===Ac?gu(T.store)(d,u):Te===Jh?u:(T.overwrite&&(d=void 0),Te(d,u,_s(this,void 0,{typename:fe,fieldName:K.name.value,field:K,variables:T.variables},T,L||Object.create(null))))},v}();function _s(v,d,u,g,T){var L=v.getStoreFieldName(u),K=(0,hn.E_)(L),fe=u.variables||g.variables,Te=g.store,Be=Te.toReference,tt=Te.canRead;return{args:xd(u),field:u.field||null,fieldName:K,storeFieldName:L,variables:fe,isReference:Pn.Yk,toReference:Be,storage:T,cache:v.cache,canRead:tt,readField:function(){return v.readField(pu(arguments,d,g),g)},mergeObjects:gu(g.store)}}function pu(v,d,u){var K,g=v[0];return"string"==typeof g?K={fieldName:g,from:v.length>1?v[1]:d}:(K=(0,gn.pi)({},g),hn.RI.call(K,"from")||(K.from=d)),__DEV__&&void 0===K.from&&__DEV__&&Zi.kG.warn("Undefined 'from' passed to readField with arguments ".concat(function(v){var d=(0,gg.X)("stringifyForDisplay");return JSON.stringify(v,function(u,g){return void 0===g?d:g}).split(JSON.stringify(d)).join("<undefined>")}(Array.from(v)))),void 0===K.variables&&(K.variables=u),K}function gu(v){return function(u,g){if((0,hn.kJ)(u)||(0,hn.kJ)(g))throw __DEV__?new Zi.ej("Cannot automatically merge arrays"):new Zi.ej(4);if((0,Ra.s)(u)&&(0,Ra.s)(g)){var T=v.getFieldValue(u,"__typename"),L=v.getFieldValue(g,"__typename");if(T&&L&&T!==L)return g;if((0,Pn.Yk)(u)&&(0,hn.j)(g))return v.merge(u.__ref,g),u;if((0,hn.j)(u)&&(0,Pn.Yk)(g))return v.merge(u,g.__ref),g;if((0,hn.j)(u)&&(0,hn.j)(g))return(0,gn.pi)((0,gn.pi)({},u),g)}return g}}function Ml(v,d,u){var g="".concat(d).concat(u),T=v.flavors.get(g);return T||v.flavors.set(g,T=v.clientOnly===d&&v.deferred===u?v:(0,gn.pi)((0,gn.pi)({},v),{clientOnly:d,deferred:u})),T}var Ic=function(){function v(d,u){this.cache=d,this.reader=u}return v.prototype.writeToStore=function(d,u){var g=this,T=u.query,L=u.result,K=u.dataId,fe=u.variables,Te=u.overwrite,Be=(0,tl.$H)(T),tt=(0,hn.ig)();fe=(0,gn.pi)((0,gn.pi)({},(0,tl.O4)(Be)),fe);var gt={store:d,written:Object.create(null),merge:function(Ct,Pt){return tt.merge(Ct,Pt)},variables:fe,varString:(0,Zs.B)(fe),fragmentMap:(0,uu.F)((0,tl.kU)(T)),overwrite:!!Te,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},Tt=this.processSelectionSet({result:L||Object.create(null),dataId:K,selectionSet:Be.selectionSet,mergeTree:{map:new Map},context:gt});if(!(0,Pn.Yk)(Tt))throw __DEV__?new Zi.ej("Could not identify object ".concat(JSON.stringify(L))):new Zi.ej(6);return gt.incomingById.forEach(function(Ct,Pt){var Ut=Ct.storeObject,sn=Ct.mergeTree,on=Ct.fieldNodeSet,bn=(0,Pn.kQ)(Pt);if(sn&&sn.map.size){var An=g.applyMerges(sn,bn,Ut,gt);if((0,Pn.Yk)(An))return;Ut=An}if(__DEV__&&!gt.overwrite){var xn=Object.create(null);on.forEach(function(nr){nr.selectionSet&&(xn[nr.name.value]=!0)}),Object.keys(Ut).forEach(function(nr){(function(nr){return!0===xn[(0,hn.E_)(nr)]})(nr)&&!function(nr){var es=sn&&sn.map.get(nr);return Boolean(es&&es.info&&es.info.merge)}(nr)&&function(v,d,u,g){var T=function(gt){var Tt=g.getFieldValue(gt,u);return"object"==typeof Tt&&Tt},L=T(v);if(L){var K=T(d);if(K&&!(0,Pn.Yk)(L)&&!(0,wc.D)(L,K)&&!Object.keys(L).every(function(gt){return void 0!==g.getFieldValue(K,gt)})){var fe=g.getFieldValue(v,"__typename")||g.getFieldValue(d,"__typename"),Te=(0,hn.E_)(u),Be="".concat(fe,".").concat(Te);if(!Ds.has(Be)){Ds.add(Be);var tt=[];!(0,hn.kJ)(L)&&!(0,hn.kJ)(K)&&[L,K].forEach(function(gt){var Tt=g.getFieldValue(gt,"__typename");"string"==typeof Tt&&!tt.includes(Tt)&&tt.push(Tt)}),__DEV__&&Zi.kG.warn("Cache data may be lost when replacing the ".concat(Te," field of a ").concat(fe," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(tt.length?"either ensure all objects of type "+tt.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(Be," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(L).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(K).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(bn,Ut,nr,gt.store)})}d.merge(Pt,Ut)}),d.retain(Tt.__ref),Tt},v.prototype.processSelectionSet=function(d){var u=this,g=d.dataId,T=d.result,L=d.selectionSet,K=d.context,fe=d.mergeTree,Te=this.cache.policies,Be=Object.create(null),tt=g&&Te.rootTypenamesById[g]||(0,Pn.qw)(T,L,K.fragmentMap)||g&&K.store.get(g,"__typename");"string"==typeof tt&&(Be.__typename=tt);var gt=function(){var An=pu(arguments,Be,K.variables);if((0,Pn.Yk)(An.from)){var xn=K.incomingById.get(An.from.__ref);if(xn){var $i=Te.readField((0,gn.pi)((0,gn.pi)({},An),{from:xn.storeObject}),K);if(void 0!==$i)return $i}}return Te.readField(An,K)},Tt=new Set;this.flattenFields(L,T,K,tt).forEach(function(An,xn){var $i,cs=(0,Pn.u2)(xn),nr=T[cs];if(Tt.add(xn),void 0!==nr){var es=Te.getStoreFieldName({typename:tt,fieldName:xn.name.value,field:xn,variables:An.variables}),Do=Od(fe,es),Ms=u.processFieldValue(nr,xn,xn.selectionSet?Ml(An,!1,!1):An,Do),Cu=void 0;xn.selectionSet&&((0,Pn.Yk)(Ms)||(0,hn.j)(Ms))&&(Cu=gt("__typename",Ms));var na=Te.getMergeFunction(tt,xn.name.value,Cu);na?Do.info={field:xn,typename:tt,merge:na}:If(fe,es),Be=An.merge(Be,(($i={})[es]=Ms,$i))}else __DEV__&&!An.clientOnly&&!An.deferred&&!du.Gw.added(xn)&&!Te.getReadFunction(tt,xn.name.value)&&__DEV__&&Zi.kG.error("Missing field '".concat((0,Pn.u2)(xn),"' while writing result ").concat(JSON.stringify(T,null,2)).substring(0,1e3))});try{var Ct=Te.identify(T,{typename:tt,selectionSet:L,fragmentMap:K.fragmentMap,storeObject:Be,readField:gt}),Ut=Ct[1];g=g||Ct[0],Ut&&(Be=K.merge(Be,Ut))}catch(An){if(!g)throw An}if("string"==typeof g){var sn=(0,Pn.kQ)(g),on=K.written[g]||(K.written[g]=[]);if(on.indexOf(L)>=0||(on.push(L),this.reader&&this.reader.isFresh(T,sn,L,K)))return sn;var bn=K.incomingById.get(g);return bn?(bn.storeObject=K.merge(bn.storeObject,Be),bn.mergeTree=mu(bn.mergeTree,fe),Tt.forEach(function(An){return bn.fieldNodeSet.add(An)})):K.incomingById.set(g,{storeObject:Be,mergeTree:Pd(fe)?void 0:fe,fieldNodeSet:Tt}),sn}return Be},v.prototype.processFieldValue=function(d,u,g,T){var L=this;return u.selectionSet&&null!==d?(0,hn.kJ)(d)?d.map(function(K,fe){var Te=L.processFieldValue(K,u,g,Od(T,fe));return If(T,fe),Te}):this.processSelectionSet({result:d,selectionSet:u.selectionSet,context:g,mergeTree:T}):__DEV__?(0,Xh.X)(d):d},v.prototype.flattenFields=function(d,u,g,T){void 0===T&&(T=(0,Pn.qw)(u,d,g.fragmentMap));var L=new Map,K=this.cache.policies,fe=new vd.B(!1);return function Te(Be,tt){var gt=fe.lookup(Be,tt.clientOnly,tt.deferred);gt.visited||(gt.visited=!0,Be.selections.forEach(function(Tt){if((0,Ku.LZ)(Tt,g.variables)){var Ct=tt.clientOnly,Pt=tt.deferred;if(!(Ct&&Pt)&&(0,Zh.O)(Tt.directives)&&Tt.directives.forEach(function(on){var bn=on.name.value;if("client"===bn&&(Ct=!0),"defer"===bn){var An=(0,Pn.NC)(on,g.variables);(!An||!1!==An.if)&&(Pt=!0)}}),(0,Pn.My)(Tt)){var Ut=L.get(Tt);Ut&&(Ct=Ct&&Ut.clientOnly,Pt=Pt&&Ut.deferred),L.set(Tt,Ml(g,Ct,Pt))}else{var sn=(0,uu.hi)(Tt,g.fragmentMap);sn&&K.fragmentMatches(sn,T,u,g.variables)&&Te(sn.selectionSet,Ml(g,Ct,Pt))}}}))}(d,g),L},v.prototype.applyMerges=function(d,u,g,T,L){var K,fe=this;if(d.map.size&&!(0,Pn.Yk)(g)){var Te=(0,hn.kJ)(g)||!(0,Pn.Yk)(u)&&!(0,hn.j)(u)?void 0:u,Be=g;Te&&!L&&(L=[(0,Pn.Yk)(Te)?Te.__ref:Te]);var tt,gt=function(Tt,Ct){return(0,hn.kJ)(Tt)?"number"==typeof Ct?Tt[Ct]:void 0:T.store.getFieldValue(Tt,String(Ct))};d.map.forEach(function(Tt,Ct){var Pt=gt(Te,Ct),Ut=gt(Be,Ct);if(void 0!==Ut){L&&L.push(Ct);var sn=fe.applyMerges(Tt,Pt,Ut,T,L);sn!==Ut&&(tt=tt||new Map).set(Ct,sn),L&&(0,Zi.kG)(L.pop()===Ct)}}),tt&&(g=(0,hn.kJ)(Be)?Be.slice(0):(0,gn.pi)({},Be),tt.forEach(function(Tt,Ct){g[Ct]=Tt}))}return d.info?this.cache.policies.runMergeFunction(u,g,d.info,T,L&&(K=T.store).getStorage.apply(K,L)):g},v}(),Sd=[];function Od(v,d){var u=v.map;return u.has(d)||u.set(d,Sd.pop()||{map:new Map}),u.get(d)}function mu(v,d){if(v===d||!d||Pd(d))return v;if(!v||Pd(v))return d;var u=v.info&&d.info?(0,gn.pi)((0,gn.pi)({},v.info),d.info):v.info||d.info,g=v.map.size&&d.map.size,L={info:u,map:g?new Map:v.map.size?v.map:d.map};if(g){var K=new Set(d.map.keys());v.map.forEach(function(fe,Te){L.map.set(Te,mu(fe,d.map.get(Te))),K.delete(Te)}),K.forEach(function(fe){L.map.set(fe,mu(d.map.get(fe),v.map.get(fe)))})}return L}function Pd(v){return!v||!(v.info||v.map.size)}function If(v,d){var u=v.map,g=u.get(d);g&&Pd(g)&&(Sd.push(g),u.delete(d))}var Ds=new Set,vg=function(v){function d(u){void 0===u&&(u={});var g=v.call(this)||this;return g.watches=new Set,g.typenameDocumentCache=new Map,g.makeVar=Zu.QS,g.txCount=0,g.config=(0,hn.jS)(u),g.addTypename=!!g.config.addTypename,g.policies=new di({cache:g,dataIdFromObject:g.config.dataIdFromObject,possibleTypes:g.config.possibleTypes,typePolicies:g.config.typePolicies}),g.init(),g}return(0,gn.ZT)(d,v),d.prototype.init=function(){var u=this.data=new ji.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=u.stump,this.resetResultCache()},d.prototype.resetResultCache=function(u){var g=this,T=this.storeReader;this.storeWriter=new Ic(this,this.storeReader=new hg({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:(0,hn.lg)(this.config),canon:u?void 0:T&&T.canon})),this.maybeBroadcastWatch=(0,ka.re)(function(L,K){return g.broadcastWatch(L,K)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(L){var K=L.optimistic?g.optimisticData:g.data;if(Xu(K))return K.makeCacheKey(L.query,L.callback,(0,Zs.B)({optimistic:L.optimistic,rootId:L.rootId,variables:L.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(L){return L.resetCaching()})},d.prototype.restore=function(u){return this.init(),u&&this.data.replace(u),this},d.prototype.extract=function(u){return void 0===u&&(u=!1),(u?this.optimisticData:this.data).extract()},d.prototype.read=function(u){var g=u.returnPartialData,T=void 0!==g&&g;try{return this.storeReader.diffQueryAgainstStore((0,gn.pi)((0,gn.pi)({},u),{store:u.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:T})).result||null}catch(L){if(L instanceof cu)return null;throw L}},d.prototype.write=function(u){try{return++this.txCount,this.storeWriter.writeToStore(this.data,u)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},d.prototype.modify=function(u){if(hn.RI.call(u,"id")&&!u.id)return!1;var g=u.optimistic?this.optimisticData:this.data;try{return++this.txCount,g.modify(u.id||"ROOT_QUERY",u.fields)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},d.prototype.diff=function(u){return this.storeReader.diffQueryAgainstStore((0,gn.pi)((0,gn.pi)({},u),{store:u.optimistic?this.optimisticData:this.data,rootId:u.id||"ROOT_QUERY",config:this.config}))},d.prototype.watch=function(u){var g=this;return this.watches.size||(0,Zu._v)(this),this.watches.add(u),u.immediate&&this.maybeBroadcastWatch(u),function(){g.watches.delete(u)&&!g.watches.size&&(0,Zu.li)(g),g.maybeBroadcastWatch.forget(u)}},d.prototype.gc=function(u){Zs.B.reset();var g=this.optimisticData.gc();return u&&!this.txCount&&(u.resetResultCache?this.resetResultCache(u.resetResultIdentities):u.resetResultIdentities&&this.storeReader.resetCanon()),g},d.prototype.retain=function(u,g){return(g?this.optimisticData:this.data).retain(u)},d.prototype.release=function(u,g){return(g?this.optimisticData:this.data).release(u)},d.prototype.identify=function(u){if((0,Pn.Yk)(u))return u.__ref;try{return this.policies.identify(u)[0]}catch(g){__DEV__&&Zi.kG.warn(g)}},d.prototype.evict=function(u){if(!u.id){if(hn.RI.call(u,"id"))return!1;u=(0,gn.pi)((0,gn.pi)({},u),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(u,this.data)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},d.prototype.reset=function(u){var g=this;return this.init(),Zs.B.reset(),u&&u.discardWatches?(this.watches.forEach(function(T){return g.maybeBroadcastWatch.forget(T)}),this.watches.clear(),(0,Zu.li)(this)):this.broadcastWatches(),Promise.resolve()},d.prototype.removeOptimistic=function(u){var g=this.optimisticData.removeLayer(u);g!==this.optimisticData&&(this.optimisticData=g,this.broadcastWatches())},d.prototype.batch=function(u){var Be,g=this,T=u.update,L=u.optimistic,K=void 0===L||L,fe=u.removeOptimistic,Te=u.onWatchUpdated,tt=function(Tt){var Pt=g.data,Ut=g.optimisticData;++g.txCount,Tt&&(g.data=g.optimisticData=Tt);try{return Be=T(g)}finally{--g.txCount,g.data=Pt,g.optimisticData=Ut}},gt=new Set;return Te&&!this.txCount&&this.broadcastWatches((0,gn.pi)((0,gn.pi)({},u),{onWatchUpdated:function(Tt){return gt.add(Tt),!1}})),"string"==typeof K?this.optimisticData=this.optimisticData.addLayer(K,tt):!1===K?tt(this.data):tt(),"string"==typeof fe&&(this.optimisticData=this.optimisticData.removeLayer(fe)),Te&&gt.size?(this.broadcastWatches((0,gn.pi)((0,gn.pi)({},u),{onWatchUpdated:function(Tt,Ct){var Pt=Te.call(this,Tt,Ct);return!1!==Pt&&gt.delete(Tt),Pt}})),gt.size&&gt.forEach(function(Tt){return g.maybeBroadcastWatch.dirty(Tt)})):this.broadcastWatches(u),Be},d.prototype.performTransaction=function(u,g){return this.batch({update:u,optimistic:g||null!==g})},d.prototype.transformDocument=function(u){if(this.addTypename){var g=this.typenameDocumentCache.get(u);return g||(g=(0,du.Gw)(u),this.typenameDocumentCache.set(u,g),this.typenameDocumentCache.set(g,g)),g}return u},d.prototype.broadcastWatches=function(u){var g=this;this.txCount||this.watches.forEach(function(T){return g.maybeBroadcastWatch(T,u)})},d.prototype.broadcastWatch=function(u,g){var T=u.lastDiff,L=this.diff(u);g&&(u.optimistic&&"string"==typeof g.optimistic&&(L.fromOptimisticTransaction=!0),g.onWatchUpdated&&!1===g.onWatchUpdated.call(this,u,L,T))||(!T||!(0,wc.D)(T.result,L.result))&&u.callback(u.lastDiff=L,T)},d}(pd),Us=F(881),ep=F(1215);const Hi={installState:!1,installEvent:void 0};let vu=(()=>{class v extends ep.b{constructor(){super(Hi),this.installEvent$=this.select(u=>{let g=this.localStorage.getItem("installEvent");return console.log("I IS PARSED",JSON.parse(g)),u.installEvent}),this.localStorage=window.localStorage}getInstallState(){if(this.isLocalStorageSupported){let u=this.localStorage.getItem("installState");return null!==u&&JSON.parse(u)}return null}setInstallState(u){this.isLocalStorageSupported&&(this.localStorage.setItem("installState",JSON.stringify(u)),this.setState({installState:u}))}removeInstallState(){this.isLocalStorageSupported&&(this.localStorage.removeItem("installState"),this.setState({installState:!1}))}get isLocalStorageSupported(){return!!this.localStorage}setInstallEvent(u){this.setState({installEvent:u}),this.localStorage.setItem("installEvent",JSON.stringify(u))}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var us=F(3256);let Al=(()=>{class v{constructor(u,g){this.uiState=u,this.pwaService=g}onBeforeInstallPrompt(u){void 0!==u&&(this.pwaService.removeInstallState(),console.log("onBeforeInstallPrompt",u),u.preventDefault(),this.pwaService.setInstallEvent(u),console.log("~ this.pwaInstallerState APP HOST LISTENER",this.pwaService.getInstallState()))}onAppInstalled(u){console.log("installed APPS",u)}ngOnInit(){window.addEventListener("appinstalled",function(){console.log("Thank you for installing our app!")}),this.pwaInstallerState=this.pwaService.getInstallState(),console.log("~ this.pwaInstallerState APP INIT",this.pwaInstallerState)}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B),b.Y36(vu))},v.\u0275cmp=b.Xpm({type:v,selectors:[["app-root"]],hostBindings:function(u,g){1&u&&b.NdJ("beforeinstallprompt",function(L){return g.onBeforeInstallPrompt(L)},!1,b.Jf7)("appinstalled",function(L){return g.onAppInstalled(L)},!1,b.Jf7)},decls:1,vars:0,template:function(u,g){1&u&&b._UZ(0,"router-outlet")},directives:[us.lC],styles:[""]}),v})();var ar=F(8239),bs=F(5319),Ri=F(8629),Ji=F(9522),Cs=F(3557),Ju=F(8078);const kf=["soundSequence"];let iv=(()=>{class v extends Ji.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(Cs.W.soundSequence,!1),this.timesteps={loopStart:6.6},this.isPlaying=!1,this.subs=new bs.w}ngOnInit(){super.ngOnInit(),this.setAudioIsPlayingSubscription(),this.subs.add(this.subscriptionAudioIsPlaying)}setAudioIsPlayingSubscription(){this.subscriptionAudioIsPlaying=this.uiState.audioIsPlaying$.subscribe(u=>{this.isPlaying=u,this.isPlaying&&this.play()})}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){this.loopAnimation()}onClick(){this.currentTime=this.duration}loopAnimation(){var u=this;return(0,ar.Z)(function*(){u.isPlaying&&u.currentTime>=u.duration&&(u.pause(),u.currentTime=u.timesteps.loopStart,u.play())})()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B))},v.\u0275cmp=b.Xpm({type:v,selectors:[["sound-sequence"]],viewQuery:function(u,g){if(1&u&&b.Gf(kf,7),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first)}},features:[b.qOj],decls:3,vars:1,consts:[[1,"sound-sequence"],["muted","",3,"timeupdate","loadedmetadata"],["soundSequence",""]],template:function(u,g){1&u&&(b.TgZ(0,"div",0),b.TgZ(1,"video",1,2),b.NdJ("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),b.qZA(),b.qZA()),2&u&&b.Q6J("@fade",g.isPlaying)},styles:[".sound-sequence[_ngcontent-%COMP%]{position:absolute;height:30px;width:30px;z-index:3}@media (max-width: 568px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1060%,612%) scale(.24,.4)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1200%,696%) scale(.26,.6)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1382%,802%) scale(.32,.6)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1390%,695%) scale(.32,.6)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1526%,725%) scale(.36,.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1596%,755%) scale(.36,.6)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1596%,800%) scale(.38,.6)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1608%,940%) scale(.38,.6)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1685%,805%) scale(.41,.7)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1745%,835%) scale(.42,.7)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1815%,1120%) scale(.42,.7)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1910%,1360%) scale(.42,.7)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(2500%,1550%) scaleX(.645)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(2630%,1880%) scaleX(.645)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(2530%,1320%) scaleX(.645)}}@media (min-width: 1601px){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(3500%,1700%) scale(.85,1.2)}}"],data:{animation:[Mi("fade",[as("false",Zt({opacity:0})),as("true",Zt({opacity:1})),me("* => *",Yi("1000ms ease-in-out"))])]}}),v})();const Oo=[Mi("sepia",[as("false",Zt({filter:"sepia(0)"})),as("true",Zt({filter:"sepia(1)"})),me("false => true",Yi("2000ms ease-in")),me("true => false",Yi("2000ms ease-out"))])],Rf=q([Zt({opacity:.65,backgroundColor:"rgba(201, 232, 25, 0.11)",offset:0}),Zt({opacity:.75,offset:.25}),Zt({opacity:.86,boxShadow:"0 0 10px rgba(201, 232, 25, 0.089)",offset:.5}),Zt({opacity:.97,boxShadow:"0 0 3px rgba(201, 232, 25, 0.123)",offset:1})]),Nf=q([Zt({opacity:.65,filter:"sepia(1)",offset:0}),Zt({opacity:.86,filter:"sepia(0.5)",offset:.5}),Zt({opacity:.97,filter:"sepia(0)",offset:1})]),Lf=[Mi("roll",[as("false",Zt({})),as("true",Zt({})),me("false => true",Yi("1000ms ease-in-out",Nf))]),Mi("sepia",[as("false",Zt({filter:"sepia(0)"})),as("true",Zt({filter:"sepia(1)"})),me("false => true",Yi("2000ms ease-in")),me("true => false",Yi("2000ms ease-out"))]),Mi("pulse",[as("false",Zt({})),as("true",Zt({})),me("false => true",Yi("1400ms cubic-bezier(0.35, 0, 0.25, 1)",Rf))])],kc=q([Zt({opacity:"0",offset:0}),Zt({opacity:"0.25",offset:.5}),Zt({opacity:"0.8",offset:.95}),Zt({opacity:"1",offset:1})]),Ff=[Mi("fade",[me("* <=> *",[Zt({opacity:0}),V(":leave",[Zt({opacity:0})],{optional:!0}),V(":enter",[Zt({opacity:0})],{optional:!0}),_o([V(":leave",Yi("3.25s cubic-bezier(0.35, 0, 0.25, 1)",kc),{optional:!0}),V(":enter",Yi("3s ease-in-out",kc),{optional:!0})])])])],Bf=["buttonMute"],tp=["buttonDiv"];let Uf=(()=>{class v extends Ji.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(Cs.W.buttonMute,!1),this.timesteps={isPlayingStart:2,isPlayingEnd:2.4,isPaused:1.3},this.initDelay=2500,this.subs=new bs.w}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.setAudioIsPlayingSubscription(),this.subs.add(this.subscriptionAudioIsPlaying)}setAudioIsPlayingSubscription(){this.subscriptionAudioIsPlaying=this.uiState.audioIsPlaying$.subscribe(u=>{u?(this.isPlaying=!0,this.currentTime=this.timesteps.isPlayingStart,this.play()):(this.isPlaying=!1,this.currentTime=this.timesteps.isPaused)})}onClick(){this.uiState.setAudioPlaying(!this.isPlaying)}timeUpdate(){this.pause(),this.isPlaying?this.currentTime>this.timesteps.isPlayingEnd&&(this.currentTime=this.timesteps.isPlayingStart):this.currentTime>this.timesteps.isPaused&&(this.currentTime=this.timesteps.isPaused),this.play()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B))},v.\u0275cmp=b.Xpm({type:v,selectors:[["button-mute"]],viewQuery:function(u,g){if(1&u&&(b.Gf(Bf,7),b.Gf(tp,5)),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first),b.iGM(T=b.CRH())&&(g.buttonDiv=T.first)}},features:[b.qOj],decls:4,vars:1,consts:[[1,"button-mute",3,"click"],["buttonDiv",""],["muted","",3,"timeupdate"],["buttonMute",""]],template:function(u,g){1&u&&(b.TgZ(0,"div",0,1),b.NdJ("click",function(){return g.onClick()}),b.TgZ(2,"video",2,3),b.NdJ("timeupdate",function(){return g.timeUpdate()}),b.qZA(),b.qZA()),2&u&&b.Q6J("@fade",void 0)},styles:[".button-mute[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2;filter:hue-rotate(90deg) contrast(200%)}.button-mute[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(42%,-12%) scale(.44)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(54%,-7%) scale(.5)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(70%) scale(.58)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(71%,-7%) scale(.56)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(82%,-5%) scale(.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(88%,-3%) scale(.62)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(88%) scale(.68)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(89%,8%) scale(.68)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(97%) scale(.64)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(101%,2%) scale(.64)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(107%,55%) scale(.74)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(132%,121%) scale(.76)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(178%,101%) scale(.9)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(211%,188%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(144.5%,23%) scale(.9)}}@media (min-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(212%,48%) scale(1.2)}}"],data:{animation:Ff}}),v})();const np=["introFrame"];function yg(v,d){1&v&&(b.TgZ(0,"div",7),b._UZ(1,"button-mute"),b.qZA())}let rp=(()=>{class v extends Ji.p{constructor(u){super(),this.routing=u,this.options=this.createOptions(Cs.W.introFrame,!1),this.timesteps={loopStart:6.6},this.introFinished=!1,this.introPending=!1,this.userClicked=new b.vpe}ngOnInit(){super.ngOnInit(),this.handleIntro()}handleIntro(){this.play(),setTimeout(()=>{this.introPending=!0},2e3)}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){this.loopAnimation()}onButtonIntroFrameClick(){this.currentTime=this.duration,this.userClicked.emit(!0),this.routing.updateRoute("description")}loopAnimation(){var u=this;return(0,ar.Z)(function*(){u.introFinished||u.currentTime>=u.duration&&(u.pause(),u.currentTime=u.timesteps.loopStart,u.play())})()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Ju.Z))},v.\u0275cmp=b.Xpm({type:v,selectors:[["intro-frame"]],viewQuery:function(u,g){if(1&u&&b.Gf(np,7),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first)}},outputs:{userClicked:"userClicked"},features:[b.qOj],decls:8,vars:1,consts:[[1,"intro-frame-container"],[1,"intro-frame-video"],["muted","",3,"timeupdate","loadedmetadata"],["introFrame",""],[1,"sound-sequence"],["class","button-mute",4,"ngIf"],[1,"button-intro",3,"click"],[1,"button-mute"]],template:function(u,g){1&u&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"video",2,3),b.NdJ("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),b.qZA(),b.qZA(),b.TgZ(4,"div",4),b._UZ(5,"sound-sequence"),b.qZA(),b.YNc(6,yg,2,0,"div",5),b.TgZ(7,"div",6),b.NdJ("click",function(){return g.onButtonIntroFrameClick()}),b.qZA(),b.qZA()),2&u&&(b.xp6(6),b.Q6J("ngIf",g.introPending))},directives:[iv,A.O5,Uf],styles:[".button-intro[_ngcontent-%COMP%]{width:324px;height:324px;border-radius:50%;z-index:2;position:absolute}@media (max-width: 568px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.28) translate(40%,-6%)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.32) translate(58%,15%)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.36) translate(80%,35%)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.34) translate(87%,14%)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.38) translate(98%,18%)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.4) translate(102%,24%)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.4) translate(102%,32%)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.42) translate(99%,54%)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.38) translate(122%,34%)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.38) translate(130%,40%)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.4) translate(133%,104%)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.4) translate(158%,168%)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.68) translate(118%,105%)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.68) translate(138%,154%)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.78) translate(106%,60%)}}@media (min-width: 1601px){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1) translate(138%,71%)}}.button-mute[_ngcontent-%COMP%]{position:absolute;height:30px;width:30px;z-index:3}@media (max-width: 568px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(88%,510%)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(100%,580%)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(110%,660%)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(110%,580%)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(120%,600%)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(125%,620%)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(125%,660%)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(145%,770%)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(145%,650%)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(145%,670%)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(145%,790%)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(155%,810%)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1.1) translate(-135%,780%)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1.2) translate(-225%,600%)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1.1) translate(-20%,856%)}}@media (min-width: 1601px){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1.1) translate(40%,1056%)}}.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;width:2000px;z-index:-1;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden}.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}@media (max-width: 927px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:fill;width:100vw;height:100vh}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:960px;max-height:1024px}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:960px;max-height:1024px}}@media (min-width: 1025px) and (max-width: 1367px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(-50%,-50%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1599px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(-50%,-50%) scale(.9)}}@media (min-width: 1600px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(-50%,-50%) scale(1.2)}}.intro-frame-container[_ngcontent-%COMP%]{position:absolute;height:100vh;width:100vw;z-index:-1;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;height:640px;width:1296px}}@media (min-width: 1600px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;height:800px;width:1800px}}"]}),v})();const Dd=q([Zt({opacity:"1",filter:"sepia(0.1)",offset:0}),Zt({opacity:"1",filter:"sepia(0.2)",offset:.04}),Zt({opacity:"0.1",filter:"sepia(0.4)",offset:.45}),Zt({opacity:"1",filter:"sepia(0.7)",offset:.8}),Zt({opacity:"0.4",filter:"sepia(0.77)",offset:.83}),Zt({opacity:"1",filter:"sepia(0.9)",offset:.97}),Zt({opacity:"0",offset:1})]),Vf=q([Zt({opacity:"0",offset:0}),Zt({opacity:"0.25",offset:.5}),Zt({opacity:"0.8",offset:.95}),Zt({opacity:"1",offset:1})]),yu=Mi("routeAnimations",[me("* <=> *",[Zt({position:"absolute"}),V(":leave",[Zt({position:"absolute",filter:"sepia(1)",width:"100%",height:"100%"})],{optional:!0}),V(":enter",[Zt({position:"absolute",opacity:0,width:"100%",height:"100%"})],{optional:!0}),_o([V(":leave",Yi("1.25s cubic-bezier(0.35, 0, 0.25, 1)",Dd),{optional:!0}),V(":enter",Yi("1s ease-in-out",Vf),{optional:!0})])])]);class _g{constructor(d,u){this.dueTime=d,this.scheduler=u}call(d,u){return u.subscribe(new sp(d,this.dueTime,this.scheduler))}}class sp extends su.L{constructor(d,u,g){super(d),this.dueTime=u,this.scheduler=g,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(d){this.clearDebounce(),this.lastValue=d,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(jf,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:d}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(d)}}clearDebounce(){const d=this.debouncedSubscription;null!==d&&(this.remove(d),d.unsubscribe(),this.debouncedSubscription=null)}}function jf(v){v.debouncedNext()}var Po=F(9598);const Rc=["buttonCube"],op=["buttonDiv"];let bg=(()=>{class v extends Ji.p{constructor(u,g,T){super(),this.uiState=u,this.dataState=g,this.routing=T,this.options=this.createOptions(Cs.W.buttonCube,!1),this.timestepsBackup={intro:2.5,digitOne:3,digitTwo:3.55,digitThree:4.1,digitFour:4.65,digitFive:5.15,digitSix:5.85},this.timesteps={intro:2.5,digitOne:3,digitTwo:3.55,digitThree:4.1,digitFour:4.65,digitFive:5.15,digitSix:5.85},this.initDelay=0,this.buttonState="intro",this.subs=new bs.w,this.animationInProgress=!1,this.sepiaOn=!1,this.pulseOn=!1,this.pulseLoopOn=!1,this.rollOn=!1}ngOnInit(){super.ngOnInit(),this.handleIntro()}handleIntro(){var u=this;return(0,ar.Z)(function*(){const g=1e3*u.timesteps.intro;yield u.playAnimation(g,u.initDelay),u.currentTime=u.timesteps.intro})()}ngAfterViewInit(){this.setSubscriptions(),this.subs.add(this.subscriptionButtonLocked),this.subs.add(this.subscriptionButtonTouched),this.subs.add(this.subscriptionActiveView),this.subs.add(this.subscriptionSelectedBalance),this.subs.add(this.subscriptionCurrentRoute)}setSubscriptions(){this.subscriptionButtonLocked=this.uiState.cubeButtonLocked$.subscribe(u=>{this.buttonLocked=u}),this.subscriptionButtonTouched=this.uiState.cubeButtonTouched$.subscribe(u=>{this.buttonTouched=u}),this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this.activeView=u,this.triggerCSSAnimationOnViewChanges()}),this.subscriptionCurrentRoute=this.routing.currentRoute$.subscribe(u=>{this.currentRoute=u}),this.subscriptionSelectedBalance=this.dataState.selectedBalance$.subscribe(u=>{this.restrictCubeStatesBasedOn(u)}),this.subscriptionClickOrDoubleClick()}subscriptionClickOrDoubleClick(){const g=this.buttonDiv.nativeElement,T=Qu(g,"click"),L=Qu(g,"dblclick");(0,oo.T)(T,L).pipe(function(v,d=mf.P){return u=>u.lift(new _g(v,d))}(300)).subscribe(fe=>{this.handleClickType(fe)})}handleClickType(u){"click"===u.type?this.onSingleClick():"dblclick"===u.type&&this.onDoubleClick()}triggerCSSAnimationOnViewChanges(){switch(this.activeView){case"config-info":this.pulseOn=!0,this.pulseLoopOn=!0,this.sepiaOn=!1;break;case"config":this.pulseLoopOn=!1,this.sepiaOn=!1;break;default:this.pulseLoopOn=!1,this.sepiaOn=!0}}restrictCubeStatesBasedOn(u){let g=Object.assign({},this.timestepsBackup);switch(u){case"Energiebilanz":delete g.digitSix;break;case"Erneuerbare":delete g.digitFive,delete g.digitSix}this.timesteps=g}onSingleClick(){var u=this;return(0,ar.Z)(function*(){if(!u.buttonLocked&&(u.buttonTouched||(u.uiState.setCubeButtonTouched(!0),u.uiState.setConfigButtonLocked(!1)),!u.animationInProgress)){u.animationInProgress=!0;const g=u.getTimestep("next");yield u.handleAnimationOnSingleClick(g),u.buttonState=g,u.uiState.setActiveView("config"),u.uiState.setActiveFeatureFromCubeButtonState(u.buttonState),yield u.handleRouting(),u.resetAnimationInProgess()}})()}handleRouting(){var u=this;return(0,ar.Z)(function*(){let g="config-info"===u.activeView;"config"!==u.currentRoute&&(u.routing.updateRoute("config"),g&&(yield(0,Ri.Vs)(1e3)))})()}resetAnimationInProgess(){var u=this;return(0,ar.Z)(function*(){yield(0,Ri.Vs)(750),u.animationInProgress=!1})()}handleVeryFirstClick(){var u=this;return(0,ar.Z)(function*(){u.buttonTouched||(u.uiState.setCubeButtonTouched(!0),u.uiState.setConfigButtonLocked(!1))})()}handleAnimationOnSingleClick(u){var g=this;return(0,ar.Z)(function*(){g.buttonState===Object.keys(g.timesteps).pop()?(yield g.jumpToTimestepAnimation(),g.currentTime=g.timesteps.digitOne):(yield g.playAnimation(550),g.currentTime=g.timesteps[u])})()}onDoubleClick(){var u=this;return(0,ar.Z)(function*(){if(!u.buttonLocked&&"intro"!==u.buttonState&&"digitOne"!==u.buttonState&&!u.animationInProgress){u.animationInProgress=!0;const g=u.getTimestep("previous");yield u.jumpToTimestepAnimation(),u.currentTime=u.timesteps[g],u.buttonState=g,u.uiState.setActiveFeatureFromCubeButtonState(u.buttonState),u.routing.updateRoute("config"),u.resetAnimationInProgess()}})()}getTimestep(u){const g="next"===u?1:-1,T=Object.keys(this.timesteps),L=T.indexOf(this.buttonState)+g;let K=T[L];return void 0===K&&(K="digitOne"),K}playAnimation(u,g=0){var T=this;return(0,ar.Z)(function*(){T.play(g),yield(0,Ri.Vs)(u),T.pause()})()}loopPulseAnimation(u){this.pulseLoopOn&&(this.pulseOn=!0,!0===u.toState&&(this.pulseOn=!1))}jumpToTimestepAnimation(){var u=this;return(0,ar.Z)(function*(){u.rollOn=!0,yield(0,Ri.Vs)(550),u.rollOn=!1})()}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B),b.Y36(Po.W),b.Y36(Ju.Z))},v.\u0275cmp=b.Xpm({type:v,selectors:[["button-cube"]],viewQuery:function(u,g){if(1&u&&(b.Gf(Rc,7),b.Gf(op,5)),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first),b.iGM(T=b.CRH())&&(g.buttonDiv=T.first)}},features:[b.qOj],decls:4,vars:3,consts:[[1,"button-cube"],["buttonDiv",""],["muted",""],["buttonCube",""]],template:function(u,g){1&u&&(b.TgZ(0,"div",0,1),b.NdJ("@pulse.done",function(L){return g.loopPulseAnimation(L)}),b._UZ(2,"video",2,3),b.qZA()),2&u&&b.Q6J("@roll",g.rollOn)("@sepia",g.sepiaOn)("@pulse",g.pulseOn)},styles:[".button-cube[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}.button-cube[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-19%,-20%) scale(.35)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-14.5%,-15%) scale(.4)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-10%,-10%) scale(.45)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-9%,-16%) scale(.45)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-5%,-13%) scale(.5)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-3%,-12%) scale(.5)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-3%,-11%) scale(.53)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-2.5%,-4%) scale(.57)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translateY(-9%) scale(.57)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(2%,-8%) scale(.59)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(4%,34%) scale(.63)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(24%,87%) scale(.64)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(42%,71%) scale(.78)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(69%,141%) scale(.8)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(16%,9%) scale(.8)}}@media (min-width: 1601px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(40%,28%) scale(1.05)}}"],data:{animation:Lf}}),v})();var nl=F(2259);let Cg=(()=>{class v extends Ji.p{constructor(u){super(),this.ngxSmartModalService=u,this.options=this.createOptions(Cs.W.selectionInfo,!1)}onClick(){this.ngxSmartModalService.setModalData(!0,"selectionInfoModal"),this.ngxSmartModalService.getModal("selectionInfoModal").open()}ngOnInit(){super.ngOnInit()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(nl.lu))},v.\u0275cmp=b.Xpm({type:v,selectors:[["button-selection-info"]],features:[b.qOj],decls:1,vars:0,consts:[[1,"button-selection-info",3,"click"]],template:function(u,g){1&u&&(b.TgZ(0,"div",0),b.NdJ("click",function(){return g.onClick()}),b.qZA())},styles:[".button-selection-info[_ngcontent-%COMP%]{border-radius:12px;position:absolute;height:56px;width:56px;z-index:2}@media (max-width: 568px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(303.5%,24.5%) scale(.75)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(348.5%,33.5%) scale(.8)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(406%,46%) scale(.9)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(412%,34%) scale(.86)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(458%,38%) scale(.86)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(478%,42%) scale(.86)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(480%,47%) scale(.9)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(482%,60%) scale(1.1)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(512%,48%) scale(1)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(532%,52%) scale(1)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(548%,167%) scale(1.1)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(602%,302%) scale(1.1)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(770%,258%) scale(1.4)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(842%,442%) scale(1.3)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(696%,92%) scale(1.4)}}@media (min-width: 1600px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(946%,138%) scale(1.8)}}"]}),v})();const Md=["buttonConfig"],Ad=["buttonDiv"];let Hf=(()=>{class v extends Ji.p{constructor(u,g){super(),this.uiState=u,this.routing=g,this.options=this.createOptions(Cs.W.buttonConfig,!1),this.timesteps={offStart:1.64,offEnd:4.58,onStart:5.85,onEnd:8.54},this.initDelay=0,this.buttonState=!1,this.subs=new bs.w,this.transitionInProgress=!1,this.sepiaOn=!0}ngOnInit(){super.ngOnInit(),this.setSubscriptions(),this.play(this.initDelay)}setSubscriptions(){this.subscriptionButtonLocked=this.uiState.configButtonLocked$.subscribe(u=>{this.buttonLocked=u}),this.subscriptionButtonTouched=this.uiState.configButtonTouched$.subscribe(u=>{this.buttonTouched=u}),this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this.activeView=u,this.onViewChanges()}),this.subs.add(this.subscriptionButtonLocked),this.subs.add(this.subscriptionButtonTouched),this.subs.add(this.subscriptionActiveView)}onSingleClick(){this.buttonLocked||(this.buttonTouched?this.handleClicksOnConfigView():this.handleVeryFirstClick())}handleVeryFirstClick(){var u=this;return(0,ar.Z)(function*(){u.uiState.setActiveView("config-info"),yield(0,Ri.Vs)(1500),u.routing.updateRoute("config-info"),u.uiState.handleVeryFirstConfigButtonClicked(),u.playButtonOnAnimation().then(()=>{u.buttonState=!0})})()}handleClicksOnConfigView(){var u=this;return(0,ar.Z)(function*(){console.log("~ handleClicksOnConfigView"),u.uiState.setActiveView("config"),u.routing.updateRoute("config"),u.buttonState||(yield u.playButtonOnAnimation(),u.buttonState=!0)})()}onViewChanges(){var u=this;return(0,ar.Z)(function*(){const g="config"===u.activeView||"config-info"===u.activeView;"config"!==u.activeView&&"config-info"!==u.activeView&&(u.setSepiaOn(!0),u.buttonState&&(yield u.playButtonOffAnimation(),u.buttonState=!1)),g&&(u.setSepiaOn(!1),u.buttonState||(yield u.playButtonOnAnimation(),u.buttonState=!0))})()}setSepiaOn(u){this.sepiaOn=u}playButtonOnAnimation(){var u=this;return(0,ar.Z)(function*(){u.transitionInProgress=!0;const g=1e3*(u.timesteps.onStart-u.currentTime);yield(0,Ri.Vs)(g),u.transitionInProgress=!1,u.play(),Promise.resolve()})()}playButtonOffAnimation(){var u=this;return(0,ar.Z)(function*(){u.transitionInProgress=!0,u.currentTime=u.timesteps.onEnd;const g=1e3*(u.duration-u.currentTime);yield(0,Ri.Vs)(g),u.transitionInProgress=!1,u.play(),Promise.resolve()})()}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){this.transitionInProgress||this.loopButtonAnimation()}loopButtonAnimation(){switch(this.buttonState){case!1:this.currentTime>this.timesteps.offEnd&&(this.currentTime=this.timesteps.offStart);break;case!0:this.currentTime>this.timesteps.onEnd&&(this.currentTime=this.timesteps.onStart)}}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B),b.Y36(Ju.Z))},v.\u0275cmp=b.Xpm({type:v,selectors:[["button-config"]],viewQuery:function(u,g){if(1&u&&(b.Gf(Md,7),b.Gf(Ad,7)),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first),b.iGM(T=b.CRH())&&(g.buttonDiv=T.first)}},features:[b.qOj],decls:4,vars:1,consts:[[1,"button-config"],["buttonDiv",""],["muted","",3,"click","timeupdate","loadedmetadata"],["buttonConfig",""]],template:function(u,g){1&u&&(b.TgZ(0,"div",0,1),b.TgZ(2,"video",2,3),b.NdJ("click",function(){return g.onSingleClick()})("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),b.qZA(),b.qZA()),2&u&&b.Q6J("@sepia",g.sepiaOn)},styles:[".button-config[_ngcontent-%COMP%]{position:absolute;height:0%!important;width:0%!important;z-index:2}.button-config[_ngcontent-%COMP%]   div[class^=ng-tns][_ngcontent-%COMP%]{width:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(356%,-16.5%) scale(.54)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(406%,-12%) scale(.64)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(476%,-8%) scale(.7)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(476%,-12%) scale(.64)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(530%,-11%) scale(.68)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(550%,-8.5%) scale(.72)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(556%,-5%) scale(.76)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(558%,1%) scale(.85)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(588%,-6%) scale(.72)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(608%,-5%) scale(.78)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(636%,48%) scale(.84)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(658%,112%) scale(.85)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(837%,92%) scale(1)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(870%,180%) scale(1.05)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(802%,13%) scale(1.05)}}@media (min-width: 1601px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(1091%,38%) scale(1.35)}}"],data:{animation:Oo}}),v})();const _u=["buttonChart"];let Vs=(()=>{class v extends Ji.p{constructor(u,g,T){super(),this.uiState=u,this.dataState=g,this.routing=T,this.options=this.createOptions(Cs.W.buttonChart,!1),this.timesteps={intro:3.6,lockEnd:2.8,lockStart:2.2,chartStart:6.2,chartEnd:9.7},this.initDelay=0,this.subs=new bs.w}ngOnInit(){var u=()=>super.ngOnInit,g=this;return(0,ar.Z)(function*(){u().call(g),yield g.handleIntro(),g.isLocked=!0,g.setSubscriptionSelectionInfo(),g.subs.add(g.subscriptionSelectionInfo)})()}setSubscriptionSelectionInfo(){this.subscriptionSelectionInfo=this.dataState.selectedFeaturesInfo$.subscribe(u=>{this.checkIfFeaturesAreSelected(u)})}checkIfFeaturesAreSelected(u){let g=u.balance;if(void 0!==g)switch(g){case"Energiebilanz":delete u.usage;break;case"Erneuerbare":delete u.carrier,delete u.usage}Object.values(u).every(L=>void 0!==L)&&(this.isLocked=!1,this.play())}handleIntro(){var u=this;return(0,ar.Z)(function*(){u.animationInProgress=!0;const g=1e3*u.timesteps.intro+u.initDelay;yield u.playAnimation(g,u.initDelay),u.currentTime=u.timesteps.intro,u.animationInProgress=!1})()}onClick(){this.animationInProgress||this.isLocked||(this.uiState.setActiveView("chart"),this.routing.updateRoute("chart"))}timeUpdate(){this.isLocked?this.currentTime>=this.timesteps.lockEnd&&(this.currentTime=this.timesteps.lockStart,this.play()):this.currentTime>=this.timesteps.chartEnd&&(this.currentTime=this.timesteps.chartStart,this.play())}playAnimation(u,g=0){var T=this;return(0,ar.Z)(function*(){yield(0,Ri.Vs)(g),T.play(),yield(0,Ri.Vs)(u),T.pause()})()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B),b.Y36(Po.W),b.Y36(Ju.Z))},v.\u0275cmp=b.Xpm({type:v,selectors:[["button-chart"]],viewQuery:function(u,g){if(1&u&&b.Gf(_u,7),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first)}},features:[b.qOj],decls:2,vars:0,consts:[["muted","",1,"button-chart",3,"timeupdate","click"],["buttonChart",""]],template:function(u,g){1&u&&(b.TgZ(0,"video",0,1),b.NdJ("timeupdate",function(){return g.timeUpdate()})("click",function(){return g.onClick()}),b.qZA())},styles:[".button-chart[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}.button-chart[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(270%,122%) scale(.4)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(311%,142%) scale(.46)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(365%,172%) scale(.56)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(367%,142%) scale(.56)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(408%,150%) scale(.56)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(426%,158%) scale(.56)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(428%,170%) scale(.6)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(432%,208%) scale(.6)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(455%,171%) scale(.6)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(472%,179%) scale(.62)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(485%,243%) scale(.68)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(512%,300%) scale(.66)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(652%,336%) scale(.8)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(680%,406%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(626%,270%) scale(.9)}}@media (min-width: 1601px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(854.5%,378%) scale(1.1)}}"]}),v})();const Nc=["logo"],ec=["logoDiv"];let ap=(()=>{class v extends Ji.p{constructor(u,g){super(),this.uiState=u,this.renderer=g,this.subs=new bs.w,this.options=this.createOptions(Cs.W.logo,!1),this.timesteps={logoSetupEnd:2},this.initDelay=5e3,this.timeUpdateAllowed=!1}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this._activeView=u,this.onViewChanges()}),this.subs.add(this.subscriptionActiveView)}handleIntro(){this.play(this.initDelay),setTimeout(()=>{this.pause(),this.timeUpdateAllowed=!0},this.initDelay+1e3*this.timesteps.logoSetupEnd)}onViewChanges(){switch(this.activeView){case"description":this.handleIntro();break;case"config-info":this.timeUpdateAllowed=!1,this.play();break;case"config":this.timeUpdateAllowed=!1,this.fadeOutLogoAnimation()}}timeUpdate(){this.handleLogoLooping()}handleLogoLooping(){this.timeUpdateAllowed&&(this.currentTime=1.4,this.timeUpdateAllowed=!1,setTimeout(()=>{this.pause(),setTimeout(()=>{this.timeUpdateAllowed=!0,this.play()},4e3)},1440))}fadeOutLogoAnimation(){this.renderer.addClass(this.logoDiv.nativeElement,"fade-out")}get activeView(){return this._activeView}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B),b.Y36(b.Qsj))},v.\u0275cmp=b.Xpm({type:v,selectors:[["logo"]],viewQuery:function(u,g){if(1&u&&(b.Gf(Nc,7),b.Gf(ec,5)),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first),b.iGM(T=b.CRH())&&(g.logoDiv=T.first)}},features:[b.qOj],decls:4,vars:0,consts:[[1,"logo"],["logoDiv",""],["muted","",3,"timeupdate"],["logo",""]],template:function(u,g){1&u&&(b.TgZ(0,"div",0,1),b.TgZ(2,"video",2,3),b.NdJ("timeupdate",function(){return g.timeUpdate()}),b.qZA(),b.qZA())},styles:[".logo[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:-3}@media (max-width: 568px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(54%,-4%) scale(.32)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(68%,4%) scale(.38)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(86%,6%) scale(.42)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(87%,2%) scale(.42)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(100%,4%) scale(.49)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(106%,6%) scale(.49)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(106%,10%) scale(.49)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(106%,14%) scale(.49)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(123%,10%) scale(.49)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(123%,10%) scale(.49)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(126%,74%) scale(.56)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(136%,154%) scale(.56)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(180%,134%) scale(.64)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(194%,244%) scale(.68)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(168%,38%) scale(.72)}}@media (min-width: 1601px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(250%,74%) scale(.82)}}@keyframes fade-out-logo{0%{opacity:1}50%{opacity:.5}to{opacity:0}}.fade-out[_ngcontent-%COMP%]{animation-name:fade-out-logo;animation-duration:1s;animation-iteration-count:1;animation-direction:normal;animation-fill-mode:forwards;animation-timing-function:ease-in-out}"]}),v})();const bu=["display"];let $f=(()=>{class v extends Ji.p{constructor(u){super(),this.uiState=u,this.subs=new bs.w,this.options=this.createOptions(Cs.W.display,!1),this.timesteps={init:0,balancesStart:.45,balancesEnd:1.3,regionsEnd:2.4,yearsEnd:3.5,aggregatesEnd:4.7,carriersEnd:5.8,usagesEnd:7.15},this.initDelay=0}ngOnInit(){super.ngOnInit(),this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this._activeView=u,this.onViewChange()}),this.subscriptionActiveConfigFeature=this.uiState.activeConfigFeature$.subscribe(u=>{this._activeConfigFeature=u,this.onFeatureChanges()}),this.subs.add(this.subscriptionActiveView),this.subs.add(this.subscriptionActiveConfigFeature)}playFromTo(u,g){var T=this;return(0,ar.Z)(function*(){let L=0;L=0==T.currentTime?1e3*(T.timesteps.balancesEnd-T.timesteps.init):1e3*(T.timesteps[g]-T.timesteps[u]),T.currentTime>T.timesteps[u]&&(T.currentTime=T.timesteps[u]),T.play(),yield(0,Ri.Vs)(L),T.currentTime=T.timesteps[g],T.pause()})()}onViewChange(){this.onFeatureChanges()}onFeatureChanges(){if("config"===this.activeView)switch(this.activeConfigFeature){case"balance":this.playFromTo("balancesStart","balancesEnd");break;case"regions":this.playFromTo("balancesEnd","regionsEnd");break;case"years":this.playFromTo("regionsEnd","yearsEnd");break;case"aggregate":this.playFromTo("yearsEnd","aggregatesEnd");break;case"carrier":this.playFromTo("aggregatesEnd","carriersEnd");break;case"usage":this.playFromTo("carriersEnd","usagesEnd")}}handleFeatureChanges(){}get activeView(){return this._activeView}get activeConfigFeature(){return this._activeConfigFeature}set activeView(u){this._activeView=u}set activeConfigFeature(u){this._activeConfigFeature=u}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B))},v.\u0275cmp=b.Xpm({type:v,selectors:[["display"]],viewQuery:function(u,g){if(1&u&&b.Gf(bu,7),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first)}},features:[b.qOj],decls:3,vars:0,consts:[[1,"display"],["muted",""],["display",""]],template:function(u,g){1&u&&(b.TgZ(0,"div",0),b._UZ(1,"video",1,2),b.qZA())},styles:[".display[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:-3}@media (max-width: 568px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translateY(-25%) scale(.26)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-22%) scale(.32)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(16%,-17%) scale(.36)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(16%,-21%) scale(.3)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(22%,-21%) scale(.42)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,-20%) scale(.36)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,-18%) scale(.36)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,-12%) scale(.42)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(30%,-18%) scale(.38)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(34%,-16%) scale(.4)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(33.2%,26%) scale(.5)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(39.5%,78%) scale(.5)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(63%,59%) scale(.6)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(69%,129%) scale(.6)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(56.5%,-2%) scale(.6)}}@media (min-width: 1600px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(90.25%,14%) scale(.84)}}"]}),v})();const zf=["selectionInfo"];function Lc(v,d){if(1&v&&(b.TgZ(0,"div"),b.TgZ(1,"div"),b._uU(2),b.qZA(),b.qZA()),2&v){const u=b.oxw().$implicit;b.xp6(1),b.Gre("",u.key," not-selected"),b.xp6(1),b.hij(" ",u.value," ")}}function Tg(v,d){if(1&v&&(b.TgZ(0,"div"),b.TgZ(1,"div"),b._uU(2),b.qZA(),b.qZA()),2&v){const u=b.oxw().$implicit;b.xp6(1),b.Gre("",u.key," unselectable"),b.xp6(1),b.hij(" ",u.value," ")}}function Wf(v,d){if(1&v&&(b.TgZ(0,"div"),b.TgZ(1,"div"),b._uU(2),b.qZA(),b.qZA()),2&v){const u=b.oxw().$implicit;b.xp6(1),b.Gre("",u.key," selected"),b.xp6(1),b.hij(" ",u.value," ")}}function Id(v,d){if(1&v&&(b.TgZ(0,"div"),b.ynx(1,7),b.YNc(2,Lc,3,4,"div",8),b.YNc(3,Tg,3,4,"div",8),b.YNc(4,Wf,3,4,"div",9),b.BQk(),b.qZA()),2&v){const u=d.$implicit;b.xp6(1),b.Q6J("ngSwitch",u.value),b.xp6(1),b.Q6J("ngSwitchCase","PLEASE SELECT"),b.xp6(1),b.Q6J("ngSwitchCase","NOT SELECTABLE")}}function Eg(v,d){if(1&v&&(b.ynx(0),b.YNc(1,Id,5,3,"div",6),b.ALo(2,"keyvalue"),b.BQk()),2&v){const u=b.oxw();b.xp6(1),b.Q6J("ngForOf",b.lcZ(2,1,u.selectedFeatures))}}let lp=(()=>{class v extends Ji.p{constructor(u,g){super(),this.ngxSmartModalService=u,this.dataState=g,this.options=this.createOptions(Cs.W.selectionInfo,!1),this.subs=new bs.w}ngOnInit(){super.ngOnInit(),this.setSubscriptionSelectedFeatures()}ngAfterViewInit(){this.setSubscriptionModalOpen(),this.subs.add(this.subscriptionSelectedFeatures),this.subs.add(this.subscriptionModalOpen)}setSubscriptionModalOpen(){this.subscriptionModalOpen=this.ngxSmartModalService.getModal("selectionInfoModal").onOpen.subscribe(()=>{this.play()})}setSubscriptionSelectedFeatures(){this.subscriptionSelectedFeatures=this.dataState.selectedFeaturesInfo$.subscribe(u=>{this.setSelectedFeaturesArray(u)})}setSelectedFeaturesArray(u){Object.entries(u).forEach(([g,T])=>{void 0===T&&(u[g]="PLEASE SELECT")}),("Energiebilanz"===u.balance||"Erneuerbare"===u.balance)&&(u.usage="NOT SELECTABLE"),"Erneuerbare"===u.balance&&(u.carrier="NOT SELECTABLE"),this.selectedFeatures=u}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(nl.lu),b.Y36(Po.W))},v.\u0275cmp=b.Xpm({type:v,selectors:[["selection-info-dialog"]],viewQuery:function(u,g){if(1&u&&b.Gf(zf,7),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first)}},features:[b.qOj],decls:6,vars:2,consts:[["identifier","selectionInfoModal",3,"customClass"],["selectionInfoModal",""],["muted",""],["selectionInfo",""],[1,"container"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(u,g){1&u&&(b.TgZ(0,"ngx-smart-modal",0,1),b._UZ(2,"video",2,3),b.TgZ(4,"div",4),b.YNc(5,Eg,3,3,"ng-container",5),b.qZA(),b.qZA()),2&u&&(b.Q6J("customClass","selection-info-modal"),b.xp6(5),b.Q6J("ngIf",void 0!==g.selectedFeatures))},directives:[nl.Q3,A.O5,A.sg,A.RF,A.n9,A.ED],pipes:[A.Nd],styles:['@media (max-width: 568px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.48) translate(-59%,-55%)}}@media (max-width: 568px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:18px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:3.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:14.5px;top:10.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:16.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:14.5px;top:22.5%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:28.75%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:35.25%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:3.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:14.5px;top:10.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:16.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:28.75%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:35.25%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:3.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:14.5px;top:10.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:16.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:28.75%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:35.25%}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.54) translate(-52%,-44%)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:16px;top:25%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:39.25%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:25%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:39.25%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:25%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:39.25%}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.6) translate(-46%,-30%)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:7.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:17px;top:16%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:23%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:31%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:47%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:7.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:17px;top:16%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:23%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:31%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:47%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:7.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:17px;top:16%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:23%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:31%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:47%}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.56) translate(-50%,-44%)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:2.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:16px;top:10.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:24.25%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:2.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:16px;top:10.5%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:24.25%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:2.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:16px;top:10.5%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:24.25%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:39%}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.6) translate(-46%,-38%)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:3%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:18.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:26.25%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:34.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:42%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:3%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.5%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:18.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:26.25%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:34.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:42%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:3%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:16px;top:11.5%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:18.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:26.25%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:34.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:42%}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.6) translate(-46%,-36%)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:3.75%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:17px;top:12.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:19.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:27.25%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:35.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:43.25%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:25%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:43.25%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:25%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:43.25%}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.6) translate(-46%,-32%)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:6.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:17px;top:15%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:22%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:17px;top:30%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:38%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:45.5%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:6.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:17px;top:15%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:22%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:30%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:38%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:45.5%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:6.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:17px;top:15%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:22%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:30%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:38%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:45.5%}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.7) translate(-39%,-18%)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:24px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:8.75%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:20px;top:19%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:27%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:45%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:54.5%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:8.75%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:20px;top:19%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:27%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:45%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:54.5%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:8.75%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:20px;top:19%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:27%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:45%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:54.5%}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.67) translate(-40%,-28%)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:24px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:4%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:19px;top:13.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:21%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:19px;top:30%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:38.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:47.5%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:4%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:19px;top:13.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:21%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:30%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:38.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:47.5%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:4%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:19px;top:13.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:21%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:30%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:38.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:47.5%}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.67) translate(-40%,-26%)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:24px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:19px;top:14.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:19px;top:31.5%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:40%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:48.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{top:14.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{font-size:19px;top:31.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:40%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:48.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:19px;top:14.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:40%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:48.75%}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.72) translate(-38%,-4%)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:26px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:20px;top:27.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:20px;top:45.5%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:55%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:64.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:20px;top:27.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:45.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:55%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:64.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:20px;top:27.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:45.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:55%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:64.75%}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.74) translate(-37%,18%)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:28px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:32.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:21px;top:42.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:51.75%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:61.5%;font-size:21px}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:71%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:84.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:32.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:21px;top:42.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:51.75%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:61.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:71%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:84.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:32.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:21px;top:42.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:51.75%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:61.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:71%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:84.75%}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.8) translate(-33%,18%)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:28px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:23px;top:42.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:52.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:62.5%;font-size:23px}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:73.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:84%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:23px;top:42.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:52.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:73.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:84%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:23px;top:42.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:52.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:73.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:84%}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.88) translate(-30%,44%)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:32px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:52%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:25px;top:65%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:75.25%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:87%;font-size:25px}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:98.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:108.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:52%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:25px;top:65%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:75.25%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:87%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:98.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:108.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:52%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:25px;top:65%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:75.25%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:87%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:98.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:108.75%}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.8) translate(-32%)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:30px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:20.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:22px;top:28.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:37.75%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:48%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:58.75%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:69.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:43.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:22px;top:28.5%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:37.75%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:48%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:58.75%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:69.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:20.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:22px;top:28.5%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:37.75%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:48%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:58.75%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:69.75%}}@media (min-width: 1601px){  .selection-info-modal .nsm-content{transform:translate(-26%,16%)}}@media (min-width: 1601px){.container[_ngcontent-%COMP%]{font-size:32px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:43.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:10%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:28px;top:23.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:36.2%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:28px;top:49%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:43.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:10%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:28px;top:23.5%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:36.2%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:49%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:43.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:10%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:28px;top:23.5%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:36.2%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:49%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:75%}}  .selection-info-modal .nsm-content{position:absolute;background-color:#16020200;border-radius:24px;border:0px solid rgba(0,0,235,0)}.container[_ngcontent-%COMP%]{z-index:3;font-family:"Oswald"}@keyframes fade-modal-in{0%{opacity:0;filter:sepia(1)}50%{opacity:0;filter:sepia(1)}to{opacity:.8;filter:sepia(0)}}']}),v})();var Gf=F(136);const up=["Kokskohle","Anthrazit","Steinkohlen-Briketts","Sonstige Steinkohle","Steinkohle","Subbitumin\xf6se Kohle","Sonstige Braunkohle","Braunkohle","Braunkohlen-Briketts","Brenntorf","Koks","Roh\xf6l","NGL","Erd\xf6l","Steinkohleteer","Benzol","Feedstocks","Sonstiger Raffinerieeinsatz","Motorbenzin","Industriebenzin","Flugbenzin","Benzin","Flugturbinenkraftstoff","Sonstiges Petroleum","Petroleum","Diesel","Gas\xf6l f\xfcr Heizzwecke","Heiz\xf6l<1%S","Heiz\xf6l>1%S","Heiz\xf6l","Fl\xfcssiggas","Naphta","Bitumen","Schmiermittel","Petrolkoks","Sonstige","Sonstige Prod. d. Erd\xf6lverarb.","Raffinerie-Restgas","Mischgas","Erdgas","Tiegelgas","Hochofengas","Gichtgas","Kokereigas","Industrieabfall","Hausm\xfcll nicht erneuerbar","Brennbare Abf\xe4lle","Scheitholz","Hausm\xfcll Bioanteil","Pellets+Holzbriketts","Holzabfall","Holzkohle","Ablaugen","Deponiegas","Kl\xe4rgas","Biogas","Bioethanol","Biodiesel","Sonst. Biogene fl\xfcssig","Sonst. Biogene fest","Biogene Brenn- u. Treibstoffe","Geothermie","Umgebungsw\xe4rme","Solarw\xe4rme","Reaktionsw\xe4rme","Umgebungsw\xe4rme etc.","WK<=1MW","WK<=10MW","WK>10MW","Wasserkraft","Wind","Photovoltaik","Wind und Photovoltaik","Fernw\xe4rme","Elektrische Energie","KOHLE","\xd6L","GAS","ERNEUERBARE","ABF\xc4LLE","Gesamtenergiebilanz"],xg=["Steinkohle","Braunkohle","Braunkohlenbriketts","Koks","Petrolkoks","Heiz\xf6l","Gas\xf6l f\xfcr Heizzwecke ","Diesel","Benzin","Petroleum","Fl\xfcssiggas","Erdgas","Gichtgas","Kokereigas","Scheitholz","Biogene Brenn- und Treibstoffe","Brennbare Abf\xe4lle","Brenntorf","Umgebungsw\xe4rme etc.","Fernw\xe4rme","Elektrische Energie","Insgesamt"];var kd=F(9030),Rd=F(776);let tc=(()=>{class v{constructor(u,g){this.fetchService=u,this.dataState=g,this.subs=new bs.w}ngOnInit(){this.setSubscriptionSelectedBalance(),this.subs.add(this.subscriptionSelectedBalance)}ngAfterViewInit(){this.setSubscriptionSelectedBalance()}setSubscriptionSelectedBalance(){this.subscriptionSelectedBalance=this.dataState.selectedBalance$.subscribe(u=>{"Erneuerbare"!==u&&this.fetchAndSetOptionData(u)})}fetchAndSetOptionData(u){if(void 0!==u){let T=Gf.l_[u].concat("_carriers");this.fetchService.queryBalanceIndex(T).subscribe(L=>{this.data=JSON.parse(L.balanceIndex[0].data),this.chartOptions=function(v){return{textStyle:{fontFamily:"Oswald Light",fontSize:24},series:[{breadcrumb:{emptyItemWidth:120,itemStyle:{color:"rgba(0, 0, 0, 0)",textStyle:{width:130,overflow:"break"}}},name:"Energy Carriers",type:"treemap",roam:!0,width:"100%",visibleMin:300,leafDepth:1,label:{show:!0,formatter:"{b}"},upperLabel:{show:!0,height:30},itemStyle:{borderColor:"#fff"},levels:[{itemStyle:{borderColor:"#777",borderWidth:0,gapWidth:1},upperLabel:{show:!1}},{itemStyle:{borderColor:"#555",borderWidth:5,gapWidth:1},emphasis:{itemStyle:{borderColor:"#ddd"}}},{colorSaturation:[.35,.5],itemStyle:{borderWidth:5,gapWidth:1,borderColorSaturation:.6}}],data:v}]}}(this.data)})}}onNodeClick(u){const g=u.name;(function(v){return!(!xg.includes(v)&&!up.includes(v))})(g)&&this.upateDataState(g)}upateDataState(u){this.dataState.setCarrier(u)}onDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(kd.l),b.Y36(Po.W))},v.\u0275cmp=b.Xpm({type:v,selectors:[["carriers-dialog"]],decls:3,vars:2,consts:[["identifier","carriersModal",3,"customClass"],["carriersModal",""],["echarts","",1,"chart",3,"options","chartClick"]],template:function(u,g){1&u&&(b.TgZ(0,"ngx-smart-modal",0,1),b.TgZ(2,"div",2),b.NdJ("chartClick",function(L){return g.onNodeClick(L)}),b.qZA(),b.qZA()),2&u&&(b.Q6J("customClass","carriers-modal"),b.xp6(2),b.Q6J("options",g.chartOptions))},directives:[nl.Q3,Rd._w],styles:[".chart[_ngcontent-%COMP%]{position:relative;width:900px;height:700px;z-index:2}  .carriers-modal .nsm-content{position:absolute;background-color:#ecd6d600;width:0px;height:0px;z-index:2}@media (max-width: 568px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-25%,35%) scale(.5)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-75%,70%) scale(.55)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,80%) scale(.65)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,80%) scale(.65)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,80%) scale(.65)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,80%) scale(.65)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,130%) scale(.65)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,180%) scale(.65)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-245%,100%) scale(.7)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-305%,100%) scale(.75)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-365%,280%) scale(.8)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-505%,480%) scale(.9)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-600%,500%) scale(1)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-600%,700%) scale(1)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-600%,200%) scale(1)}}@media (min-width: 1600px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-1100%,300%) scale(1.35)}}"]}),v})();const ea=["mainFrame"];let wg=(()=>{class v extends Ji.p{constructor(){super(),this.options=this.createOptions(Cs.W.mainFrame,!0),this.timesteps={loopStart:3.67},this.timeUpdatePause=4e3,this.timeUpdateAllowed=!0}ngOnInit(){super.ngOnInit()}prepareRoute(u){return u&&u.activatedRouteData&&u.activatedRouteData.animation}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){this.handleMainFrameLooping()}handleMainFrameLooping(){var u=this;return(0,ar.Z)(function*(){u.timeUpdateAllowed&&u.currentTime>=u.duration&&(u.currentTime=u.timesteps.loopStart,u.timeUpdateAllowed=!1,yield(0,Ri.Vs)(u.timeUpdatePause),u.timeUpdateAllowed=!0,u.play())})()}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275cmp=b.Xpm({type:v,selectors:[["main-frame"]],viewQuery:function(u,g){if(1&u&&b.Gf(ea,7),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first)}},features:[b.qOj],decls:17,vars:1,consts:[[1,"main-frame-container"],[1,"main-frame-video"],["muted","",3,"timeupdate","loadedmetadata"],["mainFrame",""],[1,"router-outlet-content"],["outlet","outlet"]],template:function(u,g){if(1&u&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.TgZ(2,"video",2,3),b.NdJ("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),b.qZA(),b.qZA(),b._UZ(4,"button-cube"),b._UZ(5,"button-mute"),b._UZ(6,"button-selection-info"),b._UZ(7,"button-config"),b._UZ(8,"button-chart"),b._UZ(9,"logo"),b._UZ(10,"display"),b._UZ(11,"selection-info-dialog"),b._UZ(12,"carriers-dialog"),b.ynx(13),b.TgZ(14,"div",4),b._UZ(15,"router-outlet",null,5),b.qZA(),b.BQk(),b.qZA()),2&u){const T=b.MAs(16);b.xp6(14),b.Q6J("@routeAnimations",g.prepareRoute(T))}},directives:[bg,Uf,Cg,Hf,Vs,ap,$f,lp,tc,us.lC],styles:[".button-mute[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2;filter:hue-rotate(90deg) contrast(200%)}.button-mute[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(42%,-12%) scale(.44)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(54%,-7%) scale(.5)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(70%) scale(.58)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(71%,-7%) scale(.56)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(82%,-5%) scale(.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(88%,-3%) scale(.62)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(88%) scale(.68)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(89%,8%) scale(.68)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(97%) scale(.64)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(101%,2%) scale(.64)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(107%,55%) scale(.74)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(132%,121%) scale(.76)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(178%,101%) scale(.9)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(211%,188%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(144.5%,23%) scale(.9)}}@media (min-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(212%,48%) scale(1.2)}}.button-chart[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}.button-chart[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(270%,122%) scale(.4)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(311%,142%) scale(.46)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(365%,172%) scale(.56)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(367%,142%) scale(.56)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(408%,150%) scale(.56)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(426%,158%) scale(.56)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(428%,170%) scale(.6)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(432%,208%) scale(.6)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(455%,171%) scale(.6)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(472%,179%) scale(.62)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(485%,243%) scale(.68)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(512%,300%) scale(.66)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(652%,336%) scale(.8)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(680%,406%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(626%,270%) scale(.9)}}@media (min-width: 1601px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(854.5%,378%) scale(1.1)}}.button-cube[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}.button-cube[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-19%,-20%) scale(.35)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-14.5%,-15%) scale(.4)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-10%,-10%) scale(.45)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-9%,-16%) scale(.45)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-5%,-13%) scale(.5)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-3%,-12%) scale(.5)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-3%,-11%) scale(.53)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-2.5%,-4%) scale(.57)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translateY(-9%) scale(.57)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(2%,-8%) scale(.59)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(4%,34%) scale(.63)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(24%,87%) scale(.64)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(42%,71%) scale(.78)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(69%,141%) scale(.8)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(16%,9%) scale(.8)}}@media (min-width: 1601px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(40%,28%) scale(1.05)}}.button-config[_ngcontent-%COMP%]{position:absolute;height:0%!important;width:0%!important;z-index:2}.button-config[_ngcontent-%COMP%]   div[class^=ng-tns][_ngcontent-%COMP%]{width:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(356%,-16.5%) scale(.54)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(406%,-12%) scale(.64)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(476%,-8%) scale(.7)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(476%,-12%) scale(.64)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(530%,-11%) scale(.68)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(550%,-8.5%) scale(.72)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(556%,-5%) scale(.76)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(558%,1%) scale(.85)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(588%,-6%) scale(.72)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(608%,-5%) scale(.78)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(636%,48%) scale(.84)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(658%,112%) scale(.85)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(837%,92%) scale(1)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(870%,180%) scale(1.05)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(802%,13%) scale(1.05)}}@media (min-width: 1601px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(1091%,38%) scale(1.35)}}.button-selection-info[_ngcontent-%COMP%]{border-radius:12px;position:absolute;height:56px;width:56px;z-index:2}@media (max-width: 568px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(303.5%,24.5%) scale(.75)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(348.5%,33.5%) scale(.8)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(406%,46%) scale(.9)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(412%,34%) scale(.86)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(458%,38%) scale(.86)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(478%,42%) scale(.86)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(480%,47%) scale(.9)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(482%,60%) scale(1.1)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(512%,48%) scale(1)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(532%,52%) scale(1)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(548%,167%) scale(1.1)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(602%,302%) scale(1.1)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(770%,258%) scale(1.4)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(842%,442%) scale(1.3)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(696%,92%) scale(1.4)}}@media (min-width: 1600px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(946%,138%) scale(1.8)}}.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%)}@media (max-width: 927px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:72.5vw;height:60.75vh;left:48.25%;top:62.5%}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:700px;height:292px;left:48.25%;top:60%}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:700px;height:292px;left:48.25%;top:57.75%}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:872px;height:366px;left:48.25%;top:59.35%}}@media (min-width: 1368px) and (max-width: 1599px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:874px;height:366px;left:48%;top:62.35%}}@media (min-width: 1600px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:1168px;height:488px;left:48.25%;top:62.35%}}.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]{z-index:-1;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden}.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}@media (max-width: 927px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:fill;width:100vw;height:100vh}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:960px;max-height:1024px}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:960px;max-height:1024px}}@media (min-width: 1025px) and (max-width: 1367px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:1200px;max-height:1024px}}@media (min-width: 1368px) and (max-width: 1599px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:1400px;max-height:600px}}@media (min-width: 1600px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:1600px;max-height:800px}}.main-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;z-index:-1;position:absolute;height:100vh;width:100vw;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;height:600px;width:1196px}}@media (min-width: 1600px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;height:800px;width:1600px}}"],data:{animation:[yu]}}),v})();const Nd=["background"],dp=["audio"];function Sg(v,d){if(1&v){const u=b.EpF();b.ynx(0),b.TgZ(1,"intro-frame",6),b.NdJ("userClicked",function(){return b.CHM(u),b.oxw().proceedToMainFrame()}),b.qZA(),b.BQk()}}function qf(v,d){1&v&&(b.ynx(0),b._UZ(1,"main-frame"),b.BQk())}let Og=(()=>{class v extends Ji.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(Cs.W.background,!1),this.timesteps={galaxyLoopStart:3.7,galaxyLoopRuntime:43.69},this.introFrameActivated=!0,this.mainFrameActivated=!1,this.subs=new bs.w,this.audioSrc="assets/audio/Fuck_Dub.mp3"}ngOnInit(){super.ngOnInit(),this.handleIntro()}ngAfterViewInit(){this.setAudioIsPlayingSubscription(),this.subs.add(this.subscriptionAudioIsPlaying)}setAudioIsPlayingSubscription(){this.subscriptionAudioIsPlaying=this.uiState.audioIsPlaying$.subscribe(u=>{console.log("~ isPlaying",u),u?this.audio.nativeElement.play():this.audio.nativeElement.pause()})}handleIntro(){var u=this;return(0,ar.Z)(function*(){u.currentTime=u.timesteps.galaxyLoopStart,u.play(),yield(0,Ri.Vs)(1e3*u.timesteps.galaxyLoopRuntime),u.pause()})()}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){}proceedToMainFrame(){var u=this;return(0,ar.Z)(function*(){u.introFrameActivated=!1,u.currentTime=0,u.play(),yield(0,Ri.Vs)(2800),u.mainFrameActivated=!0})()}loopAnimation(){var u=this;return(0,ar.Z)(function*(){u.currentTime>=u.duration&&(yield(0,Ri.Vs)(300),u.pause(),u.currentTime=0,u.play())})()}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B))},v.\u0275cmp=b.Xpm({type:v,selectors:[["app-dashboard"]],viewQuery:function(u,g){if(1&u&&(b.Gf(Nd,7),b.Gf(dp,5)),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first),b.iGM(T=b.CRH())&&(g.audio=T.first)}},features:[b.qOj],decls:8,vars:3,consts:[[1,"dashboard"],["muted","",3,"timeupdate","loadedmetadata"],["background",""],["audio",""],["type","audio/mp3",3,"src"],[4,"ngIf"],[3,"userClicked"]],template:function(u,g){1&u&&(b.TgZ(0,"div",0),b.TgZ(1,"video",1,2),b.NdJ("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),b.qZA(),b.qZA(),b.TgZ(3,"audio",null,3),b._UZ(5,"source",4),b.qZA(),b.YNc(6,Sg,2,0,"ng-container",5),b.YNc(7,qf,2,0,"ng-container",5)),2&u&&(b.xp6(5),b.Q6J("src",g.audioSrc,b.LSH),b.xp6(1),b.Q6J("ngIf",g.introFrameActivated),b.xp6(1),b.Q6J("ngIf",g.mainFrameActivated))},directives:[A.O5,rp,wg],styles:[".dashboard[_ngcontent-%COMP%]{position:absolute;height:100vh;width:100vw;overflow:hidden;z-index:-2}.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{z-index:-2;position:absolute;overflow:hidden;left:50%;top:50%}@media (max-width: 927px) and (orientation: landscape){.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:fill;height:100%;width:100%}}@media (max-width: 1367px) and (orientation: landscape){.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1);height:100vh}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scaleX(108%);height:100vh}}@media (min-width: 1600px) and (orientation: landscape){.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scaleX(1.38);height:100vh}}"]}),v})();function fp(v,d){if(1&v){const u=b.EpF();b.ynx(0),b.TgZ(1,"button",4),b.NdJ("click",function(){return b.CHM(u),b.oxw().addToHomeScreen()}),b.O4$(),b.TgZ(2,"svg",5),b._UZ(3,"polyline",6),b._UZ(4,"polyline",7),b.qZA(),b.kcU(),b.TgZ(5,"span"),b._uU(6,"Install"),b.qZA(),b.qZA(),b.BQk()}}function Pg(v,d){if(1&v){const u=b.EpF();b.TgZ(0,"div",8),b.NdJ("click",function(){return b.CHM(u),b.oxw().onClickProceed()}),b.TgZ(1,"span"),b._uU(2,"Proceed"),b.qZA(),b.qZA()}}let hp=(()=>{class v{constructor(u,g){this.router=u,this.pwaService=g}ngOnInit(){console.log("~ this.isPWAInstalled",this.isPWAInstalled),this.subscriptionInstallEvent=this.pwaService.installEvent$.subscribe(u=>{console.log("~ installEvent SUB BUTTON",u),this.installEvent=u}),this.isPWAInstalled=this.pwaService.getInstallState()}onClickProceed(){this.router.navigate(["intro"])}addToHomeScreen(){console.log("~ this.pwaInstallEvent BUTTON",this.installEvent),console.log("~ Show the prompt"),this.installEvent.prompt(),this.installEvent.userChoice.then(u=>{"accepted"===u.outcome?(console.log("User accepted the A2HS prompt"),this.pwaService.setInstallState(!0),this.isPWAInstalled=!0,setTimeout(()=>{this.ngOnInit(),console.log("~ this.isPWAInstalled REINIT BUTTON",this.isPWAInstalled)},400)):console.log("User dismissed the A2HS prompt"),this.installEvent=null})}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(us.F0),b.Y36(vu))},v.\u0275cmp=b.Xpm({type:v,selectors:[["button-landing"]],decls:5,vars:2,consts:[[1,"container"],[1,"center"],[4,"ngIf","ngIfElse"],["proceed",""],[1,"btn-install",3,"click"],["width","180px","height","60px","viewBox","0 0 180 60",1,"border"],["points","179,1 179,59 1,59 1,1 179,1",1,"bg-line"],["points","179,1 179,59 1,59 1,1 179,1",1,"hl-line"],[1,"btn-proceed",3,"click"]],template:function(u,g){if(1&u&&(b.TgZ(0,"div",0),b.TgZ(1,"div",1),b.YNc(2,fp,7,0,"ng-container",2),b.qZA(),b.qZA(),b.YNc(3,Pg,3,0,"ng-template",null,3,b.W1O)),2&u){const T=b.MAs(4);b.xp6(2),b.Q6J("ngIf",!1===g.isPWAInstalled)("ngIfElse",T)}},directives:[A.O5],styles:['.container[_ngcontent-%COMP%]{width:400px;height:400px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{width:180px;height:60px;position:absolute}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]{width:180px;height:60px;cursor:pointer;background:transparent;border:1px solid rgba(255,255,255,.1);outline:none;transition:1s ease-in-out}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:100;font-family:Oswald}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:0;top:0;fill:none;stroke:#fff;stroke-dasharray:150 480;stroke-dashoffset:150;transition:1s ease-in-out}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]:hover{transition:1s ease-in-out;background:rgba(255,255,255,.1)}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{stroke-dashoffset:-480}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]{line-height:55px;height:60px;text-align:center;width:180px;cursor:pointer;color:#fff;transition:all .5s;position:relative;background-color:transparent;padding:0}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:100;font-family:Oswald}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:hover{transition:1s ease-in-out;background:transparent}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background-color:#ffffff1a;transition:all .3s}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:hover:before{opacity:0;transform:scale(.5)}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;opacity:0;transition:all .3s;border:1px solid rgba(255,255,255,.5);transform:scale(1.2)}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:hover:after{opacity:1;transform:scale(1)}']}),v})();var Ld=F(9028);const Nn=["wrapper"],Kf=["*"];let pp=(()=>{class v{constructor(){this.typeSpeed=30,this.completed=new b.vpe,this.preStringTyped=new b.vpe,this.stringTyped=new b.vpe,this.lastStringBackspaced=new b.vpe,this.typingPaused=new b.vpe,this.typingResumed=new b.vpe,this.reset=new b.vpe,this.stopped=new b.vpe,this.started=new b.vpe,this.destroyed=new b.vpe}ngAfterViewInit(){this.typed=new Ld(this.content.nativeElement.querySelector(".typing"),this.options),!1!==this.showCursor&&this.updateCursorStyle()}toggle(){this.typed.toggle()}stop(){this.typed.stop()}start(){this.typed.start()}destroy(){this.typed.destroy()}doReset(u){this.typed.reset(u)}get options(){var u;const g=K=>()=>K.emit(),T=K=>fe=>K.emit(fe),L={strings:null!==(u=this.strings)&&void 0!==u?u:[""],stringsElement:this.stringsElement,typeSpeed:this.typeSpeed,startDelay:this.startDelay,backSpeed:this.backSpeed,smartBackspace:this.smartBackspace,shuffle:this.shuffle,backDelay:this.backDelay,fadeOut:this.fadeOut,fadeOutClass:this.fadeOutClass,fadeOutDelay:this.fadeOutDelay,loop:this.loop,loopCount:this.loopCount,showCursor:this.showCursor,autoInsertCss:this.autoInsertCss,attr:this.attr,bindInputFocusEvents:this.bindInputFocusEvents,contentType:this.contentType,onComplete:g(this.completed),preStringTyped:T(this.preStringTyped),onStringTyped:T(this.stringTyped),onLastStringBackspaced:g(this.lastStringBackspaced),onTypingPaused:T(this.typingPaused),onTypingResumed:T(this.typingResumed),onReset:g(this.reset),onStop:T(this.stopped),onStart:T(this.started),onDestroy:g(this.destroyed)};return Object.keys(L).forEach(K=>{void 0===L[K]&&delete L[K]}),L}updateCursorStyle(){const u=getComputedStyle(this.content.nativeElement.querySelector(".typing")),g=this.content.nativeElement.querySelector(".typed-cursor").style;g.fontSize=u.fontSize,g.color=this.cursorColor||u.color}ngOnChanges(u){this.typed&&(this.typed.destroy(),this.ngAfterViewInit())}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275cmp=b.Xpm({type:v,selectors:[["ngx-typed-js"]],viewQuery:function(u,g){if(1&u&&b.Gf(Nn,7),2&u){let T;b.iGM(T=b.CRH())&&(g.content=T.first)}},inputs:{cursorColor:"cursorColor",strings:"strings",stringsElement:"stringsElement",typeSpeed:"typeSpeed",startDelay:"startDelay",backSpeed:"backSpeed",smartBackspace:"smartBackspace",shuffle:"shuffle",backDelay:"backDelay",fadeOut:"fadeOut",fadeOutClass:"fadeOutClass",fadeOutDelay:"fadeOutDelay",loop:"loop",loopCount:"loopCount",showCursor:"showCursor",cursorChar:"cursorChar",autoInsertCss:"autoInsertCss",attr:"attr",bindInputFocusEvents:"bindInputFocusEvents",contentType:"contentType"},outputs:{completed:"completed",preStringTyped:"preStringTyped",stringTyped:"stringTyped",lastStringBackspaced:"lastStringBackspaced",typingPaused:"typingPaused",typingResumed:"typingResumed",reset:"reset",stopped:"stopped",started:"started",destroyed:"destroyed"},features:[b.TTD],ngContentSelectors:Kf,decls:3,vars:0,consts:[["wrapper",""]],template:function(u,g){1&u&&(b.F$t(),b.TgZ(0,"div",null,0),b.Hsn(2),b.qZA())},styles:["[_nghost-%COMP%] > .typing[_ngcontent-%COMP%]{display:inline}"]}),v})(),Fd=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({imports:[[]]}),v})();const ta=["logo"];let Yf=(()=>{class v extends Ji.p{constructor(){super(),this.timeUpdateAllowed=!1,this.firstDescriptionCompleted=!1,this.secondDescriptionCompleted=!1,this.thirdDescriptionCompleted=!1,this.typeSpeed=5,this.options=this.createOptions(Cs.W.logo,!1),this.noteDescription=["NOTE: The application works at the moment only in Chromium-based browsers on Windows/Android machines, so in case you're using MacOS/iOS please go fu","NOTE: The application works at the moment only in Chromium-based browsers on Windows/Android machines, so in case you're using MacOS/iOS please go fu.","NOTE: The application works at the moment only in Chromium-based browsers on Windows/Android machines, so in case you're using MacOS/iOS please go fu..","NOTE: The application works at the moment only in Chromium-based browsers on Windows/Android machines, so in case you're using MacOS/iOS please go","NOTE: The application works at the moment only in Chromium-based browsers on Windows/Android machines, so in case you're using MacOS/iOS please go find another device."]}ngOnInit(){super.ngOnInit(),this.timeUpdateAllowed=!0,this.play()}timeUpdate(){this.handleLogoLooping()}handleLogoLooping(){this.timeUpdateAllowed&&(this.currentTime=1.4,this.timeUpdateAllowed=!1,setTimeout(()=>{this.pause(),this.currentTime=1.4,setTimeout(()=>{this.timeUpdateAllowed=!0,this.play()},4e3)},1440))}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275cmp=b.Xpm({type:v,selectors:[["landing"]],viewQuery:function(u,g){if(1&u&&b.Gf(ta,7),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first)}},features:[b.qOj],decls:25,vars:7,consts:[[1,"landing"],[1,"line"],[1,"main"],[1,"logo"],["muted","",3,"timeupdate"],["logo",""],[1,"button"],[1,"description"],[1,"text"],[3,"typeSpeed","strings","smartBackspace","showCursor","startDelay","backDelay","backSpeed"],[1,"typing"]],template:function(u,g){1&u&&(b.TgZ(0,"div",0),b._UZ(1,"div",1),b.TgZ(2,"div",2),b.TgZ(3,"div",3),b.TgZ(4,"video",4,5),b.NdJ("timeupdate",function(){return g.timeUpdate()}),b.qZA(),b._UZ(6,"br"),b._UZ(7,"br"),b._UZ(8,"br"),b._UZ(9,"br"),b._UZ(10,"br"),b._UZ(11,"br"),b._UZ(12,"br"),b.TgZ(13,"div",6),b._UZ(14,"button-landing"),b.qZA(),b.qZA(),b.TgZ(15,"div",7),b.TgZ(16,"div",8),b._uU(17," This is a demo application, created for my developer portfolio, which gathers energy data from publicy available sources (Statistik Austria) in order to allow users to select and display the respective charts in a web-based environment. "),b.qZA(),b.TgZ(18,"div",8),b._uU(19," Due to several reasons, I've decided deploying it as a progressive web app - so please install it in the first place in order to use it. "),b.qZA(),b.TgZ(20,"div"),b.TgZ(21,"ngx-typed-js",9),b._UZ(22,"div",10),b.qZA(),b.qZA(),b._UZ(23,"br"),b.qZA(),b.qZA(),b._UZ(24,"div",1),b.qZA()),2&u&&(b.xp6(21),b.Q6J("typeSpeed",g.typeSpeed)("strings",g.noteDescription)("smartBackspace",!0)("showCursor",!1)("startDelay",1e3)("backDelay",500)("backSpeed",10))},directives:[hp,pp],styles:['.landing[_ngcontent-%COMP%]{height:100vh;width:100vw;background-color:#000;background-image:radial-gradient(rgba(22,48,22,.75),black 120%);display:grid;grid-template-columns:1fr 640px 1fr;justify-content:center;overflow:hidden}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{grid-column:2/3;margin-top:12%;width:640px}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{transform:translate(25%)}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:1.25em}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:5%;font-family:Oswald;-webkit-hyphens:auto;hyphens:auto;text-align:justify;color:#fff;font-weight:400;grid-row:2/4}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .typing[_ngcontent-%COMP%]{margin-top:15%;font-family:Oswald;-webkit-hyphens:auto;hyphens:auto;grid-row:4/4;text-align:justify;color:#52ae50b5;font-weight:400}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{grid-row:1/4;transform:translateY(52px)}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;width:1px;height:100%;top:0;left:50%;background:rgba(255,255,255,.1);overflow:hidden}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;height:15vh;width:100%;top:-50%;left:0;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,#ffffff 75%,#ffffff 100%);animation:drop 7s 0s infinite;animation-fill-mode:forwards;animation-timing-function:cubic-bezier(.4,.26,0,.97)}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){margin-left:-25%}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1):after{animation-delay:2s}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){margin-left:25%}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3):after{animation-delay:2.5s}@keyframes drop{0%{top:-50%}to{top:110%}}']}),v})(),Dg=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275cmp=b.Xpm({type:v,selectors:[["page-not-found"]],decls:0,vars:0,template:function(u,g){},styles:[""]}),v})();const Xf=["configInfo"];let rl=(()=>{class v extends Ji.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(Cs.W.configInfo,!1),this.timesteps={configLoaded:1.7},this.initDelay=0,this.subs=new bs.w}ngOnInit(){super.ngOnInit(),this.setSubscriptions(),this.handleIntro()}setSubscriptions(){this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this.activeView=u,this.onViewChanges()}),this.subs.add(this.subscriptionActiveView)}handleIntro(){var u=this;return(0,ar.Z)(function*(){u.play(u.initDelay);const g=1e3*u.timesteps.configLoaded;yield(0,Ri.Vs)(g),u.currentTime=1.6,u.pause()})()}onViewChanges(){"config-info"!==this.activeView&&this.play()}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B))},v.\u0275cmp=b.Xpm({type:v,selectors:[["config-info"]],viewQuery:function(u,g){if(1&u&&b.Gf(Xf,7),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first)}},features:[b.qOj],decls:3,vars:0,consts:[[1,"config-info"],["muted",""],["configInfo",""]],template:function(u,g){1&u&&(b.TgZ(0,"div",0),b._UZ(1,"video",1,2),b.qZA())},styles:[".config-info[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}@media (max-width: 568px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-24%,-27%) scaleX(.52) scaleY(.48)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-20%,-25%) scaleX(.57) scaleY(.54)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-16%,-20%) scaleX(.7) scaleY(.64)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-16%,-24%) scaleX(.7) scaleY(.54)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-13%,-24%) scaleX(.76) scaleY(.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-22%) scaleX(.8) scaleY(.6)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-21%) scaleX(.8) scaleY(.66)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-16%) scaleX(.8) scaleY(.72)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-8%,-20%) scaleX(.84) scaleY(.64)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-6%,-20%) scaleX(.8) scaleY(.66)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-4%,-16%) scaleX(.84) scaleY(.78)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-4%,-16%) scaleX(.84) scaleY(.74)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-7%) scaleX(1.1) scaleY(.96)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(34%,86%) scaleX(1.08) scaleY(.88)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-8%) scaleX(1.08) scaleY(.88)}}@media (min-width: 1601px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,8%) scaleX(1.46) scaleY(1.25)}}"]}),v})();const Zf=["initDescription"],Jf=[{path:"",component:Yf},{path:"",component:Og,children:[{path:"intro",component:(()=>{class v extends Ji.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(Cs.W.initDescription,!1),this.timesteps={arrowStart:3,arrowEnd:3.68},this.initDelay=1e3,this.subs=new bs.w,this.timeUpdateAllowed=!0}ngOnInit(){super.ngOnInit(),this.setSubscriptions(),this.handleIntro()}setSubscriptions(){this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this.activeView=u,this.onViewChanges()}),this.subs.add(this.subscriptionActiveView)}handleIntro(){var u=this;return(0,ar.Z)(function*(){u.uiState.setConfigButtonLocked(!1),yield u.play(u.initDelay)})()}onViewChanges(){"config-info"===this.activeView&&(this.timeUpdateAllowed=!1,this.currentTime=this.timesteps.arrowEnd,this.play())}timeUpdate(){this.timeUpdateAllowed&&this.currentTime>=this.timesteps.arrowEnd&&(this.pause(),this.currentTime=this.timesteps.arrowStart,this.play())}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(b.Y36(Us.B))},v.\u0275cmp=b.Xpm({type:v,selectors:[["init-description"]],viewQuery:function(u,g){if(1&u&&b.Gf(Zf,7),2&u){let T;b.iGM(T=b.CRH())&&(g.videoElement=T.first)}},features:[b.qOj],decls:3,vars:0,consts:[[1,"init-description"],["muted","",3,"timeupdate"],["initDescription",""]],template:function(u,g){1&u&&(b.TgZ(0,"div",0),b.TgZ(1,"video",1,2),b.NdJ("timeupdate",function(){return g.timeUpdate()}),b.qZA(),b.qZA())},styles:[".init-description[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}@media (max-width: 568px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-24%,-27%) scaleX(.52) scaleY(.48)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-20%,-25%) scaleX(.57) scaleY(.54)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-16%,-20%) scaleX(.7) scaleY(.64)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-16%,-24%) scaleX(.7) scaleY(.54)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-13%,-24%) scaleX(.76) scaleY(.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-22%) scaleX(.8) scaleY(.6)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-21%) scaleX(.8) scaleY(.66)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-16%) scaleX(.8) scaleY(.72)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-8%,-20%) scaleX(.84) scaleY(.64)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-6%,-20%) scaleX(.8) scaleY(.66)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-4%,-16%) scaleX(.84) scaleY(.78)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-4%,-16%) scaleX(.84) scaleY(.74)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-7%) scaleX(1.1) scaleY(.96)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(34%,86%) scaleX(1.08) scaleY(.88)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-8%) scaleX(1.08) scaleY(.88)}}@media (min-width: 1601px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,8%) scaleX(1.46) scaleY(1.25)}}"]}),v})()},{path:"config-info",component:rl},{path:"config/balance",loadChildren:()=>F.e(193).then(F.bind(F,4193)).then(v=>v.BalancesModule),data:{animation:"balances"}},{path:"config/regions",loadChildren:()=>F.e(187).then(F.bind(F,6187)).then(v=>v.RegionsModule),data:{animation:"regions"}},{path:"config/years",loadChildren:()=>F.e(735).then(F.bind(F,5735)).then(v=>v.YearsModule),data:{animation:"years"}},{path:"config/aggregate",loadChildren:()=>Promise.all([F.e(564),F.e(592),F.e(631)]).then(F.bind(F,7631)).then(v=>v.AggregatesModule)},{path:"config/carrier",loadChildren:()=>F.e(924).then(F.bind(F,3924)).then(v=>v.CarriersModule),data:{animation:"carriers"}},{path:"config/usage",loadChildren:()=>F.e(214).then(F.bind(F,7214)).then(v=>v.UsagesModule),data:{animation:"usages"}},{path:"chart",loadChildren:()=>Promise.all([F.e(564),F.e(592),F.e(56)]).then(F.bind(F,7056)).then(v=>v.ChartModule),data:{animation:"charts"}}]},{path:"**",component:Dg}];let sv=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({imports:[[us.Bz.forRoot(Jf)],us.Bz]}),v})(),gp=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({imports:[[A.ez,nl.Hd.forChild(),Rd.Ns.forRoot({echarts:()=>F.e(564).then(F.bind(F,2564))})]]}),v})(),mp=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({imports:[[A.ez,gp,us.Bz,Fd]]}),v})(),il=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({imports:[[A.ez]]}),v})(),Bd=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=b.oAB({type:v,bootstrap:[Al]}),v.\u0275inj=b.cJS({providers:[{provide:Yr.zu,useFactory:v=>({cache:new vg,link:v.create({uri:"https://enspect-backend-xdkgqyolua-oa.a.run.app/api"})}),deps:[xc]}],imports:[[Hh,sr,Yr.VG,sv,Ia,zs,fl,mp,il,wf.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]]}),v})();(0,b.G48)(),Vn().bootstrapModule(Bd).catch(v=>console.error(v))},6549:ct=>{function Le(){return ct.exports=Le=Object.assign||function(F){for(var A=1;A<arguments.length;A++){var b=arguments[A];for(var z in b)Object.prototype.hasOwnProperty.call(b,z)&&(F[z]=b[z])}return F},ct.exports.default=ct.exports,ct.exports.__esModule=!0,Le.apply(this,arguments)}ct.exports=Le,ct.exports.default=ct.exports,ct.exports.__esModule=!0},4762:(ct,Le,F)=>{"use strict";F.d(Le,{ZT:()=>b,pi:()=>z,_T:()=>de,mG:()=>oe,Jh:()=>j,ev:()=>_e});var A=function(B,re){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pe,xe){pe.__proto__=xe}||function(pe,xe){for(var Fe in xe)Object.prototype.hasOwnProperty.call(xe,Fe)&&(pe[Fe]=xe[Fe])})(B,re)};function b(B,re){if("function"!=typeof re&&null!==re)throw new TypeError("Class extends value "+String(re)+" is not a constructor or null");function pe(){this.constructor=B}A(B,re),B.prototype=null===re?Object.create(re):(pe.prototype=re.prototype,new pe)}var z=function(){return(z=Object.assign||function(re){for(var pe,xe=1,Fe=arguments.length;xe<Fe;xe++)for(var Re in pe=arguments[xe])Object.prototype.hasOwnProperty.call(pe,Re)&&(re[Re]=pe[Re]);return re}).apply(this,arguments)};function de(B,re){var pe={};for(var xe in B)Object.prototype.hasOwnProperty.call(B,xe)&&re.indexOf(xe)<0&&(pe[xe]=B[xe]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(xe=Object.getOwnPropertySymbols(B);Fe<xe.length;Fe++)re.indexOf(xe[Fe])<0&&Object.prototype.propertyIsEnumerable.call(B,xe[Fe])&&(pe[xe[Fe]]=B[xe[Fe]])}return pe}function oe(B,re,pe,xe){return new(pe||(pe=Promise))(function(Re,Je){function ft(He){try{lt(xe.next(He))}catch(nt){Je(nt)}}function vt(He){try{lt(xe.throw(He))}catch(nt){Je(nt)}}function lt(He){He.done?Re(He.value):function(Re){return Re instanceof pe?Re:new pe(function(Je){Je(Re)})}(He.value).then(ft,vt)}lt((xe=xe.apply(B,re||[])).next())})}function j(B,re){var xe,Fe,Re,Je,pe={label:0,sent:function(){if(1&Re[0])throw Re[1];return Re[1]},trys:[],ops:[]};return Je={next:ft(0),throw:ft(1),return:ft(2)},"function"==typeof Symbol&&(Je[Symbol.iterator]=function(){return this}),Je;function ft(lt){return function(He){return function(lt){if(xe)throw new TypeError("Generator is already executing.");for(;pe;)try{if(xe=1,Fe&&(Re=2&lt[0]?Fe.return:lt[0]?Fe.throw||((Re=Fe.return)&&Re.call(Fe),0):Fe.next)&&!(Re=Re.call(Fe,lt[1])).done)return Re;switch(Fe=0,Re&&(lt=[2&lt[0],Re.value]),lt[0]){case 0:case 1:Re=lt;break;case 4:return pe.label++,{value:lt[1],done:!1};case 5:pe.label++,Fe=lt[1],lt=[0];continue;case 7:lt=pe.ops.pop(),pe.trys.pop();continue;default:if(!(Re=(Re=pe.trys).length>0&&Re[Re.length-1])&&(6===lt[0]||2===lt[0])){pe=0;continue}if(3===lt[0]&&(!Re||lt[1]>Re[0]&&lt[1]<Re[3])){pe.label=lt[1];break}if(6===lt[0]&&pe.label<Re[1]){pe.label=Re[1],Re=lt;break}if(Re&&pe.label<Re[2]){pe.label=Re[2],pe.ops.push(lt);break}Re[2]&&pe.ops.pop(),pe.trys.pop();continue}lt=re.call(B,pe)}catch(He){lt=[6,He],Fe=0}finally{xe=Re=0}if(5&lt[0])throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}([lt,He])}}}function _e(B,re,pe){if(pe||2===arguments.length)for(var Re,xe=0,Fe=re.length;xe<Fe;xe++)(Re||!(xe in re))&&(Re||(Re=Array.prototype.slice.call(re,0,xe)),Re[xe]=re[xe]);return B.concat(Re||Array.prototype.slice.call(re))}},5893:()=>{},460:(ct,Le,F)=>{"use strict";F.d(Le,{RI:()=>ce,uG:()=>ue,jS:()=>j,lg:()=>W,jp:()=>ne,$O:()=>G,E_:()=>le,RC:()=>Ce,j:()=>ae,ig:()=>_e,kJ:()=>Pe});var A=F(4155),b=F(9737),z=F(9231),de=F(443),ee=F(6216),ce=Object.prototype.hasOwnProperty;function ue(De,Ae){var ge=De.__typename,je=De.id,Ke=De._id;if("string"==typeof ge&&(Ae&&(Ae.keyObject=void 0!==je?{id:je}:void 0!==Ke?{_id:Ke}:void 0),void 0===je&&(je=Ke),void 0!==je))return"".concat(ge,":").concat("number"==typeof je||"string"==typeof je?je:JSON.stringify(je))}var oe={dataIdFromObject:ue,addTypename:!0,resultCaching:!0,canonizeResults:!1};function j(De){return(0,A.o)(oe,De)}function W(De){var Ae=De.canonizeResults;return void 0===Ae?oe.canonizeResults:Ae}function ne(De,Ae){return(0,b.Yk)(Ae)?De.get(Ae.__ref,"__typename"):Ae&&Ae.__typename}var G=/^[_a-z][_0-9a-z]*/i;function le(De){var Ae=De.match(G);return Ae?Ae[0]:De}function Ce(De,Ae,ge){return!!(0,z.s)(Ae)&&(Pe(Ae)?Ae.every(function(je){return Ce(De,je,ge)}):De.selections.every(function(je){if((0,b.My)(je)&&(0,de.LZ)(je,ge)){var Ke=(0,b.u2)(je);return ce.call(Ae,Ke)&&(!je.selectionSet||Ce(je.selectionSet,Ae[Ke],ge))}return!0}))}function ae(De){return(0,z.s)(De)&&!(0,b.Yk)(De)&&!Pe(De)}function _e(){return new ee.w0}var Pe=function(De){return Array.isArray(De)}},7149:(ct,Le,F)=>{"use strict";F.d(Le,{h:()=>oe,B:()=>j});var W,ne,A=F(4762),z=(F(9591),F(2844)),de=F(9231),ee=F(7289),ce=F(460),oe=function(){function le(){this.known=new(ee.sy?WeakSet:Set),this.pool=new z.B(ee.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return le.prototype.isKnown=function(Ce){return(0,de.s)(Ce)&&this.known.has(Ce)},le.prototype.pass=function(Ce){if((0,de.s)(Ce)){var ae=function(le){return(0,de.s)(le)?(0,ce.kJ)(le)?le.slice(0):(0,A.pi)({__proto__:Object.getPrototypeOf(le)},le):le}(Ce);return this.passes.set(ae,Ce),ae}return Ce},le.prototype.admit=function(Ce){var ae=this;if((0,de.s)(Ce)){var _e=this.passes.get(Ce);if(_e)return _e;switch(Object.getPrototypeOf(Ce)){case Array.prototype:if(this.known.has(Ce))return Ce;var De=Ce.map(this.admit,this);return(Ae=this.pool.lookupArray(De)).array||(this.known.add(Ae.array=De),__DEV__&&Object.freeze(De)),Ae.array;case null:case Object.prototype:if(this.known.has(Ce))return Ce;var ge=Object.getPrototypeOf(Ce),je=[ge],Ke=this.sortedKeys(Ce);je.push(Ke.json);var Ae,Mt=je.length;if(Ke.sorted.forEach(function(Y){je.push(ae.admit(Ce[Y]))}),!(Ae=this.pool.lookupArray(je)).object){var dt=Ae.object=Object.create(ge);this.known.add(dt),Ke.sorted.forEach(function(Y,B){dt[Y]=je[Mt+B]}),__DEV__&&Object.freeze(dt)}return Ae.object}}return Ce},le.prototype.sortedKeys=function(Ce){var ae=Object.keys(Ce),_e=this.pool.lookupArray(ae);if(!_e.keys){ae.sort();var Pe=JSON.stringify(ae);(_e.keys=this.keysByJSON.get(Pe))||this.keysByJSON.set(Pe,_e.keys={sorted:ae,json:Pe})}return _e.keys},le}(),j=Object.assign(function(le){if((0,de.s)(le)){void 0===W&&G();var Ce=W.admit(le),ae=ne.get(Ce);return void 0===ae&&ne.set(Ce,ae=JSON.stringify(Ce)),ae}return JSON.stringify(le)},{reset:G});function G(){W=new oe,ne=new(ee.mr?WeakMap:Map)}},4350:(ct,Le,F)=>{"use strict";F.d(Le,{ab:()=>z,li:()=>ce,_v:()=>ue,QS:()=>oe});var A=F(1747),z=new(F(1558).g7),de=new WeakMap;function ee(W){var ne=de.get(W);return ne||de.set(W,ne={vars:new Set,dep:(0,A.dP)()}),ne}function ce(W){ee(W).vars.forEach(function(ne){return ne.forgetCache(W)})}function ue(W){ee(W).vars.forEach(function(ne){return ne.attachCache(W)})}function oe(W){var ne=new Set,G=new Set,le=function(ae){if(arguments.length>0){if(W!==ae){W=ae,ne.forEach(function(De){ee(De).dep.dirty(le),j(De)});var _e=Array.from(G);G.clear(),_e.forEach(function(De){return De(W)})}}else{var Pe=z.getValue();Pe&&(Ce(Pe),ee(Pe).dep(le))}return W};le.onNextChange=function(ae){return G.add(ae),function(){G.delete(ae)}};var Ce=le.attachCache=function(ae){return ne.add(ae),ee(ae).vars.add(le),le};return le.forgetCache=function(ae){return ne.delete(ae)},le}function j(W){W.broadcastWatches&&W.broadcastWatches()}},884:(ct,Le,F)=>{"use strict";F.d(Le,{i:()=>G});var A=F(4762),b=F(9591),z=F(4854),ee=F(1144);function oe(le,Ce){return Ce?Ce(le):z.y.of()}function j(le){return"function"==typeof le?new G(le):le}function W(le){return le.request.length<=1}var ne=function(le){function Ce(ae,_e){var Pe=le.call(this,ae)||this;return Pe.link=_e,Pe}return(0,A.ZT)(Ce,le),Ce}(Error),G=function(){function le(Ce){Ce&&(this.request=Ce)}return le.empty=function(){return new le(function(){return z.y.of()})},le.from=function(Ce){return 0===Ce.length?le.empty():Ce.map(j).reduce(function(ae,_e){return ae.concat(_e)})},le.split=function(Ce,ae,_e){var Pe=j(ae),De=j(_e||new le(oe));return W(Pe)&&W(De)?new le(function(Ae){return Ce(Ae)?Pe.request(Ae)||z.y.of():De.request(Ae)||z.y.of()}):new le(function(Ae,ge){return Ce(Ae)?Pe.request(Ae,ge)||z.y.of():De.request(Ae,ge)||z.y.of()})},le.execute=function(Ce,ae){return Ce.request(function(le,Ce){var ae=(0,A.pi)({},le);return Object.defineProperty(Ce,"setContext",{enumerable:!1,value:function(De){ae=(0,A.pi)((0,A.pi)({},ae),"function"==typeof De?De(ae):De)}}),Object.defineProperty(Ce,"getContext",{enumerable:!1,value:function(){return(0,A.pi)({},ae)}}),Ce}(ae.context,function(le){var Ce={variables:le.variables||{},extensions:le.extensions||{},operationName:le.operationName,query:le.query};return Ce.operationName||(Ce.operationName="string"!=typeof Ce.query?(0,ee.rY)(Ce.query)||void 0:""),Ce}(function(le){for(var Ce=["query","operationName","variables","extensions","context"],ae=0,_e=Object.keys(le);ae<_e.length;ae++){var Pe=_e[ae];if(Ce.indexOf(Pe)<0)throw __DEV__?new b.ej("illegal argument: ".concat(Pe)):new b.ej(24)}return le}(ae))))||z.y.of()},le.concat=function(Ce,ae){var _e=j(Ce);if(W(_e))return __DEV__&&b.kG.warn(new ne("You are calling concat on a terminating link, which will have no effect",_e)),_e;var Pe=j(ae);return W(Pe)?new le(function(De){return _e.request(De,function(Ae){return Pe.request(Ae)||z.y.of()})||z.y.of()}):new le(function(De,Ae){return _e.request(De,function(ge){return Pe.request(ge,Ae)||z.y.of()})||z.y.of()})},le.prototype.split=function(Ce,ae,_e){return this.concat(le.split(Ce,ae,_e||new le(oe)))},le.prototype.concat=function(Ce){return le.concat(this,Ce)},le.prototype.request=function(Ce,ae){throw __DEV__?new b.ej("request is not implemented"):new b.ej(19)},le.prototype.onError=function(Ce,ae){if(ae&&ae.error)return ae.error(Ce),!1;throw Ce},le.prototype.setOnError=function(Ce){return this.onError=Ce,this},le}()},8779:(ct,Le,F)=>{"use strict";function A(b){return Array.isArray(b)&&b.length>0}F.d(Le,{O:()=>A})},7289:(ct,Le,F)=>{"use strict";F.d(Le,{mr:()=>A,sy:()=>b,aS:()=>z});var A="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),b="function"==typeof WeakSet,z="function"==typeof Symbol&&"function"==typeof Symbol.for},3107:(ct,Le,F)=>{"use strict";F.d(Le,{X:()=>b});var A=Object.prototype.toString;function b(de){return z(de)}function z(de,ee){switch(A.call(de)){case"[object Array]":if((ee=ee||new Map).has(de))return ee.get(de);var ce=de.slice(0);return ee.set(de,ce),ce.forEach(function(oe,j){ce[j]=z(oe,ee)}),ce;case"[object Object]":if((ee=ee||new Map).has(de))return ee.get(de);var ue=Object.create(Object.getPrototypeOf(de));return ee.set(de,ue),Object.keys(de).forEach(function(oe){ue[oe]=z(de[oe],ee)}),ue;default:return de}}},4155:(ct,Le,F)=>{"use strict";function A(){for(var b=[],z=0;z<arguments.length;z++)b[z]=arguments[z];var de=Object.create(null);return b.forEach(function(ee){!ee||Object.keys(ee).forEach(function(ce){var ue=ee[ce];void 0!==ue&&(de[ce]=ue)})}),de}F.d(Le,{o:()=>A})},5801:(ct,Le,F)=>{"use strict";F.d(Le,{X:()=>b});var A=new Map;function b(z){var de=A.get(z)||1;return A.set(z,de+1),"".concat(z,":").concat(de,":").concat(Math.random().toString(36).slice(2))}},6216:(ct,Le,F)=>{"use strict";F.d(Le,{Ee:()=>de,bw:()=>ee,w0:()=>ue});var A=F(4762),b=F(9231),z=Object.prototype.hasOwnProperty;function de(){for(var oe=[],j=0;j<arguments.length;j++)oe[j]=arguments[j];return ee(oe)}function ee(oe){var j=oe[0]||{},W=oe.length;if(W>1)for(var ne=new ue,G=1;G<W;++G)j=ne.merge(j,oe[G]);return j}var ce=function(oe,j,W){return this.merge(oe[W],j[W])},ue=function(){function oe(j){void 0===j&&(j=ce),this.reconciler=j,this.isObject=b.s,this.pastCopies=new Set}return oe.prototype.merge=function(j,W){for(var ne=this,G=[],le=2;le<arguments.length;le++)G[le-2]=arguments[le];return(0,b.s)(W)&&(0,b.s)(j)?(Object.keys(W).forEach(function(Ce){if(z.call(j,Ce)){var ae=j[Ce];if(W[Ce]!==ae){var _e=ne.reconciler.apply(ne,(0,A.ev)([j,W,Ce],G,!1));_e!==ae&&((j=ne.shallowCopyForMerge(j))[Ce]=_e)}}else(j=ne.shallowCopyForMerge(j))[Ce]=W[Ce]}),j):W},oe.prototype.shallowCopyForMerge=function(j){if((0,b.s)(j)){if(this.pastCopies.has(j)){if(!Object.isFrozen(j))return j;this.pastCopies.delete(j)}j=Array.isArray(j)?j.slice(0):(0,A.pi)({__proto__:Object.getPrototypeOf(j)},j),this.pastCopies.add(j)}return j},oe}()},9231:(ct,Le,F)=>{"use strict";function A(b){return null!==b&&"object"==typeof b}F.d(Le,{s:()=>A})},9591:(ct,Le,F)=>{"use strict";F.d(Le,{ej:()=>ee,kG:()=>ce,wY:()=>G});var A=F(4762),b="Invariant Violation",z=Object.setPrototypeOf,de=void 0===z?function(Y,B){return Y.__proto__=B,Y}:z,ee=function(Y){function B(re){void 0===re&&(re=b);var pe=Y.call(this,"number"==typeof re?b+": "+re+" (see https://github.com/apollographql/invariant-packages)":re)||this;return pe.framesToPop=1,pe.name=b,de(pe,B.prototype),pe}return(0,A.ZT)(B,Y),B}(Error);function ce(Y,B){if(!Y)throw new ee(B)}var Y,ue=["debug","log","warn","error","silent"],oe=ue.indexOf("log");function j(Y){return function(){if(ue.indexOf(Y)>=oe){var B=console[Y]||console.log;return B.apply(console,arguments)}}}function G(Y){try{return Y()}catch(B){}}(Y=ce||(ce={})).debug=j("debug"),Y.log=j("log"),Y.warn=j("warn"),Y.error=j("error");const le=G(function(){return globalThis})||G(function(){return window})||G(function(){return self})||G(function(){return global})||G(function(){return G.constructor("return this")()});var Ce="__",ae=[Ce,Ce].join("DEV");const Pe=function(){try{return Boolean(__DEV__)}catch(Y){return Object.defineProperty(le,ae,{value:"production"!==G(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),le[ae]}}();function De(Y){try{return Y()}catch(B){}}var Ae=De(function(){return globalThis})||De(function(){return window})||De(function(){return self})||De(function(){return global})||De(function(){return De.constructor("return this")()}),ge=!1;Ae&&!De(function(){return"production"})&&!De(function(){return process})&&(Object.defineProperty(Ae,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),ge=!0),F(1462),ge&&(delete Ae.process,ge=!1),__DEV__?ce("boolean"==typeof Pe,Pe):ce("boolean"==typeof Pe,36)},443:(ct,Le,F)=>{"use strict";F.d(Le,{LZ:()=>z,FS:()=>ee,mj:()=>ce});var A=F(9591),b=F(1335);function z(j,W){var ne=j.directives;return!ne||!ne.length||function(j){var W=[];return j&&j.length&&j.forEach(function(ne){if(function(j){var W=j.name.value;return"skip"===W||"include"===W}(ne)){var G=ne.arguments,le=ne.name.value;__DEV__?(0,A.kG)(G&&1===G.length,"Incorrect number of arguments for the @".concat(le," directive.")):(0,A.kG)(G&&1===G.length,38);var Ce=G[0];__DEV__?(0,A.kG)(Ce.name&&"if"===Ce.name.value,"Invalid argument for the @".concat(le," directive.")):(0,A.kG)(Ce.name&&"if"===Ce.name.value,39);var ae=Ce.value;__DEV__?(0,A.kG)(ae&&("Variable"===ae.kind||"BooleanValue"===ae.kind),"Argument for the @".concat(le," directive must be a variable or a boolean value.")):(0,A.kG)(ae&&("Variable"===ae.kind||"BooleanValue"===ae.kind),40),W.push({directive:ne,ifArgument:Ce})}}),W}(ne).every(function(G){var le=G.directive,Ce=G.ifArgument,ae=!1;return"Variable"===Ce.value.kind?(ae=W&&W[Ce.value.name.value],__DEV__?(0,A.kG)(void 0!==ae,"Invalid variable referenced in @".concat(le.name.value," directive.")):(0,A.kG)(void 0!==ae,37)):ae=Ce.value.value,"skip"===le.name.value?!ae:ae})}function ee(j,W){return function(j){var W=[];return(0,b.Vn)(j,{Directive:function(ne){W.push(ne.name.value)}}),W}(W).some(function(ne){return j.indexOf(ne)>-1})}function ce(j){return j&&ee(["client"],j)&&ee(["export"],j)}},1598:(ct,Le,F)=>{"use strict";F.d(Le,{Yk:()=>z,F:()=>de,hi:()=>ee});var A=F(4762),b=F(9591);function z(ce,ue){var oe=ue,j=[];return ce.definitions.forEach(function(ne){if("OperationDefinition"===ne.kind)throw __DEV__?new b.ej("Found a ".concat(ne.operation," operation").concat(ne.name?" named '".concat(ne.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new b.ej(41);"FragmentDefinition"===ne.kind&&j.push(ne)}),void 0===oe&&(__DEV__?(0,b.kG)(1===j.length,"Found ".concat(j.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):(0,b.kG)(1===j.length,42),oe=j[0].name.value),(0,A.pi)((0,A.pi)({},ce),{definitions:(0,A.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:oe}}]}}],ce.definitions,!0)})}function de(ce){void 0===ce&&(ce=[]);var ue={};return ce.forEach(function(oe){ue[oe.name.value]=oe}),ue}function ee(ce,ue){switch(ce.kind){case"InlineFragment":return ce;case"FragmentSpread":var oe=ue&&ue[ce.name.value];return __DEV__?(0,b.kG)(oe,"No fragment named ".concat(ce.name.value,".")):(0,b.kG)(oe,43),oe;default:return null}}},1144:(ct,Le,F)=>{"use strict";F.d(Le,{A$:()=>z,$H:()=>de,rY:()=>ee,kU:()=>ce,iW:()=>ue,pD:()=>oe,p$:()=>j,O4:()=>W});var A=F(9591),b=F(9737);function z(ne){__DEV__?(0,A.kG)(ne&&"Document"===ne.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,A.kG)(ne&&"Document"===ne.kind,44);var G=ne.definitions.filter(function(le){return"FragmentDefinition"!==le.kind}).map(function(le){if("OperationDefinition"!==le.kind)throw __DEV__?new A.ej('Schema type definitions not allowed in queries. Found: "'.concat(le.kind,'"')):new A.ej(45);return le});return __DEV__?(0,A.kG)(G.length<=1,"Ambiguous GraphQL document: contains ".concat(G.length," operations")):(0,A.kG)(G.length<=1,46),ne}function de(ne){return z(ne),ne.definitions.filter(function(G){return"OperationDefinition"===G.kind})[0]}function ee(ne){return ne.definitions.filter(function(G){return"OperationDefinition"===G.kind&&G.name}).map(function(G){return G.name.value})[0]||null}function ce(ne){return ne.definitions.filter(function(G){return"FragmentDefinition"===G.kind})}function ue(ne){var G=de(ne);return __DEV__?(0,A.kG)(G&&"query"===G.operation,"Must contain a query definition."):(0,A.kG)(G&&"query"===G.operation,47),G}function oe(ne){__DEV__?(0,A.kG)("Document"===ne.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,A.kG)("Document"===ne.kind,48),__DEV__?(0,A.kG)(ne.definitions.length<=1,"Fragment must have exactly one definition."):(0,A.kG)(ne.definitions.length<=1,49);var G=ne.definitions[0];return __DEV__?(0,A.kG)("FragmentDefinition"===G.kind,"Must be a fragment definition."):(0,A.kG)("FragmentDefinition"===G.kind,50),G}function j(ne){z(ne);for(var G,le=0,Ce=ne.definitions;le<Ce.length;le++){var ae=Ce[le];if("OperationDefinition"===ae.kind){var _e=ae.operation;if("query"===_e||"mutation"===_e||"subscription"===_e)return ae}"FragmentDefinition"===ae.kind&&!G&&(G=ae)}if(G)return G;throw __DEV__?new A.ej("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new A.ej(51)}function W(ne){var G=Object.create(null),le=ne&&ne.variableDefinitions;return le&&le.length&&le.forEach(function(Ce){Ce.defaultValue&&(0,b.vb)(G,Ce.variable.name,Ce.defaultValue)}),G}},9737:(ct,Le,F)=>{"use strict";F.d(Le,{kQ:()=>de,Yk:()=>ee,JW:()=>ce,vb:()=>_e,vf:()=>Pe,PT:()=>Ae,NC:()=>Ke,u2:()=>Mt,qw:()=>dt,My:()=>Ye,Ao:()=>Y});var A=F(9591),b=F(9231),z=F(1598);function de(B){return{__ref:String(B)}}function ee(B){return Boolean(B&&"object"==typeof B&&"string"==typeof B.__ref)}function ce(B){return(0,b.s)(B)&&"Document"===B.kind&&Array.isArray(B.definitions)}function _e(B,re,pe,xe){if(function(B){return"IntValue"===B.kind}(pe)||function(B){return"FloatValue"===B.kind}(pe))B[re.value]=Number(pe.value);else if(function(B){return"BooleanValue"===B.kind}(pe)||function(B){return"StringValue"===B.kind}(pe))B[re.value]=pe.value;else if(function(B){return"ObjectValue"===B.kind}(pe)){var Fe={};pe.fields.map(function(Je){return _e(Fe,Je.name,Je.value,xe)}),B[re.value]=Fe}else if(function(B){return"Variable"===B.kind}(pe))B[re.value]=(xe||{})[pe.name.value];else if(function(B){return"ListValue"===B.kind}(pe))B[re.value]=pe.values.map(function(Je){var ft={};return _e(ft,re,Je,xe),ft[re.value]});else if(function(B){return"EnumValue"===B.kind}(pe))B[re.value]=pe.value;else{if(!function(B){return"NullValue"===B.kind}(pe))throw __DEV__?new A.ej('The inline argument "'.concat(re.value,'" of kind "').concat(pe.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new A.ej(52);B[re.value]=null}}function Pe(B,re){var pe=null;B.directives&&(pe={},B.directives.forEach(function(Fe){pe[Fe.name.value]={},Fe.arguments&&Fe.arguments.forEach(function(Re){return _e(pe[Fe.name.value],Re.name,Re.value,re)})}));var xe=null;return B.arguments&&B.arguments.length&&(xe={},B.arguments.forEach(function(Fe){return _e(xe,Fe.name,Fe.value,re)})),Ae(B.name.value,xe,pe)}var De=["connection","include","skip","client","rest","export"],Ae=Object.assign(function(B,re,pe){if(re&&pe&&pe.connection&&pe.connection.key){if(pe.connection.filter&&pe.connection.filter.length>0){var xe=pe.connection.filter?pe.connection.filter:[];xe.sort();var Fe={};return xe.forEach(function(ft){Fe[ft]=re[ft]}),"".concat(pe.connection.key,"(").concat(ge(Fe),")")}return pe.connection.key}var Re=B;if(re){var Je=ge(re);Re+="(".concat(Je,")")}return pe&&Object.keys(pe).forEach(function(ft){-1===De.indexOf(ft)&&(pe[ft]&&Object.keys(pe[ft]).length?Re+="@".concat(ft,"(").concat(ge(pe[ft]),")"):Re+="@".concat(ft))}),Re},{setStringify:function(B){var re=ge;return ge=B,re}}),ge=function(re){return JSON.stringify(re,je)};function je(B,re){return(0,b.s)(re)&&!Array.isArray(re)&&(re=Object.keys(re).sort().reduce(function(pe,xe){return pe[xe]=re[xe],pe},{})),re}function Ke(B,re){if(B.arguments&&B.arguments.length){var pe={};return B.arguments.forEach(function(xe){return _e(pe,xe.name,xe.value,re)}),pe}return null}function Mt(B){return B.alias?B.alias.value:B.name.value}function dt(B,re,pe){if("string"==typeof B.__typename)return B.__typename;for(var xe=0,Fe=re.selections;xe<Fe.length;xe++){var Re=Fe[xe];if(Ye(Re)){if("__typename"===Re.name.value)return B[Mt(Re)]}else{var Je=dt(B,(0,z.hi)(Re,pe).selectionSet,pe);if("string"==typeof Je)return Je}}}function Ye(B){return"Field"===B.kind}function Y(B){return"InlineFragment"===B.kind}},7125:(ct,Le,F)=>{"use strict";F.d(Le,{Gw:()=>le,aL:()=>Ke,ob:()=>Mt,Fo:()=>ae});var A=F(4762),b=F(9591),z=F(1335),de=F(1144);function ee(dt,Ye,Y){var B=0;return dt.forEach(function(re,pe){Ye.call(this,re,pe,dt)&&(dt[B++]=re)},Y),dt.length=B,dt}var ce=F(9737),ue=F(1598),oe={kind:"Field",name:{kind:"Name",value:"__typename"}};function j(dt,Ye){return dt.selectionSet.selections.every(function(Y){return"FragmentSpread"===Y.kind&&j(Ye[Y.name.value],Ye)})}function W(dt){return j((0,de.$H)(dt)||(0,de.pD)(dt),(0,ue.F)((0,de.kU)(dt)))?null:dt}function ne(dt){return function(Y){return dt.some(function(B){return B.name&&B.name===Y.name.value||B.test&&B.test(Y)})}}function G(dt,Ye){var Y=Object.create(null),B=[],re=Object.create(null),pe=[],xe=W((0,z.Vn)(Ye,{Variable:{enter:function(Fe,Re,Je){"VariableDefinition"!==Je.kind&&(Y[Fe.name.value]=!0)}},Field:{enter:function(Fe){if(dt&&Fe.directives&&dt.some(function(Je){return Je.remove})&&Fe.directives&&Fe.directives.some(ne(dt)))return Fe.arguments&&Fe.arguments.forEach(function(Je){"Variable"===Je.value.kind&&B.push({name:Je.value.name.value})}),Fe.selectionSet&&je(Fe.selectionSet).forEach(function(Je){pe.push({name:Je.name.value})}),null}},FragmentSpread:{enter:function(Fe){re[Fe.name.value]=!0}},Directive:{enter:function(Fe){if(ne(dt)(Fe))return null}}}));return xe&&ee(B,function(Fe){return!!Fe.name&&!Y[Fe.name]}).length&&(xe=function(dt,Ye){var Y=function(dt){return function(Y){return dt.some(function(B){return Y.value&&"Variable"===Y.value.kind&&Y.value.name&&(B.name===Y.value.name.value||B.test&&B.test(Y))})}}(dt);return W((0,z.Vn)(Ye,{OperationDefinition:{enter:function(B){return(0,A.pi)((0,A.pi)({},B),{variableDefinitions:B.variableDefinitions?B.variableDefinitions.filter(function(re){return!dt.some(function(pe){return pe.name===re.variable.name.value})}):[]})}},Field:{enter:function(B){if(dt.some(function(xe){return xe.remove})){var pe=0;if(B.arguments&&B.arguments.forEach(function(xe){Y(xe)&&(pe+=1)}),1===pe)return null}}},Argument:{enter:function(B){if(Y(B))return null}}}))}(B,xe)),xe&&ee(pe,function(Fe){return!!Fe.name&&!re[Fe.name]}).length&&(xe=function(dt,Ye){function Y(B){if(dt.some(function(re){return re.name===B.name.value}))return null}return W((0,z.Vn)(Ye,{FragmentSpread:{enter:Y},FragmentDefinition:{enter:Y}}))}(pe,xe)),xe}var le=Object.assign(function(dt){return(0,z.Vn)((0,de.A$)(dt),{SelectionSet:{enter:function(Ye,Y,B){if(!B||"OperationDefinition"!==B.kind){var re=Ye.selections;if(re&&!re.some(function(Fe){return(0,ce.My)(Fe)&&("__typename"===Fe.name.value||0===Fe.name.value.lastIndexOf("__",0))})){var xe=B;if(!((0,ce.My)(xe)&&xe.directives&&xe.directives.some(function(Fe){return"export"===Fe.name.value})))return(0,A.pi)((0,A.pi)({},Ye),{selections:(0,A.ev)((0,A.ev)([],re,!0),[oe],!1)})}}}}})},{added:function(dt){return dt===oe}}),Ce={test:function(dt){var Ye="connection"===dt.name.value;return Ye&&(!dt.arguments||!dt.arguments.some(function(Y){return"key"===Y.name.value}))&&__DEV__&&b.kG.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),Ye}};function ae(dt){return G([Ce],(0,de.A$)(dt))}function je(dt){var Ye=[];return dt.selections.forEach(function(Y){((0,ce.My)(Y)||(0,ce.Ao)(Y))&&Y.selectionSet?je(Y.selectionSet).forEach(function(B){return Ye.push(B)}):"FragmentSpread"===Y.kind&&Ye.push(Y)}),Ye}function Ke(dt){return"query"===(0,de.p$)(dt).operation?dt:(0,z.Vn)(dt,{OperationDefinition:{enter:function(re){return(0,A.pi)((0,A.pi)({},re),{operation:"query"})}}})}function Mt(dt){(0,de.A$)(dt);var Ye=G([{test:function(Y){return"client"===Y.name.value},remove:!0}],dt);return Ye&&(Ye=(0,z.Vn)(Ye,{FragmentDefinition:{enter:function(Y){if(Y.selectionSet&&Y.selectionSet.selections.every(function(re){return(0,ce.My)(re)&&"__typename"===re.name.value}))return null}}})),Ye}},4854:(ct,Le,F)=>{"use strict";function z(Ye,Y){(null==Y||Y>Ye.length)&&(Y=Ye.length);for(var B=0,re=new Array(Y);B<Y;B++)re[B]=Ye[B];return re}function de(Ye,Y){for(var B=0;B<Y.length;B++){var re=Y[B];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Ye,re.key,re)}}function ee(Ye,Y,B){return Y&&de(Ye.prototype,Y),B&&de(Ye,B),Ye}F.d(Le,{y:()=>dt});var ce=function(){return"function"==typeof Symbol},ue=function(Ye){return ce()&&Boolean(Symbol[Ye])},oe=function(Ye){return ue(Ye)?Symbol[Ye]:"@@"+Ye};ce()&&!ue("observable")&&(Symbol.observable=Symbol("observable"));var j=oe("iterator"),W=oe("observable"),ne=oe("species");function G(Ye,Y){var B=Ye[Y];if(null!=B){if("function"!=typeof B)throw new TypeError(B+" is not a function");return B}}function le(Ye){var Y=Ye.constructor;return void 0!==Y&&null===(Y=Y[ne])&&(Y=void 0),void 0!==Y?Y:dt}function ae(Ye){ae.log?ae.log(Ye):setTimeout(function(){throw Ye})}function _e(Ye){Promise.resolve().then(function(){try{Ye()}catch(Y){ae(Y)}})}function Pe(Ye){var Y=Ye._cleanup;if(void 0!==Y&&(Ye._cleanup=void 0,Y))try{if("function"==typeof Y)Y();else{var B=G(Y,"unsubscribe");B&&B.call(Y)}}catch(re){ae(re)}}function De(Ye){Ye._observer=void 0,Ye._queue=void 0,Ye._state="closed"}function ge(Ye,Y,B){Ye._state="running";var re=Ye._observer;try{var pe=G(re,Y);switch(Y){case"next":pe&&pe.call(re,B);break;case"error":if(De(Ye),!pe)throw B;pe.call(re,B);break;case"complete":De(Ye),pe&&pe.call(re)}}catch(xe){ae(xe)}"closed"===Ye._state?Pe(Ye):"running"===Ye._state&&(Ye._state="ready")}function je(Ye,Y,B){if("closed"!==Ye._state){if("buffering"===Ye._state)return void Ye._queue.push({type:Y,value:B});if("ready"!==Ye._state)return Ye._state="buffering",Ye._queue=[{type:Y,value:B}],void _e(function(){return function(Ye){var Y=Ye._queue;if(Y){Ye._queue=void 0,Ye._state="ready";for(var B=0;B<Y.length&&(ge(Ye,Y[B].type,Y[B].value),"closed"!==Ye._state);++B);}}(Ye)});ge(Ye,Y,B)}}var Ke=function(){function Ye(B,re){this._cleanup=void 0,this._observer=B,this._queue=void 0,this._state="initializing";var pe=new Mt(this);try{this._cleanup=re.call(void 0,pe)}catch(xe){pe.error(xe)}"initializing"===this._state&&(this._state="ready")}return Ye.prototype.unsubscribe=function(){"closed"!==this._state&&(De(this),Pe(this))},ee(Ye,[{key:"closed",get:function(){return"closed"===this._state}}]),Ye}(),Mt=function(){function Ye(B){this._subscription=B}var Y=Ye.prototype;return Y.next=function(re){je(this._subscription,"next",re)},Y.error=function(re){je(this._subscription,"error",re)},Y.complete=function(){je(this._subscription,"complete")},ee(Ye,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),Ye}(),dt=function(){function Ye(B){if(!(this instanceof Ye))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof B)throw new TypeError("Observable initializer must be a function");this._subscriber=B}var Y=Ye.prototype;return Y.subscribe=function(re){return("object"!=typeof re||null===re)&&(re={next:re,error:arguments[1],complete:arguments[2]}),new Ke(re,this._subscriber)},Y.forEach=function(re){var pe=this;return new Promise(function(xe,Fe){if("function"==typeof re)var Je=pe.subscribe({next:function(ft){try{re(ft,Re)}catch(vt){Fe(vt),Je.unsubscribe()}},error:Fe,complete:xe});else Fe(new TypeError(re+" is not a function"));function Re(){Je.unsubscribe(),xe()}})},Y.map=function(re){var pe=this;if("function"!=typeof re)throw new TypeError(re+" is not a function");return new(le(this))(function(Fe){return pe.subscribe({next:function(Re){try{Re=re(Re)}catch(Je){return Fe.error(Je)}Fe.next(Re)},error:function(Re){Fe.error(Re)},complete:function(){Fe.complete()}})})},Y.filter=function(re){var pe=this;if("function"!=typeof re)throw new TypeError(re+" is not a function");return new(le(this))(function(Fe){return pe.subscribe({next:function(Re){try{if(!re(Re))return}catch(Je){return Fe.error(Je)}Fe.next(Re)},error:function(Re){Fe.error(Re)},complete:function(){Fe.complete()}})})},Y.reduce=function(re){var pe=this;if("function"!=typeof re)throw new TypeError(re+" is not a function");var xe=le(this),Fe=arguments.length>1,Re=!1,Je=arguments[1],ft=Je;return new xe(function(vt){return pe.subscribe({next:function(lt){var He=!Re;if(Re=!0,!He||Fe)try{ft=re(ft,lt)}catch(nt){return vt.error(nt)}else ft=lt},error:function(lt){vt.error(lt)},complete:function(){if(!Re&&!Fe)return vt.error(new TypeError("Cannot reduce an empty sequence"));vt.next(ft),vt.complete()}})})},Y.concat=function(){for(var re=this,pe=arguments.length,xe=new Array(pe),Fe=0;Fe<pe;Fe++)xe[Fe]=arguments[Fe];var Re=le(this);return new Re(function(Je){var ft,vt=0;return function lt(He){ft=He.subscribe({next:function(nt){Je.next(nt)},error:function(nt){Je.error(nt)},complete:function(){vt===xe.length?(ft=void 0,Je.complete()):lt(Re.from(xe[vt++]))}})}(re),function(){ft&&(ft.unsubscribe(),ft=void 0)}})},Y.flatMap=function(re){var pe=this;if("function"!=typeof re)throw new TypeError(re+" is not a function");var xe=le(this);return new xe(function(Fe){var Re=[],Je=pe.subscribe({next:function(vt){if(re)try{vt=re(vt)}catch(He){return Fe.error(He)}var lt=xe.from(vt).subscribe({next:function(He){Fe.next(He)},error:function(He){Fe.error(He)},complete:function(){var He=Re.indexOf(lt);He>=0&&Re.splice(He,1),ft()}});Re.push(lt)},error:function(vt){Fe.error(vt)},complete:function(){ft()}});function ft(){Je.closed&&0===Re.length&&Fe.complete()}return function(){Re.forEach(function(vt){return vt.unsubscribe()}),Je.unsubscribe()}})},Y[W]=function(){return this},Ye.from=function(re){var pe="function"==typeof this?this:Ye;if(null==re)throw new TypeError(re+" is not an object");var xe=G(re,W);if(xe){var Fe=xe.call(re);if(Object(Fe)!==Fe)throw new TypeError(Fe+" is not an object");return function(Ye){return Ye instanceof dt}(Fe)&&Fe.constructor===pe?Fe:new pe(function(Re){return Fe.subscribe(Re)})}if(ue("iterator")&&(xe=G(re,j)))return new pe(function(Re){_e(function(){if(!Re.closed){for(var ft,Je=function(Ye,Y){var B="undefined"!=typeof Symbol&&Ye[Symbol.iterator]||Ye["@@iterator"];if(B)return(B=B.call(Ye)).next.bind(B);if(Array.isArray(Ye)||(B=function(Ye,Y){if(Ye){if("string"==typeof Ye)return z(Ye,Y);var B=Object.prototype.toString.call(Ye).slice(8,-1);if("Object"===B&&Ye.constructor&&(B=Ye.constructor.name),"Map"===B||"Set"===B)return Array.from(Ye);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return z(Ye,Y)}}(Ye))||Y&&Ye&&"number"==typeof Ye.length){B&&(Ye=B);var re=0;return function(){return re>=Ye.length?{done:!0}:{done:!1,value:Ye[re++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(xe.call(re));!(ft=Je()).done;)if(Re.next(ft.value),Re.closed)return;Re.complete()}})});if(Array.isArray(re))return new pe(function(Re){_e(function(){if(!Re.closed){for(var Je=0;Je<re.length;++Je)if(Re.next(re[Je]),Re.closed)return;Re.complete()}})});throw new TypeError(re+" is not observable")},Ye.of=function(){for(var re=arguments.length,pe=new Array(re),xe=0;xe<re;xe++)pe[xe]=arguments[xe];var Fe="function"==typeof this?this:Ye;return new Fe(function(Re){_e(function(){if(!Re.closed){for(var Je=0;Je<pe.length;++Je)if(Re.next(pe[Je]),Re.closed)return;Re.complete()}})})},ee(Ye,null,[{key:ne,get:function(){return this}}]),Ye}();ce()&&Object.defineProperty(dt,Symbol("extensions"),{value:{symbol:W,hostReportError:ae},configurable:!0})},6465:(ct,Le,F)=>{"use strict";F.d(Le,{zu:()=>hl,_M:()=>jo,VG:()=>Yi,Ps:()=>q});var A=F(8720),b=(()=>{return(C=b||(b={}))[C.loading=1]="loading",C[C.setVariables=2]="setVariables",C[C.fetchMore=3]="fetchMore",C[C.refetch=4]="refetch",C[C.poll=6]="poll",C[C.ready=7]="ready",C[C.error=8]="error",b;var C})();function z(C){return!!C&&C<7}var de=F(4762),ee=F(9591),ce=F(884),ue=ce.i.execute,oe=F(4155),W=F(1335),ne=F(4854),G=function(C,y){var w;try{w=JSON.stringify(C)}catch(Z){var V=__DEV__?new ee.ej("Network request failed. ".concat(y," is not serializable: ").concat(Z.message)):new ee.ej(21);throw V.parseError=Z,V}return w},Ce=function(C,y,w){var V=new Error(w);throw V.name="ServerError",V.response=C,V.statusCode=C.status,V.result=y,V},ae=Object.prototype.hasOwnProperty,De=F(6339),Ke={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Mt=function(C,y){return y(C)};function Y(C){if(C){var y=Object.create(null);return Object.keys(Object(C)).forEach(function(w){y[w.toLowerCase()]=C[w]}),y}return C}function pe(C){return new ne.y(function(y){y.error(C)})}var xe=(0,ee.wY)(function(){return fetch}),Fe=function(C){void 0===C&&(C={});var y=C.uri,w=void 0===y?"/graphql":y,V=C.fetch,Z=C.print,be=void 0===Z?Mt:Z,We=C.includeExtensions,ot=C.useGETForQueries,rt=C.includeUnusedVariables,ut=void 0!==rt&&rt,Ot=(0,de._T)(C,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(C){if(!C&&"undefined"==typeof fetch)throw __DEV__?new ee.ej("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new ee.ej(20)}(V||xe);var St={http:{includeExtensions:We},options:Ot.fetchOptions,credentials:Ot.credentials,headers:Ot.headers};return new ce.i(function(It){var zt=function(C,y){return C.getContext().uri||("function"==typeof y?y(C):y||"/graphql")}(It,w),Gt=It.getContext(),Wt={};if(Gt.clientAwareness){var en=Gt.clientAwareness,un=en.name,Wn=en.version;un&&(Wt["apollographql-client-name"]=un),Wn&&(Wt["apollographql-client-version"]=Wn)}var vi,ur=(0,de.pi)((0,de.pi)({},Wt),Gt.headers),ui=function(C,y){for(var w=[],V=2;V<arguments.length;V++)w[V-2]=arguments[V];var Z={},be={};w.forEach(function(St){Z=(0,de.pi)((0,de.pi)((0,de.pi)({},Z),St.options),{headers:(0,de.pi)((0,de.pi)({},Z.headers),Y(St.headers))}),St.credentials&&(Z.credentials=St.credentials),be=(0,de.pi)((0,de.pi)({},be),St.http)});var ot=C.extensions,ut=C.query,Ot={operationName:C.operationName,variables:C.variables};return be.includeExtensions&&(Ot.extensions=ot),be.includeQuery&&(Ot.query=y(ut,De.S)),{options:Z,body:Ot}}(It,be,Ke,St,{http:Gt.http,options:Gt.fetchOptions,credentials:Gt.credentials,headers:ur}),Ur=ui.options,Ai=ui.body;if(Ai.variables&&!ut){var vr=new Set(Object.keys(Ai.variables));(0,W.Vn)(It.query,{Variable:function(Xr,Zr,ci){ci&&"VariableDefinition"!==ci.kind&&vr.delete(Xr.name.value)}}),vr.size&&(Ai.variables=(0,de.pi)({},Ai.variables),vr.forEach(function(Xr){delete Ai.variables[Xr]}))}if(!Ur.signal){var Fi=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var C=new AbortController;return{controller:C,signal:C.signal}}();(vi=Fi.controller)&&(Ur.signal=Fi.signal)}if(ot&&!It.query.definitions.some(function(Xr){return"OperationDefinition"===Xr.kind&&"mutation"===Xr.operation})&&(Ur.method="GET"),"GET"===Ur.method){var kn=function(C,y){var w=[],V=function(St,It){w.push("".concat(St,"=").concat(encodeURIComponent(It)))};if("query"in y&&V("query",y.query),y.operationName&&V("operationName",y.operationName),y.variables){var Z=void 0;try{Z=G(y.variables,"Variables map")}catch(St){return{parseError:St}}V("variables",Z)}if(y.extensions){var be=void 0;try{be=G(y.extensions,"Extensions map")}catch(St){return{parseError:St}}V("extensions",be)}var We="",ot=C,rt=C.indexOf("#");-1!==rt&&(We=C.substr(rt),ot=C.substr(0,rt));var ut=-1===ot.indexOf("?")?"?":"&";return{newURI:ot+ut+w.join("&")+We}}(zt,Ai),Ar=kn.newURI,Ga=kn.parseError;if(Ga)return pe(Ga);zt=Ar}else try{Ur.body=G(Ai,"Payload")}catch(Xr){return pe(Xr)}return new ne.y(function(Xr){return(V||(0,ee.wY)(function(){return fetch})||xe)(zt,Ur).then(function(ci){return It.setContext({response:ci}),ci}).then(function(C){return function(y){return y.text().then(function(w){try{return JSON.parse(w)}catch(Z){var V=Z;throw V.name="ServerParseError",V.response=y,V.statusCode=y.status,V.bodyText=w,V}}).then(function(w){return y.status>=300&&Ce(y,w,"Response not successful: Received status code ".concat(y.status)),!Array.isArray(w)&&!ae.call(w,"data")&&!ae.call(w,"errors")&&Ce(y,w,"Server response was missing for query '".concat(Array.isArray(C)?C.map(function(V){return V.operationName}):C.operationName,"'.")),w})}}(It)).then(function(ci){return Xr.next(ci),Xr.complete(),ci}).catch(function(ci){"AbortError"!==ci.name&&(ci.result&&ci.result.errors&&ci.result.data&&Xr.next(ci.result),Xr.error(ci))}),function(){vi&&vi.abort()}})})},Re=function(C){function y(w){void 0===w&&(w={});var V=C.call(this,Fe(w).request)||this;return V.options=w,V}return(0,de.ZT)(y,C),y}(ce.i),Je=F(1913),ft=F(7149),vt=F(7289);function lt(C,y,w){return new ne.y(function(V){var Z=V.next,be=V.error,We=V.complete,ot=0,rt=!1,ut={then:function(zt){return new Promise(function(Gt){return Gt(zt())})}};function Ot(zt,Gt){return zt?function(Wt){++ot;var en=function(){return zt(Wt)};ut=ut.then(en,en).then(function(un){--ot,Z&&Z.call(V,un),rt&&St.complete()},function(un){throw--ot,un}).catch(function(un){be&&be.call(V,un)})}:function(Wt){return Gt&&Gt.call(V,Wt)}}var St={next:Ot(y,Z),error:Ot(w,be),complete:function(){rt=!0,ot||We&&We.call(V)}},It=C.subscribe(St);return function(){return It.unsubscribe()}})}function He(C){return C.errors&&C.errors.length>0||!1}var nt=F(1144),ht=F(7125),jt=F(443),Rt=F(9737),Qt=F(9231),Un=F(5801);function Sn(C,y,w){var V=[];C.forEach(function(Z){return Z[y]&&V.push(Z)}),V.forEach(function(Z){return Z[y](w)})}function fn(C){function y(w){Object.defineProperty(C,w,{value:ne.y})}return vt.aS&&Symbol.species&&y(Symbol.species),y("@@species"),C}function Mn(C){return C&&"function"==typeof C.then}var Rn=function(C){function y(w){var V=C.call(this,function(Z){return V.addObserver(Z),function(){return V.removeObserver(Z)}})||this;return V.observers=new Set,V.addCount=0,V.promise=new Promise(function(Z,be){V.resolve=Z,V.reject=be}),V.handlers={next:function(Z){null!==V.sub&&(V.latest=["next",Z],Sn(V.observers,"next",Z))},error:function(Z){var be=V.sub;null!==be&&(be&&setTimeout(function(){return be.unsubscribe()}),V.sub=null,V.latest=["error",Z],V.reject(Z),Sn(V.observers,"error",Z))},complete:function(){if(null!==V.sub){var Z=V.sources.shift();Z?Mn(Z)?Z.then(function(be){return V.sub=be.subscribe(V.handlers)}):V.sub=Z.subscribe(V.handlers):(V.sub=null,V.latest&&"next"===V.latest[0]?V.resolve(V.latest[1]):V.resolve(),Sn(V.observers,"complete"))}}},V.cancel=function(Z){V.reject(Z),V.sources=[],V.handlers.complete()},V.promise.catch(function(Z){}),"function"==typeof w&&(w=[new ne.y(w)]),Mn(w)?w.then(function(Z){return V.start(Z)},V.handlers.error):V.start(w),V}return(0,de.ZT)(y,C),y.prototype.start=function(w){void 0===this.sub&&(this.sources=Array.from(w),this.handlers.complete())},y.prototype.deliverLastMessage=function(w){if(this.latest){var V=this.latest[0],Z=w[V];Z&&Z.call(w,this.latest[1]),null===this.sub&&"next"===V&&w.complete&&w.complete()}},y.prototype.addObserver=function(w){this.observers.has(w)||(this.deliverLastMessage(w),this.observers.add(w),++this.addCount)},y.prototype.removeObserver=function(w,V){this.observers.delete(w)&&--this.addCount<1&&!V&&this.handlers.error(new Error("Observable cancelled prematurely"))},y.prototype.cleanup=function(w){var V=this,Z=!1,be=function(){Z||(Z=!0,V.observers.delete(We),w())},We={next:be,error:be,complete:be},ot=this.addCount;this.addObserver(We),this.addCount=ot},y}(ne.y);fn(Rn);var Sr=F(8779),qr=function(C){function y(w){var V=w.graphQLErrors,Z=w.clientErrors,be=w.networkError,We=w.errorMessage,ot=w.extraInfo,rt=C.call(this,We)||this;return rt.graphQLErrors=V||[],rt.clientErrors=Z||[],rt.networkError=be||null,rt.message=We||function(C){var y="";return((0,Sr.O)(C.graphQLErrors)||(0,Sr.O)(C.clientErrors))&&(C.graphQLErrors||[]).concat(C.clientErrors||[]).forEach(function(V){y+="".concat(V?V.message:"Error message not found.","\n")}),C.networkError&&(y+="".concat(C.networkError.message,"\n")),y=y.replace(/\n$/,"")}(rt),rt.extraInfo=ot,rt.__proto__=y.prototype,rt}return(0,de.ZT)(y,C),y}(Error),rr=F(3107),wi=Object.assign,Nr=Object.hasOwnProperty,qn=!1,Wi=function(C){function y(w){var V=w.queryManager,Z=w.queryInfo,be=w.options,We=C.call(this,function(rt){try{var ut=rt._subscription._observer;ut&&!ut.error&&(ut.error=an)}catch(It){}var Ot=!We.observers.size;We.observers.add(rt);var St=We.last;return St&&St.error?rt.error&&rt.error(St.error):St&&St.result&&rt.next&&rt.next(St.result),Ot&&We.reobserve().catch(function(){}),function(){We.observers.delete(rt)&&!We.observers.size&&We.tearDownQuery()}})||this;We.observers=new Set,We.subscriptions=new Set,We.isTornDown=!1,We.options=be,We.queryId=Z.queryId||V.generateQueryId();var ot=(0,nt.$H)(be.query);return We.queryName=ot&&ot.name&&ot.name.value,We.initialFetchPolicy=be.fetchPolicy||"cache-first",We.queryManager=V,We.queryInfo=Z,We}return(0,de.ZT)(y,C),Object.defineProperty(y.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),y.prototype.result=function(){var w=this;return new Promise(function(V,Z){var be={next:function(ot){V(ot),w.observers.delete(be),w.observers.size||w.queryManager.removeQuery(w.queryId),setTimeout(function(){We.unsubscribe()},0)},error:Z},We=w.subscribe(be)})},y.prototype.getCurrentResult=function(w){void 0===w&&(w=!0);var V=this.getLastResult(!0),Z=this.queryInfo.networkStatus||V&&V.networkStatus||b.ready,be=(0,de.pi)((0,de.pi)({},V),{loading:z(Z),networkStatus:Z}),We=this.options.fetchPolicy,ot=void 0===We?"cache-first":We;if("network-only"!==ot&&"no-cache"!==ot&&"standby"!==ot&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var rt=this.queryInfo.getDiff();(rt.complete||this.options.returnPartialData)&&(be.data=rt.result),(0,Je.D)(be.data,{})&&(be.data=void 0),rt.complete?(delete be.partial,rt.complete&&be.networkStatus===b.loading&&("cache-first"===ot||"cache-only"===ot)&&(be.networkStatus=b.ready,be.loading=!1)):be.partial=!0,__DEV__&&!rt.complete&&!this.options.partialRefetch&&!be.loading&&!be.data&&!be.error&&Hn(rt.missing)}return w&&this.updateLastResult(be),be},y.prototype.isDifferentFromLastResult=function(w){return!this.last||!(0,Je.D)(this.last.result,w)},y.prototype.getLast=function(w,V){var Z=this.last;if(Z&&Z[w]&&(!V||(0,Je.D)(Z.variables,this.variables)))return Z[w]},y.prototype.getLastResult=function(w){return this.getLast("result",w)},y.prototype.getLastError=function(w){return this.getLast("error",w)},y.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},y.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},y.prototype.refetch=function(w){var V,Z={pollInterval:0},be=this.options.fetchPolicy;if(Z.fetchPolicy="cache-and-network"===be?be:"no-cache"===be?"no-cache":"network-only",__DEV__&&w&&Nr.call(w,"variables")){var We=(0,nt.iW)(this.options.query),ot=We.variableDefinitions;(!ot||!ot.some(function(rt){return"variables"===rt.variable.name.value}))&&__DEV__&&ee.kG.warn("Called refetch(".concat(JSON.stringify(w),") for query ").concat((null===(V=We.name)||void 0===V?void 0:V.value)||JSON.stringify(We),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return w&&!(0,Je.D)(this.options.variables,w)&&(Z.variables=this.options.variables=(0,de.pi)((0,de.pi)({},this.options.variables),w)),this.queryInfo.resetLastWrite(),this.reobserve(Z,b.refetch)},y.prototype.fetchMore=function(w){var V=this,Z=(0,de.pi)((0,de.pi)({},w.query?w:(0,de.pi)((0,de.pi)((0,de.pi)({},this.options),w),{variables:(0,de.pi)((0,de.pi)({},this.options.variables),w.variables)})),{fetchPolicy:"no-cache"}),be=this.queryManager.generateQueryId();return Z.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=b.fetchMore,this.observe()),this.queryManager.fetchQuery(be,Z,b.fetchMore).then(function(We){var ot=We.data,rt=w.updateQuery;return rt?(__DEV__&&!qn&&(__DEV__&&ee.kG.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),qn=!0),V.updateQuery(function(ut){return rt(ut,{fetchMoreResult:ot,variables:Z.variables})})):V.queryManager.cache.writeQuery({query:Z.query,variables:Z.variables,data:ot}),We}).finally(function(){V.queryManager.stopQuery(be),V.reobserve()})},y.prototype.subscribeToMore=function(w){var V=this,Z=this.queryManager.startGraphQLSubscription({query:w.document,variables:w.variables,context:w.context}).subscribe({next:function(be){var We=w.updateQuery;We&&V.updateQuery(function(ot,rt){return We(ot,{subscriptionData:be,variables:rt.variables})})},error:function(be){w.onError?w.onError(be):__DEV__&&ee.kG.error("Unhandled GraphQL subscription error",be)}});return this.subscriptions.add(Z),function(){V.subscriptions.delete(Z)&&Z.unsubscribe()}},y.prototype.setOptions=function(w){return this.reobserve(w)},y.prototype.setVariables=function(w){return(0,Je.D)(this.variables,w)?this.observers.size?this.result():Promise.resolve():(this.options.variables=w,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:w},b.setVariables):Promise.resolve())},y.prototype.updateQuery=function(w){var V=this.queryManager,be=w(V.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});be&&(V.cache.writeQuery({query:this.options.query,data:be,variables:this.variables}),V.broadcastQueries())},y.prototype.startPolling=function(w){this.options.pollInterval=w,this.updatePolling()},y.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},y.prototype.fetch=function(w,V){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,w,V)},y.prototype.updatePolling=function(){var w=this;if(!this.queryManager.ssrMode){var Z=this.pollingInfo,be=this.options.pollInterval;if(!be)return void(Z&&(clearTimeout(Z.timeout),delete this.pollingInfo));if(!Z||Z.interval!==be){__DEV__?(0,ee.kG)(be,"Attempted to start a polling query without a polling interval."):(0,ee.kG)(be,10),(Z||(this.pollingInfo={})).interval=be;var ot=function(){w.pollingInfo&&(z(w.queryInfo.networkStatus)?rt():w.reobserve({fetchPolicy:"network-only"},b.poll).then(rt,rt))},rt=function(){var ut=w.pollingInfo;ut&&(clearTimeout(ut.timeout),ut.timeout=setTimeout(ot,ut.interval))};rt()}}},y.prototype.updateLastResult=function(w,V){return void 0===V&&(V=this.variables),this.last=(0,de.pi)((0,de.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?w:(0,rr.X)(w),variables:V}),(0,Sr.O)(w.errors)||delete this.last.error,this.last},y.prototype.reobserve=function(w,V){var Z=this;this.isTornDown=!1;var be=V===b.refetch||V===b.fetchMore||V===b.poll,We=this.options.variables,ot=be?(0,oe.o)(this.options,w):wi(this.options,(0,oe.o)(w));be||(this.updatePolling(),w&&w.variables&&!w.fetchPolicy&&!(0,Je.D)(w.variables,We)&&(ot.fetchPolicy=this.initialFetchPolicy,void 0===V&&(V=b.setVariables)));var rt=ot.variables&&(0,de.pi)({},ot.variables),ut=this.fetch(ot,V),Ot={next:function(St){Z.reportResult(St,rt)},error:function(St){Z.reportError(St,rt)}};return be||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=ut,this.observer=Ot),ut.addObserver(Ot),ut.promise},y.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},y.prototype.reportResult=function(w,V){var Z=this.getLastError();(Z||this.isDifferentFromLastResult(w))&&((Z||!w.partial||this.options.returnPartialData)&&this.updateLastResult(w,V),Sn(this.observers,"next",w))},y.prototype.reportError=function(w,V){var Z=(0,de.pi)((0,de.pi)({},this.getLastResult()),{error:w,errors:w.graphQLErrors,networkStatus:b.error,loading:!1});this.updateLastResult(Z,V),Sn(this.observers,"error",this.last.error=w)},y.prototype.hasObservers=function(){return this.observers.size>0},y.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(w){return w.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},y}(ne.y);function an(C){__DEV__&&ee.kG.error("Unhandled error",C.message,C.stack)}function Hn(C){__DEV__&&C&&__DEV__&&ee.kG.debug("Missing cache result fields: ".concat(JSON.stringify(C)),C)}fn(Wi);var Mr=F(6216),gr=F(1598),Va=F(4350),Jn=function(){function C(y){var V=y.client,Z=y.resolvers,be=y.fragmentMatcher;this.cache=y.cache,V&&(this.client=V),Z&&this.addResolvers(Z),be&&this.setFragmentMatcher(be)}return C.prototype.addResolvers=function(y){var w=this;this.resolvers=this.resolvers||{},Array.isArray(y)?y.forEach(function(V){w.resolvers=(0,Mr.Ee)(w.resolvers,V)}):this.resolvers=(0,Mr.Ee)(this.resolvers,y)},C.prototype.setResolvers=function(y){this.resolvers={},this.addResolvers(y)},C.prototype.getResolvers=function(){return this.resolvers||{}},C.prototype.runResolvers=function(y){var w=y.document,V=y.remoteResult,Z=y.context,be=y.variables,We=y.onlyRunForcedResolvers,ot=void 0!==We&&We;return(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(rt){return w?[2,this.resolveDocument(w,V.data,Z,be,this.fragmentMatcher,ot).then(function(ut){return(0,de.pi)((0,de.pi)({},V),{data:ut.result})})]:[2,V]})})},C.prototype.setFragmentMatcher=function(y){this.fragmentMatcher=y},C.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},C.prototype.clientQuery=function(y){return(0,jt.FS)(["client"],y)&&this.resolvers?y:null},C.prototype.serverQuery=function(y){return(0,ht.ob)(y)},C.prototype.prepareContext=function(y){var w=this.cache;return(0,de.pi)((0,de.pi)({},y),{cache:w,getCacheKey:function(V){return w.identify(V)}})},C.prototype.addExportedVariables=function(y,w,V){return void 0===w&&(w={}),void 0===V&&(V={}),(0,de.mG)(this,void 0,void 0,function(){return(0,de.Jh)(this,function(Z){return y?[2,this.resolveDocument(y,this.buildRootValueFromCache(y,w)||{},this.prepareContext(V),w).then(function(be){return(0,de.pi)((0,de.pi)({},w),be.exportedVariables)})]:[2,(0,de.pi)({},w)]})})},C.prototype.shouldForceResolvers=function(y){var w=!1;return(0,W.Vn)(y,{Directive:{enter:function(V){if("client"===V.name.value&&V.arguments&&(w=V.arguments.some(function(Z){return"always"===Z.name.value&&"BooleanValue"===Z.value.kind&&!0===Z.value.value})))return W.$_}}}),w},C.prototype.buildRootValueFromCache=function(y,w){return this.cache.diff({query:(0,ht.aL)(y),variables:w,returnPartialData:!0,optimistic:!1}).result},C.prototype.resolveDocument=function(y,w,V,Z,be,We){return void 0===V&&(V={}),void 0===Z&&(Z={}),void 0===be&&(be=function(){return!0}),void 0===We&&(We=!1),(0,de.mG)(this,void 0,void 0,function(){var ot,rt,ut,Ot,St,It,zt,Gt,Wt;return(0,de.Jh)(this,function(en){return ot=(0,nt.p$)(y),rt=(0,nt.kU)(y),ut=(0,gr.F)(rt),St=(Ot=ot.operation)?Ot.charAt(0).toUpperCase()+Ot.slice(1):"Query",zt=(It=this).cache,Gt=It.client,Wt={fragmentMap:ut,context:(0,de.pi)((0,de.pi)({},V),{cache:zt,client:Gt}),variables:Z,fragmentMatcher:be,defaultOperationType:St,exportedVariables:{},onlyRunForcedResolvers:We},[2,this.resolveSelectionSet(ot.selectionSet,w,Wt).then(function(un){return{result:un,exportedVariables:Wt.exportedVariables}})]})})},C.prototype.resolveSelectionSet=function(y,w,V){return(0,de.mG)(this,void 0,void 0,function(){var Z,be,We,ot,ut=this;return(0,de.Jh)(this,function(Ot){return Z=V.fragmentMap,be=V.context,We=V.variables,ot=[w],[2,Promise.all(y.selections.map(function(St){return(0,de.mG)(ut,void 0,void 0,function(){var It;return(0,de.Jh)(this,function(Gt){return(0,jt.LZ)(St,We)?(0,Rt.My)(St)?[2,this.resolveField(St,w,V).then(function(Wt){var en;void 0!==Wt&&ot.push(((en={})[(0,Rt.u2)(St)]=Wt,en))})]:((0,Rt.Ao)(St)?It=St:(It=Z[St.name.value],__DEV__?(0,ee.kG)(It,"No fragment named ".concat(St.name.value)):(0,ee.kG)(It,9)),It&&It.typeCondition&&V.fragmentMatcher(w,It.typeCondition.name.value,be)?[2,this.resolveSelectionSet(It.selectionSet,w,V).then(function(Wt){ot.push(Wt)})]:[2]):[2]})})})).then(function(){return(0,Mr.bw)(ot)})]})})},C.prototype.resolveField=function(y,w,V){return(0,de.mG)(this,void 0,void 0,function(){var Z,be,We,ot,rt,ut,Ot,St,It,zt=this;return(0,de.Jh)(this,function(Gt){return Z=V.variables,be=y.name.value,We=(0,Rt.u2)(y),ot=be!==We,rt=w[We]||w[be],ut=Promise.resolve(rt),(!V.onlyRunForcedResolvers||this.shouldForceResolvers(y))&&(Ot=w.__typename||V.defaultOperationType,(St=this.resolvers&&this.resolvers[Ot])&&(It=St[ot?be:We])&&(ut=Promise.resolve(Va.ab.withValue(this.cache,It,[w,(0,Rt.NC)(y,Z),V.context,{field:y,fragmentMap:V.fragmentMap}])))),[2,ut.then(function(Wt){return void 0===Wt&&(Wt=rt),y.directives&&y.directives.forEach(function(en){"export"===en.name.value&&en.arguments&&en.arguments.forEach(function(un){"as"===un.name.value&&"StringValue"===un.value.kind&&(V.exportedVariables[un.value.value]=Wt)})}),y.selectionSet&&null!=Wt?Array.isArray(Wt)?zt.resolveSubSelectedArray(y,Wt,V):y.selectionSet?zt.resolveSelectionSet(y.selectionSet,Wt,V):void 0:Wt})]})})},C.prototype.resolveSubSelectedArray=function(y,w,V){var Z=this;return Promise.all(w.map(function(be){return null===be?null:Array.isArray(be)?Z.resolveSubSelectedArray(y,be,V):y.selectionSet?Z.resolveSelectionSet(y.selectionSet,be,V):void 0}))},C}(),Kt=new(vt.mr?WeakMap:Map);function yn(C,y){var w=C[y];"function"==typeof w&&(C[y]=function(){return Kt.set(C,(Kt.get(C)+1)%1e15),w.apply(this,arguments)})}function Lo(C){C.notifyTimeout&&(clearTimeout(C.notifyTimeout),C.notifyTimeout=void 0)}var ir=function(){function C(y,w){void 0===w&&(w=y.generateQueryId()),this.queryId=w,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var V=this.cache=y.cache;Kt.has(V)||(Kt.set(V,0),yn(V,"evict"),yn(V,"modify"),yn(V,"reset"))}return C.prototype.init=function(y){var w=y.networkStatus||b.loading;return this.variables&&this.networkStatus!==b.loading&&!(0,Je.D)(this.variables,y.variables)&&(w=b.setVariables),(0,Je.D)(y.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:y.document,variables:y.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:w}),y.observableQuery&&this.setObservableQuery(y.observableQuery),y.lastRequestId&&(this.lastRequestId=y.lastRequestId),this},C.prototype.reset=function(){Lo(this),this.lastDiff=void 0,this.dirty=!1},C.prototype.getDiff=function(y){void 0===y&&(y=this.variables);var w=this.getDiffOptions(y);if(this.lastDiff&&(0,Je.D)(w,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=y);var V=this.observableQuery;if(V&&"no-cache"===V.options.fetchPolicy)return{complete:!1};var Z=this.cache.diff(w);return this.updateLastDiff(Z,w),Z},C.prototype.updateLastDiff=function(y,w){this.lastDiff=y?{diff:y,options:w||this.getDiffOptions()}:void 0},C.prototype.getDiffOptions=function(y){var w;return void 0===y&&(y=this.variables),{query:this.document,variables:y,returnPartialData:!0,optimistic:!0,canonizeResults:null===(w=this.observableQuery)||void 0===w?void 0:w.options.canonizeResults}},C.prototype.setDiff=function(y){var w=this,V=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(y),!this.dirty&&!(0,Je.D)(V&&V.result,y&&y.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return w.notify()},0)))},C.prototype.setObservableQuery=function(y){var w=this;y!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=y,y?(y.queryInfo=this,this.listeners.add(this.oqListener=function(){w.getDiff().fromOptimisticTransaction?y.observe():y.reobserve()})):delete this.oqListener)},C.prototype.notify=function(){var y=this;Lo(this),this.shouldNotify()&&this.listeners.forEach(function(w){return w(y)}),this.dirty=!1},C.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(z(this.networkStatus)&&this.observableQuery){var y=this.observableQuery.options.fetchPolicy;if("cache-only"!==y&&"cache-and-network"!==y)return!1}return!0},C.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=C.prototype.cancel,this.subscriptions.forEach(function(w){return w.unsubscribe()});var y=this.observableQuery;y&&y.stopPolling()}},C.prototype.cancel=function(){},C.prototype.updateWatch=function(y){var w=this;void 0===y&&(y=this.variables);var V=this.observableQuery;if(!V||"no-cache"!==V.options.fetchPolicy){var Z=(0,de.pi)((0,de.pi)({},this.getDiffOptions(y)),{watcher:this,callback:function(be){return w.setDiff(be)}});(!this.lastWatch||!(0,Je.D)(Z,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=Z))}},C.prototype.resetLastWrite=function(){this.lastWrite=void 0},C.prototype.shouldWrite=function(y,w){var V=this.lastWrite;return!(V&&V.dmCount===Kt.get(this.cache)&&(0,Je.D)(w,V.variables)&&(0,Je.D)(y.data,V.result.data))},C.prototype.markResult=function(y,w,V){var Z=this;this.graphQLErrors=(0,Sr.O)(y.errors)?y.errors:[],this.reset(),"no-cache"===w.fetchPolicy?this.updateLastDiff({result:y.data,complete:!0},this.getDiffOptions(w.variables)):0!==V&&(Wr(y,w.errorPolicy)?this.cache.performTransaction(function(be){if(Z.shouldWrite(y,w.variables))be.writeQuery({query:Z.document,data:y.data,variables:w.variables,overwrite:1===V}),Z.lastWrite={result:y,variables:w.variables,dmCount:Kt.get(Z.cache)};else if(Z.lastDiff&&Z.lastDiff.diff.complete)return void(y.data=Z.lastDiff.diff.result);var We=Z.getDiffOptions(w.variables),ot=be.diff(We);Z.stopped||Z.updateWatch(w.variables),Z.updateLastDiff(ot,We),ot.complete&&(y.data=ot.result)}):this.lastWrite=void 0)},C.prototype.markReady=function(){return this.networkError=null,this.networkStatus=b.ready},C.prototype.markError=function(y){return this.networkStatus=b.error,this.lastWrite=void 0,this.reset(),y.graphQLErrors&&(this.graphQLErrors=y.graphQLErrors),y.networkError&&(this.networkError=y.networkError),y},C}();function Wr(C,y){void 0===y&&(y="none");var w="ignore"===y||"all"===y,V=!He(C);return!V&&w&&C.data&&(V=!0),V}var Is=Object.prototype.hasOwnProperty,Si=function(){function C(y){var w=y.cache,V=y.link,Z=y.queryDeduplication,be=void 0!==Z&&Z,We=y.onBroadcast,ot=y.ssrMode,rt=void 0!==ot&&ot,ut=y.clientAwareness,Ot=void 0===ut?{}:ut,St=y.localState,It=y.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(vt.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=w,this.link=V,this.queryDeduplication=be,this.clientAwareness=Ot,this.localState=St||new Jn({cache:w}),this.ssrMode=rt,this.assumeImmutableResults=!!It,(this.onBroadcast=We)&&(this.mutationStore=Object.create(null))}return C.prototype.stop=function(){var y=this;this.queries.forEach(function(w,V){y.stopQueryNoBroadcast(V)}),this.cancelPendingFetches(__DEV__?new ee.ej("QueryManager stopped while query was in flight"):new ee.ej(11))},C.prototype.cancelPendingFetches=function(y){this.fetchCancelFns.forEach(function(w){return w(y)}),this.fetchCancelFns.clear()},C.prototype.mutate=function(y){var w=y.mutation,V=y.variables,Z=y.optimisticResponse,be=y.updateQueries,We=y.refetchQueries,ot=void 0===We?[]:We,rt=y.awaitRefetchQueries,ut=void 0!==rt&&rt,Ot=y.update,St=y.onQueryUpdated,It=y.errorPolicy,zt=void 0===It?"none":It,Gt=y.fetchPolicy,Wt=void 0===Gt?"network-only":Gt,en=y.keepRootFields,un=y.context;return(0,de.mG)(this,void 0,void 0,function(){var Wn,ur,tn;return(0,de.Jh)(this,function(ui){switch(ui.label){case 0:return __DEV__?(0,ee.kG)(w,"mutation option is required. You must specify your GraphQL document in the mutation option."):(0,ee.kG)(w,12),__DEV__?(0,ee.kG)("network-only"===Wt||"no-cache"===Wt,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):(0,ee.kG)("network-only"===Wt||"no-cache"===Wt,13),Wn=this.generateMutationId(),w=this.transform(w).document,V=this.getVariables(w,V),this.transform(w).hasClientExports?[4,this.localState.addExportedVariables(w,V,un)]:[3,2];case 1:V=ui.sent(),ui.label=2;case 2:return ur=this.mutationStore&&(this.mutationStore[Wn]={mutation:w,variables:V,loading:!0,error:null}),Z&&this.markMutationOptimistic(Z,{mutationId:Wn,document:w,variables:V,fetchPolicy:Wt,errorPolicy:zt,context:un,updateQueries:be,update:Ot,keepRootFields:en}),this.broadcastQueries(),tn=this,[2,new Promise(function(Ur,Ai){return lt(tn.getObservableFromLink(w,(0,de.pi)((0,de.pi)({},un),{optimisticResponse:Z}),V,!1),function(vr){if(He(vr)&&"none"===zt)throw new qr({graphQLErrors:vr.errors});ur&&(ur.loading=!1,ur.error=null);var vi=(0,de.pi)({},vr);return"function"==typeof ot&&(ot=ot(vi)),"ignore"===zt&&He(vi)&&delete vi.errors,tn.markMutationResult({mutationId:Wn,result:vi,document:w,variables:V,fetchPolicy:Wt,errorPolicy:zt,context:un,update:Ot,updateQueries:be,awaitRefetchQueries:ut,refetchQueries:ot,removeOptimistic:Z?Wn:void 0,onQueryUpdated:St,keepRootFields:en})}).subscribe({next:function(vr){tn.broadcastQueries(),Ur(vr)},error:function(vr){ur&&(ur.loading=!1,ur.error=vr),Z&&tn.cache.removeOptimistic(Wn),tn.broadcastQueries(),Ai(vr instanceof qr?vr:new qr({networkError:vr}))}})})]}})})},C.prototype.markMutationResult=function(y,w){var V=this;void 0===w&&(w=this.cache);var Z=y.result,be=[],We="no-cache"===y.fetchPolicy;if(!We&&Wr(Z,y.errorPolicy)){be.push({result:Z.data,dataId:"ROOT_MUTATION",query:y.document,variables:y.variables});var ot=y.updateQueries;ot&&this.queries.forEach(function(ut,Ot){var St=ut.observableQuery,It=St&&St.queryName;if(It&&Is.call(ot,It)){var zt=ot[It],Gt=V.queries.get(Ot),Wt=Gt.document,en=Gt.variables,un=w.diff({query:Wt,variables:en,returnPartialData:!0,optimistic:!1}),Wn=un.result;if(un.complete&&Wn){var tn=zt(Wn,{mutationResult:Z,queryName:Wt&&(0,nt.rY)(Wt)||void 0,queryVariables:en});tn&&be.push({result:tn,dataId:"ROOT_QUERY",query:Wt,variables:en})}}})}if(be.length>0||y.refetchQueries||y.update||y.onQueryUpdated||y.removeOptimistic){var rt=[];if(this.refetchQueries({updateCache:function(ut){We||be.forEach(function(It){return ut.write(It)});var Ot=y.update;if(Ot){if(!We){var St=ut.diff({id:"ROOT_MUTATION",query:V.transform(y.document).asQuery,variables:y.variables,optimistic:!1,returnPartialData:!0});St.complete&&(Z=(0,de.pi)((0,de.pi)({},Z),{data:St.result}))}Ot(ut,Z,{context:y.context,variables:y.variables})}!We&&!y.keepRootFields&&ut.modify({id:"ROOT_MUTATION",fields:function(It,zt){return"__typename"===zt.fieldName?It:zt.DELETE}})},include:y.refetchQueries,optimistic:!1,removeOptimistic:y.removeOptimistic,onQueryUpdated:y.onQueryUpdated||null}).forEach(function(ut){return rt.push(ut)}),y.awaitRefetchQueries||y.onQueryUpdated)return Promise.all(rt).then(function(){return Z})}return Promise.resolve(Z)},C.prototype.markMutationOptimistic=function(y,w){var V=this,Z="function"==typeof y?y(w.variables):y;return this.cache.recordOptimisticTransaction(function(be){try{V.markMutationResult((0,de.pi)((0,de.pi)({},w),{result:{data:Z}}),be)}catch(We){__DEV__&&ee.kG.error(We)}},w.mutationId)},C.prototype.fetchQuery=function(y,w,V){return this.fetchQueryObservable(y,w,V).promise},C.prototype.getQueryStore=function(){var y=Object.create(null);return this.queries.forEach(function(w,V){y[V]={variables:w.variables,networkStatus:w.networkStatus,networkError:w.networkError,graphQLErrors:w.graphQLErrors}}),y},C.prototype.resetErrors=function(y){var w=this.queries.get(y);w&&(w.networkError=void 0,w.graphQLErrors=[])},C.prototype.transform=function(y){var w=this.transformCache;if(!w.has(y)){var V=this.cache.transformDocument(y),Z=(0,ht.Fo)(this.cache.transformForLink(V)),be=this.localState.clientQuery(V),We=Z&&this.localState.serverQuery(Z),ot={document:V,hasClientExports:(0,jt.mj)(V),hasForcedResolvers:this.localState.shouldForceResolvers(V),clientQuery:be,serverQuery:We,defaultVars:(0,nt.O4)((0,nt.$H)(V)),asQuery:(0,de.pi)((0,de.pi)({},V),{definitions:V.definitions.map(function(ut){return"OperationDefinition"===ut.kind&&"query"!==ut.operation?(0,de.pi)((0,de.pi)({},ut),{operation:"query"}):ut})})},rt=function(ut){ut&&!w.has(ut)&&w.set(ut,ot)};rt(y),rt(V),rt(be),rt(We)}return w.get(y)},C.prototype.getVariables=function(y,w){return(0,de.pi)((0,de.pi)({},this.transform(y).defaultVars),w)},C.prototype.watchQuery=function(y){void 0===(y=(0,de.pi)((0,de.pi)({},y),{variables:this.getVariables(y.query,y.variables)})).notifyOnNetworkStatusChange&&(y.notifyOnNetworkStatusChange=!1);var w=new ir(this),V=new Wi({queryManager:this,queryInfo:w,options:y});return this.queries.set(V.queryId,w),w.init({document:y.query,observableQuery:V,variables:y.variables}),V},C.prototype.query=function(y,w){var V=this;return void 0===w&&(w=this.generateQueryId()),__DEV__?(0,ee.kG)(y.query,"query option is required. You must specify your GraphQL document in the query option."):(0,ee.kG)(y.query,14),__DEV__?(0,ee.kG)("Document"===y.query.kind,'You must wrap the query string in a "gql" tag.'):(0,ee.kG)("Document"===y.query.kind,15),__DEV__?(0,ee.kG)(!y.returnPartialData,"returnPartialData option only supported on watchQuery."):(0,ee.kG)(!y.returnPartialData,16),__DEV__?(0,ee.kG)(!y.pollInterval,"pollInterval option only supported on watchQuery."):(0,ee.kG)(!y.pollInterval,17),this.fetchQuery(w,y).finally(function(){return V.stopQuery(w)})},C.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},C.prototype.generateRequestId=function(){return this.requestIdCounter++},C.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},C.prototype.stopQueryInStore=function(y){this.stopQueryInStoreNoBroadcast(y),this.broadcastQueries()},C.prototype.stopQueryInStoreNoBroadcast=function(y){var w=this.queries.get(y);w&&w.stop()},C.prototype.clearStore=function(y){return void 0===y&&(y={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new ee.ej("Store reset while query was in flight (not completed in link chain)"):new ee.ej(18)),this.queries.forEach(function(w){w.observableQuery?w.networkStatus=b.loading:w.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(y)},C.prototype.getObservableQueries=function(y){var w=this;void 0===y&&(y="active");var V=new Map,Z=new Map,be=new Set;return Array.isArray(y)&&y.forEach(function(We){"string"==typeof We?Z.set(We,!1):(0,Rt.JW)(We)?Z.set(w.transform(We).document,!1):(0,Qt.s)(We)&&We.query&&be.add(We)}),this.queries.forEach(function(We,ot){var rt=We.observableQuery,ut=We.document;if(rt){if("all"===y)return void V.set(ot,rt);var Ot=rt.queryName;if("standby"===rt.options.fetchPolicy||"active"===y&&!rt.hasObservers())return;("active"===y||Ot&&Z.has(Ot)||ut&&Z.has(ut))&&(V.set(ot,rt),Ot&&Z.set(Ot,!0),ut&&Z.set(ut,!0))}}),be.size&&be.forEach(function(We){var ot=(0,Un.X)("legacyOneTimeQuery"),rt=w.getQuery(ot).init({document:We.query,variables:We.variables}),ut=new Wi({queryManager:w,queryInfo:rt,options:(0,de.pi)((0,de.pi)({},We),{fetchPolicy:"network-only"})});(0,ee.kG)(ut.queryId===ot),rt.setObservableQuery(ut),V.set(ot,ut)}),__DEV__&&Z.size&&Z.forEach(function(We,ot){We||__DEV__&&ee.kG.warn("Unknown query ".concat("string"==typeof ot?"named ":"").concat(JSON.stringify(ot,null,2)," requested in refetchQueries options.include array"))}),V},C.prototype.reFetchObservableQueries=function(y){var w=this;void 0===y&&(y=!1);var V=[];return this.getObservableQueries(y?"all":"active").forEach(function(Z,be){var We=Z.options.fetchPolicy;Z.resetLastResults(),(y||"standby"!==We&&"cache-only"!==We)&&V.push(Z.refetch()),w.getQuery(be).setDiff(null)}),this.broadcastQueries(),Promise.all(V)},C.prototype.setObservableQuery=function(y){this.getQuery(y.queryId).setObservableQuery(y)},C.prototype.startGraphQLSubscription=function(y){var w=this,V=y.query,Z=y.fetchPolicy,be=y.errorPolicy,We=y.variables,ot=y.context,rt=void 0===ot?{}:ot;V=this.transform(V).document,We=this.getVariables(V,We);var ut=function(St){return w.getObservableFromLink(V,rt,St).map(function(It){if("no-cache"!==Z&&(Wr(It,be)&&w.cache.write({query:V,result:It.data,dataId:"ROOT_SUBSCRIPTION",variables:St}),w.broadcastQueries()),He(It))throw new qr({graphQLErrors:It.errors});return It})};if(this.transform(V).hasClientExports){var Ot=this.localState.addExportedVariables(V,We,rt).then(ut);return new ne.y(function(St){var It=null;return Ot.then(function(zt){return It=zt.subscribe(St)},St.error),function(){return It&&It.unsubscribe()}})}return ut(We)},C.prototype.stopQuery=function(y){this.stopQueryNoBroadcast(y),this.broadcastQueries()},C.prototype.stopQueryNoBroadcast=function(y){this.stopQueryInStoreNoBroadcast(y),this.removeQuery(y)},C.prototype.removeQuery=function(y){this.fetchCancelFns.delete(y),this.getQuery(y).stop(),this.queries.delete(y)},C.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(y){return y.notify()})},C.prototype.getLocalState=function(){return this.localState},C.prototype.getObservableFromLink=function(y,w,V,Z){var We,be=this;void 0===Z&&(Z=null!==(We=null==w?void 0:w.queryDeduplication)&&void 0!==We?We:this.queryDeduplication);var ot,rt=this.transform(y).serverQuery;if(rt){var Ot=this.inFlightLinkObservables,St=this.link,It={query:rt,variables:V,operationName:(0,nt.rY)(rt)||void 0,context:this.prepareContext((0,de.pi)((0,de.pi)({},w),{forceFetch:!Z}))};if(w=It.context,Z){var zt=Ot.get(rt)||new Map;Ot.set(rt,zt);var Gt=(0,ft.B)(V);if(!(ot=zt.get(Gt))){var Wt=new Rn([ue(St,It)]);zt.set(Gt,ot=Wt),Wt.cleanup(function(){zt.delete(Gt)&&zt.size<1&&Ot.delete(rt)})}}else ot=new Rn([ue(St,It)])}else ot=new Rn([ne.y.of({data:{}})]),w=this.prepareContext(w);var en=this.transform(y).clientQuery;return en&&(ot=lt(ot,function(un){return be.localState.runResolvers({document:en,remoteResult:un,context:w,variables:V})})),ot},C.prototype.getResultsFromLink=function(y,w,V){var Z=y.lastRequestId=this.generateRequestId();return lt(this.getObservableFromLink(y.document,V.context,V.variables),function(be){var We=(0,Sr.O)(be.errors);if(Z>=y.lastRequestId){if(We&&"none"===V.errorPolicy)throw y.markError(new qr({graphQLErrors:be.errors}));y.markResult(be,V,w),y.markReady()}var ot={data:be.data,loading:!1,networkStatus:y.networkStatus||b.ready};return We&&"ignore"!==V.errorPolicy&&(ot.errors=be.errors),ot},function(be){var We=function(C){return C.hasOwnProperty("graphQLErrors")}(be)?be:new qr({networkError:be});throw Z>=y.lastRequestId&&y.markError(We),We})},C.prototype.fetchQueryObservable=function(y,w,V){var Z=this;void 0===V&&(V=b.loading);var be=this.transform(w.query).document,We=this.getVariables(be,w.variables),ot=this.getQuery(y),rt=w.fetchPolicy,Ot=w.errorPolicy,It=w.returnPartialData,Gt=w.notifyOnNetworkStatusChange,en=w.context,Wn=Object.assign({},w,{query:be,variables:We,fetchPolicy:void 0===rt?"cache-first":rt,errorPolicy:void 0===Ot?"none":Ot,returnPartialData:void 0!==It&&It,notifyOnNetworkStatusChange:void 0!==Gt&&Gt,context:void 0===en?{}:en}),ur=function(ui){return Wn.variables=ui,Z.fetchQueryByPolicy(ot,Wn,V)};this.fetchCancelFns.set(y,function(ui){setTimeout(function(){return tn.cancel(ui)})});var tn=new Rn(this.transform(Wn.query).hasClientExports?this.localState.addExportedVariables(Wn.query,Wn.variables,Wn.context).then(ur):ur(Wn.variables));return tn.cleanup(function(){Z.fetchCancelFns.delete(y),function(C){var y=C.fetchPolicy,V=C.nextFetchPolicy;V&&(C.fetchPolicy="function"==typeof V?V.call(C,void 0===y?"cache-first":y):V)}(w)}),tn},C.prototype.refetchQueries=function(y){var w=this,V=y.updateCache,Z=y.include,be=y.optimistic,We=void 0!==be&&be,ot=y.removeOptimistic,rt=void 0===ot?We?(0,Un.X)("refetchQueries"):void 0:ot,ut=y.onQueryUpdated,Ot=new Map;Z&&this.getObservableQueries(Z).forEach(function(It,zt){Ot.set(zt,{oq:It,lastDiff:w.getQuery(zt).getDiff()})});var St=new Map;return V&&this.cache.batch({update:V,optimistic:We&&rt||!1,removeOptimistic:rt,onWatchUpdated:function(It,zt,Gt){var Wt=It.watcher instanceof ir&&It.watcher.observableQuery;if(Wt){if(ut){Ot.delete(Wt.queryId);var en=ut(Wt,zt,Gt);return!0===en&&(en=Wt.refetch()),!1!==en&&St.set(Wt,en),en}null!==ut&&Ot.set(Wt.queryId,{oq:Wt,lastDiff:Gt,diff:zt})}}}),Ot.size&&Ot.forEach(function(It,zt){var un,Gt=It.oq,Wt=It.lastDiff,en=It.diff;if(ut){if(!en){var Wn=Gt.queryInfo;Wn.reset(),en=Wn.getDiff()}un=ut(Gt,en,Wt)}(!ut||!0===un)&&(un=Gt.refetch()),!1!==un&&St.set(Gt,un),zt.indexOf("legacyOneTimeQuery")>=0&&w.stopQueryNoBroadcast(zt)}),rt&&this.cache.removeOptimistic(rt),St},C.prototype.fetchQueryByPolicy=function(y,w,V){var Z=this,be=w.query,We=w.variables,ot=w.fetchPolicy,rt=w.refetchWritePolicy,ut=w.errorPolicy,Ot=w.returnPartialData,St=w.context,It=w.notifyOnNetworkStatusChange,zt=y.networkStatus;y.init({document:be,variables:We,networkStatus:V});var Gt=function(){return y.getDiff(We)},Wt=function(tn,ui){void 0===ui&&(ui=y.networkStatus||b.loading);var Ur=tn.result;__DEV__&&!Ot&&!(0,Je.D)(Ur,{})&&Hn(tn.missing);var Ai=function(vr){return ne.y.of((0,de.pi)({data:vr,loading:z(ui),networkStatus:ui},tn.complete?null:{partial:!0}))};return Ur&&Z.transform(be).hasForcedResolvers?Z.localState.runResolvers({document:be,remoteResult:{data:Ur},context:St,variables:We,onlyRunForcedResolvers:!0}).then(function(vr){return Ai(vr.data||void 0)}):Ai(Ur)},en="no-cache"===ot?0:V===b.refetch&&"merge"!==rt?1:2,un=function(){return Z.getResultsFromLink(y,en,{variables:We,context:St,fetchPolicy:ot,errorPolicy:ut})},Wn=It&&"number"==typeof zt&&zt!==V&&z(V);switch(ot){default:case"cache-first":return(ur=Gt()).complete?[Wt(ur,y.markReady())]:Ot||Wn?[Wt(ur),un()]:[un()];case"cache-and-network":var ur;return(ur=Gt()).complete||Ot||Wn?[Wt(ur),un()]:[un()];case"cache-only":return[Wt(Gt(),y.markReady())];case"network-only":return Wn?[Wt(Gt()),un()]:[un()];case"no-cache":return Wn?[Wt(y.getDiff()),un()]:[un()];case"standby":return[]}},C.prototype.getQuery=function(y){return y&&!this.queries.has(y)&&this.queries.set(y,new ir(this,y)),this.queries.get(y)},C.prototype.prepareContext=function(y){void 0===y&&(y={});var w=this.localState.prepareContext(y);return(0,de.pi)((0,de.pi)({},w),{clientAwareness:this.clientAwareness})},C}(),ga=!1;function En(C,y){return(0,oe.o)(C,y,y.variables&&{variables:(0,de.pi)((0,de.pi)({},C.variables),y.variables)})}var co=function(){function C(y){var w=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var V=y.uri,We=y.cache,ot=y.ssrMode,rt=void 0!==ot&&ot,ut=y.ssrForceFetchDelay,Ot=void 0===ut?0:ut,St=y.connectToDevTools,It=void 0===St?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:St,zt=y.queryDeduplication,Gt=void 0===zt||zt,Wt=y.defaultOptions,en=y.assumeImmutableResults,un=void 0!==en&&en,Wn=y.resolvers,ur=y.typeDefs,tn=y.fragmentMatcher,ui=y.name,Ur=y.version,Ai=y.link;if(Ai||(Ai=V?new Re({uri:V,credentials:y.credentials,headers:y.headers}):ce.i.empty()),!We)throw __DEV__?new ee.ej("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new ee.ej(7);if(this.link=Ai,this.cache=We,this.disableNetworkFetches=rt||Ot>0,this.queryDeduplication=Gt,this.defaultOptions=Wt||{},this.typeDefs=ur,Ot&&setTimeout(function(){return w.disableNetworkFetches=!1},Ot),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),It&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!ga&&__DEV__&&(ga=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var vr=window.navigator,vi=vr&&vr.userAgent,Fi=void 0;"string"==typeof vi&&(vi.indexOf("Chrome/")>-1?Fi="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":vi.indexOf("Firefox/")>-1&&(Fi="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),Fi&&__DEV__&&ee.kG.log("Download the Apollo DevTools for a better development experience: "+Fi)}this.version="3.5.10",this.localState=new Jn({cache:We,client:this,resolvers:Wn,fragmentMatcher:tn}),this.queryManager=new Si({cache:this.cache,link:this.link,queryDeduplication:Gt,ssrMode:rt,clientAwareness:{name:ui,version:Ur},localState:this.localState,assumeImmutableResults:un,onBroadcast:It?function(){w.devToolsHookCb&&w.devToolsHookCb({action:{},state:{queries:w.queryManager.getQueryStore(),mutations:w.queryManager.mutationStore||{}},dataWithOptimisticResults:w.cache.extract(!0)})}:void 0})}return C.prototype.stop=function(){this.queryManager.stop()},C.prototype.watchQuery=function(y){return this.defaultOptions.watchQuery&&(y=En(this.defaultOptions.watchQuery,y)),this.disableNetworkFetches&&("network-only"===y.fetchPolicy||"cache-and-network"===y.fetchPolicy)&&(y=(0,de.pi)((0,de.pi)({},y),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(y)},C.prototype.query=function(y){return this.defaultOptions.query&&(y=En(this.defaultOptions.query,y)),__DEV__?(0,ee.kG)("cache-and-network"!==y.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):(0,ee.kG)("cache-and-network"!==y.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===y.fetchPolicy&&(y=(0,de.pi)((0,de.pi)({},y),{fetchPolicy:"cache-first"})),this.queryManager.query(y)},C.prototype.mutate=function(y){return this.defaultOptions.mutate&&(y=En(this.defaultOptions.mutate,y)),this.queryManager.mutate(y)},C.prototype.subscribe=function(y){return this.queryManager.startGraphQLSubscription(y)},C.prototype.readQuery=function(y,w){return void 0===w&&(w=!1),this.cache.readQuery(y,w)},C.prototype.readFragment=function(y,w){return void 0===w&&(w=!1),this.cache.readFragment(y,w)},C.prototype.writeQuery=function(y){this.cache.writeQuery(y),this.queryManager.broadcastQueries()},C.prototype.writeFragment=function(y){this.cache.writeFragment(y),this.queryManager.broadcastQueries()},C.prototype.__actionHookForDevTools=function(y){this.devToolsHookCb=y},C.prototype.__requestRaw=function(y){return ue(this.link,y)},C.prototype.resetStore=function(){var y=this;return Promise.resolve().then(function(){return y.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(y.resetStoreCallbacks.map(function(w){return w()}))}).then(function(){return y.reFetchObservableQueries()})},C.prototype.clearStore=function(){var y=this;return Promise.resolve().then(function(){return y.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(y.clearStoreCallbacks.map(function(w){return w()}))})},C.prototype.onResetStore=function(y){var w=this;return this.resetStoreCallbacks.push(y),function(){w.resetStoreCallbacks=w.resetStoreCallbacks.filter(function(V){return V!==y})}},C.prototype.onClearStore=function(y){var w=this;return this.clearStoreCallbacks.push(y),function(){w.clearStoreCallbacks=w.clearStoreCallbacks.filter(function(V){return V!==y})}},C.prototype.reFetchObservableQueries=function(y){return this.queryManager.reFetchObservableQueries(y)},C.prototype.refetchQueries=function(y){var w=this.queryManager.refetchQueries(y),V=[],Z=[];w.forEach(function(We,ot){V.push(ot),Z.push(We)});var be=Promise.all(Z);return be.queries=V,be.results=Z,be.catch(function(We){__DEV__&&ee.kG.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(We))}),be},C.prototype.getObservableQueries=function(y){return void 0===y&&(y="active"),this.queryManager.getObservableQueries(y)},C.prototype.extract=function(y){return this.cache.extract(y)},C.prototype.restore=function(y){return this.cache.restore(y)},C.prototype.addResolvers=function(y){this.localState.addResolvers(y)},C.prototype.setResolvers=function(y){this.localState.setResolvers(y)},C.prototype.getResolvers=function(){return this.localState.getResolvers()},C.prototype.setLocalStateFragmentMatcher=function(y){this.localState.setFragmentMatcher(y)},C.prototype.setLink=function(y){this.link=this.queryManager.link=y},C}();function pn(C,y){if(!Boolean(C))throw new Error(null!=y?y:"Unexpected invariant triggered.")}const Fn=/\r\n|[\n\r]/g;function hi(C,y){let w=0,V=1;for(const Z of C.body.matchAll(Fn)){if("number"==typeof Z.index||pn(!1),Z.index>=y)break;w=Z.index+Z[0].length,V+=1}return{line:V,column:y+1-w}}function fo(C,y){const w=C.locationOffset.column-1,V="".padStart(w)+C.body,Z=y.line-1,We=y.line+(C.locationOffset.line-1),rt=y.column+(1===y.line?w:0),ut=`${C.name}:${We}:${rt}\n`,Ot=V.split(/\r\n|[\n\r]/g),St=Ot[Z];if(St.length>120){const It=Math.floor(rt/80),zt=rt%80,Gt=[];for(let Wt=0;Wt<St.length;Wt+=80)Gt.push(St.slice(Wt,Wt+80));return ut+Oe([[`${We} |`,Gt[0]],...Gt.slice(1,It+1).map(Wt=>["|",Wt]),["|","^".padStart(zt)],["|",Gt[It+1]]])}return ut+Oe([[We-1+" |",Ot[Z-1]],[`${We} |`,St],["|","^".padStart(rt)],[`${We+1} |`,Ot[Z+1]]])}function Oe(C){const y=C.filter(([V,Z])=>void 0!==Z),w=Math.max(...y.map(([V])=>V.length));return y.map(([V,Z])=>V.padStart(w)+(Z?" "+Z:"")).join("\n")}class qe extends Error{constructor(y,...w){var V,Z,be;const{nodes:We,source:ot,positions:rt,path:ut,originalError:Ot,extensions:St}=function(C){const y=C[0];return null==y||"kind"in y||"length"in y?{nodes:y,source:C[1],positions:C[2],path:C[3],originalError:C[4],extensions:C[5]}:y}(w);super(y),this.name="GraphQLError",this.path=null!=ut?ut:void 0,this.originalError=null!=Ot?Ot:void 0,this.nodes=pt(Array.isArray(We)?We:We?[We]:void 0);const It=pt(null===(V=this.nodes)||void 0===V?void 0:V.map(Gt=>Gt.loc).filter(Gt=>null!=Gt));this.source=null!=ot?ot:null==It||null===(Z=It[0])||void 0===Z?void 0:Z.source,this.positions=null!=rt?rt:null==It?void 0:It.map(Gt=>Gt.start),this.locations=rt&&ot?rt.map(Gt=>hi(ot,Gt)):null==It?void 0:It.map(Gt=>hi(Gt.source,Gt.start));const zt="object"==typeof(C=null==Ot?void 0:Ot.extensions)&&null!==C?null==Ot?void 0:Ot.extensions:void 0;var C;this.extensions=null!==(be=null!=St?St:zt)&&void 0!==be?be:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=Ot&&Ot.stack?Object.defineProperty(this,"stack",{value:Ot.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,qe):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let y=this.message;if(this.nodes)for(const w of this.nodes)w.loc&&(y+="\n\n"+fo((C=w.loc).source,hi(C.source,C.start)));else if(this.source&&this.locations)for(const w of this.locations)y+="\n\n"+fo(this.source,w);var C;return y}toJSON(){const y={message:this.message};return null!=this.locations&&(y.locations=this.locations),null!=this.path&&(y.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(y.extensions=this.extensions),y}}function pt(C){return void 0===C||0===C.length?void 0:C}function jn(C,y,w){return new qe(`Syntax Error: ${w}`,void 0,C,[y])}var sr=F(6298);let mr;var C;(C=mr||(mr={})).QUERY="QUERY",C.MUTATION="MUTATION",C.SUBSCRIPTION="SUBSCRIPTION",C.FIELD="FIELD",C.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",C.FRAGMENT_SPREAD="FRAGMENT_SPREAD",C.INLINE_FRAGMENT="INLINE_FRAGMENT",C.VARIABLE_DEFINITION="VARIABLE_DEFINITION",C.SCHEMA="SCHEMA",C.SCALAR="SCALAR",C.OBJECT="OBJECT",C.FIELD_DEFINITION="FIELD_DEFINITION",C.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",C.INTERFACE="INTERFACE",C.UNION="UNION",C.ENUM="ENUM",C.ENUM_VALUE="ENUM_VALUE",C.INPUT_OBJECT="INPUT_OBJECT",C.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION";var nn=F(2289),Gi=F(2032),Qi=F(6009);let Et;!function(C){C.SOF="<SOF>",C.EOF="<EOF>",C.BANG="!",C.DOLLAR="$",C.AMP="&",C.PAREN_L="(",C.PAREN_R=")",C.SPREAD="...",C.COLON=":",C.EQUALS="=",C.AT="@",C.BRACKET_L="[",C.BRACKET_R="]",C.BRACE_L="{",C.PIPE="|",C.BRACE_R="}",C.NAME="Name",C.INT="Int",C.FLOAT="Float",C.STRING="String",C.BLOCK_STRING="BlockString",C.COMMENT="Comment"}(Et||(Et={}));class Lr{constructor(y){const w=new sr.WU(Et.SOF,0,0,0,0);this.source=y,this.lastToken=w,this.token=w,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let y=this.token;if(y.kind!==Et.EOF)do{if(y.next)y=y.next;else{const w=yt(this,y.end);y.next=w,w.prev=y,y=w}}while(y.kind===Et.COMMENT);return y}}function er(C){return C>=0&&C<=55295||C>=57344&&C<=1114111}function Fr(C,y){return Kr(C.charCodeAt(y))&&ai(C.charCodeAt(y+1))}function Kr(C){return C>=55296&&C<=56319}function ai(C){return C>=56320&&C<=57343}function pi(C,y){const w=C.source.body.codePointAt(y);if(void 0===w)return Et.EOF;if(w>=32&&w<=126){const V=String.fromCodePoint(w);return'"'===V?"'\"'":`"${V}"`}return"U+"+w.toString(16).toUpperCase().padStart(4,"0")}function In(C,y,w,V,Z){return new sr.WU(y,w,V,C.line,1+w-C.lineStart,Z)}function yt(C,y){const w=C.source.body,V=w.length;let Z=y;for(;Z<V;){const be=w.charCodeAt(Z);switch(be){case 65279:case 9:case 32:case 44:++Z;continue;case 10:++Z,++C.line,C.lineStart=Z;continue;case 13:10===w.charCodeAt(Z+1)?Z+=2:++Z,++C.line,C.lineStart=Z;continue;case 35:return On(C,Z);case 33:return In(C,Et.BANG,Z,Z+1);case 36:return In(C,Et.DOLLAR,Z,Z+1);case 38:return In(C,Et.AMP,Z,Z+1);case 40:return In(C,Et.PAREN_L,Z,Z+1);case 41:return In(C,Et.PAREN_R,Z,Z+1);case 46:if(46===w.charCodeAt(Z+1)&&46===w.charCodeAt(Z+2))return In(C,Et.SPREAD,Z,Z+3);break;case 58:return In(C,Et.COLON,Z,Z+1);case 61:return In(C,Et.EQUALS,Z,Z+1);case 64:return In(C,Et.AT,Z,Z+1);case 91:return In(C,Et.BRACKET_L,Z,Z+1);case 93:return In(C,Et.BRACKET_R,Z,Z+1);case 123:return In(C,Et.BRACE_L,Z,Z+1);case 124:return In(C,Et.PIPE,Z,Z+1);case 125:return In(C,Et.BRACE_R,Z,Z+1);case 34:return 34===w.charCodeAt(Z+1)&&34===w.charCodeAt(Z+2)?_n(C,Z):zs(C,Z)}if((0,Qi.X1)(be)||45===be)return or(C,Z,be);if((0,Qi.LQ)(be))return ho(C,Z);throw jn(C.source,Z,39===be?"Unexpected single quote character ('), did you mean to use a double quote (\")?":er(be)||Fr(w,Z)?`Unexpected character: ${pi(C,Z)}.`:`Invalid character: ${pi(C,Z)}.`)}return In(C,Et.EOF,V,V)}function On(C,y){const w=C.source.body,V=w.length;let Z=y+1;for(;Z<V;){const be=w.charCodeAt(Z);if(10===be||13===be)break;if(er(be))++Z;else{if(!Fr(w,Z))break;Z+=2}}return In(C,Et.COMMENT,y,Z,w.slice(y+1,Z))}function or(C,y,w){const V=C.source.body;let Z=y,be=w,We=!1;if(45===be&&(be=V.charCodeAt(++Z)),48===be){if(be=V.charCodeAt(++Z),(0,Qi.X1)(be))throw jn(C.source,Z,`Invalid number, unexpected digit after 0: ${pi(C,Z)}.`)}else Z=Pr(C,Z,be),be=V.charCodeAt(Z);if(46===be&&(We=!0,be=V.charCodeAt(++Z),Z=Pr(C,Z,be),be=V.charCodeAt(Z)),(69===be||101===be)&&(We=!0,be=V.charCodeAt(++Z),(43===be||45===be)&&(be=V.charCodeAt(++Z)),Z=Pr(C,Z,be),be=V.charCodeAt(Z)),46===be||(0,Qi.LQ)(be))throw jn(C.source,Z,`Invalid number, expected digit but got: ${pi(C,Z)}.`);return In(C,We?Et.FLOAT:Et.INT,y,Z,V.slice(y,Z))}function Pr(C,y,w){if(!(0,Qi.X1)(w))throw jn(C.source,y,`Invalid number, expected digit but got: ${pi(C,y)}.`);const V=C.source.body;let Z=y+1;for(;(0,Qi.X1)(V.charCodeAt(Z));)++Z;return Z}function zs(C,y){const w=C.source.body,V=w.length;let Z=y+1,be=Z,We="";for(;Z<V;){const ot=w.charCodeAt(Z);if(34===ot)return We+=w.slice(be,Z),In(C,Et.STRING,y,Z+1,We);if(92!==ot){if(10===ot||13===ot)break;if(er(ot))++Z;else{if(!Fr(w,Z))throw jn(C.source,Z,`Invalid character within String: ${pi(C,Z)}.`);Z+=2}}else{We+=w.slice(be,Z);const rt=117===w.charCodeAt(Z+1)?123===w.charCodeAt(Z+2)?Kn(C,Z):Ws(C,Z):Ni(C,Z);We+=rt.value,Z+=rt.size,be=Z}}throw jn(C.source,Z,"Unterminated string.")}function Kn(C,y){const w=C.source.body;let V=0,Z=3;for(;Z<12;){const be=w.charCodeAt(y+Z++);if(125===be){if(Z<5||!er(V))break;return{value:String.fromCodePoint(V),size:Z}}if(V=V<<4|Yr(be),V<0)break}throw jn(C.source,y,`Invalid Unicode escape sequence: "${w.slice(y,y+Z)}".`)}function Ws(C,y){const w=C.source.body,V=br(w,y+2);if(er(V))return{value:String.fromCodePoint(V),size:6};if(Kr(V)&&92===w.charCodeAt(y+6)&&117===w.charCodeAt(y+7)){const Z=br(w,y+8);if(ai(Z))return{value:String.fromCodePoint(V,Z),size:12}}throw jn(C.source,y,`Invalid Unicode escape sequence: "${w.slice(y,y+6)}".`)}function br(C,y){return Yr(C.charCodeAt(y))<<12|Yr(C.charCodeAt(y+1))<<8|Yr(C.charCodeAt(y+2))<<4|Yr(C.charCodeAt(y+3))}function Yr(C){return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:-1}function Ni(C,y){const w=C.source.body;switch(w.charCodeAt(y+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw jn(C.source,y,`Invalid character escape sequence: "${w.slice(y,y+2)}".`)}function _n(C,y){const w=C.source.body,V=w.length;let Z=C.lineStart,be=y+3,We=be,ot="";const rt=[];for(;be<V;){const ut=w.charCodeAt(be);if(34===ut&&34===w.charCodeAt(be+1)&&34===w.charCodeAt(be+2)){ot+=w.slice(We,be),rt.push(ot);const Ot=In(C,Et.BLOCK_STRING,y,be+3,(0,Gi.wv)(rt).join("\n"));return C.line+=rt.length-1,C.lineStart=Z,Ot}if(92!==ut||34!==w.charCodeAt(be+1)||34!==w.charCodeAt(be+2)||34!==w.charCodeAt(be+3))if(10!==ut&&13!==ut)if(er(ut))++be;else{if(!Fr(w,be))throw jn(C.source,be,`Invalid character within String: ${pi(C,be)}.`);be+=2}else ot+=w.slice(We,be),rt.push(ot),13===ut&&10===w.charCodeAt(be+1)?be+=2:++be,ot="",We=be,Z=be;else ot+=w.slice(We,be),We=be+1,be+=4}throw jn(C.source,be,"Unterminated string.")}function ho(C,y){const w=C.source.body,V=w.length;let Z=y+1;for(;Z<V;){const be=w.charCodeAt(Z);if(!(0,Qi.HQ)(be))break;++Z}return In(C,Et.NAME,y,Z,w.slice(y,Z))}var os=F(1462);class Es{constructor(y,w){const V=(0,os.T)(y)?y:new os.H(y);this._lexer=new Lr(V),this._options=w}parseName(){const y=this.expectToken(Et.NAME);return this.node(y,{kind:nn.h.NAME,value:y.value})}parseDocument(){return this.node(this._lexer.token,{kind:nn.h.DOCUMENT,definitions:this.many(Et.SOF,this.parseDefinition,Et.EOF)})}parseDefinition(){if(this.peek(Et.BRACE_L))return this.parseOperationDefinition();const y=this.peekDescription(),w=y?this._lexer.lookahead():this._lexer.token;if(w.kind===Et.NAME){switch(w.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(y)throw jn(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(w.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(w)}parseOperationDefinition(){const y=this._lexer.token;if(this.peek(Et.BRACE_L))return this.node(y,{kind:nn.h.OPERATION_DEFINITION,operation:sr.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const w=this.parseOperationType();let V;return this.peek(Et.NAME)&&(V=this.parseName()),this.node(y,{kind:nn.h.OPERATION_DEFINITION,operation:w,name:V,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const y=this.expectToken(Et.NAME);switch(y.value){case"query":return sr.ku.QUERY;case"mutation":return sr.ku.MUTATION;case"subscription":return sr.ku.SUBSCRIPTION}throw this.unexpected(y)}parseVariableDefinitions(){return this.optionalMany(Et.PAREN_L,this.parseVariableDefinition,Et.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:nn.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Et.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Et.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const y=this._lexer.token;return this.expectToken(Et.DOLLAR),this.node(y,{kind:nn.h.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:nn.h.SELECTION_SET,selections:this.many(Et.BRACE_L,this.parseSelection,Et.BRACE_R)})}parseSelection(){return this.peek(Et.SPREAD)?this.parseFragment():this.parseField()}parseField(){const y=this._lexer.token,w=this.parseName();let V,Z;return this.expectOptionalToken(Et.COLON)?(V=w,Z=this.parseName()):Z=w,this.node(y,{kind:nn.h.FIELD,alias:V,name:Z,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Et.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(y){return this.optionalMany(Et.PAREN_L,y?this.parseConstArgument:this.parseArgument,Et.PAREN_R)}parseArgument(y=!1){const w=this._lexer.token,V=this.parseName();return this.expectToken(Et.COLON),this.node(w,{kind:nn.h.ARGUMENT,name:V,value:this.parseValueLiteral(y)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const y=this._lexer.token;this.expectToken(Et.SPREAD);const w=this.expectOptionalKeyword("on");return!w&&this.peek(Et.NAME)?this.node(y,{kind:nn.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(y,{kind:nn.h.INLINE_FRAGMENT,typeCondition:w?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var y;const w=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(y=this._options)||void 0===y?void 0:y.allowLegacyFragmentVariables)?this.node(w,{kind:nn.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(w,{kind:nn.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(y){const w=this._lexer.token;switch(w.kind){case Et.BRACKET_L:return this.parseList(y);case Et.BRACE_L:return this.parseObject(y);case Et.INT:return this._lexer.advance(),this.node(w,{kind:nn.h.INT,value:w.value});case Et.FLOAT:return this._lexer.advance(),this.node(w,{kind:nn.h.FLOAT,value:w.value});case Et.STRING:case Et.BLOCK_STRING:return this.parseStringLiteral();case Et.NAME:switch(this._lexer.advance(),w.value){case"true":return this.node(w,{kind:nn.h.BOOLEAN,value:!0});case"false":return this.node(w,{kind:nn.h.BOOLEAN,value:!1});case"null":return this.node(w,{kind:nn.h.NULL});default:return this.node(w,{kind:nn.h.ENUM,value:w.value})}case Et.DOLLAR:if(y){if(this.expectToken(Et.DOLLAR),this._lexer.token.kind===Et.NAME)throw jn(this._lexer.source,w.start,`Unexpected variable "$${this._lexer.token.value}" in constant value.`);throw this.unexpected(w)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const y=this._lexer.token;return this._lexer.advance(),this.node(y,{kind:nn.h.STRING,value:y.value,block:y.kind===Et.BLOCK_STRING})}parseList(y){return this.node(this._lexer.token,{kind:nn.h.LIST,values:this.any(Et.BRACKET_L,()=>this.parseValueLiteral(y),Et.BRACKET_R)})}parseObject(y){return this.node(this._lexer.token,{kind:nn.h.OBJECT,fields:this.any(Et.BRACE_L,()=>this.parseObjectField(y),Et.BRACE_R)})}parseObjectField(y){const w=this._lexer.token,V=this.parseName();return this.expectToken(Et.COLON),this.node(w,{kind:nn.h.OBJECT_FIELD,name:V,value:this.parseValueLiteral(y)})}parseDirectives(y){const w=[];for(;this.peek(Et.AT);)w.push(this.parseDirective(y));return w}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(y){const w=this._lexer.token;return this.expectToken(Et.AT),this.node(w,{kind:nn.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(y)})}parseTypeReference(){const y=this._lexer.token;let w;if(this.expectOptionalToken(Et.BRACKET_L)){const V=this.parseTypeReference();this.expectToken(Et.BRACKET_R),w=this.node(y,{kind:nn.h.LIST_TYPE,type:V})}else w=this.parseNamedType();return this.expectOptionalToken(Et.BANG)?this.node(y,{kind:nn.h.NON_NULL_TYPE,type:w}):w}parseNamedType(){return this.node(this._lexer.token,{kind:nn.h.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Et.STRING)||this.peek(Et.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const y=this._lexer.token,w=this.parseDescription();this.expectKeyword("schema");const V=this.parseConstDirectives(),Z=this.many(Et.BRACE_L,this.parseOperationTypeDefinition,Et.BRACE_R);return this.node(y,{kind:nn.h.SCHEMA_DEFINITION,description:w,directives:V,operationTypes:Z})}parseOperationTypeDefinition(){const y=this._lexer.token,w=this.parseOperationType();this.expectToken(Et.COLON);const V=this.parseNamedType();return this.node(y,{kind:nn.h.OPERATION_TYPE_DEFINITION,operation:w,type:V})}parseScalarTypeDefinition(){const y=this._lexer.token,w=this.parseDescription();this.expectKeyword("scalar");const V=this.parseName(),Z=this.parseConstDirectives();return this.node(y,{kind:nn.h.SCALAR_TYPE_DEFINITION,description:w,name:V,directives:Z})}parseObjectTypeDefinition(){const y=this._lexer.token,w=this.parseDescription();this.expectKeyword("type");const V=this.parseName(),Z=this.parseImplementsInterfaces(),be=this.parseConstDirectives(),We=this.parseFieldsDefinition();return this.node(y,{kind:nn.h.OBJECT_TYPE_DEFINITION,description:w,name:V,interfaces:Z,directives:be,fields:We})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Et.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Et.BRACE_L,this.parseFieldDefinition,Et.BRACE_R)}parseFieldDefinition(){const y=this._lexer.token,w=this.parseDescription(),V=this.parseName(),Z=this.parseArgumentDefs();this.expectToken(Et.COLON);const be=this.parseTypeReference(),We=this.parseConstDirectives();return this.node(y,{kind:nn.h.FIELD_DEFINITION,description:w,name:V,arguments:Z,type:be,directives:We})}parseArgumentDefs(){return this.optionalMany(Et.PAREN_L,this.parseInputValueDef,Et.PAREN_R)}parseInputValueDef(){const y=this._lexer.token,w=this.parseDescription(),V=this.parseName();this.expectToken(Et.COLON);const Z=this.parseTypeReference();let be;this.expectOptionalToken(Et.EQUALS)&&(be=this.parseConstValueLiteral());const We=this.parseConstDirectives();return this.node(y,{kind:nn.h.INPUT_VALUE_DEFINITION,description:w,name:V,type:Z,defaultValue:be,directives:We})}parseInterfaceTypeDefinition(){const y=this._lexer.token,w=this.parseDescription();this.expectKeyword("interface");const V=this.parseName(),Z=this.parseImplementsInterfaces(),be=this.parseConstDirectives(),We=this.parseFieldsDefinition();return this.node(y,{kind:nn.h.INTERFACE_TYPE_DEFINITION,description:w,name:V,interfaces:Z,directives:be,fields:We})}parseUnionTypeDefinition(){const y=this._lexer.token,w=this.parseDescription();this.expectKeyword("union");const V=this.parseName(),Z=this.parseConstDirectives(),be=this.parseUnionMemberTypes();return this.node(y,{kind:nn.h.UNION_TYPE_DEFINITION,description:w,name:V,directives:Z,types:be})}parseUnionMemberTypes(){return this.expectOptionalToken(Et.EQUALS)?this.delimitedMany(Et.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const y=this._lexer.token,w=this.parseDescription();this.expectKeyword("enum");const V=this.parseName(),Z=this.parseConstDirectives(),be=this.parseEnumValuesDefinition();return this.node(y,{kind:nn.h.ENUM_TYPE_DEFINITION,description:w,name:V,directives:Z,values:be})}parseEnumValuesDefinition(){return this.optionalMany(Et.BRACE_L,this.parseEnumValueDefinition,Et.BRACE_R)}parseEnumValueDefinition(){const y=this._lexer.token,w=this.parseDescription(),V=this.parseEnumValueName(),Z=this.parseConstDirectives();return this.node(y,{kind:nn.h.ENUM_VALUE_DEFINITION,description:w,name:V,directives:Z})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw jn(this._lexer.source,this._lexer.token.start,`${qi(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const y=this._lexer.token,w=this.parseDescription();this.expectKeyword("input");const V=this.parseName(),Z=this.parseConstDirectives(),be=this.parseInputFieldsDefinition();return this.node(y,{kind:nn.h.INPUT_OBJECT_TYPE_DEFINITION,description:w,name:V,directives:Z,fields:be})}parseInputFieldsDefinition(){return this.optionalMany(Et.BRACE_L,this.parseInputValueDef,Et.BRACE_R)}parseTypeSystemExtension(){const y=this._lexer.lookahead();if(y.kind===Et.NAME)switch(y.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(y)}parseSchemaExtension(){const y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const w=this.parseConstDirectives(),V=this.optionalMany(Et.BRACE_L,this.parseOperationTypeDefinition,Et.BRACE_R);if(0===w.length&&0===V.length)throw this.unexpected();return this.node(y,{kind:nn.h.SCHEMA_EXTENSION,directives:w,operationTypes:V})}parseScalarTypeExtension(){const y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const w=this.parseName(),V=this.parseConstDirectives();if(0===V.length)throw this.unexpected();return this.node(y,{kind:nn.h.SCALAR_TYPE_EXTENSION,name:w,directives:V})}parseObjectTypeExtension(){const y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const w=this.parseName(),V=this.parseImplementsInterfaces(),Z=this.parseConstDirectives(),be=this.parseFieldsDefinition();if(0===V.length&&0===Z.length&&0===be.length)throw this.unexpected();return this.node(y,{kind:nn.h.OBJECT_TYPE_EXTENSION,name:w,interfaces:V,directives:Z,fields:be})}parseInterfaceTypeExtension(){const y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const w=this.parseName(),V=this.parseImplementsInterfaces(),Z=this.parseConstDirectives(),be=this.parseFieldsDefinition();if(0===V.length&&0===Z.length&&0===be.length)throw this.unexpected();return this.node(y,{kind:nn.h.INTERFACE_TYPE_EXTENSION,name:w,interfaces:V,directives:Z,fields:be})}parseUnionTypeExtension(){const y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const w=this.parseName(),V=this.parseConstDirectives(),Z=this.parseUnionMemberTypes();if(0===V.length&&0===Z.length)throw this.unexpected();return this.node(y,{kind:nn.h.UNION_TYPE_EXTENSION,name:w,directives:V,types:Z})}parseEnumTypeExtension(){const y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const w=this.parseName(),V=this.parseConstDirectives(),Z=this.parseEnumValuesDefinition();if(0===V.length&&0===Z.length)throw this.unexpected();return this.node(y,{kind:nn.h.ENUM_TYPE_EXTENSION,name:w,directives:V,values:Z})}parseInputObjectTypeExtension(){const y=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const w=this.parseName(),V=this.parseConstDirectives(),Z=this.parseInputFieldsDefinition();if(0===V.length&&0===Z.length)throw this.unexpected();return this.node(y,{kind:nn.h.INPUT_OBJECT_TYPE_EXTENSION,name:w,directives:V,fields:Z})}parseDirectiveDefinition(){const y=this._lexer.token,w=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Et.AT);const V=this.parseName(),Z=this.parseArgumentDefs(),be=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const We=this.parseDirectiveLocations();return this.node(y,{kind:nn.h.DIRECTIVE_DEFINITION,description:w,name:V,arguments:Z,repeatable:be,locations:We})}parseDirectiveLocations(){return this.delimitedMany(Et.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const y=this._lexer.token,w=this.parseName();if(Object.prototype.hasOwnProperty.call(mr,w.value))return w;throw this.unexpected(y)}node(y,w){var V;return!0!==(null===(V=this._options)||void 0===V?void 0:V.noLocation)&&(w.loc=new sr.Ye(y,this._lexer.lastToken,this._lexer.source)),w}peek(y){return this._lexer.token.kind===y}expectToken(y){const w=this._lexer.token;if(w.kind===y)return this._lexer.advance(),w;throw jn(this._lexer.source,w.start,`Expected ${dr(y)}, found ${qi(w)}.`)}expectOptionalToken(y){return this._lexer.token.kind===y&&(this._lexer.advance(),!0)}expectKeyword(y){const w=this._lexer.token;if(w.kind!==Et.NAME||w.value!==y)throw jn(this._lexer.source,w.start,`Expected "${y}", found ${qi(w)}.`);this._lexer.advance()}expectOptionalKeyword(y){const w=this._lexer.token;return w.kind===Et.NAME&&w.value===y&&(this._lexer.advance(),!0)}unexpected(y){const w=null!=y?y:this._lexer.token;return jn(this._lexer.source,w.start,`Unexpected ${qi(w)}.`)}any(y,w,V){this.expectToken(y);const Z=[];for(;!this.expectOptionalToken(V);)Z.push(w.call(this));return Z}optionalMany(y,w,V){if(this.expectOptionalToken(y)){const Z=[];do{Z.push(w.call(this))}while(!this.expectOptionalToken(V));return Z}return[]}many(y,w,V){this.expectToken(y);const Z=[];do{Z.push(w.call(this))}while(!this.expectOptionalToken(V));return Z}delimitedMany(y,w){this.expectOptionalToken(y);const V=[];do{V.push(w.call(this))}while(this.expectOptionalToken(y));return V}}function qi(C){const y=C.value;return dr(C.kind)+(null!=y?` "${y}"`:"")}function dr(C){return function(C){return C===Et.BANG||C===Et.DOLLAR||C===Et.AMP||C===Et.PAREN_L||C===Et.PAREN_R||C===Et.SPREAD||C===Et.COLON||C===Et.EQUALS||C===Et.AT||C===Et.BRACKET_L||C===Et.BRACKET_R||C===Et.BRACE_L||C===Et.PIPE||C===Et.BRACE_R}(C)?`"${C}"`:C}var to=new Map,Fo=new Map,Gs=!0,mi=!1;function po(C){return C.replace(/[\s,]+/g," ").trim()}function ln(C){var y=po(C);if(!to.has(y)){var w=function(C,y){return new Es(C,y).parseDocument()}(C,{experimentalFragmentVariables:mi,allowLegacyFragmentVariables:mi});if(!w||"Document"!==w.kind)throw new Error("Not a valid GraphQL document.");to.set(y,function(C){var y=new Set(C.definitions);y.forEach(function(V){V.loc&&delete V.loc,Object.keys(V).forEach(function(Z){var be=V[Z];be&&"object"==typeof be&&y.add(be)})});var w=C.loc;return w&&(delete w.startToken,delete w.endToken),C}(function(C){var y=new Set,w=[];return C.definitions.forEach(function(V){if("FragmentDefinition"===V.kind){var Z=V.name.value,be=function(C){return po(C.source.body.substring(C.start,C.end))}(V.loc),We=Fo.get(Z);We&&!We.has(be)?Gs&&console.warn("Warning: fragment with name "+Z+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):We||Fo.set(Z,We=new Set),We.add(be),y.has(be)||(y.add(be),w.push(V))}else w.push(V)}),(0,de.pi)((0,de.pi)({},C),{definitions:w})}(w)))}return to.get(y)}function Tr(C){for(var y=[],w=1;w<arguments.length;w++)y[w-1]=arguments[w];"string"==typeof C&&(C=[C]);var V=C[0];return y.forEach(function(Z,be){V+=Z&&"Document"===Z.kind?Z.loc.source.body:Z,V+=C[be+1]}),ln(V)}var Br_gql=Tr,Br_resetCaches=function(){to.clear(),Fo.clear()},Br_disableFragmentWarnings=function(){Gs=!1},Br_enableExperimentalFragmentVariables=function(){mi=!0},Br_disableExperimentalFragmentVariables=function(){mi=!1};(function(C){C.gql=Br_gql,C.resetCaches=Br_resetCaches,C.disableFragmentWarnings=Br_disableFragmentWarnings,C.enableExperimentalFragmentVariables=Br_enableExperimentalFragmentVariables,C.disableExperimentalFragmentVariables=Br_disableExperimentalFragmentVariables})(Tr||(Tr={})),Tr.default=Tr;var zl=F(9474),Ha=F(6102);const cl=new class extends Ha.v{}(class extends zl.o{constructor(y,w){super(y,w),this.scheduler=y,this.work=w}schedule(y,w=0){return w>0?super.schedule(y,w):(this.delay=w,this.state=y,this.scheduler.flush(this),this)}execute(y,w){return w>0||this.closed?super.execute(y,w):this._execute(y,w)}requestAsyncId(y,w,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(y,w,V):y.flush(this)}});var Wl=F(7574),Qc=F(6554),$a=F(4402),ku=F(7393),Uo=F(3098);class ac{constructor(y,w=0){this.scheduler=y,this.delay=w}call(y,w){return w.subscribe(new Vo(y,this.scheduler,this.delay))}}class Vo extends ku.L{constructor(y,w,V=0){super(y),this.scheduler=w,this.delay=V}static dispatch(y){const{notification:w,destination:V}=y;w.observe(V),this.unsubscribe()}scheduleMessage(y){this.destination.add(this.scheduler.schedule(Vo.dispatch,this.delay,new za(y,this.destination)))}_next(y){this.scheduleMessage(Uo.P.createNext(y))}_error(y){this.scheduleMessage(Uo.P.createError(y)),this.unsubscribe()}_complete(){this.scheduleMessage(Uo.P.createComplete()),this.unsubscribe()}}class za{constructor(y,w){this.notification=y,this.destination=w}}var Wa=F(8002),dl=F(9761);function xs(C){return new Wl.y(y=>(C().then(w=>{y.closed||(y.next(w),y.complete())},w=>{y.closed||y.error(w)}),()=>y.unsubscribe()))}class va{constructor(y){this.zone=y,this.now=Date.now?Date.now:()=>+new Date}schedule(y,w=0,V){return this.zone.run(()=>cl.schedule(y,w,V))}}function ya(C){return C[Qc.L]=()=>C,C}function Li(C,y){return C.pipe(function(C,y=0){return function(V){return V.lift(new ac(C,y))}}(new va(y)))}function Ki(C,y,w){return C&&void 0!==C[y]?C[y]:w}class yo{constructor(y,w,V){this.obsQuery=y;const Z=Li((0,$a.D)(ya(this.obsQuery)),w);this.valueChanges=V.useInitialLoading?Z.pipe(function(C){return function(w){return new Wl.y(function(Z){const be=C.getCurrentResult(),{loading:We,errors:ot,error:rt,partial:ut,data:Ot}=be,{partialRefetch:St,fetchPolicy:It}=C.options,zt=ot||rt;return St&&ut&&(!Ot||0===Object.keys(Ot).length)&&"cache-only"!==It&&!We&&!zt&&Z.next(Jy(Iu({},be),{loading:!0,networkStatus:b.loading})),w.subscribe(Z)})}}(this.obsQuery)):Z,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(y){return this.obsQuery.refetch(y)}fetchMore(y){return this.obsQuery.fetchMore(y)}subscribeToMore(y){return this.obsQuery.subscribeToMore(y)}updateQuery(y){return this.obsQuery.updateQuery(y)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(y){return this.obsQuery.startPolling(y)}setOptions(y){return this.obsQuery.setOptions(y)}setVariables(y){return this.obsQuery.setVariables(y)}}const fl=new A.OlP("APOLLO_FLAGS"),hl=new A.OlP("APOLLO_OPTIONS"),Kc=new A.OlP("APOLLO_NAMED_OPTIONS");class fr{constructor(y,w,V){this.ngZone=y,this.flags=w,this._client=V,this.useInitialLoading=Ki(w,"useInitialLoading",!1),this.useMutationLoading=Ki(w,"useMutationLoading",!1)}watchQuery(y){return new yo(this.ensureClient().watchQuery(Iu({},y)),this.ngZone,Iu({useInitialLoading:this.useInitialLoading},y))}query(y){return xs(()=>this.ensureClient().query(Iu({},y)))}mutate(y){var w;return function(C,y){return y?C.pipe((0,dl.O)({loading:!0}),(0,Wa.U)(w=>Jy(Iu({},w),{loading:!!w.loading}))):C.pipe((0,Wa.U)(w=>Jy(Iu({},w),{loading:!1})))}(xs(()=>this.ensureClient().mutate(Iu({},y))),null!=(w=y.useMutationLoading)?w:this.useMutationLoading)}subscribe(y,w){const V=(0,$a.D)(ya(this.ensureClient().subscribe(Iu({},y))));return w&&!0!==w.useZone?V:Li(V,this.ngZone)}getClient(){return this.client}setClient(y){this.client=y}get client(){return this._client}set client(y){if(this._client)throw new Error("Client has been already defined");this._client=y}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let jo=(()=>{class C extends fr{constructor(w,V,Z,be){if(super(w,be),this._ngZone=w,this.map=new Map,V&&this.createDefault(V),Z&&"object"==typeof Z)for(let We in Z)Z.hasOwnProperty(We)&&this.createNamed(We,Z[We])}create(w,V){ws(V)?this.createDefault(w):this.createNamed(V,w)}default(){return this}use(w){return ws(w)?this.default():this.map.get(w)}createDefault(w){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new co(w))}createNamed(w,V){if(this.map.has(w))throw new Error(`Client ${w} has been already created`);this.map.set(w,new fr(this._ngZone,this.flags,new co(V)))}removeClient(w){ws(w)?this._client=void 0:this.map.delete(w)}}return C.\u0275fac=function(w){return new(w||C)(A.LFG(A.R0b),A.LFG(hl,8),A.LFG(Kc,8),A.LFG(fl,8))},C.\u0275prov=A.Yz7({token:C,factory:C.\u0275fac}),C})();function ws(C){return!C||"default"===C}const Mi=[jo];let Yi=(()=>{class C{}return C.\u0275fac=function(w){return new(w||C)},C.\u0275mod=A.oAB({type:C}),C.\u0275inj=A.cJS({providers:Mi}),C})();const q=function(C,...y){return Tr(C,...y)}},4047:(ct,Le,F)=>{"use strict";function A(b,z){if(!Boolean(b))throw new Error(z)}F.d(Le,{a:()=>A})},744:(ct,Le,F)=>{"use strict";function z(W){return de(W,[])}function de(W,ne){switch(typeof W){case"string":return JSON.stringify(W);case"function":return W.name?`[function ${W.name}]`:"[function]";case"object":return function(W,ne){if(null===W)return"null";if(ne.includes(W))return"[Circular]";const G=[...ne,W];if(function(W){return"function"==typeof W.toJSON}(W)){const le=W.toJSON();if(le!==W)return"string"==typeof le?le:de(le,G)}else if(Array.isArray(W))return function(W,ne){if(0===W.length)return"[]";if(ne.length>2)return"[Array]";const G=Math.min(10,W.length),le=W.length-G,Ce=[];for(let ae=0;ae<G;++ae)Ce.push(de(W[ae],ne));return 1===le?Ce.push("... 1 more item"):le>1&&Ce.push(`... ${le} more items`),"["+Ce.join(", ")+"]"}(W,G);return function(W,ne){const G=Object.entries(W);return 0===G.length?"{}":ne.length>2?"["+function(W){const ne=Object.prototype.toString.call(W).replace(/^\[object /,"").replace(/]$/,"");if("Object"===ne&&"function"==typeof W.constructor){const G=W.constructor.name;if("string"==typeof G&&""!==G)return G}return ne}(W)+"]":"{ "+G.map(([Ce,ae])=>Ce+": "+de(ae,ne)).join(", ")+" }"}(W,G)}(W,ne);default:return String(W)}}F.d(Le,{X:()=>z})},6298:(ct,Le,F)=>{"use strict";F.d(Le,{Ye:()=>A,WU:()=>b,h8:()=>z,UG:()=>ee,ku:()=>ce});class A{constructor(oe,j,W){this.start=oe.start,this.end=j.end,this.startToken=oe,this.endToken=j,this.source=W}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class b{constructor(oe,j,W,ne,G,le){this.kind=oe,this.start=j,this.end=W,this.line=ne,this.column=G,this.value=le,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const z={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},de=new Set(Object.keys(z));function ee(ue){const oe=null==ue?void 0:ue.kind;return"string"==typeof oe&&de.has(oe)}let ce;var ue;(ue=ce||(ce={})).QUERY="query",ue.MUTATION="mutation",ue.SUBSCRIPTION="subscription"},2032:(ct,Le,F)=>{"use strict";F.d(Le,{wv:()=>b,LZ:()=>ee});var A=F(6009);function b(ce){var ue;let oe=Number.MAX_SAFE_INTEGER,j=null,W=-1;for(let G=0;G<ce.length;++G){var ne;const le=ce[G],Ce=z(le);Ce!==le.length&&(j=null!==(ne=j)&&void 0!==ne?ne:G,W=G,0!==G&&Ce<oe&&(oe=Ce))}return ce.map((G,le)=>0===le?G:G.slice(oe)).slice(null!==(ue=j)&&void 0!==ue?ue:0,W+1)}function z(ce){let ue=0;for(;ue<ce.length&&(0,A.FD)(ce.charCodeAt(ue));)++ue;return ue}function ee(ce,ue){const oe=ce.replace(/"""/g,'\\"""'),j=oe.split(/\r\n|[\n\r]/g),W=1===j.length,ne=j.length>1&&j.slice(1).every(Ae=>0===Ae.length||(0,A.FD)(Ae.charCodeAt(0))),G=oe.endsWith('\\"""'),le=ce.endsWith('"')&&!G,Ce=ce.endsWith("\\"),ae=le||Ce,_e=!(null!=ue&&ue.minimize)&&(!W||ce.length>70||ae||ne||G);let Pe="";const De=W&&(0,A.FD)(ce.charCodeAt(0));return(_e&&!De||ne)&&(Pe+="\n"),Pe+=oe,(_e||ae)&&(Pe+="\n"),'"""'+Pe+'"""'}},6009:(ct,Le,F)=>{"use strict";function A(ce){return 9===ce||32===ce}function b(ce){return ce>=48&&ce<=57}function z(ce){return ce>=97&&ce<=122||ce>=65&&ce<=90}function de(ce){return z(ce)||95===ce}function ee(ce){return z(ce)||b(ce)||95===ce}F.d(Le,{FD:()=>A,X1:()=>b,LQ:()=>de,HQ:()=>ee})},2289:(ct,Le,F)=>{"use strict";let A;var b;F.d(Le,{h:()=>A}),(b=A||(A={})).NAME="Name",b.DOCUMENT="Document",b.OPERATION_DEFINITION="OperationDefinition",b.VARIABLE_DEFINITION="VariableDefinition",b.SELECTION_SET="SelectionSet",b.FIELD="Field",b.ARGUMENT="Argument",b.FRAGMENT_SPREAD="FragmentSpread",b.INLINE_FRAGMENT="InlineFragment",b.FRAGMENT_DEFINITION="FragmentDefinition",b.VARIABLE="Variable",b.INT="IntValue",b.FLOAT="FloatValue",b.STRING="StringValue",b.BOOLEAN="BooleanValue",b.NULL="NullValue",b.ENUM="EnumValue",b.LIST="ListValue",b.OBJECT="ObjectValue",b.OBJECT_FIELD="ObjectField",b.DIRECTIVE="Directive",b.NAMED_TYPE="NamedType",b.LIST_TYPE="ListType",b.NON_NULL_TYPE="NonNullType",b.SCHEMA_DEFINITION="SchemaDefinition",b.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",b.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",b.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",b.FIELD_DEFINITION="FieldDefinition",b.INPUT_VALUE_DEFINITION="InputValueDefinition",b.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",b.UNION_TYPE_DEFINITION="UnionTypeDefinition",b.ENUM_TYPE_DEFINITION="EnumTypeDefinition",b.ENUM_VALUE_DEFINITION="EnumValueDefinition",b.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",b.DIRECTIVE_DEFINITION="DirectiveDefinition",b.SCHEMA_EXTENSION="SchemaExtension",b.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",b.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",b.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",b.UNION_TYPE_EXTENSION="UnionTypeExtension",b.ENUM_TYPE_EXTENSION="EnumTypeExtension",b.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"},6339:(ct,Le,F)=>{"use strict";F.d(Le,{S:()=>ue});var A=F(2032);const z=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function de(ae){return ee[ae.charCodeAt(0)]}const ee=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var ce=F(1335);function ue(ae){return(0,ce.Vn)(ae,j)}const j={Name:{leave:ae=>ae.value},Variable:{leave:ae=>"$"+ae.name},Document:{leave:ae=>W(ae.definitions,"\n\n")},OperationDefinition:{leave(ae){const _e=G("(",W(ae.variableDefinitions,", "),")"),Pe=W([ae.operation,W([ae.name,_e]),W(ae.directives," ")]," ");return("query"===Pe?"":Pe+" ")+ae.selectionSet}},VariableDefinition:{leave:({variable:ae,type:_e,defaultValue:Pe,directives:De})=>ae+": "+_e+G(" = ",Pe)+G(" ",W(De," "))},SelectionSet:{leave:({selections:ae})=>ne(ae)},Field:{leave({alias:ae,name:_e,arguments:Pe,directives:De,selectionSet:Ae}){const ge=G("",ae,": ")+_e;let je=ge+G("(",W(Pe,", "),")");return je.length>80&&(je=ge+G("(\n",le(W(Pe,"\n")),"\n)")),W([je,W(De," "),Ae]," ")}},Argument:{leave:({name:ae,value:_e})=>ae+": "+_e},FragmentSpread:{leave:({name:ae,directives:_e})=>"..."+ae+G(" ",W(_e," "))},InlineFragment:{leave:({typeCondition:ae,directives:_e,selectionSet:Pe})=>W(["...",G("on ",ae),W(_e," "),Pe]," ")},FragmentDefinition:{leave:({name:ae,typeCondition:_e,variableDefinitions:Pe,directives:De,selectionSet:Ae})=>`fragment ${ae}${G("(",W(Pe,", "),")")} on ${_e} ${G("",W(De," ")," ")}`+Ae},IntValue:{leave:({value:ae})=>ae},FloatValue:{leave:({value:ae})=>ae},StringValue:{leave:({value:ae,block:_e})=>_e?(0,A.LZ)(ae):function(ae){return`"${ae.replace(z,de)}"`}(ae)},BooleanValue:{leave:({value:ae})=>ae?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:ae})=>ae},ListValue:{leave:({values:ae})=>"["+W(ae,", ")+"]"},ObjectValue:{leave:({fields:ae})=>"{"+W(ae,", ")+"}"},ObjectField:{leave:({name:ae,value:_e})=>ae+": "+_e},Directive:{leave:({name:ae,arguments:_e})=>"@"+ae+G("(",W(_e,", "),")")},NamedType:{leave:({name:ae})=>ae},ListType:{leave:({type:ae})=>"["+ae+"]"},NonNullType:{leave:({type:ae})=>ae+"!"},SchemaDefinition:{leave:({description:ae,directives:_e,operationTypes:Pe})=>G("",ae,"\n")+W(["schema",W(_e," "),ne(Pe)]," ")},OperationTypeDefinition:{leave:({operation:ae,type:_e})=>ae+": "+_e},ScalarTypeDefinition:{leave:({description:ae,name:_e,directives:Pe})=>G("",ae,"\n")+W(["scalar",_e,W(Pe," ")]," ")},ObjectTypeDefinition:{leave:({description:ae,name:_e,interfaces:Pe,directives:De,fields:Ae})=>G("",ae,"\n")+W(["type",_e,G("implements ",W(Pe," & ")),W(De," "),ne(Ae)]," ")},FieldDefinition:{leave:({description:ae,name:_e,arguments:Pe,type:De,directives:Ae})=>G("",ae,"\n")+_e+(Ce(Pe)?G("(\n",le(W(Pe,"\n")),"\n)"):G("(",W(Pe,", "),")"))+": "+De+G(" ",W(Ae," "))},InputValueDefinition:{leave:({description:ae,name:_e,type:Pe,defaultValue:De,directives:Ae})=>G("",ae,"\n")+W([_e+": "+Pe,G("= ",De),W(Ae," ")]," ")},InterfaceTypeDefinition:{leave:({description:ae,name:_e,interfaces:Pe,directives:De,fields:Ae})=>G("",ae,"\n")+W(["interface",_e,G("implements ",W(Pe," & ")),W(De," "),ne(Ae)]," ")},UnionTypeDefinition:{leave:({description:ae,name:_e,directives:Pe,types:De})=>G("",ae,"\n")+W(["union",_e,W(Pe," "),G("= ",W(De," | "))]," ")},EnumTypeDefinition:{leave:({description:ae,name:_e,directives:Pe,values:De})=>G("",ae,"\n")+W(["enum",_e,W(Pe," "),ne(De)]," ")},EnumValueDefinition:{leave:({description:ae,name:_e,directives:Pe})=>G("",ae,"\n")+W([_e,W(Pe," ")]," ")},InputObjectTypeDefinition:{leave:({description:ae,name:_e,directives:Pe,fields:De})=>G("",ae,"\n")+W(["input",_e,W(Pe," "),ne(De)]," ")},DirectiveDefinition:{leave:({description:ae,name:_e,arguments:Pe,repeatable:De,locations:Ae})=>G("",ae,"\n")+"directive @"+_e+(Ce(Pe)?G("(\n",le(W(Pe,"\n")),"\n)"):G("(",W(Pe,", "),")"))+(De?" repeatable":"")+" on "+W(Ae," | ")},SchemaExtension:{leave:({directives:ae,operationTypes:_e})=>W(["extend schema",W(ae," "),ne(_e)]," ")},ScalarTypeExtension:{leave:({name:ae,directives:_e})=>W(["extend scalar",ae,W(_e," ")]," ")},ObjectTypeExtension:{leave:({name:ae,interfaces:_e,directives:Pe,fields:De})=>W(["extend type",ae,G("implements ",W(_e," & ")),W(Pe," "),ne(De)]," ")},InterfaceTypeExtension:{leave:({name:ae,interfaces:_e,directives:Pe,fields:De})=>W(["extend interface",ae,G("implements ",W(_e," & ")),W(Pe," "),ne(De)]," ")},UnionTypeExtension:{leave:({name:ae,directives:_e,types:Pe})=>W(["extend union",ae,W(_e," "),G("= ",W(Pe," | "))]," ")},EnumTypeExtension:{leave:({name:ae,directives:_e,values:Pe})=>W(["extend enum",ae,W(_e," "),ne(Pe)]," ")},InputObjectTypeExtension:{leave:({name:ae,directives:_e,fields:Pe})=>W(["extend input",ae,W(_e," "),ne(Pe)]," ")}};function W(ae,_e=""){var Pe;return null!==(Pe=null==ae?void 0:ae.filter(De=>De).join(_e))&&void 0!==Pe?Pe:""}function ne(ae){return G("{\n",le(W(ae,"\n")),"\n}")}function G(ae,_e,Pe=""){return null!=_e&&""!==_e?ae+_e+Pe:""}function le(ae){return G("  ",ae.replace(/\n/g,"\n  "))}function Ce(ae){var _e;return null!==(_e=null==ae?void 0:ae.some(Pe=>Pe.includes("\n")))&&void 0!==_e&&_e}},1462:(ct,Le,F)=>{"use strict";F.d(Le,{H:()=>de,T:()=>ee});var A=F(4047),b=F(744);class de{constructor(ue,oe="GraphQL request",j={line:1,column:1}){"string"==typeof ue||(0,A.a)(!1,`Body must be a string. Received: ${(0,b.X)(ue)}.`),this.body=ue,this.name=oe,this.locationOffset=j,this.locationOffset.line>0||(0,A.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,A.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function ee(ce){return ce instanceof de}},1335:(ct,Le,F)=>{"use strict";F.d(Le,{$_:()=>ee,Vn:()=>ce});var A=F(4047),b=F(744),z=F(6298),de=F(2289);const ee=Object.freeze({});function ce(W,ne,G=z.h8){const le=new Map;for(const B of Object.values(de.h))le.set(B,oe(ne,B));let Ce,ge,je,ae=Array.isArray(W),_e=[W],Pe=-1,De=[],Ae=W;const Ke=[],Mt=[];do{Pe++;const B=Pe===_e.length,re=B&&0!==De.length;if(B){if(ge=0===Mt.length?void 0:Ke[Ke.length-1],Ae=je,je=Mt.pop(),re)if(ae){Ae=Ae.slice();let xe=0;for(const[Fe,Re]of De){const Je=Fe-xe;null===Re?(Ae.splice(Je,1),xe++):Ae[Je]=Re}}else{Ae=Object.defineProperties({},Object.getOwnPropertyDescriptors(Ae));for(const[xe,Fe]of De)Ae[xe]=Fe}Pe=Ce.index,_e=Ce.keys,De=Ce.edits,ae=Ce.inArray,Ce=Ce.prev}else if(je){if(ge=ae?Pe:_e[Pe],Ae=je[ge],null==Ae)continue;Ke.push(ge)}let pe;if(!Array.isArray(Ae)){var dt,Ye;(0,z.UG)(Ae)||(0,A.a)(!1,`Invalid AST Node: ${(0,b.X)(Ae)}.`);const xe=B?null===(dt=le.get(Ae.kind))||void 0===dt?void 0:dt.leave:null===(Ye=le.get(Ae.kind))||void 0===Ye?void 0:Ye.enter;if(pe=null==xe?void 0:xe.call(ne,Ae,ge,je,Ke,Mt),pe===ee)break;if(!1===pe){if(!B){Ke.pop();continue}}else if(void 0!==pe&&(De.push([ge,pe]),!B)){if(!(0,z.UG)(pe)){Ke.pop();continue}Ae=pe}}var Y;void 0===pe&&re&&De.push([ge,Ae]),B?Ke.pop():(Ce={inArray:ae,index:Pe,keys:_e,edits:De,prev:Ce},ae=Array.isArray(Ae),_e=ae?Ae:null!==(Y=G[Ae.kind])&&void 0!==Y?Y:[],Pe=-1,De=[],je&&Mt.push(je),je=Ae)}while(void 0!==Ce);return 0!==De.length?De[De.length-1][1]:W}function oe(W,ne){const G=W[ne];return"object"==typeof G?G:"function"==typeof G?{enter:G,leave:void 0}:{enter:W.enter,leave:W.leave}}},776:(ct,Le,F)=>{"use strict";F.d(Le,{_w:()=>G,Ns:()=>le});var A=F(8720),b=F(4762),z=F(5917),de=F(9193),ee=F(7709),ce=F(3637),ue=F(7574),oe=F(9426),j=F(3190);class W{constructor(ae){this.changes=ae}static of(ae){return new W(ae)}notEmpty(ae){if(this.changes[ae]){const _e=this.changes[ae].currentValue;if(null!=_e)return(0,z.of)(_e)}return de.E}has(ae){return this.changes[ae]?(0,z.of)(this.changes[ae].currentValue):de.E}notFirst(ae){return this.changes[ae]&&!this.changes[ae].isFirstChange()?(0,z.of)(this.changes[ae].currentValue):de.E}notFirstAndEmpty(ae){if(this.changes[ae]&&!this.changes[ae].isFirstChange()){const _e=this.changes[ae].currentValue;if(null!=_e)return(0,z.of)(_e)}return de.E}}const ne=new A.OlP("NGX_ECHARTS_CONFIG");let G=(()=>{class Ce{constructor(_e,Pe,De){this.el=Pe,this.ngZone=De,this.autoResize=!0,this.loadingType="default",this.chartInit=new A.vpe,this.optionsError=new A.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.resize$=new ee.xQ,this.echarts=_e.echarts}ngOnChanges(_e){const Pe=W.of(_e);Pe.notFirstAndEmpty("options").subscribe(De=>this.onOptionsChange(De)),Pe.notFirstAndEmpty("merge").subscribe(De=>this.setOption(De)),Pe.has("loading").subscribe(De=>this.toggleLoading(!!De)),Pe.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe((0,oe.p)(100,ce.z,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement))}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(_e){this.chart&&(_e?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(_e,Pe){if(this.chart)try{this.chart.setOption(_e,Pe)}catch(De){console.error(De),this.optionsError.emit(De)}}refreshChart(){return(0,b.mG)(this,void 0,void 0,function*(){this.dispose(),yield this.initChart()})}createChart(){const _e=this.el.nativeElement;if(window&&window.getComputedStyle){const Pe=window.getComputedStyle(_e,null).getPropertyValue("height");(!Pe||"0px"===Pe)&&(!_e.style.height||"0px"===_e.style.height)&&(_e.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:De})=>De(_e,this.theme,this.initOpts)))}initChart(){return(0,b.mG)(this,void 0,void 0,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(_e){return(0,b.mG)(this,void 0,void 0,function*(){!_e||(this.chart||(this.chart=yield this.createChart(),this.chartInit.emit(this.chart)),this.setOption(this.options,!0))})}createLazyEvent(_e){return this.chartInit.pipe((0,j.w)(Pe=>new ue.y(De=>(Pe.on(_e,Ae=>this.ngZone.run(()=>De.next(Ae))),()=>{this.chart&&(this.chart.isDisposed()||Pe.off(_e))}))))}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(A.Y36(ne),A.Y36(A.SBq),A.Y36(A.R0b))},Ce.\u0275dir=A.lG2({type:Ce,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[A.TTD]}),Ce})(),le=(()=>{class Ce{static forRoot(_e){return{ngModule:Ce,providers:[{provide:ne,useValue:_e}]}}static forChild(){return{ngModule:Ce}}}return Ce.\u0275fac=function(_e){return new(_e||Ce)},Ce.\u0275mod=A.oAB({type:Ce}),Ce.\u0275inj=A.cJS({imports:[[]]}),Ce})()},8239:(ct,Le,F)=>{"use strict";function A(z,de,ee,ce,ue,oe,j){try{var W=z[oe](j),ne=W.value}catch(G){return void ee(G)}W.done?de(ne):Promise.resolve(ne).then(ce,ue)}function b(z){return function(){var de=this,ee=arguments;return new Promise(function(ce,ue){var oe=z.apply(de,ee);function j(ne){A(oe,ce,ue,j,W,"next",ne)}function W(ne){A(oe,ce,ue,j,W,"throw",ne)}j(void 0)})}}F.d(Le,{Z:()=>b})}},ct=>{ct(ct.s=5380)}]);