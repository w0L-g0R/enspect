var HP=Object.defineProperty,zP=Object.defineProperties,$P=Object.getOwnPropertyDescriptors,_E=Object.getOwnPropertySymbols,WP=Object.prototype.hasOwnProperty,GP=Object.prototype.propertyIsEnumerable,bE=(ct,Le,F)=>Le in ct?HP(ct,Le,{enumerable:!0,configurable:!0,writable:!0,value:F}):ct[Le]=F,Mu=(ct,Le)=>{for(var F in Le||(Le={}))WP.call(Le,F)&&bE(ct,F,Le[F]);if(_E)for(var F of _E(Le))GP.call(Le,F)&&bE(ct,F,Le[F]);return ct},Jy=(ct,Le)=>zP(ct,$P(Le));(self.webpackChunkenspect=self.webpackChunkenspect||[]).push([[179],{8255:ct=>{function Le(F){return Promise.resolve().then(()=>{var A=new Error("Cannot find module '"+F+"'");throw A.code="MODULE_NOT_FOUND",A})}Le.keys=()=>[],Le.resolve=Le,Le.id=8255,ct.exports=Le},8583:(ct,Le,F)=>{"use strict";F.d(Le,{mr:()=>Ae,ez:()=>Bi,K0:()=>ue,Do:()=>je,Nd:()=>sc,V_:()=>W,Ye:()=>Ke,S$:()=>Pe,mk:()=>mi,sg:()=>ui,O5:()=>ur,PC:()=>Tr,RF:()=>vi,n9:()=>_o,ED:()=>Uo,tP:()=>Ai,b0:()=>ge,lw:()=>oe,EM:()=>yi,JF:()=>as,NF:()=>hl,w_:()=>ce,bD:()=>Zi,q:()=>$,Mx:()=>os,HT:()=>ee});var A=F(8720);let y=null;function $(){return y}function ee(Q){y||(y=Q)}class ce{}const ue=new A.OlP("DocumentToken");let oe=(()=>{class Q{historyGo(C){throw new Error("Not implemented")}}return Q.\u0275fac=function(C){return new(C||Q)},Q.\u0275prov=(0,A.Yz7)({factory:j,token:Q,providedIn:"platform"}),Q})();function j(){return(0,A.LFG)(ne)}const W=new A.OlP("Location Initialized");let ne=(()=>{class Q extends oe{constructor(C){super(),this._doc=C,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(C){const _=$().getGlobalEventTarget(this._doc,"window");return _.addEventListener("popstate",C,!1),()=>_.removeEventListener("popstate",C)}onHashChange(C){const _=$().getGlobalEventTarget(this._doc,"window");return _.addEventListener("hashchange",C,!1),()=>_.removeEventListener("hashchange",C)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(C){this.location.pathname=C}pushState(C,_,w){G()?this._history.pushState(C,_,w):this.location.hash=w}replaceState(C,_,w){G()?this._history.replaceState(C,_,w):this.location.hash=w}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return Q.\u0275fac=function(C){return new(C||Q)(A.LFG(ue))},Q.\u0275prov=(0,A.Yz7)({factory:le,token:Q,providedIn:"platform"}),Q})();function G(){return!!window.history.pushState}function le(){return new ne((0,A.LFG)(ue))}function Ce(Q,me){if(0==Q.length)return me;if(0==me.length)return Q;let C=0;return Q.endsWith("/")&&C++,me.startsWith("/")&&C++,2==C?Q+me.substring(1):1==C?Q+me:Q+"/"+me}function ae(Q){const me=Q.match(/#|\?|$/),C=me&&me.index||Q.length;return Q.slice(0,C-("/"===Q[C-1]?1:0))+Q.slice(C)}function _e(Q){return Q&&"?"!==Q[0]?"?"+Q:Q}let Pe=(()=>{class Q{historyGo(C){throw new Error("Not implemented")}}return Q.\u0275fac=function(C){return new(C||Q)},Q.\u0275prov=(0,A.Yz7)({factory:De,token:Q,providedIn:"root"}),Q})();function De(Q){const me=(0,A.LFG)(ue).location;return new ge((0,A.LFG)(oe),me&&me.origin||"")}const Ae=new A.OlP("appBaseHref");let ge=(()=>{class Q extends Pe{constructor(C,_){if(super(),this._platformLocation=C,this._removeListenerFns=[],null==_&&(_=this._platformLocation.getBaseHrefFromDOM()),null==_)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=_}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return Ce(this._baseHref,C)}path(C=!1){const _=this._platformLocation.pathname+_e(this._platformLocation.search),w=this._platformLocation.hash;return w&&C?`${_}${w}`:_}pushState(C,_,w,V){const X=this.prepareExternalUrl(w+_e(V));this._platformLocation.pushState(C,_,X)}replaceState(C,_,w,V){const X=this.prepareExternalUrl(w+_e(V));this._platformLocation.replaceState(C,_,X)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(C=0){var _,w;null===(w=(_=this._platformLocation).historyGo)||void 0===w||w.call(_,C)}}return Q.\u0275fac=function(C){return new(C||Q)(A.LFG(oe),A.LFG(Ae,8))},Q.\u0275prov=A.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),je=(()=>{class Q extends Pe{constructor(C,_){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=_&&(this._baseHref=_)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let _=this._platformLocation.hash;return null==_&&(_="#"),_.length>0?_.substring(1):_}prepareExternalUrl(C){const _=Ce(this._baseHref,C);return _.length>0?"#"+_:_}pushState(C,_,w,V){let X=this.prepareExternalUrl(w+_e(V));0==X.length&&(X=this._platformLocation.pathname),this._platformLocation.pushState(C,_,X)}replaceState(C,_,w,V){let X=this.prepareExternalUrl(w+_e(V));0==X.length&&(X=this._platformLocation.pathname),this._platformLocation.replaceState(C,_,X)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(C=0){var _,w;null===(w=(_=this._platformLocation).historyGo)||void 0===w||w.call(_,C)}}return Q.\u0275fac=function(C){return new(C||Q)(A.LFG(oe),A.LFG(Ae,8))},Q.\u0275prov=A.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),Ke=(()=>{class Q{constructor(C,_){this._subject=new A.vpe,this._urlChangeListeners=[],this._platformStrategy=C;const w=this._platformStrategy.getBaseHref();this._platformLocation=_,this._baseHref=ae(Ye(w)),this._platformStrategy.onPopState(V=>{this._subject.emit({url:this.path(!0),pop:!0,state:V.state,type:V.type})})}path(C=!1){return this.normalize(this._platformStrategy.path(C))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(C,_=""){return this.path()==this.normalize(C+_e(_))}normalize(C){return Q.stripTrailingSlash(function(Q,me){return Q&&me.startsWith(Q)?me.substring(Q.length):me}(this._baseHref,Ye(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._platformStrategy.prepareExternalUrl(C)}go(C,_="",w=null){this._platformStrategy.pushState(w,"",C,_),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+_e(_)),w)}replaceState(C,_="",w=null){this._platformStrategy.replaceState(w,"",C,_),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+_e(_)),w)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(C=0){var _,w;null===(w=(_=this._platformStrategy).historyGo)||void 0===w||w.call(_,C)}onUrlChange(C){this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(_=>{this._notifyUrlChangeListeners(_.url,_.state)}))}_notifyUrlChangeListeners(C="",_){this._urlChangeListeners.forEach(w=>w(C,_))}subscribe(C,_,w){return this._subject.subscribe({next:C,error:_,complete:w})}}return Q.\u0275fac=function(C){return new(C||Q)(A.LFG(Pe),A.LFG(oe))},Q.normalizeQueryParams=_e,Q.joinWithSlash=Ce,Q.stripTrailingSlash=ae,Q.\u0275prov=(0,A.Yz7)({factory:Dt,token:Q,providedIn:"root"}),Q})();function Dt(){return new Ke((0,A.LFG)(Pe),(0,A.LFG)(oe))}function Ye(Q){return Q.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Zero=0]="Zero",re[re.One=1]="One",re[re.Two=2]="Two",re[re.Few=3]="Few",re[re.Many=4]="Many",re[re.Other=5]="Other",re))();const ai=A.kL8;class Zr{}let _n=(()=>{class Q extends Zr{constructor(C){super(),this.locale=C}getPluralCategory(C,_){switch(ai(_||this.locale)(C)){case re.Zero:return"zero";case re.One:return"one";case re.Two:return"two";case re.Few:return"few";case re.Many:return"many";default:return"other"}}}return Q.\u0275fac=function(C){return new(C||Q)(A.LFG(A.soG))},Q.\u0275prov=A.Yz7({token:Q,factory:Q.\u0275fac}),Q})();function os(Q,me){me=encodeURIComponent(me);for(const C of Q.split(";")){const _=C.indexOf("="),[w,V]=-1==_?[C,""]:[C.slice(0,_),C.slice(_+1)];if(w.trim()===me)return decodeURIComponent(V)}return null}let mi=(()=>{class Q{constructor(C,_,w,V){this._iterableDiffers=C,this._keyValueDiffers=_,this._ngEl=w,this._renderer=V,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(C){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof C?C.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(C){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof C?C.split(/\s+/):C,this._rawClass&&((0,A.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const C=this._iterableDiffer.diff(this._rawClass);C&&this._applyIterableChanges(C)}else if(this._keyValueDiffer){const C=this._keyValueDiffer.diff(this._rawClass);C&&this._applyKeyValueChanges(C)}}_applyKeyValueChanges(C){C.forEachAddedItem(_=>this._toggleClass(_.key,_.currentValue)),C.forEachChangedItem(_=>this._toggleClass(_.key,_.currentValue)),C.forEachRemovedItem(_=>{_.previousValue&&this._toggleClass(_.key,!1)})}_applyIterableChanges(C){C.forEachAddedItem(_=>{if("string"!=typeof _.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,A.AaK)(_.item)}`);this._toggleClass(_.item,!0)}),C.forEachRemovedItem(_=>this._toggleClass(_.item,!1))}_applyClasses(C){C&&(Array.isArray(C)||C instanceof Set?C.forEach(_=>this._toggleClass(_,!0)):Object.keys(C).forEach(_=>this._toggleClass(_,!!C[_])))}_removeClasses(C){C&&(Array.isArray(C)||C instanceof Set?C.forEach(_=>this._toggleClass(_,!1)):Object.keys(C).forEach(_=>this._toggleClass(_,!1)))}_toggleClass(C,_){(C=C.trim())&&C.split(/\s+/g).forEach(w=>{_?this._renderer.addClass(this._ngEl.nativeElement,w):this._renderer.removeClass(this._ngEl.nativeElement,w)})}}return Q.\u0275fac=function(C){return new(C||Q)(A.Y36(A.ZZ4),A.Y36(A.aQg),A.Y36(A.SBq),A.Y36(A.Qsj))},Q.\u0275dir=A.lG2({type:Q,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Q})();class Mi{constructor(me,C,_,w){this.$implicit=me,this.ngForOf=C,this.index=_,this.count=w}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ui=(()=>{class Q{constructor(C,_,w){this._viewContainer=C,this._template=_,this._differs=w,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;if(!this._differ&&C)try{this._differ=this._differs.find(C).create(this.ngForTrackBy)}catch(_){throw new Error(`Cannot find a differ supporting object '${C}' of type '${function(Q){return Q.name||typeof Q}(C)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const _=[];C.forEachOperation((w,V,X)=>{if(null==w.previousIndex){const be=this._viewContainer.createEmbeddedView(this._template,new Mi(null,this._ngForOf,-1,-1),null===X?void 0:X),We=new Es(w,be);_.push(We)}else if(null==X)this._viewContainer.remove(null===V?void 0:V);else if(null!==V){const be=this._viewContainer.get(V);this._viewContainer.move(be,X);const We=new Es(w,be);_.push(We)}});for(let w=0;w<_.length;w++)this._perViewChange(_[w].view,_[w].record);for(let w=0,V=this._viewContainer.length;w<V;w++){const X=this._viewContainer.get(w);X.context.index=w,X.context.count=V,X.context.ngForOf=this._ngForOf}C.forEachIdentityChange(w=>{this._viewContainer.get(w.currentIndex).context.$implicit=w.item})}_perViewChange(C,_){C.context.$implicit=_.item}static ngTemplateContextGuard(C,_){return!0}}return Q.\u0275fac=function(C){return new(C||Q)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))},Q.\u0275dir=A.lG2({type:Q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Q})();class Es{constructor(me,C){this.record=me,this.view=C}}let ur=(()=>{class Q{constructor(C,_){this._viewContainer=C,this._context=new io,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=_}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){Bo("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){Bo("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,_){return!0}}return Q.\u0275fac=function(C){return new(C||Q)(A.Y36(A.s_b),A.Y36(A.Rgc))},Q.\u0275dir=A.lG2({type:Q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Q})();class io{constructor(){this.$implicit=null,this.ngIf=null}}function Bo(Q,me){if(me&&!me.createEmbeddedView)throw new Error(`${Q} must be a TemplateRef, but received '${(0,A.AaK)(me)}'.`)}class Qs{constructor(me,C){this._viewContainerRef=me,this._templateRef=C,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(me){me&&!this._created?this.create():!me&&this._created&&this.destroy()}}let vi=(()=>{class Q{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(C){this._ngSwitch=C,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(C){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(C)}_matchCase(C){const _=C==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||_,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),_}_updateDefaultCases(C){if(this._defaultViews&&C!==this._defaultUsed){this._defaultUsed=C;for(let _=0;_<this._defaultViews.length;_++)this._defaultViews[_].enforceState(C)}}}return Q.\u0275fac=function(C){return new(C||Q)},Q.\u0275dir=A.lG2({type:Q,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Q})(),_o=(()=>{class Q{constructor(C,_,w){this.ngSwitch=w,w._addCase(),this._view=new Qs(C,_)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return Q.\u0275fac=function(C){return new(C||Q)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(vi,9))},Q.\u0275dir=A.lG2({type:Q,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Q})(),Uo=(()=>{class Q{constructor(C,_,w){w._addDefault(new Qs(C,_))}}return Q.\u0275fac=function(C){return new(C||Q)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(vi,9))},Q.\u0275dir=A.lG2({type:Q,selectors:[["","ngSwitchDefault",""]]}),Q})(),Tr=(()=>{class Q{constructor(C,_,w){this._ngEl=C,this._differs=_,this._renderer=w,this._ngStyle=null,this._differ=null}set ngStyle(C){this._ngStyle=C,!this._differ&&C&&(this._differ=this._differs.find(C).create())}ngDoCheck(){if(this._differ){const C=this._differ.diff(this._ngStyle);C&&this._applyChanges(C)}}_setStyle(C,_){const[w,V]=C.split(".");null!=(_=null!=_&&V?`${_}${V}`:_)?this._renderer.setStyle(this._ngEl.nativeElement,w,_):this._renderer.removeStyle(this._ngEl.nativeElement,w)}_applyChanges(C){C.forEachRemovedItem(_=>this._setStyle(_.key,null)),C.forEachAddedItem(_=>this._setStyle(_.key,_.currentValue)),C.forEachChangedItem(_=>this._setStyle(_.key,_.currentValue))}}return Q.\u0275fac=function(C){return new(C||Q)(A.Y36(A.SBq),A.Y36(A.aQg),A.Y36(A.Qsj))},Q.\u0275dir=A.lG2({type:Q,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Q})(),Ai=(()=>{class Q{constructor(C){this._viewContainerRef=C,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(C){if(C.ngTemplateOutlet){const _=this._viewContainerRef;this._viewRef&&_.remove(_.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?_.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&C.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return Q.\u0275fac=function(C){return new(C||Q)(A.Y36(A.s_b))},Q.\u0275dir=A.lG2({type:Q,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[A.TTD]}),Q})(),sc=(()=>{class Q{constructor(C){this.differs=C,this.keyValues=[],this.compareFn=jo}transform(C,_=jo){if(!C||!(C instanceof Map)&&"object"!=typeof C)return null;this.differ||(this.differ=this.differs.find(C).create());const w=this.differ.diff(C),V=_!==this.compareFn;return w&&(this.keyValues=[],w.forEachItem(X=>{this.keyValues.push(function(Q,me){return{key:Q,value:me}}(X.key,X.currentValue))})),(w||V)&&(this.keyValues.sort(_),this.compareFn=_),this.keyValues}}return Q.\u0275fac=function(C){return new(C||Q)(A.Y36(A.aQg,16))},Q.\u0275pipe=A.Yjl({name:"keyvalue",type:Q,pure:!1}),Q})();function jo(Q,me){const C=Q.key,_=me.key;if(C===_)return 0;if(void 0===C)return 1;if(void 0===_)return-1;if(null===C)return 1;if(null===_)return-1;if("string"==typeof C&&"string"==typeof _)return C<_?-1:1;if("number"==typeof C&&"number"==typeof _)return C-_;if("boolean"==typeof C&&"boolean"==typeof _)return C<_?-1:1;const w=String(C),V=String(_);return w==V?0:w<V?-1:1}let Bi=(()=>{class Q{}return Q.\u0275fac=function(C){return new(C||Q)},Q.\u0275mod=A.oAB({type:Q}),Q.\u0275inj=A.cJS({providers:[{provide:Zr,useClass:_n}]}),Q})();const Zi="browser";function hl(Q){return Q===Zi}let yi=(()=>{class Q{}return Q.\u0275prov=(0,A.Yz7)({token:Q,providedIn:"root",factory:()=>new Ii((0,A.LFG)(ue),window)}),Q})();class Ii{constructor(me,C){this.document=me,this.window=C,this.offset=()=>[0,0]}setOffset(me){this.offset=Array.isArray(me)?()=>me:me}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(me){this.supportsScrolling()&&this.window.scrollTo(me[0],me[1])}scrollToAnchor(me){if(!this.supportsScrolling())return;const C=function(Q,me){const C=Q.getElementById(me)||Q.getElementsByName(me)[0];if(C)return C;if("function"==typeof Q.createTreeWalker&&Q.body&&(Q.body.createShadowRoot||Q.body.attachShadow)){const _=Q.createTreeWalker(Q.body,NodeFilter.SHOW_ELEMENT);let w=_.currentNode;for(;w;){const V=w.shadowRoot;if(V){const X=V.getElementById(me)||V.querySelector(`[name="${me}"]`);if(X)return X}w=_.nextNode()}}return null}(this.document,me);C&&(this.scrollToElement(C),this.attemptFocus(C))}setHistoryScrollRestoration(me){if(this.supportScrollRestoration()){const C=this.window.history;C&&C.scrollRestoration&&(C.scrollRestoration=me)}}scrollToElement(me){const C=me.getBoundingClientRect(),_=C.left+this.window.pageXOffset,w=C.top+this.window.pageYOffset,V=this.offset();this.window.scrollTo(_-V[0],w-V[1])}attemptFocus(me){return me.focus(),this.document.activeElement===me}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const me=hs(this.window.history)||hs(Object.getPrototypeOf(this.window.history));return!(!me||!me.writable&&!me.set)}catch(me){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(me){return!1}}}function hs(Q){return Object.getOwnPropertyDescriptor(Q,"scrollRestoration")}class as{}},8720:(ct,Le,F)=>{"use strict";F.d(Le,{deG:()=>xr,tb:()=>MT,AFp:()=>OT,ip1:()=>$0,CZH:()=>rg,hGG:()=>WO,z2F:()=>zm,sBO:()=>Lx,Sil:()=>Hm,_Vd:()=>Kp,EJc:()=>IT,SBq:()=>rc,qLn:()=>ka,vpe:()=>ic,gxx:()=>jd,tBr:()=>zu,XFs:()=>an,OlP:()=>dr,zs3:()=>wi,ZZ4:()=>My,aQg:()=>Ay,soG:()=>Hy,YKP:()=>mC,v3s:()=>xO,h0i:()=>Oh,PXZ:()=>yO,R0b:()=>ul,FiY:()=>Pa,Lbi:()=>DT,g9A:()=>PT,Qsj:()=>Cx,FYo:()=>Dy,JOm:()=>$i,Tiy:()=>y0,q3G:()=>ni,tp0:()=>Sl,EAV:()=>PO,Rgc:()=>Mm,dDg:()=>LT,DyG:()=>Qa,GfV:()=>lC,s_b:()=>Ry,ifc:()=>rr,eFA:()=>HT,G48:()=>dO,Gpc:()=>Ce,_c5:()=>BO,VLi:()=>cO,c2e:()=>AT,zSh:()=>Fc,wAp:()=>wn,vHH:()=>De,EiD:()=>Pn,mCW:()=>Gu,qzn:()=>Da,JVY:()=>ou,pB0:()=>Wh,eBb:()=>Tf,L6k:()=>Cf,LAX:()=>Ef,cg1:()=>Sh,Tjo:()=>LO,kL8:()=>Em,yhl:()=>bf,dqk:()=>En,sIi:()=>Cr,CqO:()=>Up,QGY:()=>fm,F4k:()=>Wv,RDi:()=>Q,AaK:()=>ne,z3N:()=>ea,qOj:()=>it,TTD:()=>Eo,_Bn:()=>rC,xp6:()=>Kf,uIk:()=>Qg,Gre:()=>Nr,ekj:()=>ym,Suo:()=>iT,Xpm:()=>Vn,lG2:()=>Fr,Yz7:()=>fn,cJS:()=>Nn,oAB:()=>Qi,Yjl:()=>Di,Y36:()=>Fl,_UZ:()=>um,BQk:()=>Jd,ynx:()=>cm,qZA:()=>Xd,TgZ:()=>lm,EpF:()=>dm,n5z:()=>te,Ikx:()=>Zt,LFG:()=>Hi,$8M:()=>Ve,NdJ:()=>hm,CRH:()=>sT,kcU:()=>ei,O4$:()=>Ru,oxw:()=>Yv,ALo:()=>XC,lcZ:()=>JC,Hsn:()=>Ch,F$t:()=>Zv,Q6J:()=>Bp,VKq:()=>$C,WLB:()=>WC,kEZ:()=>GC,iGM:()=>nT,MAs:()=>Zg,Jf7:()=>gu,CHM:()=>Rn,oJD:()=>Ja,LSH:()=>qu,kYT:()=>Ki,Udp:()=>Wp,YNc:()=>Yg,W1O:()=>uT,_uU:()=>xh,hij:()=>Gp,Gf:()=>rT});var A=F(7709),y=F(5319),$=F(7574),fe=F(6682),ee=F(4458),ce=F(1307);function ue(){return new A.xQ}function j(e){for(let t in e)if(e[t]===j)return t;throw Error("Could not find renamed property on target object.")}function W(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ne(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ne).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function G(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const le=j({__forward_ref__:j});function Ce(e){return e.__forward_ref__=Ce,e.toString=function(){return ne(this())},e}function ae(e){return _e(e)?e():e}function _e(e){return"function"==typeof e&&e.hasOwnProperty(le)&&e.__forward_ref__===Ce}class De extends Error{constructor(t,r){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(t,r)),this.code=t}}function je(e){return"string"==typeof e?e:null==e?"":String(e)}function Ke(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():je(e)}function Y(e,t){const r=t?` in ${t}`:"";throw new De("201",`No provider for ${Ke(e)} found${r}`)}function jt(e,t){null==e&&function(e,t,r,l){throw new Error(`ASSERTION ERROR: ${e}`+(null==l?"":` [Expected=> ${r} ${l} ${t} <=Actual]`))}(t,e,null,"!=")}function fn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Sr(e){return Tn(e,Oi)||Tn(e,Qn)}function Tn(e,t){return e.hasOwnProperty(t)?e[t]:null}function nr(e){return e&&(e.hasOwnProperty(Lr)||e.hasOwnProperty(qi))?e[Lr]:null}const Oi=j({\u0275prov:j}),Lr=j({\u0275inj:j}),Qn=j({ngInjectableDef:j}),qi=j({ngInjectorDef:j});var an=(()=>((an=an||{})[an.Default=0]="Default",an[an.Host=1]="Host",an[an.Self=2]="Self",an[an.SkipSelf=4]="SkipSelf",an[an.Optional=8]="Optional",an))();let Hn;function Mr(e){const t=Hn;return Hn=e,t}function pr(e,t,r){const l=Sr(e);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:r&an.Optional?null:void 0!==t?t:void Y(ne(e),"Injector")}function Jn(e){return{toString:e}.toString()}var Kt=(()=>((Kt=Kt||{})[Kt.OnPush=0]="OnPush",Kt[Kt.Default=1]="Default",Kt))(),rr=(()=>((rr=rr||{})[rr.Emulated=0]="Emulated",rr[rr.None=2]="None",rr[rr.ShadowDom=3]="ShadowDom",rr))();const Gr="undefined"!=typeof globalThis&&globalThis,ks="undefined"!=typeof window&&window,Pi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,En=Gr||"undefined"!=typeof global&&global||ks||Pi,pn={},Fn=[],pi=j({\u0275cmp:j}),ss=j({\u0275dir:j}),vo=j({\u0275pipe:j}),Oe=j({\u0275mod:j}),Ne=j({\u0275loc:j}),Qe=j({\u0275fac:j}),pt=j({__NG_ELEMENT_ID__:j});let Ht=0;function Vn(e){return Jn(()=>{const r={},l={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Fn,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||rr.Emulated,id:"c",styles:e.styles||Fn,_:null,setInput:null,schemas:e.schemas||null,tView:null},f=e.directives,h=e.features,b=e.pipes;return l.id+=Ht++,l.inputs=Et(e.inputs,r),l.outputs=Et(e.outputs),h&&h.forEach(x=>x(l)),l.directiveDefs=f?()=>("function"==typeof f?f():f).map(ir):null,l.pipeDefs=b?()=>("function"==typeof b?b():b).map(gr):null,l})}function ir(e){return er(e)||function(e){return e[ss]||null}(e)}function gr(e){return function(e){return e[vo]||null}(e)}const nn={};function Qi(e){return Jn(()=>{const t={type:e.type,bootstrap:e.bootstrap||Fn,declarations:e.declarations||Fn,imports:e.imports||Fn,exports:e.exports||Fn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(nn[e.id]=e.type),t})}function Ki(e,t){return Jn(()=>{const r=li(e,!0);r.declarations=t.declarations||Fn,r.imports=t.imports||Fn,r.exports=t.exports||Fn})}function Et(e,t){if(null==e)return pn;const r={};for(const l in e)if(e.hasOwnProperty(l)){let f=e[l],h=f;Array.isArray(f)&&(h=f[1],f=f[0]),r[f]=l,t&&(t[f]=h)}return r}const Fr=Vn;function Di(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function er(e){return e[pi]||null}function li(e,t){const r=e[Oe]||null;if(!r&&!0===t)throw new Error(`Type ${ne(e)} does not have '\u0275mod' property.`);return r}function Tr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ai(e){return Array.isArray(e)&&!0===e[1]}function Dr(e){return 0!=(8&e.flags)}function zn(e){return 2==(2&e.flags)}function so(e){return 1==(1&e.flags)}function Ur(e){return null!==e.template}function Ua(e){return 0!=(512&e[2])}function Zi(e,t){return e.hasOwnProperty(Qe)?e[Qe]:null}class To{constructor(t,r,l){this.previousValue=t,this.currentValue=r,this.firstChange=l}isFirstChange(){return this.firstChange}}function Eo(){return fl}function fl(e){return e.type.prototype.ngOnChanges&&(e.setInput=Qc),hl}function hl(){const e=Ho(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===pn)e.previous=t;else for(let l in t)r[l]=t[l];e.current=null,this.ngOnChanges(t)}}function Qc(e,t,r,l){const f=Ho(e)||function(e,t){return e[cr]=t}(e,{previous:pn,current:null}),h=f.current||(f.current={}),b=f.previous,x=this.declaredInputs[r],M=b[x];h[x]=new To(M&&M.currentValue,t,b===pn),e[l]=t}Eo.ngInherit=!0;const cr="__ngSimpleChanges__";function Ho(e){return e[cr]||null}const xo="http://www.w3.org/2000/svg";let as;function Q(e){as=e}function me(){return void 0!==as?as:"undefined"!=typeof document?document:void 0}function _(e){return!!e.listen}const V={createRenderer:(e,t)=>me()};function be(e){for(;Array.isArray(e);)e=e[0];return e}function rt(e,t){return be(t[e])}function ut(e,t){return be(t[e.index])}function St(e,t){return e.data[t]}function It(e,t){return e[t]}function $t(e,t){const r=t[e];return Tr(r)?r:r[0]}function Gt(e){return 4==(4&e[2])}function Wt(e){return 128==(128&e[2])}function un(e,t){return null==t?null:e[t]}function Wn(e){e[18]=0}function ar(e,t){e[5]+=t;let r=e,l=e[3];for(;null!==l&&(1===t&&1===r[5]||-1===t&&0===r[5]);)l[5]+=t,r=l,l=l[3]}const tn={lFrame:bi(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function _i(){return tn.bindingsEnabled}function Nt(){return tn.lFrame.lView}function Xn(){return tn.lFrame.tView}function Rn(e){return tn.lFrame.contextLView=e,e[8]}function Ar(){let e=$a();for(;null!==e&&64===e.type;)e=e.parent;return e}function $a(){return tn.lFrame.currentTNode}function Jr(e,t){const r=tn.lFrame;r.currentTNode=e,r.isParent=t}function di(){return tn.lFrame.isParent}function Hr(){tn.lFrame.isParent=!1}function Ss(){return tn.isInCheckNoChangesMode}function zr(e){tn.isInCheckNoChangesMode=e}function ps(){const e=tn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function zo(){return tn.lFrame.bindingIndex++}function Vi(e){const t=tn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Iu(e,t){const r=tn.lFrame;r.bindingIndex=r.bindingRootIndex=e,oo(t)}function oo(e){tn.lFrame.currentDirectiveIndex=e}function ya(){return tn.lFrame.currentQueryIndex}function Zs(e){tn.lFrame.currentQueryIndex=e}function oc(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function _a(e,t,r){if(r&an.SkipSelf){let f=t,h=e;for(;!(f=f.parent,null!==f||r&an.Host||(f=oc(h),null===f||(h=h[15],10&f.type))););if(null===f)return!1;t=f,e=h}const l=tn.lFrame=wo();return l.currentTNode=t,l.lView=e,!0}function gs(e){const t=wo(),r=e[1];tn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function wo(){const e=tn.lFrame,t=null===e?null:e.child;return null===t?bi(e):t}function bi(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ku(){const e=tn.lFrame;return tn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ql=ku;function Wa(){const e=ku();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ci(){return tn.lFrame.selectedIndex}function ms(e){tn.lFrame.selectedIndex=e}function qr(){const e=tn.lFrame;return St(e.tView,e.selectedIndex)}function Ru(){tn.lFrame.currentNamespace=xo}function ei(){tn.lFrame.currentNamespace=null}function Oo(e,t){for(let r=t.directiveStart,l=t.directiveEnd;r<l;r++){const h=e.data[r].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:x,ngAfterViewInit:M,ngAfterViewChecked:z,ngOnDestroy:se}=h;b&&(e.contentHooks||(e.contentHooks=[])).push(-r,b),x&&((e.contentHooks||(e.contentHooks=[])).push(r,x),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(r,x)),M&&(e.viewHooks||(e.viewHooks=[])).push(-r,M),z&&((e.viewHooks||(e.viewHooks=[])).push(r,z),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(r,z)),null!=se&&(e.destroyHooks||(e.destroyHooks=[])).push(r,se)}}function ml(e,t,r){Nu(e,t,3,r)}function ba(e,t,r,l){(3&e[2])===r&&Nu(e,t,r,l)}function Ri(e,t){let r=e[2];(3&r)===t&&(r&=2047,r+=1,e[2]=r)}function Nu(e,t,r,l){const h=null!=l?l:-1,b=t.length-1;let x=0;for(let M=void 0!==l?65535&e[18]:0;M<b;M++)if("number"==typeof t[M+1]){if(x=t[M],null!=l&&x>=l)break}else t[M]<0&&(e[18]+=65536),(x<h||-1==h)&&(Ga(e,r,t,M),e[18]=(4294901760&e[18])+M+2),M++}function Ga(e,t,r,l){const f=r[l]<0,h=r[l+1],x=e[f?-r[l]:r[l]];if(f){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{h.call(x)}finally{}}}else try{h.call(x)}finally{}}class Ca{constructor(t,r,l){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=l}}function ls(e,t,r){const l=_(e);let f=0;for(;f<r.length;){const h=r[f];if("number"==typeof h){if(0!==h)break;f++;const b=r[f++],x=r[f++],M=r[f++];l?e.setAttribute(t,x,M,b):t.setAttributeNS(b,x,M)}else{const b=h,x=r[++f];Xs(b)?l&&e.setProperty(t,b,x):l?e.setAttribute(t,b,x):t.setAttribute(b,x),f++}}return f}function Ta(e){return 3===e||4===e||6===e}function Xs(e){return 64===e.charCodeAt(0)}function Po(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?r=f:0===r||ac(e,r,f,null,-1===r||2===r?t[++l]:null)}}return e}function ac(e,t,r,l,f){let h=0,b=e.length;if(-1===t)b=-1;else for(;h<e.length;){const x=e[h++];if("number"==typeof x){if(x===t){b=-1;break}if(x>t){b=h-1;break}}}for(;h<e.length;){const x=e[h];if("number"==typeof x)break;if(x===r){if(null===l)return void(null!==f&&(e[h+1]=f));if(l===e[h+1])return void(e[h+2]=f)}h++,null!==l&&h++,null!==f&&h++}-1!==b&&(e.splice(b,0,t),h=b+1),e.splice(h++,0,r),null!==l&&e.splice(h++,0,l),null!==f&&e.splice(h++,0,f)}function Bu(e){return-1!==e}function Ea(e){return 32767&e}function Qo(e,t){let r=function(e){return e>>16}(e),l=t;for(;r>0;)l=l[15],r--;return l}let Ko=!0;function Uu(e){const t=Ko;return Ko=e,t}let xa=0;function Ni(e,t){const r=qa(e,t);if(-1!==r)return r;const l=t[1];l.firstCreatePass&&(e.injectorIndex=t.length,uc(l.data,e),uc(t,null),uc(l.blueprint,null));const f=bl(e,t),h=e.injectorIndex;if(Bu(f)){const b=Ea(f),x=Qo(f,t),M=x[1].data;for(let z=0;z<8;z++)t[h+z]=x[b+z]|M[b+z]}return t[h+8]=f,h}function uc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function qa(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function bl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,l=null,f=t;for(;null!==f;){const h=f[1],b=h.type;if(l=2===b?h.declTNode:1===b?f[6]:null,null===l)return-1;if(r++,f=f[15],-1!==l.injectorIndex)return l.injectorIndex|r<<16}return-1}function wa(e,t,r){!function(e,t,r){let l;"string"==typeof r?l=r.charCodeAt(0)||0:r.hasOwnProperty(pt)&&(l=r[pt]),null==l&&(l=r[pt]=xa++);const f=255&l;t.data[e+(f>>5)]|=1<<f}(e,t,r)}function Zc(e,t,r){if(r&an.Optional)return e;Y(t,"NodeInjector")}function Os(e,t,r,l){if(r&an.Optional&&void 0===l&&(l=null),0==(r&(an.Self|an.Host))){const f=e[9],h=Mr(void 0);try{return f?f.get(t,l,r&an.Optional):pr(t,l,r&an.Optional)}finally{Mr(h)}}return Zc(l,t,r)}function Ei(e,t,r,l=an.Default,f){if(null!==e){const h=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(pt)?e[pt]:void 0;return"number"==typeof t?t>=0?255&t:Xl:t}(r);if("function"==typeof h){if(!_a(t,e,l))return l&an.Host?Zc(f,r,l):Os(t,r,l,f);try{const b=h(l);if(null!=b||l&an.Optional)return b;Y(r)}finally{ql()}}else if("number"==typeof h){let b=null,x=qa(e,t),M=-1,z=l&an.Host?t[16][6]:null;for((-1===x||l&an.SkipSelf)&&(M=-1===x?bl(e,t):t[x+8],-1!==M&&P(l,!1)?(b=t[1],x=Ea(M),t=Qo(M,t)):x=-1);-1!==x;){const se=t[1];if(D(h,x,se.data)){const Te=cc(x,t,r,b,l,z);if(Te!==Yo)return Te}M=t[x+8],-1!==M&&P(l,t[1].data[x+8]===z)&&D(h,x,t)?(b=se,x=Ea(M),t=Qo(M,t)):x=-1}}}return Os(t,r,l,f)}const Yo={};function Xl(){return new H(Ar(),Nt())}function cc(e,t,r,l,f,h){const b=t[1],x=b.data[e+8],se=Vu(x,b,r,null==l?zn(x)&&Ko:l!=b&&0!=(3&x.type),f&an.Host&&h===x);return null!==se?Ps(t,b,se,x):Yo}function Vu(e,t,r,l,f){const h=e.providerIndexes,b=t.data,x=1048575&h,M=e.directiveStart,se=h>>20,Ie=f?x+se:e.directiveEnd;for(let ze=l?x:x+se;ze<Ie;ze++){const Ze=b[ze];if(ze<M&&r===Ze||ze>=M&&Ze.type===r)return ze}if(f){const ze=b[M];if(ze&&Ur(ze)&&ze.type===r)return M}return null}function Ps(e,t,r,l){let f=e[r];const h=t.data;if(function(e){return e instanceof Ca}(f)){const b=f;b.resolving&&function(e,t){throw new De("200",`Circular dependency in DI detected for ${e}`)}(Ke(h[r]));const x=Uu(b.canSeeViewProviders);b.resolving=!0;const M=b.injectImpl?Mr(b.injectImpl):null;_a(e,l,an.Default);try{f=e[r]=b.factory(void 0,h,e,l),t.firstCreatePass&&r>=l.directiveStart&&function(e,t,r){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:h}=t.type.prototype;if(l){const b=fl(t);(r.preOrderHooks||(r.preOrderHooks=[])).push(e,b),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,b)}f&&(r.preOrderHooks||(r.preOrderHooks=[])).push(0-e,f),h&&((r.preOrderHooks||(r.preOrderHooks=[])).push(e,h),(r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(e,h))}(r,h[r],t)}finally{null!==M&&Mr(M),Uu(x),b.resolving=!1,ql()}}return f}function D(e,t,r){return!!(r[t+(e>>5)]&1<<e)}function P(e,t){return!(e&an.Self||e&an.Host&&t)}class H{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,l){return Ei(this._tNode,this._lView,t,l,r)}}function te(e){return Jn(()=>{const t=e.prototype.constructor,r=t[Qe]||ye(t),l=Object.prototype;let f=Object.getPrototypeOf(e.prototype).constructor;for(;f&&f!==l;){const h=f[Qe]||ye(f);if(h&&h!==r)return h;f=Object.getPrototypeOf(f)}return h=>new h})}function ye(e){return _e(e)?()=>{const t=ye(ae(e));return t&&t()}:Zi(e)}function Ve(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const l=r.length;let f=0;for(;f<l;){const h=r[f];if(Ta(h))break;if(0===h)f+=2;else if("number"==typeof h)for(f++;f<l&&"string"==typeof r[f];)f++;else{if(h===t)return r[f+1];f+=2}}}return null}(Ar(),e)}const _t="__parameters__";function tr(e,t,r){return Jn(()=>{const l=function(e){return function(...r){if(e){const l=e(...r);for(const f in l)this[f]=l[f]}}}(t);function f(...h){if(this instanceof f)return l.apply(this,h),this;const b=new f(...h);return x.annotation=b,x;function x(M,z,se){const Te=M.hasOwnProperty(_t)?M[_t]:Object.defineProperty(M,_t,{value:[]})[_t];for(;Te.length<=se;)Te.push(null);return(Te[se]=Te[se]||[]).push(b),M}}return r&&(f.prototype=Object.create(r.prototype)),f.prototype.ngMetadataName=e,f.annotationCls=f,f})}class dr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=fn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xr=new dr("AnalyzeForEntryComponents"),Qa=Function;function Bs(e,t){void 0===t&&(t=e);for(let r=0;r<e.length;r++){let l=e[r];Array.isArray(l)?(t===e&&(t=e.slice(0,r)),Bs(l,t)):t!==e&&t.push(l)}return t}function Zo(e,t){e.forEach(r=>Array.isArray(r)?Zo(r,t):t(r))}function dc(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Xo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function lo(e,t){const r=[];for(let l=0;l<e;l++)r.push(t);return r}function Js(e,t,r){let l=Tl(e,t);return l>=0?e[1|l]=r:(l=~l,function(e,t,r,l){let f=e.length;if(f==t)e.push(r,l);else if(1===f)e.push(l,e[0]),e[0]=r;else{for(f--,e.push(e[f-1],e[f]);f>t;)e[f]=e[f-2],f--;e[t]=r,e[t+1]=l}}(e,l,t,r)),l}function cf(e,t){const r=Tl(e,t);if(r>=0)return e[1|r]}function Tl(e,t){return function(e,t,r){let l=0,f=e.length>>r;for(;f!==l;){const h=l+(f-l>>1),b=e[h<<r];if(t===b)return h<<r;b>t?f=h:l=h+1}return~(f<<r)}(e,t,1)}const eu={},tu="__NG_DI_FLAG__",nu="ngTempTokenPath",pf=/\n/gm,fc="__source",xl=j({provide:String,useValue:j});let vs;function Jo(e){const t=vs;return vs=e,t}function Us(e,t=an.Default){if(void 0===vs)throw new Error("inject() must be called from an injection context");return null===vs?pr(e,void 0,t):vs.get(e,t&an.Optional?null:void 0,t)}function Hi(e,t=an.Default){return(Hn||Us)(ae(e),t)}function Oa(e){const t=[];for(let r=0;r<e.length;r++){const l=ae(e[r]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let f,h=an.Default;for(let b=0;b<l.length;b++){const x=l[b],M=Uh(x);"number"==typeof M?-1===M?f=x.token:h|=M:f=x}t.push(Hi(f,h))}else t.push(Hi(l))}return t}function wl(e,t){return e[tu]=t,e.prototype[tu]=t,e}function Uh(e){return e[tu]}function Vh(e,t,r,l){const f=e[nu];throw t[fc]&&f.unshift(t[fc]),e.message=function(e,t,r,l=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let f=ne(t);if(Array.isArray(t))f=t.map(ne).join(" -> ");else if("object"==typeof t){let h=[];for(let b in t)if(t.hasOwnProperty(b)){let x=t[b];h.push(b+":"+("string"==typeof x?JSON.stringify(x):ne(x)))}f=`{${h.join(", ")}}`}return`${r}${l?"("+l+")":""}[${f}]: ${e.replace(pf,"\n  ")}`}("\n"+e.message,f,r,l),e.ngTokenPath=f,e[nu]=null,e}const zu=wl(tr("Inject",e=>({token:e})),-1),Pa=wl(tr("Optional"),8),Sl=wl(tr("SkipSelf"),4);let Ol,yc;function Ao(e){var t;return(null===(t=function(){if(void 0===Ol&&(Ol=null,En.trustedTypes))try{Ol=En.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Ol}())||void 0===t?void 0:t.createHTML(e))||e}function Pl(e){var t;return(null===(t=function(){if(void 0===yc&&(yc=null,En.trustedTypes))try{yc=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return yc}())||void 0===t?void 0:t.createHTML(e))||e}class ru{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class iu extends ru{getTypeName(){return"HTML"}}class su extends ru{getTypeName(){return"Style"}}class vf extends ru{getTypeName(){return"Script"}}class yf extends ru{getTypeName(){return"URL"}}class _f extends ru{getTypeName(){return"ResourceURL"}}function ea(e){return e instanceof ru?e.changingThisBreaksApplicationSecurity:e}function Da(e,t){const r=bf(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see https://g.co/ng/security#xss)`)}return r===t}function bf(e){return e instanceof ru&&e.getTypeName()||null}function ou(e){return new iu(e)}function Cf(e){return new su(e)}function Tf(e){return new vf(e)}function Ef(e){return new yf(e)}function Wh(e){return new _f(e)}class xf{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Ao(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch(r){return null}}}class _c{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r);const l=this.inertDocument.createElement("body");r.appendChild(l)}}getInertBodyElement(t){const r=this.inertDocument.createElement("template");if("content"in r)return r.innerHTML=Ao(t),r;const l=this.inertDocument.createElement("body");return l.innerHTML=Ao(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(t){const r=t.attributes;for(let f=r.length-1;0<f;f--){const b=r.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&t.removeAttribute(b)}let l=t.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const wf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gu(e){return(e=String(e)).match(wf)||e.match(cd)?e:"unsafe:"+e}function Ma(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function bc(...e){const t={};for(const r of e)for(const l in r)r.hasOwnProperty(l)&&(t[l]=!0);return t}const Sf=Ma("area,br,col,hr,img,wbr"),Cc=Ma("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dd=Ma("rp,rt"),fd=bc(Sf,bc(Cc,Ma("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bc(dd,Ma("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bc(dd,Cc)),Tc=Ma("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dl=Ma("srcset"),gn=bc(Tc,Dl,Ma("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ma("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ji=Ma("script,style,template");class Aa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,l=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?l=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,l&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let f=this.checkClobberedElement(r,r.nextSibling);if(f){r=f;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!fd.hasOwnProperty(r))return this.sanitizedSomething=!0,!Ji.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const l=t.attributes;for(let f=0;f<l.length;f++){const h=l.item(f),b=h.name,x=b.toLowerCase();if(!gn.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let M=h.value;Tc[x]&&(M=Gu(M)),Dl[x]&&(e=M,M=(e=String(e)).split(",").map(t=>Gu(t.trim())).join(", ")),this.buf.push(" ",b,'="',hd(M),'"')}var e;return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();fd.hasOwnProperty(r)&&!Sf.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(hd(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const Ec=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lu=/([^\#-~ |!])/g;function hd(e){return e.replace(/&/g,"&amp;").replace(Ec,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lu,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uu;function Pn(e,t){let r=null;try{uu=uu||function(e){const t=new _c(e);return function(){try{return!!(new window.DOMParser).parseFromString(Ao(""),"text/html")}catch(e){return!1}}()?new xf(t):t}(e);let l=t?String(t):"";r=uu.getInertBodyElement(l);let f=5,h=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=h,h=r.innerHTML,r=uu.getInertBodyElement(l)}while(l!==h);return Ao((new Aa).sanitizeChildren(cu(r)||r))}finally{if(r){const l=cu(r)||r;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function cu(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ni=(()=>((ni=ni||{})[ni.NONE=0]="NONE",ni[ni.HTML=1]="HTML",ni[ni.STYLE=2]="STYLE",ni[ni.SCRIPT=3]="SCRIPT",ni[ni.URL=4]="URL",ni[ni.RESOURCE_URL=5]="RESOURCE_URL",ni))();function Ja(e){const t=du();return t?Pl(t.sanitize(ni.HTML,e)||""):Da(e,"HTML")?Pl(ea(e)):Pn(me(),je(e))}function qu(e){const t=du();return t?t.sanitize(ni.URL,e)||"":Da(e,"URL")?ea(e):Gu(je(e))}function du(){const e=Nt();return e&&e[12]}const yd="__ngContext__";function ri(e,t){e[yd]=t}function Sc(e){const t=function(e){return e[yd]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Pc(e){return e.ngOriginalError}function rn(e,...t){e.error(...t)}class ka{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t),l=this._findContext(t),f=(e=t)&&e.ngErrorLogger||rn;var e;f(this._console,"ERROR",t),r&&f(this._console,"ORIGINAL ERROR",r),l&&f(this._console,"ERROR CONTEXT",l)}_findContext(t){return t?t.ngDebugContext||this._findContext(Pc(t)):null}_findOriginalError(t){let r=t&&Pc(t);for(;r&&Pc(r);)r=Pc(r);return r||null}}const Sd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(En))();function gu(e){return e.ownerDocument.defaultView}function Ra(e){return e instanceof Function?e():e}var $i=(()=>(($i=$i||{})[$i.Important=1]="Important",$i[$i.DashCase=2]="DashCase",$i))();function us(e,t){return undefined(e,t)}function _s(e){const t=e[3];return Ai(t)?t[3]:t}function bs(e){return kf(e[13])}function Zu(e){return kf(e[4])}function kf(e){for(;null!==e&&!Ai(e);)e=e[4];return e}function Io(e,t,r,l,f){if(null!=l){let h,b=!1;Ai(l)?h=l:Tr(l)&&(b=!0,l=l[0]);const x=be(l);0===e&&null!==r?null==f?Ic(t,r,x):ko(t,r,x,f||null,!0):1===e&&null!==r?ko(t,r,x,f||null,!0):2===e?function(e,t,r){const l=el(e,t);l&&function(e,t,r,l){_(e)?e.removeChild(t,r,l):t.removeChild(r)}(e,l,t,r)}(t,x,b):3===e&&t.destroyNode(x),null!=h&&function(e,t,r,l,f){const h=r[7];h!==be(r)&&Io(t,e,l,h,f);for(let x=10;x<r.length;x++){const M=r[x];Rc(M[1],M,e,t,l,h)}}(t,e,h,r,f)}}function Ac(e,t,r){return _(e)?e.createElement(t,r):null===r?e.createElement(t):e.createElementNS(r,t)}function rp(e,t){const r=e[9],l=r.indexOf(t),f=t[3];1024&t[2]&&(t[2]&=-1025,ar(f,-1)),r.splice(l,1)}function Pd(e,t){if(e.length<=10)return;const r=10+t,l=e[r];if(l){const f=l[17];null!==f&&f!==e&&rp(f,l),t>0&&(e[r-1][4]=l[4]);const h=Xo(e,10+t);!function(e,t){Rc(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(l[1],l);const b=h[19];null!==b&&b.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Vf(e,t){if(!(256&t[2])){const r=t[11];_(r)&&r.destroyNode&&Rc(e,t,r,3,null,null),function(e){let t=e[13];if(!t)return vu(e[1],e);for(;t;){let r=null;if(Tr(t))r=t[13];else{const l=t[10];l&&(r=l)}if(!r){for(;t&&!t[4]&&t!==e;)Tr(t)&&vu(t[1],t),t=t[3];null===t&&(t=e),Tr(t)&&vu(t[1],t),r=t&&t[4]}t=r}}(t)}}function vu(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let l=0;l<r.length;l+=2){const f=t[r[l]];if(!(f instanceof Ca)){const h=r[l+1];if(Array.isArray(h))for(let b=0;b<h.length;b+=2){const x=f[h[b]],M=h[b+1];try{M.call(x)}finally{}}else try{h.call(f)}finally{}}}}(e,t),function(e,t){const r=e.cleanup,l=t[7];let f=-1;if(null!==r)for(let h=0;h<r.length-1;h+=2)if("string"==typeof r[h]){const b=r[h+1],x="function"==typeof b?b(t):be(t[b]),M=l[f=r[h+2]],z=r[h+3];"boolean"==typeof z?x.removeEventListener(r[h],M,z):z>=0?l[f=z]():l[f=-z].unsubscribe(),h+=2}else{const b=l[f=r[h+1]];r[h].call(b)}if(null!==l){for(let h=f+1;h<l.length;h++)l[h]();t[7]=null}}(e,t),1===t[1].type&&_(t[11])&&t[11].destroy();const r=t[17];if(null!==r&&Ai(t[3])){r!==t[3]&&rp(r,t);const l=t[19];null!==l&&l.detachView(e)}}}function sp(e,t,r){return function(e,t,r){let l=t;for(;null!==l&&40&l.type;)l=(t=l).parent;if(null===l)return r[0];if(2&l.flags){const f=e.data[l.directiveStart].encapsulation;if(f===rr.None||f===rr.Emulated)return null}return ut(l,r)}(e,t.parent,r)}function ko(e,t,r,l,f){_(e)?e.insertBefore(t,r,l,f):t.insertBefore(r,l,f)}function Ic(e,t,r){_(e)?e.appendChild(t,r):t.appendChild(r)}function op(e,t,r,l,f){null!==l?ko(e,t,r,l,f):Ic(e,t,r)}function el(e,t){return _(e)?e.parentNode(t):t.parentNode}function Dd(e,t,r){return Hf(e,t,r)}let Hf=function(e,t,r){return 40&e.type?ut(e,r):null};function kc(e,t,r,l){const f=sp(e,l,t),h=t[11],x=Dd(l.parent||t[6],l,t);if(null!=f)if(Array.isArray(r))for(let M=0;M<r.length;M++)op(h,f,r[M],x,!1);else op(h,f,r,x,!1)}function Xu(e,t){if(null!==t){const r=t.type;if(3&r)return ut(t,e);if(4&r)return _u(-1,e[t.index]);if(8&r){const l=t.child;if(null!==l)return Xu(e,l);{const f=e[t.index];return Ai(f)?_u(-1,f):be(f)}}if(32&r)return us(t,e)()||be(e[t.index]);{const l=ap(e,t);return null!==l?Array.isArray(l)?l[0]:Xu(_s(e[16]),l):Xu(e,t.next)}}return null}function ap(e,t){return null!==t?e[16][6].projection[t.projection]:null}function _u(e,t){const r=10+e+1;if(r<t.length){const l=t[r],f=l[1].firstChild;if(null!==f)return Xu(l,f)}return t[7]}function $f(e,t,r,l,f,h,b){for(;null!=r;){const x=l[r.index],M=r.type;if(b&&0===t&&(x&&ri(be(x),l),r.flags|=4),64!=(64&r.flags))if(8&M)$f(e,t,r.child,l,f,h,!1),Io(t,e,f,x,h);else if(32&M){const z=us(r,l);let se;for(;se=z();)Io(t,e,f,se,h);Io(t,e,f,x,h)}else 16&M?Wf(e,t,l,r,f,h):Io(t,e,f,x,h);r=b?r.projectionNext:r.next}}function Rc(e,t,r,l,f,h){$f(r,l,e.firstChild,t,f,h,!1)}function Wf(e,t,r,l,f,h){const b=r[16],M=b[6].projection[l.projection];if(Array.isArray(M))for(let z=0;z<M.length;z++)Io(t,e,f,M[z],h);else $f(e,t,M,b[3],f,h,!0)}function lp(e,t,r){_(e)?e.setAttribute(t,"style",r):t.style.cssText=r}function Gf(e,t,r){_(e)?""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r):t.className=r}function up(e,t,r){let l=e.length;for(;;){const f=e.indexOf(t,r);if(-1===f)return f;if(0===f||e.charCodeAt(f-1)<=32){const h=t.length;if(f+h===l||e.charCodeAt(f+h)<=32)return f}r=f+1}}const qf="ng-template";function cp(e,t,r){let l=0;for(;l<e.length;){let f=e[l++];if(r&&"class"===f){if(f=e[l],-1!==up(f.toLowerCase(),t,0))return!0}else if(1===f){for(;l<e.length&&"string"==typeof(f=e[l++]);)if(f.toLowerCase()===t)return!0;return!1}}return!1}function Id(e){return 4===e.type&&e.value!==qf}function kd(e,t,r){return t===(4!==e.type||r?e.value:qf)}function Ju(e,t,r){let l=4;const f=e.attrs||[],h=function(e){for(let t=0;t<e.length;t++)if(Ta(e[t]))return t;return e.length}(f);let b=!1;for(let x=0;x<t.length;x++){const M=t[x];if("number"!=typeof M){if(!b)if(4&l){if(l=2|1&l,""!==M&&!kd(e,M,r)||""===M&&1===t.length){if(ta(l))return!1;b=!0}}else{const z=8&l?M:t[++x];if(8&l&&null!==e.attrs){if(!cp(e.attrs,z,r)){if(ta(l))return!1;b=!0}continue}const Te=Og(8&l?"class":M,f,Id(e),r);if(-1===Te){if(ta(l))return!1;b=!0;continue}if(""!==z){let Ie;Ie=Te>h?"":f[Te+1].toLowerCase();const ze=8&l?Ie:null;if(ze&&-1!==up(ze,z,0)||2&l&&z!==Ie){if(ta(l))return!1;b=!0}}}}else{if(!b&&!ta(l)&&!ta(M))return!1;if(b&&ta(M))continue;b=!1,l=M|1&l}}return ta(l)||b}function ta(e){return 0==(1&e)}function Og(e,t,r,l){if(null===t)return-1;let f=0;if(l||!r){let h=!1;for(;f<t.length;){const b=t[f];if(b===e)return f;if(3===b||6===b)h=!0;else{if(1===b||2===b){let x=t[++f];for(;"string"==typeof x;)x=t[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=h?1:2}return-1}return function(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const l=e[r];if("number"==typeof l)return-1;if(l===t)return r;r++}return-1}(t,e)}function Rd(e,t,r=!1){for(let l=0;l<t.length;l++)if(Ju(e,t[l],r))return!0;return!1}function Dg(e,t){e:for(let r=0;r<t.length;r++){const l=t[r];if(e.length===l.length){for(let f=0;f<e.length;f++)if(e[f]!==l[f])continue e;return!0}}return!1}function fp(e,t){return e?":not("+t.trim()+")":t}function Mg(e){let t=e[0],r=1,l=2,f="",h=!1;for(;r<e.length;){let b=e[r];if("string"==typeof b)if(2&l){const x=e[++r];f+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&l?f+="."+b:4&l&&(f+=" "+b);else""!==f&&!ta(b)&&(t+=fp(h,f),f=""),l=b,h=h||!ta(l);r++}return""!==f&&(t+=fp(h,f)),t}const Ln={};function Kf(e){pp(Xn(),Nt(),Ci()+e,Ss())}function pp(e,t,r,l){if(!l)if(3==(3&t[2])){const h=e.preOrderCheckHooks;null!==h&&ml(t,h,r)}else{const h=e.preOrderHooks;null!==h&&ba(t,h,0,r)}ms(r)}function Ld(e,t){return e<<17|t<<2}function na(e){return e>>17&32767}function Zf(e){return 2|e}function tl(e){return(131068&e)>>2}function Xf(e,t){return-131069&e|t<<2}function mp(e){return 1|e}function ts(e,t){const r=e.contentQueries;if(null!==r)for(let l=0;l<r.length;l+=2){const f=r[l],h=r[l+1];if(-1!==h){const b=e.data[h];Zs(f),b.contentQueries(2,t[h],h)}}}function ho(e,t,r,l,f,h,b,x,M,z){const se=t.blueprint.slice();return se[0]=f,se[2]=140|l,Wn(se),se[3]=se[15]=e,se[8]=r,se[10]=b||e&&e[10],se[11]=x||e&&e[11],se[12]=M||e&&e[12]||null,se[9]=z||e&&e[9]||null,se[6]=h,se[16]=2==t.type?e[16]:se,se}function kr(e,t,r,l,f){let h=e.data[t];if(null===h)h=function(e,t,r,l,f){const h=$a(),b=di(),M=e.data[t]=function(e,t,r,l,f,h){return{type:r,index:l,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?h:h&&h.parent,r,t,l,f);return null===e.firstChild&&(e.firstChild=M),null!==h&&(b?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M)),M}(e,t,r,l,f),tn.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=r,h.value=l,h.attrs=f;const b=function(){const e=tn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();h.injectorIndex=null===b?-1:b.injectorIndex}return Jr(h,!0),h}function Hs(e,t,r,l){if(0===r)return-1;const f=t.length;for(let h=0;h<r;h++)t.push(l),e.blueprint.push(l),e.data.push(null);return f}function rl(e,t,r){gs(t);try{const l=e.viewQuery;null!==l&&Ep(1,l,r);const f=e.template;null!==f&&Bd(e,t,f,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ts(e,t),e.staticViewQueries&&Ep(2,e.viewQuery,r);const h=e.components;null!==h&&function(e,t){for(let r=0;r<t.length;r++)Cu(e,t[r])}(t,h)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[2]&=-5,Wa()}}function il(e,t,r,l){const f=t[2];if(256==(256&f))return;gs(t);const h=Ss();try{Wn(t),function(e){tn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Bd(e,t,r,2,l);const b=3==(3&f);if(!h)if(b){const z=e.preOrderCheckHooks;null!==z&&ml(t,z,null)}else{const z=e.preOrderHooks;null!==z&&ba(t,z,0,null),Ri(t,0)}if(function(e){for(let t=bs(e);null!==t;t=Zu(t)){if(!t[2])continue;const r=t[9];for(let l=0;l<r.length;l++){const f=r[l],h=f[3];0==(1024&f[2])&&ar(h,1),f[2]|=1024}}}(t),function(e){for(let t=bs(e);null!==t;t=Zu(t))for(let r=10;r<t.length;r++){const l=t[r],f=l[1];Wt(l)&&il(f,l,f.template,l[8])}}(t),null!==e.contentQueries&&ts(e,t),!h)if(b){const z=e.contentCheckHooks;null!==z&&ml(t,z)}else{const z=e.contentHooks;null!==z&&ba(t,z,1),Ri(t,1)}!function(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let l=0;l<r.length;l++){const f=r[l];if(f<0)ms(~f);else{const h=f,b=r[++l],x=r[++l];Iu(b,h),x(2,t[h])}}}finally{ms(-1)}}(e,t);const x=e.components;null!==x&&function(e,t){for(let r=0;r<t.length;r++)d_(e,t[r])}(t,x);const M=e.viewQuery;if(null!==M&&Ep(2,M,l),!h)if(b){const z=e.viewCheckHooks;null!==z&&ml(t,z)}else{const z=e.viewHooks;null!==z&&ba(t,z,2),Ri(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),h||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ar(t[3],-1))}finally{Wa()}}function bu(e,t,r,l){const f=t[10],h=!Ss(),b=Gt(t);try{h&&!b&&f.begin&&f.begin(),b&&rl(e,t,l),il(e,t,r,l)}finally{h&&!b&&f.end&&f.end()}}function Bd(e,t,r,l,f){const h=Ci(),b=2&l;try{ms(-1),b&&t.length>20&&pp(e,t,20,Ss()),r(l,f)}finally{ms(h)}}function av(e,t,r){if(Dr(t)){const f=t.directiveEnd;for(let h=t.directiveStart;h<f;h++){const b=e.data[h];b.contentQueries&&b.contentQueries(1,r[h],h)}}}function _p(e,t,r){!_i()||(function(e,t,r,l){const f=r.directiveStart,h=r.directiveEnd;e.firstCreatePass||Ni(r,t),ri(l,t);const b=r.initialInputs;for(let x=f;x<h;x++){const M=e.data[x],z=Ur(M);z&&bp(t,r,M);const se=Ps(t,e,x,r);ri(se,t),null!==b&&Vd(0,x-f,se,M,0,b),z&&($t(r.index,t)[8]=se)}}(e,t,r,ut(r,t)),128==(128&r.flags)&&function(e,t,r){const l=r.directiveStart,f=r.directiveEnd,b=r.index,x=tn.lFrame.currentDirectiveIndex;try{ms(b);for(let M=l;M<f;M++){const z=e.data[M],se=t[M];oo(M),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&fv(z,se)}}finally{ms(-1),oo(x)}}(e,t,r))}function Ig(e,t,r=ut){const l=t.localNames;if(null!==l){let f=t.index+1;for(let h=0;h<l.length;h+=2){const b=l[h+1],x=-1===b?r(t,e):e[b];e[f++]=x}}}function th(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function nh(e,t,r,l,f,h,b,x,M,z){const se=20+l,Te=se+f,Ie=function(e,t){const r=[];for(let l=0;l<t;l++)r.push(l<e?null:Ln);return r}(se,Te),ze="function"==typeof z?z():z;return Ie[1]={type:e,blueprint:Ie,template:r,queries:null,viewQuery:x,declTNode:t,data:Ie.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:M,consts:ze,incompleteFirstPass:!1}}function Lc(e,t,r,l){const f=Ug(t);null===r?f.push(l):(f.push(r),e.firstCreatePass&&yv(e).push(l,f.length-1))}function lv(e,t,r){for(let l in e)if(e.hasOwnProperty(l)){const f=e[l];(r=null===r?{}:r).hasOwnProperty(l)?r[l].push(t,f):r[l]=[t,f]}return r}function ia(e,t,r,l,f,h,b,x){const M=ut(t,r);let se,z=t.inputs;!x&&null!=z&&(se=z[l])?(Cv(e,r,se,l,f),zn(t)&&function(e,t){const r=$t(t,e);16&r[2]||(r[2]|=64)}(r,t.index)):3&t.type&&(l=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(l),f=null!=b?b(f,t.value||"",l):f,_(h)?h.setProperty(M,l,f):Xs(l)||(M.setProperty?M.setProperty(l,f):M[l]=f))}function Rg(e,t,r,l){let f=!1;if(_i()){const h=function(e,t,r){const l=e.directiveRegistry;let f=null;if(l)for(let h=0;h<l.length;h++){const b=l[h];Rd(r,b.selectors,!1)&&(f||(f=[]),wa(Ni(r,t),e,b.type),Ur(b)?(Ng(e,r),f.unshift(b)):f.push(b))}return f}(e,t,r),b=null===l?null:{"":-1};if(null!==h){f=!0,hv(r,e.data.length,h.length);for(let se=0;se<h.length;se++){const Te=h[se];Te.providersResolver&&Te.providersResolver(Te)}let x=!1,M=!1,z=Hs(e,t,h.length,null);for(let se=0;se<h.length;se++){const Te=h[se];r.mergedAttrs=Po(r.mergedAttrs,Te.hostAttrs),Lg(e,r,t,z,Te),oh(z,Te,b),null!==Te.contentQueries&&(r.flags|=8),(null!==Te.hostBindings||null!==Te.hostAttrs||0!==Te.hostVars)&&(r.flags|=128);const Ie=Te.type.prototype;!x&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(r.index),x=!0),!M&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(r.index),M=!0),z++}!function(e,t){const l=t.directiveEnd,f=e.data,h=t.attrs,b=[];let x=null,M=null;for(let z=t.directiveStart;z<l;z++){const se=f[z],Te=se.inputs,Ie=null===h||Id(t)?null:pv(Te,h);b.push(Ie),x=lv(Te,z,x),M=lv(se.outputs,z,M)}null!==x&&(x.hasOwnProperty("class")&&(t.flags|=16),x.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=b,t.inputs=x,t.outputs=M}(e,r)}b&&function(e,t,r){if(t){const l=e.localNames=[];for(let f=0;f<t.length;f+=2){const h=r[t[f+1]];if(null==h)throw new De("301",`Export of name '${t[f+1]}' not found!`);l.push(t[f],h)}}}(r,l,b)}return r.mergedAttrs=Po(r.mergedAttrs,r.attrs),f}function Ud(e,t,r,l,f,h){const b=h.hostBindings;if(b){let x=e.hostBindingOpCodes;null===x&&(x=e.hostBindingOpCodes=[]);const M=~t.index;(function(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(x)!=M&&x.push(M),x.push(l,f,b)}}function fv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ng(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function oh(e,t,r){if(r){if(t.exportAs)for(let l=0;l<t.exportAs.length;l++)r[t.exportAs[l]]=e;Ur(t)&&(r[""]=e)}}function hv(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function Lg(e,t,r,l,f){e.data[l]=f;const h=f.factory||(f.factory=Zi(f.type)),b=new Ca(h,Ur(f),null);e.blueprint[l]=b,r[l]=b,Ud(e,t,0,l,Hs(e,r,f.hostVars,Ln),f)}function bp(e,t,r){const l=ut(t,e),f=th(r),h=e[10],b=Cp(e,ho(e,f,null,r.onPush?64:16,l,t,h,h.createRenderer(l,r),null,null));e[t.index]=b}function kl(e,t,r,l,f,h){const b=ut(e,t);!function(e,t,r,l,f,h,b){if(null==h)_(e)?e.removeAttribute(t,f,r):t.removeAttribute(f);else{const x=null==b?je(h):b(h,l||"",f);_(e)?e.setAttribute(t,f,x,r):r?t.setAttributeNS(r,f,x):t.setAttribute(f,x)}}(t[11],b,h,e.value,r,l,f)}function Vd(e,t,r,l,f,h){const b=h[t];if(null!==b){const x=l.setInput;for(let M=0;M<b.length;){const z=b[M++],se=b[M++],Te=b[M++];null!==x?l.setInput(r,Te,z,se):r[se]=Te}}}function pv(e,t){let r=null,l=0;for(;l<t.length;){const f=t[l];if(0!==f)if(5!==f){if("number"==typeof f)break;e.hasOwnProperty(f)&&(null===r&&(r=[]),r.push(f,e[f],t[l+1])),l+=2}else l+=2;else l+=4}return r}function Bg(e,t,r,l){return new Array(e,!0,!1,t,null,0,l,r,null,null)}function d_(e,t){const r=$t(t,e);if(Wt(r)){const l=r[1];80&r[2]?il(l,r,l.template,r[8]):r[5]>0&&ah(r)}}function ah(e){for(let l=bs(e);null!==l;l=Zu(l))for(let f=10;f<l.length;f++){const h=l[f];if(1024&h[2]){const b=h[1];il(b,h,b.template,h[8])}else h[5]>0&&ah(h)}const r=e[1].components;if(null!==r)for(let l=0;l<r.length;l++){const f=$t(r[l],e);Wt(f)&&f[5]>0&&ah(f)}}function Cu(e,t){const r=$t(t,e),l=r[1];(function(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])})(l,r),rl(l,r,r[8])}function Cp(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function lh(e){for(;e;){e[2]|=64;const t=_s(e);if(Ua(e)&&!t)return e;e=t}return null}function Tp(e,t,r){const l=t[10];l.begin&&l.begin();try{il(e,t,e.template,r)}catch(f){throw bv(t,f),f}finally{l.end&&l.end()}}function sl(e){!function(e){for(let t=0;t<e.components.length;t++){const r=e.components[t],l=Sc(r),f=l[1];bu(f,l,f.template,r)}}(e[8])}function Ep(e,t,r){Zs(0),t(e,r)}const vv=(()=>Promise.resolve(null))();function Ug(e){return e[7]||(e[7]=[])}function yv(e){return e.cleanup||(e.cleanup=[])}function bv(e,t){const r=e[9],l=r?r.get(ka,null):null;l&&l.handleError(t)}function Cv(e,t,r,l,f){for(let h=0;h<r.length;){const b=r[h++],x=r[h++],M=t[b],z=e.data[b];null!==z.setInput?z.setInput(M,f,l,x):M[x]=f}}function Rl(e,t,r){const l=rt(t,e);!function(e,t,r){_(e)?e.setValue(t,r):t.textContent=r}(e[11],l,r)}function xp(e,t,r){let l=r?e.styles:null,f=r?e.classes:null,h=0;if(null!==t)for(let b=0;b<t.length;b++){const x=t[b];"number"==typeof x?h=x:1==h?f=G(f,x):2==h&&(l=G(l,x+": "+t[++b]+";"))}r?e.styles=l:e.stylesWithoutHost=l,r?e.classes=f:e.classesWithoutHost=f}const jd=new dr("INJECTOR",-1);class ch{get(t,r=eu){if(r===eu){const l=new Error(`NullInjectorError: No provider for ${ne(t)}!`);throw l.name="NullInjectorError",l}return r}}const Fc=new dr("Set Injector scope."),dh={},m_={};let Vg;function fh(){return void 0===Vg&&(Vg=new ch),Vg}function Ev(e,t=null,r=null,l){return new v_(e,r,t||fh(),l)}class v_{constructor(t,r,l,f=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];r&&Zo(r,x=>this.processProvider(x,t,r)),Zo([t],x=>this.processInjectorType(x,[],h)),this.records.set(jd,Hd(void 0,this));const b=this.records.get(Fc);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof t?null:ne(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,r=eu,l=an.Default){this.assertNotDestroyed();const f=Jo(this),h=Mr(void 0);try{if(!(l&an.SkipSelf)){let x=this.records.get(t);if(void 0===x){const M=("function"==typeof(e=t)||"object"==typeof e&&e instanceof dr)&&Sr(t);x=M&&this.injectableDefInScope(M)?Hd(jg(t),dh):null,this.records.set(t,x)}if(null!=x)return this.hydrate(t,x)}return(l&an.Self?fh():this.parent).get(t,r=l&an.Optional&&r===eu?null:r)}catch(b){if("NullInjectorError"===b.name){if((b[nu]=b[nu]||[]).unshift(ne(t)),f)throw b;return Vh(b,t,"R3InjectorError",this.source)}throw b}finally{Mr(h),Jo(f)}var e}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((l,f)=>t.push(ne(f))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,r,l){if(!(t=ae(t)))return!1;let f=nr(t);const h=null==f&&t.ngModule||void 0,b=void 0===h?t:h,x=-1!==l.indexOf(b);if(void 0!==h&&(f=nr(h)),null==f)return!1;if(null!=f.imports&&!x){let se;l.push(b);try{Zo(f.imports,Te=>{this.processInjectorType(Te,r,l)&&(void 0===se&&(se=[]),se.push(Te))})}finally{}if(void 0!==se)for(let Te=0;Te<se.length;Te++){const{ngModule:Ie,providers:ze}=se[Te];Zo(ze,Ze=>this.processProvider(Ze,Ie,ze||Fn))}}this.injectorDefTypes.add(b);const M=Zi(b)||(()=>new b);this.records.set(b,Hd(M,dh));const z=f.providers;if(null!=z&&!x){const se=t;Zo(z,Te=>this.processProvider(Te,se,z))}return void 0!==h&&void 0!==t.providers}processProvider(t,r,l){let f=zd(t=ae(t))?t:ae(t&&t.provide);const h=wv(e=t)?Hd(void 0,e.useValue):Hd(xv(e),dh);var e;if(zd(t)||!0!==t.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=Hd(void 0,dh,!0),b.factory=()=>Oa(b.multi),this.records.set(f,b)),f=t,b.multi.push(t)}this.records.set(f,h)}hydrate(t,r){return r.value===dh&&(r.value=m_,r.value=r.factory()),"object"==typeof r.value&&r.value&&null!==(e=r.value)&&"object"==typeof e&&"function"==typeof e.ngOnDestroy&&this.onDestroy.add(r.value),r.value;var e}injectableDefInScope(t){if(!t.providedIn)return!1;const r=ae(t.providedIn);return"string"==typeof r?"any"===r||r===this.scope:this.injectorDefTypes.has(r)}}function jg(e){const t=Sr(e),r=null!==t?t.factory:Zi(e);if(null!==r)return r;if(e instanceof dr)throw new Error(`Token ${ne(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const l=lo(t,"?");throw new Error(`Can't resolve all parameters for ${ne(e)}: (${l.join(", ")}).`)}const r=function(e){const t=e&&(e[Oi]||e[Qn]);if(t){const r=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${r}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${r}" class.`),t}return null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Error("unreachable")}function xv(e,t,r){let l;if(zd(e)){const f=ae(e);return Zi(f)||jg(f)}if(wv(e))l=()=>ae(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))l=()=>e.useFactory(...Oa(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))l=()=>Hi(ae(e.useExisting));else{const f=ae(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Zi(f)||jg(f);l=()=>new f(...Oa(e.deps))}return l}function Hd(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function wv(e){return null!==e&&"object"==typeof e&&xl in e}function zd(e){return"function"==typeof e}const Ov=function(e,t,r){return function(e,t=null,r=null,l){const f=Ev(e,t,r,l);return f._resolveInjectorDefTypes(),f}({name:r},t,e,r)};let wi=(()=>{class e{static create(r,l){return Array.isArray(r)?Ov(r,l,""):Ov(r.providers,r.parent,r.name||"")}}return e.THROW_IF_NOT_FOUND=eu,e.NULL=new ch,e.\u0275prov=fn({token:e,providedIn:"any",factory:()=>Hi(jd)}),e.__NG_ELEMENT_ID__=-1,e})();function xe(e,t){Oo(Sc(e)[1],Ar())}function it(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const l=[e];for(;t;){let f;if(Ur(e))f=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");f=t.\u0275dir}if(f){if(r){l.push(f);const b=e;b.inputs=xt(e.inputs),b.declaredInputs=xt(e.declaredInputs),b.outputs=xt(e.outputs);const x=f.hostBindings;x&&Jt(e,x);const M=f.viewQuery,z=f.contentQueries;if(M&&wt(e,M),z&&zt(e,z),W(e.inputs,f.inputs),W(e.declaredInputs,f.declaredInputs),W(e.outputs,f.outputs),Ur(f)&&f.data.animation){const se=e.data;se.animation=(se.animation||[]).concat(f.data.animation)}}const h=f.features;if(h)for(let b=0;b<h.length;b++){const x=h[b];x&&x.ngInherit&&x(e),x===it&&(r=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,r=null;for(let l=e.length-1;l>=0;l--){const f=e[l];f.hostVars=t+=f.hostVars,f.hostAttrs=Po(f.hostAttrs,r=Po(r,f.hostAttrs))}}(l)}function xt(e){return e===pn?{}:e===Fn?[]:e}function wt(e,t){const r=e.viewQuery;e.viewQuery=r?(l,f)=>{t(l,f),r(l,f)}:t}function zt(e,t){const r=e.contentQueries;e.contentQueries=r?(l,f,h)=>{t(l,f,h),r(l,f,h)}:t}function Jt(e,t){const r=e.hostBindings;e.hostBindings=r?(l,f)=>{t(l,f),r(l,f)}:t}let hr=null;function Qr(){if(!hr){const e=En.Symbol;if(e&&e.iterator)hr=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let r=0;r<t.length;++r){const l=t[r];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(hr=l)}}}return hr}class si{constructor(t){this.wrapped=t}static wrap(t){return new si(t)}static unwrap(t){return si.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof si}}function Cr(e){return!!Ro(e)&&(Array.isArray(e)||!(e instanceof Map)&&Qr()in e)}function Ro(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ns(e,t,r){return e[t]=r}function Gi(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function la(e,t,r,l){const f=Gi(e,t,r);return Gi(e,t+1,l)||f}function Qg(e,t,r,l){const f=Nt();return Gi(f,zo(),t)&&(Xn(),kl(qr(),f,e,t,r,l)),Qg}function Wd(e,t,r,l){return Gi(e,zo(),r)?t+je(r)+l:Ln}function Yg(e,t,r,l,f,h,b,x){const M=Nt(),z=Xn(),se=e+20,Te=z.firstCreatePass?function(e,t,r,l,f,h,b,x,M){const z=t.consts,se=kr(t,e,4,b||null,un(z,x));Rg(t,r,se,un(z,M)),Oo(t,se);const Te=se.tViews=nh(2,se,l,f,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,z);return null!==t.queries&&(t.queries.template(t,se),Te.queries=t.queries.embeddedTView(se)),se}(se,z,M,t,r,l,f,h,b):z.data[se];Jr(Te,!1);const Ie=M[11].createComment("");kc(z,M,Ie,Te),ri(Ie,M),Cp(M,M[se]=Bg(Ie,M,Ie,Te)),so(Te)&&_p(z,M,Te),null!=b&&Ig(M,Te,x)}function Zg(e){return It(tn.lFrame.contextLView,20+e)}function Fl(e,t=an.Default){const r=Nt();return null===r?Hi(e,t):Ei(Ar(),r,ae(e),t)}function Bp(e,t,r){const l=Nt();return Gi(l,zo(),t)&&ia(Xn(),qr(),l,e,t,l[11],r,!1),Bp}function _h(e,t,r,l,f){const b=f?"class":"style";Cv(e,r,t.inputs[b],b,l)}function lm(e,t,r,l){const f=Nt(),h=Xn(),b=20+e,x=f[11],M=f[b]=Ac(x,t,tn.lFrame.currentNamespace),z=h.firstCreatePass?function(e,t,r,l,f,h,b){const x=t.consts,z=kr(t,e,2,f,un(x,h));return Rg(t,r,z,un(x,b)),null!==z.attrs&&xp(z,z.attrs,!1),null!==z.mergedAttrs&&xp(z,z.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,z),z}(b,h,f,0,t,r,l):h.data[b];Jr(z,!0);const se=z.mergedAttrs;null!==se&&ls(x,M,se);const Te=z.classes;null!==Te&&Gf(x,M,Te);const Ie=z.styles;null!==Ie&&lp(x,M,Ie),64!=(64&z.flags)&&kc(h,f,M,z),0===tn.lFrame.elementDepthCount&&ri(M,f),tn.lFrame.elementDepthCount++,so(z)&&(_p(h,f,z),av(h,z,f)),null!==l&&Ig(f,z)}function Xd(){let e=Ar();di()?Hr():(e=e.parent,Jr(e,!1));const t=e;tn.lFrame.elementDepthCount--;const r=Xn();r.firstCreatePass&&(Oo(r,e),Dr(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&_h(r,t,Nt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&_h(r,t,Nt(),t.stylesWithoutHost,!1)}function um(e,t,r,l){lm(e,t,r,l),Xd()}function cm(e,t,r){const l=Nt(),f=Xn(),h=e+20,b=f.firstCreatePass?function(e,t,r,l,f){const h=t.consts,b=un(h,l),x=kr(t,e,8,"ng-container",b);return null!==b&&xp(x,b,!0),Rg(t,r,x,un(h,f)),null!==t.queries&&t.queries.elementStart(t,x),x}(h,f,l,t,r):f.data[h];Jr(b,!0);const x=l[h]=l[11].createComment("");kc(f,l,x,b),ri(x,l),so(b)&&(_p(f,l,b),av(f,b,l)),null!=r&&Ig(l,b)}function Jd(){let e=Ar();const t=Xn();di()?Hr():(e=e.parent,Jr(e,!1)),t.firstCreatePass&&(Oo(t,e),Dr(e)&&t.queries.elementEnd(e))}function dm(){return Nt()}function fm(e){return!!e&&"function"==typeof e.then}function Wv(e){return!!e&&"function"==typeof e.subscribe}const Up=Wv;function hm(e,t,r,l){const f=Nt(),h=Xn(),b=Ar();return function(e,t,r,l,f,h,b,x){const M=so(l),se=e.firstCreatePass&&yv(e),Te=t[8],Ie=Ug(t);let ze=!0;if(3&l.type||x){const at=ut(l,t),Vt=x?x(at):at,At=Ie.length,vn=x?Bn=>x(be(Bn[l.index])):l.index;if(_(r)){let Bn=null;if(!x&&M&&(Bn=function(e,t,r,l){const f=e.cleanup;if(null!=f)for(let h=0;h<f.length-1;h+=2){const b=f[h];if(b===r&&f[h+1]===l){const x=t[7],M=f[h+2];return x.length>M?x[M]:null}"string"==typeof b&&(h+=2)}return null}(e,t,f,l.index)),null!==Bn)(Bn.__ngLastListenerFn__||Bn).__ngNextListenerFn__=h,Bn.__ngLastListenerFn__=h,ze=!1;else{h=pm(l,t,Te,h,!1);const yr=r.listen(Vt,f,h);Ie.push(h,yr),se&&se.push(f,vn,At,At+1)}}else h=pm(l,t,Te,h,!0),Vt.addEventListener(f,h,b),Ie.push(h),se&&se.push(f,vn,At,b)}else h=pm(l,t,Te,h,!1);const Ze=l.outputs;let gt;if(ze&&null!==Ze&&(gt=Ze[f])){const at=gt.length;if(at)for(let Vt=0;Vt<at;Vt+=2){const Ws=t[gt[Vt]][gt[Vt+1]].subscribe(h),Hl=Ie.length;Ie.push(h,Ws),se&&se.push(f,l.index,Hl,-(Hl+1))}}}(h,f,f[11],b,e,t,!!r,l),hm}function Kv(e,t,r,l){try{return!1!==r(l)}catch(f){return bv(e,f),!1}}function pm(e,t,r,l,f){return function h(b){if(b===Function)return l;const x=2&e.flags?$t(e.index,t):t;0==(32&t[2])&&lh(x);let M=Kv(t,0,l,b),z=h.__ngNextListenerFn__;for(;z;)M=Kv(t,0,z,b)&&M,z=z.__ngNextListenerFn__;return f&&!1===M&&(b.preventDefault(),b.returnValue=!1),M}}function Yv(e=1){return function(e){return(tn.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,tn.lFrame.contextLView))[8]}(e)}function $_(e,t){let r=null;const l=function(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(0==(1&r))return t[r+1]}return null}(e);for(let f=0;f<t.length;f++){const h=t[f];if("*"!==h){if(null===l?Rd(e,h,!0):Dg(l,h))return f}else r=f}return r}function Zv(e){const t=Nt()[16][6];if(!t.projection){const l=t.projection=lo(e?e.length:1,null),f=l.slice();let h=t.child;for(;null!==h;){const b=e?$_(h,e):0;null!==b&&(f[b]?f[b].projectionNext=h:l[b]=h,f[b]=h),h=h.next}}}function Ch(e,t=0,r){const l=Nt(),f=Xn(),h=kr(f,20+e,16,null,r||null);null===h.projection&&(h.projection=t),Hr(),64!=(64&h.flags)&&function(e,t,r){Wf(t[11],0,t,r,sp(e,r,t),Dd(r.parent||t[6],r,t))}(f,l,h)}function ry(e,t,r,l,f){const h=e[r+1],b=null===t;let x=l?na(h):tl(h),M=!1;for(;0!==x&&(!1===M||b);){const se=e[x+1];iy(e[x],t)&&(M=!0,e[x+1]=l?mp(se):Zf(se)),x=l?na(se):tl(se)}M&&(e[r+1]=l?Zf(h):mp(h))}function iy(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Tl(e,t)>=0}const cs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zp(e){return e.substring(cs.key,cs.keyEnd)}function sy(e,t){const r=cs.textEnd;return r===t?-1:(t=cs.keyEnd=function(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,cs.key=t,r),tf(e,t,r))}function tf(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function Wp(e,t,r){return al(e,t,r,!1),Wp}function ym(e,t){return al(e,t,null,!0),ym}function Bl(e,t){for(let r=function(e){return function(e){cs.key=0,cs.keyEnd=0,cs.value=0,cs.valueEnd=0,cs.textEnd=e.length}(e),sy(e,tf(e,0,cs.textEnd))}(t);r>=0;r=sy(t,r))Js(e,zp(t),!0)}function al(e,t,r,l){const f=Nt(),h=Xn(),b=Vi(2);h.firstUpdatePass&&uy(h,e,b,l),t!==Ln&&Gi(f,b,t)&&bm(h,h.data[Ci()],f,f[11],e,f[b+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ne(ea(e)))),e}(t,r),l,b)}function ly(e,t){return t>=e.expandoStartIndex}function uy(e,t,r,l){const f=e.data;if(null===f[r+1]){const h=f[Ci()],b=ly(e,r);Tm(h,l)&&null===t&&!b&&(t=!1),t=function(e,t,r,l){const f=function(e){const t=tn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let h=l?t.residualClasses:t.residualStyles;if(null===f)0===(l?t.classBindings:t.styleBindings)&&(r=xu(r=nc(null,e,t,r,l),t.attrs,l),h=null);else{const b=t.directiveStylingLast;if(-1===b||e[b]!==f)if(r=nc(f,e,t,r,l),null===h){let M=function(e,t,r){const l=r?t.classBindings:t.styleBindings;if(0!==tl(l))return e[na(l)]}(e,t,l);void 0!==M&&Array.isArray(M)&&(M=nc(null,e,t,M[1],l),M=xu(M,t.attrs,l),function(e,t,r,l){e[na(r?t.classBindings:t.styleBindings)]=l}(e,t,l,M))}else h=function(e,t,r){let l;const f=t.directiveEnd;for(let h=1+t.directiveStylingLast;h<f;h++)l=xu(l,e[h].hostAttrs,r);return xu(l,t.attrs,r)}(e,t,l)}return void 0!==h&&(l?t.residualClasses=h:t.residualStyles=h),r}(f,h,t,l),function(e,t,r,l,f,h){let b=h?t.classBindings:t.styleBindings,x=na(b),M=tl(b);e[l]=r;let se,z=!1;if(Array.isArray(r)){const Te=r;se=Te[1],(null===se||Tl(Te,se)>0)&&(z=!0)}else se=r;if(f)if(0!==M){const Ie=na(e[x+1]);e[l+1]=Ld(Ie,x),0!==Ie&&(e[Ie+1]=Xf(e[Ie+1],l)),e[x+1]=function(e,t){return 131071&e|t<<17}(e[x+1],l)}else e[l+1]=Ld(x,0),0!==x&&(e[x+1]=Xf(e[x+1],l)),x=l;else e[l+1]=Ld(M,0),0===x?x=l:e[M+1]=Xf(e[M+1],l),M=l;z&&(e[l+1]=Zf(e[l+1])),ry(e,se,l,!0),ry(e,se,l,!1),function(e,t,r,l,f){const h=f?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof t&&Tl(h,t)>=0&&(r[l+1]=mp(r[l+1]))}(t,se,e,l,h),b=Ld(x,M),h?t.classBindings=b:t.styleBindings=b}(f,h,t,r,b,l)}}function nc(e,t,r,l,f){let h=null;const b=r.directiveEnd;let x=r.directiveStylingLast;for(-1===x?x=r.directiveStart:x++;x<b&&(h=t[x],l=xu(l,h.hostAttrs,f),h!==e);)x++;return null!==e&&(r.directiveStylingLast=x),l}function xu(e,t,r){const l=r?1:2;let f=-1;if(null!==t)for(let h=0;h<t.length;h++){const b=t[h];"number"==typeof b?f=b:f===l&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Js(e,b,!!r||t[++h]))}return void 0===e?null:e}function bm(e,t,r,l,f,h,b,x){if(!(3&t.type))return;const M=e.data,z=M[x+1];nf(function(e){return 1==(1&e)}(z)?Cm(M,t,r,f,tl(z),b):void 0)||(nf(h)||function(e){return 2==(2&e)}(z)&&(h=Cm(M,null,r,f,x,b)),function(e,t,r,l,f){const h=_(e);if(t)f?h?e.addClass(r,l):r.classList.add(l):h?e.removeClass(r,l):r.classList.remove(l);else{let b=-1===l.indexOf("-")?void 0:$i.DashCase;if(null==f)h?e.removeStyle(r,l,b):r.style.removeProperty(l);else{const x="string"==typeof f&&f.endsWith("!important");x&&(f=f.slice(0,-10),b|=$i.Important),h?e.setStyle(r,l,f,b):r.style.setProperty(l,f,x?"important":"")}}}(l,b,rt(Ci(),r),f,h))}function Cm(e,t,r,l,f,h){const b=null===t;let x;for(;f>0;){const M=e[f],z=Array.isArray(M),se=z?M[1]:M,Te=null===se;let Ie=r[f+1];Ie===Ln&&(Ie=Te?Fn:void 0);let ze=Te?cf(Ie,l):se===l?Ie:void 0;if(z&&!nf(ze)&&(ze=cf(M,l)),nf(ze)&&(x=ze,b))return x;const Ze=e[f+1];f=b?na(Ze):tl(Ze)}if(null!==t){let M=h?t.residualClasses:t.residualStyles;null!=M&&(x=cf(M,l))}return x}function nf(e){return void 0!==e}function Tm(e,t){return 0!=(e.flags&(t?16:32))}function xh(e,t=""){const r=Nt(),l=Xn(),f=e+20,h=l.firstCreatePass?kr(l,f,1,t,null):l.data[f],b=r[f]=function(e,t){return _(e)?e.createText(t):e.createTextNode(t)}(r[11],t);kc(l,r,b,h),Jr(h,!1)}function Gp(e,t,r){const l=Nt(),f=Wd(l,e,t,r);return f!==Ln&&Rl(l,Ci(),f),Gp}function Nr(e,t,r){!function(e,t,r,l){const f=Xn(),h=Vi(2);f.firstUpdatePass&&uy(f,null,h,l);const b=Nt();if(r!==Ln&&Gi(b,h,r)){const x=f.data[Ci()];if(Tm(x,l)&&!ly(f,h)){let M=l?x.classesWithoutHost:x.stylesWithoutHost;null!==M&&(r=G(M,r||"")),_h(f,x,b,r,l)}else!function(e,t,r,l,f,h,b,x){f===Ln&&(f=Fn);let M=0,z=0,se=0<f.length?f[0]:null,Te=0<h.length?h[0]:null;for(;null!==se||null!==Te;){const Ie=M<f.length?f[M+1]:void 0,ze=z<h.length?h[z+1]:void 0;let gt,Ze=null;se===Te?(M+=2,z+=2,Ie!==ze&&(Ze=Te,gt=ze)):null===Te||null!==se&&se<Te?(M+=2,Ze=se):(z+=2,Ze=Te,gt=ze),null!==Ze&&bm(e,t,r,l,Ze,gt,b,x),se=M<f.length?f[M]:null,Te=z<h.length?h[z]:null}}(f,x,b,b[11],b[h+1],b[h+1]=function(e,t,r){if(null==r||""===r)return Fn;const l=[],f=ea(r);if(Array.isArray(f))for(let h=0;h<f.length;h++)e(l,f[h],!0);else if("object"==typeof f)for(const h in f)f.hasOwnProperty(h)&&e(l,h,f[h]);else"string"==typeof f&&t(l,f);return l}(e,t,r),l,h)}}(Js,Bl,Wd(Nt(),e,t,r),!0)}function Zt(e,t,r){const l=Nt();return Gi(l,zo(),t)&&ia(Xn(),qr(),l,e,t,l[11],r,!0),Zt}const Bt=void 0;var Ts=["en",[["a","p"],["AM","PM"],Bt],[["AM","PM"],Bt,Bt],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bt,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bt,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bt,"{1} 'at' {0}",Bt],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ds={};function Sh(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=xm(t);if(r)return r;const l=t.split("-")[0];if(r=xm(l),r)return r;if("en"===l)return Ts;throw new Error(`Missing locale data for the locale "${e}".`)}function Em(e){return Sh(e)[wn.PluralCase]}function xm(e){return e in ds||(ds[e]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[e]),ds[e]}var wn=(()=>((wn=wn||{})[wn.LocaleId=0]="LocaleId",wn[wn.DayPeriodsFormat=1]="DayPeriodsFormat",wn[wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",wn[wn.DaysFormat=3]="DaysFormat",wn[wn.DaysStandalone=4]="DaysStandalone",wn[wn.MonthsFormat=5]="MonthsFormat",wn[wn.MonthsStandalone=6]="MonthsStandalone",wn[wn.Eras=7]="Eras",wn[wn.FirstDayOfWeek=8]="FirstDayOfWeek",wn[wn.WeekendRange=9]="WeekendRange",wn[wn.DateFormat=10]="DateFormat",wn[wn.TimeFormat=11]="TimeFormat",wn[wn.DateTimeFormat=12]="DateTimeFormat",wn[wn.NumberSymbols=13]="NumberSymbols",wn[wn.NumberFormats=14]="NumberFormats",wn[wn.CurrencyCode=15]="CurrencyCode",wn[wn.CurrencySymbol=16]="CurrencySymbol",wn[wn.CurrencyName=17]="CurrencyName",wn[wn.Currencies=18]="Currencies",wn[wn.Directionality=19]="Directionality",wn[wn.PluralCase=20]="PluralCase",wn[wn.ExtraData=21]="ExtraData",wn))();const Ey="en-US";let Ib=Ey;function c0(e){jt(e,"Expected localeId to be defined"),"string"==typeof e&&(Ib=e.toLowerCase().replace(/_/g,"-"))}function h0(e,t,r,l,f){if(e=ae(e),Array.isArray(e))for(let h=0;h<e.length;h++)h0(e[h],t,r,l,f);else{const h=Xn(),b=Nt();let x=zd(e)?e:ae(e.provide),M=xv(e);const z=Ar(),se=1048575&z.providerIndexes,Te=z.directiveStart,Ie=z.providerIndexes>>20;if(zd(e)||!e.multi){const ze=new Ca(M,f,Fl),Ze=g0(x,t,f?se:se+Ie,Te);-1===Ze?(wa(Ni(z,b),h,x),p0(h,e,t.length),t.push(x),z.directiveStart++,z.directiveEnd++,f&&(z.providerIndexes+=1048576),r.push(ze),b.push(ze)):(r[Ze]=ze,b[Ze]=ze)}else{const ze=g0(x,t,se+Ie,Te),Ze=g0(x,t,se,se+Ie),gt=ze>=0&&r[ze],at=Ze>=0&&r[Ze];if(f&&!at||!f&&!gt){wa(Ni(z,b),h,x);const Vt=function(e,t,r,l,f){const h=new Ca(e,r,Fl);return h.multi=[],h.index=t,h.componentProviders=0,nC(h,f,l&&!r),h}(f?px:hx,r.length,f,l,M);!f&&at&&(r[Ze].providerFactory=Vt),p0(h,e,t.length,0),t.push(x),z.directiveStart++,z.directiveEnd++,f&&(z.providerIndexes+=1048576),r.push(Vt),b.push(Vt)}else p0(h,e,ze>-1?ze:Ze,nC(r[f?Ze:ze],M,!f&&l));!f&&l&&at&&r[Ze].componentProviders++}}}function p0(e,t,r,l){const f=zd(t);if(f||function(e){return!!e.useClass}(t)){const b=(t.useClass||t).prototype.ngOnDestroy;if(b){const x=e.destroyHooks||(e.destroyHooks=[]);if(!f&&t.multi){const M=x.indexOf(r);-1===M?x.push(r,[l,b]):x[M+1].push(l,b)}else x.push(r,b)}}}function nC(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function g0(e,t,r,l){for(let f=r;f<l;f++)if(t[f]===e)return f;return-1}function hx(e,t,r,l){return m0(this.multi,[])}function px(e,t,r,l){const f=this.multi;let h;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=Ps(r,r[1],this.providerFactory.index,l);h=x.slice(0,b),m0(f,h);for(let M=b;M<x.length;M++)h.push(x[M])}else h=[],m0(f,h);return h}function m0(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function rC(e,t=[]){return r=>{r.providersResolver=(l,f)=>function(e,t,r){const l=Xn();if(l.firstCreatePass){const f=Ur(e);h0(r,l.data,l.blueprint,f,!0),h0(t,l.data,l.blueprint,f,!1)}}(l,f?f(e):e,t)}}class iC{}const oC="ngComponent";class vx{resolveComponentFactory(t){throw function(e){const t=Error(`No component factory found for ${ne(e)}. Did you add it to @NgModule.entryComponents?`);return t[oC]=e,t}(t)}}let Kp=(()=>{class e{}return e.NULL=new vx,e})();function Py(...e){}function Yp(e,t){return new rc(ut(e,t))}const bx=function(){return Yp(Ar(),Nt())};let rc=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=bx,e})();function aC(e){return e instanceof rc?e.nativeElement:e}class Dy{}let Cx=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ex(),e})();const Ex=function(){const e=Nt(),r=$t(Ar().index,e);return function(e){return e[11]}(Tr(r)?r:e)};let y0=(()=>{class e{}return e.\u0275prov=fn({token:e,providedIn:"root",factory:()=>null}),e})();class lC{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const uC=new lC("12.2.16");class cC{constructor(){}supports(t){return Cr(t)}create(t){return new Ox(t)}}const Sx=(e,t)=>t;class Ox{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Sx}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,l=this._removalsHead,f=0,h=null;for(;r||l;){const b=!l||r&&r.currentIndex<fC(l,f,h)?r:l,x=fC(b,f,h),M=b.currentIndex;if(b===l)f--,l=l._nextRemoved;else if(r=r._next,null==b.previousIndex)f++;else{h||(h=[]);const z=x-f,se=M-f;if(z!=se){for(let Ie=0;Ie<z;Ie++){const ze=Ie<h.length?h[Ie]:h[Ie]=0,Ze=ze+Ie;se<=Ze&&Ze<z&&(h[Ie]=ze+1)}h[b.previousIndex]=se-z}}x!==M&&t(b,x,M)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Cr(t))throw new Error(`Error trying to diff '${ne(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let f,h,b,r=this._itHead,l=!1;if(Array.isArray(t)){this.length=t.length;for(let x=0;x<this.length;x++)h=t[x],b=this._trackByFn(x,h),null!==r&&Object.is(r.trackById,b)?(l&&(r=this._verifyReinsertion(r,h,b,x)),Object.is(r.item,h)||this._addIdentityChange(r,h)):(r=this._mismatch(r,h,b,x),l=!0),r=r._next}else f=0,function(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Qr()]();let l;for(;!(l=r.next()).done;)t(l.value)}}(t,x=>{b=this._trackByFn(f,x),null!==r&&Object.is(r.trackById,b)?(l&&(r=this._verifyReinsertion(r,x,b,f)),Object.is(r.item,x)||this._addIdentityChange(r,x)):(r=this._mismatch(r,x,b,f),l=!0),r=r._next,f++}),this.length=f;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,l,f){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,h,f)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,h,f)):t=this._addAfter(new Px(r,l),h,f),t}_verifyReinsertion(t,r,l,f){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?t=this._reinsertAfter(h,t._prev,f):t.currentIndex!=f&&(t.currentIndex=f,this._addToMoves(t,f)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const f=t._prevRemoved,h=t._nextRemoved;return null===f?this._removalsHead=h:f._nextRemoved=h,null===h?this._removalsTail=f:h._prevRemoved=f,this._insertAfter(t,r,l),this._addToMoves(t,l),t}_moveAfter(t,r,l){return this._unlink(t),this._insertAfter(t,r,l),this._addToMoves(t,l),t}_addAfter(t,r,l){return this._insertAfter(t,r,l),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,l){const f=null===r?this._itHead:r._next;return t._next=f,t._prev=r,null===f?this._itTail=t:f._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new dC),this._linkedRecords.put(t),t.currentIndex=l,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,l=t._next;return null===r?this._itHead=l:r._next=l,null===l?this._itTail=r:l._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Px{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===r||r<=l.currentIndex)&&Object.is(l.trackById,t))return l;return null}remove(t){const r=t._prevDup,l=t._nextDup;return null===r?this._head=l:r._nextDup=l,null===l?this._tail=r:l._prevDup=r,null===this._head}}class dC{constructor(){this.map=new Map}put(t){const r=t.trackById;let l=this.map.get(r);l||(l=new Dx,this.map.set(r,l)),l.add(t)}get(t,r){const f=this.map.get(t);return f?f.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fC(e,t,r){const l=e.previousIndex;if(null===l)return l;let f=0;return r&&l<r.length&&(f=r[l]),l+t+f}class hC{constructor(){}supports(t){return t instanceof Map||Ro(t)}create(){return new Mx}}class Mx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||Ro(t)))throw new Error(`Error trying to diff '${ne(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(l,f)=>{if(r&&r.key===f)this._maybeAddToChanges(r,l),this._appendAfter=r,r=r._next;else{const h=this._getOrCreateRecordForKey(f,l);r=this._insertBeforeOrAppend(r,h)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let l=r;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const l=t._prev;return r._next=t,r._prev=l,t._prev=r,l&&(l._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const f=this._records.get(t);this._maybeAddToChanges(f,r);const h=f._prev,b=f._next;return h&&(h._next=b),b&&(b._prev=h),f._next=null,f._prev=null,f}const l=new Ax(t);return this._records.set(t,l),l.currentValue=r,this._addToAdditions(l),l}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(l=>r(t[l],l))}}class Ax{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pC(){return new My([new cC])}let My=(()=>{class e{constructor(r){this.factories=r}static create(r,l){if(null!=l){const f=l.factories.slice();r=r.concat(f)}return new e(r)}static extend(r){return{provide:e,useFactory:l=>e.create(r,l||pC()),deps:[[e,new Sl,new Pa]]}}find(r){const l=this.factories.find(f=>f.supports(r));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(e){return e.name||typeof e}(r)}'`)}}return e.\u0275prov=fn({token:e,providedIn:"root",factory:pC}),e})();function gC(){return new Ay([new hC])}let Ay=(()=>{class e{constructor(r){this.factories=r}static create(r,l){if(l){const f=l.factories.slice();r=r.concat(f)}return new e(r)}static extend(r){return{provide:e,useFactory:l=>e.create(r,l||gC()),deps:[[e,new Sl,new Pa]]}}find(r){const l=this.factories.find(f=>f.supports(r));if(l)return l;throw new Error(`Cannot find a differ supporting object '${r}'`)}}return e.\u0275prov=fn({token:e,providedIn:"root",factory:gC}),e})();function Iy(e,t,r,l,f=!1){for(;null!==r;){const h=t[r.index];if(null!==h&&l.push(be(h)),Ai(h))for(let x=10;x<h.length;x++){const M=h[x],z=M[1].firstChild;null!==z&&Iy(M[1],M,z,l)}const b=r.type;if(8&b)Iy(e,t,r.child,l);else if(32&b){const x=us(r,t);let M;for(;M=x();)l.push(M)}else if(16&b){const x=ap(t,r);if(Array.isArray(x))l.push(...x);else{const M=_s(t[16]);Iy(M[1],M,x,l,!0)}}r=f?r.projectionNext:r.next}return l}class Dm{constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,r=t[1];return Iy(r,t,r.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ai(t)){const r=t[8],l=r?r.indexOf(this):-1;l>-1&&(Pd(t,l),Xo(r,l))}this._attachedToViewContainer=!1}Vf(this._lView[1],this._lView)}onDestroy(t){Lc(this._lView[1],this._lView,null,t)}markForCheck(){lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Tp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,r){zr(!0);try{Tp(e,t,r)}finally{zr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Rc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class kx extends Dm{constructor(t){super(t),this._view=t}detectChanges(){sl(this._view)}checkNoChanges(){!function(e){zr(!0);try{sl(e)}finally{zr(!1)}}(this._view)}get context(){return null}}const Nx=function(e){return function(e,t,r){if(zn(e)&&!r){const l=$t(e.index,t);return new Dm(l,l)}return 47&e.type?new Dm(t[16],t):null}(Ar(),Nt(),16==(16&e))};let Lx=(()=>{class e{}return e.__NG_ELEMENT_ID__=Nx,e})();const Ux=[new hC],jx=new My([new cC]),Hx=new Ay(Ux),$x=function(){return ky(Ar(),Nt())};let Mm=(()=>{class e{}return e.__NG_ELEMENT_ID__=$x,e})();const Wx=Mm,Gx=class extends Wx{constructor(t,r,l){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=l}createEmbeddedView(t){const r=this._declarationTContainer.tViews,l=ho(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(r)),rl(r,l,t),new Dm(l)}};function ky(e,t){return 4&e.type?new Gx(t,e,Yp(e,t)):null}class Oh{}class mC{}const Kx=function(){return _C(Ar(),Nt())};let Ry=(()=>{class e{}return e.__NG_ELEMENT_ID__=Kx,e})();const Zx=Ry,vC=class extends Zx{constructor(t,r,l){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=l}get element(){return Yp(this._hostTNode,this._hostLView)}get injector(){return new H(this._hostTNode,this._hostLView)}get parentInjector(){const t=bl(this._hostTNode,this._hostLView);if(Bu(t)){const r=Qo(t,this._hostLView),l=Ea(t);return new H(r[1].data[l+8],r)}return new H(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=yC(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,r,l){const f=t.createEmbeddedView(r||{});return this.insert(f,l),f}createComponent(t,r,l,f,h){const b=l||this.parentInjector;if(!h&&null==t.ngModule&&b){const M=b.get(Oh,null);M&&(h=M)}const x=t.create(b,f,void 0,h);return this.insert(x.hostView,r),x}insert(t,r){const l=t._lView,f=l[1];if(Ai(l[3])){const se=this.indexOf(t);if(-1!==se)this.detach(se);else{const Te=l[3],Ie=new vC(Te,Te[6],Te[3]);Ie.detach(Ie.indexOf(t))}}const h=this._adjustIndex(r),b=this._lContainer;!function(e,t,r,l){const f=10+l,h=r.length;l>0&&(r[f-1][4]=t),l<h-10?(t[4]=r[f],dc(r,10+l,t)):(r.push(t),t[4]=null),t[3]=r;const b=t[17];null!==b&&r!==b&&function(e,t){const r=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===r?e[9]=[t]:r.push(t)}(b,t);const x=t[19];null!==x&&x.insertView(e),t[2]|=128}(f,l,b,h);const x=_u(h,b),M=l[11],z=el(M,b[7]);return null!==z&&function(e,t,r,l,f,h){l[0]=f,l[6]=t,Rc(e,l,r,1,f,h)}(f,b[6],M,l,z,x),t.attachToViewContainerRef(),dc(_0(b),h,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=yC(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),l=Pd(this._lContainer,r);l&&(Xo(_0(this._lContainer),r),Vf(l[1],l))}detach(t){const r=this._adjustIndex(t,-1),l=Pd(this._lContainer,r);return l&&null!=Xo(_0(this._lContainer),r)?new Dm(l):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function yC(e){return e[8]}function _0(e){return e[8]||(e[8]=[])}function _C(e,t){let r;const l=t[e.index];if(Ai(l))r=l;else{let f;if(8&e.type)f=be(l);else{const h=t[11];f=h.createComment("");const b=ut(e,t);ko(h,el(h,b),f,function(e,t){return _(e)?e.nextSibling(t):t.nextSibling}(h,b),!1)}t[e.index]=r=Bg(l,t,f,e),Cp(t,r)}return new vC(r,e,t)}const eg={};class UC extends Kp{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=er(t);return new jC(r,this.ngModule)}}function VC(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}const qw=new dr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Sd});class jC extends iC{constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=t.selectors.map(Mg).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}get inputs(){return VC(this.componentDef.inputs)}get outputs(){return VC(this.componentDef.outputs)}create(t,r,l,f){const h=(f=f||this.ngModule)?function(e,t){return{get:(r,l,f)=>{const h=e.get(r,eg,f);return h!==eg||l===eg?h:t.get(r,l,f)}}}(t,f.injector):t,b=h.get(Dy,V),x=h.get(y0,null),M=b.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",se=l?function(e,t,r){if(_(e))return e.selectRootElement(t,r===rr.ShadowDom);let l="string"==typeof t?e.querySelector(t):t;return l.textContent="",l}(M,l,this.componentDef.encapsulation):Ac(b.createRenderer(null,this.componentDef),z,function(e){const t=e.toLowerCase();return"svg"===t?xo:"math"===t?"http://www.w3.org/1998/MathML/":null}(z)),Te=this.componentDef.onPush?576:528,Ie=function(e,t){return{components:[],scheduler:e||Sd,clean:vv,playerHandler:t||null,flags:0}}(),ze=nh(0,null,null,1,0,null,null,null,null,null),Ze=ho(null,ze,Ie,Te,null,null,b,M,x,h);let gt,at;gs(Ze);try{const Vt=function(e,t,r,l,f,h){const b=r[1];r[20]=e;const M=kr(b,20,2,"#host",null),z=M.mergedAttrs=t.hostAttrs;null!==z&&(xp(M,z,!0),null!==e&&(ls(f,e,z),null!==M.classes&&Gf(f,e,M.classes),null!==M.styles&&lp(f,e,M.styles)));const se=l.createRenderer(e,t),Te=ho(r,th(t),null,t.onPush?64:16,r[20],M,l,se,h||null,null);return b.firstCreatePass&&(wa(Ni(M,r),b,t.type),Ng(b,M),hv(M,r.length,1)),Cp(r,Te),r[20]=Te}(se,this.componentDef,Ze,b,M);if(se)if(l)ls(M,se,["ng-version",uC.full]);else{const{attrs:At,classes:vn}=function(e){const t=[],r=[];let l=1,f=2;for(;l<e.length;){let h=e[l];if("string"==typeof h)2===f?""!==h&&t.push(h,e[++l]):8===f&&r.push(h);else{if(!ta(f))break;f=h}l++}return{attrs:t,classes:r}}(this.componentDef.selectors[0]);At&&ls(M,se,At),vn&&vn.length>0&&Gf(M,se,vn.join(" "))}if(at=St(ze,20),void 0!==r){const At=at.projection=[];for(let vn=0;vn<this.ngContentSelectors.length;vn++){const Bn=r[vn];At.push(null!=Bn?Array.from(Bn):null)}}gt=function(e,t,r,l,f){const h=r[1],b=function(e,t,r){const l=Ar();e.firstCreatePass&&(r.providersResolver&&r.providersResolver(r),Lg(e,l,t,Hs(e,t,1,null),r));const f=Ps(t,e,l.directiveStart,l);ri(f,t);const h=ut(l,t);return h&&ri(h,t),f}(h,r,t);if(l.components.push(b),e[8]=b,f&&f.forEach(M=>M(b,t)),t.contentQueries){const M=Ar();t.contentQueries(1,b,M.directiveStart)}const x=Ar();return!h.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ms(x.index),Ud(r[1],x,0,x.directiveStart,x.directiveEnd,t),fv(t,b)),b}(Vt,this.componentDef,Ze,Ie,[xe]),rl(ze,Ze,null)}finally{Wa()}return new Yw(this.componentType,gt,Yp(at,Ze),Ze,at)}}class Yw extends class{}{constructor(t,r,l,f,h){super(),this.location=l,this._rootLView=f,this._tNode=h,this.instance=r,this.hostView=this.changeDetectorRef=new kx(f),this.componentType=t}get injector(){return new H(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const tg=new Map;class Jw extends Oh{constructor(t,r){super(),this._parent=r,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new UC(this);const l=li(t),f=t[Ne]||null;f&&c0(f),this._bootstrapComponents=Ra(l.bootstrap),this._r3Injector=Ev(t,r,[{provide:Oh,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver}],ne(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,r=wi.THROW_IF_NOT_FOUND,l=an.Default){return t===wi||t===Oh||t===jd?this:this._r3Injector.get(t,r,l)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class I0 extends mC{constructor(t){super(),this.moduleType=t,null!==li(t)&&function(e){const t=new Set;!function r(l){const f=li(l,!0),h=f.id;null!==h&&(function(e,t,r){if(t&&t!==r)throw new Error(`Duplicate module registered for ${e} - ${ne(t)} vs ${ne(t.name)}`)}(h,tg.get(h),l),tg.set(h,l));const b=Ra(f.imports);for(const x of b)t.has(x)||(t.add(x),r(x))}(e)}(t)}create(t){return new Jw(this.moduleType,t)}}function $C(e,t,r,l){return qC(Nt(),ps(),e,t,r,l)}function WC(e,t,r,l,f){return function(e,t,r,l,f,h,b){const x=t+r;return la(e,x,f,h)?ns(e,x+2,b?l.call(b,f,h):l(f,h)):Bm(e,x+2)}(Nt(),ps(),e,t,r,l,f)}function GC(e,t,r,l,f,h){return function(e,t,r,l,f,h,b,x){const M=t+r;return function(e,t,r,l,f){const h=la(e,t,r,l);return Gi(e,t+2,f)||h}(e,M,f,h,b)?ns(e,M+3,x?l.call(x,f,h,b):l(f,h,b)):Bm(e,M+3)}(Nt(),ps(),e,t,r,l,f,h)}function Bm(e,t){const r=e[t];return r===Ln?void 0:r}function qC(e,t,r,l,f,h){const b=t+r;return Gi(e,b,f)?ns(e,b+1,h?l.call(h,f):l(f)):Bm(e,b+1)}function XC(e,t){const r=Xn();let l;const f=e+20;r.firstCreatePass?(l=function(e,t){if(t)for(let r=t.length-1;r>=0;r--){const l=t[r];if(e===l.name)return l}throw new De("302",`The pipe '${e}' could not be found!`)}(t,r.pipeRegistry),r.data[f]=l,l.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(f,l.onDestroy)):l=r.data[f];const h=l.factory||(l.factory=Zi(l.type)),b=Mr(Fl);try{const x=Uu(!1),M=h();return Uu(x),function(e,t,r,l){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=l}(r,Nt(),f,M),M}finally{Mr(b)}}function JC(e,t,r){const l=e+20,f=Nt(),h=It(f,l);return function(e,t){si.isWrapped(t)&&(t=si.unwrap(t),e[tn.lFrame.bindingIndex]=Ln);return t}(f,function(e,t){return e[1].data[t].pure}(f,l)?qC(f,ps(),t,h.transform,r,h):h.transform(r))}function k0(e){return t=>{setTimeout(e,void 0,t)}}const ic=class extends A.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,l){var f,h,b;let x=t,M=r||(()=>null),z=l;if(t&&"object"==typeof t){const Te=t;x=null===(f=Te.next)||void 0===f?void 0:f.bind(Te),M=null===(h=Te.error)||void 0===h?void 0:h.bind(Te),z=null===(b=Te.complete)||void 0===b?void 0:b.bind(Te)}this.__isAsync&&(M=k0(M),x&&(x=k0(x)),z&&(z=k0(z)));const se=super.subscribe({next:x,error:M,complete:z});return t instanceof y.w&&t.add(se),se}};function hS(){return this._results[Qr()]()}class Uy{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=Qr(),l=Uy.prototype;l[r]||(l[r]=hS)}get changes(){return this._changes||(this._changes=new ic)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const l=this;l.dirty=!1;const f=Bs(t);(this._changesDetected=!function(e,t,r){if(e.length!==t.length)return!1;for(let l=0;l<e.length;l++){let f=e[l],h=t[l];if(r&&(f=r(f),h=r(h)),h!==f)return!1}return!0}(l._results,f,r))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class R0{constructor(t){this.queryList=t,this.matches=null}clone(){return new R0(this.queryList)}setDirty(){this.queryList.setDirty()}}class N0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const l=null!==t.contentQueries?t.contentQueries[0]:r.length,f=[];for(let h=0;h<l;h++){const b=r.getByIndex(h);f.push(this.queries[b.indexInDeclarationView].clone())}return new N0(f)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==lT(t,r).matches&&this.queries[r].setDirty()}}class eT{constructor(t,r,l=null){this.predicate=t,this.flags=r,this.read=l}}class L0{constructor(t=[]){this.queries=t}elementStart(t,r){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let l=0;l<this.length;l++){const f=null!==r?r.length:0,h=this.getByIndex(l).embeddedTView(t,f);h&&(h.indexInDeclarationView=l,null!==r?r.push(h):r=[h])}return null!==r?new L0(r):null}template(t,r){for(let l=0;l<this.queries.length;l++)this.queries[l].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class F0{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new F0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let l=t.parent;for(;null!==l&&8&l.type&&l.index!==r;)l=l.parent;return r===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const h=l[f];this.matchTNodeWithReadOption(t,r,mS(r,h)),this.matchTNodeWithReadOption(t,r,Vu(r,t,h,!1,!1))}else l===Mm?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Vu(r,t,l,!1,!1))}matchTNodeWithReadOption(t,r,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===rc||f===Ry||f===Mm&&4&r.type)this.addMatch(r.index,-2);else{const h=Vu(r,t,f,!1,!1);null!==h&&this.addMatch(r.index,h)}else this.addMatch(r.index,l)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function mS(e,t){const r=e.localNames;if(null!==r)for(let l=0;l<r.length;l+=2)if(r[l]===t)return r[l+1];return null}function yS(e,t,r,l){return-1===r?function(e,t){return 11&e.type?Yp(e,t):4&e.type?ky(e,t):null}(t,e):-2===r?function(e,t,r){return r===rc?Yp(t,e):r===Mm?ky(t,e):r===Ry?_C(t,e):void 0}(e,t,l):Ps(e,e[1],r,t)}function tT(e,t,r,l){const f=t[19].queries[l];if(null===f.matches){const h=e.data,b=r.matches,x=[];for(let M=0;M<b.length;M+=2){const z=b[M];x.push(z<0?null:yS(t,h[z],b[M+1],r.metadata.read))}f.matches=x}return f.matches}function B0(e,t,r,l){const f=e.queries.getByIndex(r),h=f.matches;if(null!==h){const b=tT(e,t,f,r);for(let x=0;x<h.length;x+=2){const M=h[x];if(M>0)l.push(b[x/2]);else{const z=h[x+1],se=t[-M];for(let Te=10;Te<se.length;Te++){const Ie=se[Te];Ie[17]===Ie[3]&&B0(Ie[1],Ie,z,l)}if(null!==se[9]){const Te=se[9];for(let Ie=0;Ie<Te.length;Ie++){const ze=Te[Ie];B0(ze[1],ze,z,l)}}}}}return l}function nT(e){const t=Nt(),r=Xn(),l=ya();Zs(l+1);const f=lT(r,l);if(e.dirty&&Gt(t)===(2==(2&f.metadata.flags))){if(null===f.matches)e.reset([]);else{const h=f.crossesNgTemplate?B0(r,t,l,[]):tT(r,t,f,l);e.reset(h,aC),e.notifyOnChanges()}return!0}return!1}function rT(e,t,r){const l=Xn();l.firstCreatePass&&(aT(l,new eT(e,t,r),-1),2==(2&t)&&(l.staticViewQueries=!0)),oT(l,Nt(),t)}function iT(e,t,r,l){const f=Xn();if(f.firstCreatePass){const h=Ar();aT(f,new eT(t,r,l),h.index),function(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(f,e),2==(2&r)&&(f.staticContentQueries=!0)}oT(f,Nt(),r)}function sT(){return e=Nt(),t=ya(),e[19].queries[t].queryList;var e,t}function oT(e,t,r){const l=new Uy(4==(4&r));Lc(e,t,l,l.destroy),null===t[19]&&(t[19]=new N0),t[19].queries.push(new R0(l))}function aT(e,t,r){null===e.queries&&(e.queries=new L0),e.queries.track(new F0(t,r))}function lT(e,t){return e.queries.getByIndex(t)}function uT(e,t){return ky(e,t)}const $0=new dr("Application Initializer");let rg=(()=>{class e{constructor(r){this.appInits=r,this.resolve=Py,this.reject=Py,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f})}runInitializers(){if(this.initialized)return;const r=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const h=this.appInits[f]();if(fm(h))r.push(h);else if(Up(h)){const b=new Promise((x,M)=>{h.subscribe({complete:x,error:M})});r.push(b)}}Promise.all(r).then(()=>{l()}).catch(f=>{this.reject(f)}),0===r.length&&l(),this.initialized=!0}}return e.\u0275fac=function(r){return new(r||e)(Hi($0,8))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();const OT=new dr("AppId"),QS={provide:OT,useFactory:function(){return`${W0()}${W0()}${W0()}`},deps:[]};function W0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PT=new dr("Platform Initializer"),DT=new dr("Platform ID"),MT=new dr("appBootstrapListener");let AT=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();const Hy=new dr("LocaleId"),IT=new dr("DefaultCurrencyCode");class YS{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}const G0=function(e){return new I0(e)},ZS=G0,XS=function(e){return Promise.resolve(G0(e))},kT=function(e){const t=G0(e),l=Ra(li(e).declarations).reduce((f,h)=>{const b=er(h);return b&&f.push(new jC(b)),f},[]);return new YS(t,l)},JS=kT,eO=function(e){return Promise.resolve(kT(e))};let Hm=(()=>{class e{constructor(){this.compileModuleSync=ZS,this.compileModuleAsync=XS,this.compileModuleAndAllComponentsSync=JS,this.compileModuleAndAllComponentsAsync=eO}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();const rO=(()=>Promise.resolve(0))();function q0(e){"undefined"==typeof Zone?rO.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ul{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ic(!1),this.onMicrotaskEmpty=new ic(!1),this.onStable=new ic(!1),this.onError=new ic(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&r,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let e=En.requestAnimationFrame,t=En.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const l=t[Zone.__symbol__("OriginalDelegate")];l&&(t=l)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(En,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,K0(e),e.isCheckStableRunning=!0,Q0(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),K0(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,l,f,h,b,x)=>{try{return RT(e),r.invokeTask(f,h,b,x)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||e.shouldCoalesceRunChangeDetection)&&t(),NT(e)}},onInvoke:(r,l,f,h,b,x,M)=>{try{return RT(e),r.invoke(f,h,b,x,M)}finally{e.shouldCoalesceRunChangeDetection&&t(),NT(e)}},onHasTask:(r,l,f,h)=>{r.hasTask(f,h),l===f&&("microTask"==h.change?(e._hasPendingMicrotasks=h.microTask,K0(e),Q0(e)):"macroTask"==h.change&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(r,l,f,h)=>(r.handleError(f,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ul.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ul.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,r,l){return this._inner.run(t,r,l)}runTask(t,r,l,f){const h=this._inner,b=h.scheduleEventTask("NgZoneEvent: "+f,t,sO,Py,Py);try{return h.runTask(b,r,l)}finally{h.cancelTask(b)}}runGuarded(t,r,l){return this._inner.runGuarded(t,r,l)}runOutsideAngular(t){return this._outer.run(t)}}const sO={};function Q0(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function K0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function RT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function NT(e){e._nesting--,Q0(e)}class lO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ic,this.onMicrotaskEmpty=new ic,this.onStable=new ic,this.onError=new ic}run(t,r,l){return t.apply(r,l)}runGuarded(t,r,l){return t.apply(r,l)}runOutsideAngular(t){return t()}runTask(t,r,l,f){return t.apply(r,l)}}let LT=(()=>{class e{constructor(r){this._ngZone=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ul.assertNotInAngularZone(),q0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())q0(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(r)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,l,f){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==h),r(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:r,timeoutId:h,updateCb:f})}whenStable(r,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(r,l,f){return[]}}return e.\u0275fac=function(r){return new(r||e)(Hi(ul))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})(),FT=(()=>{class e{constructor(){this._applications=new Map,Y0.addToWindow(this)}registerApplication(r,l){this._applications.set(r,l)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,l=!0){return Y0.findTestabilityInTree(this,r,l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();class uO{addToWindow(t){}findTestabilityInTree(t,r,l){return null}}function cO(e){Y0=e}let Y0=new uO,BT=!0,UT=!1;function dO(){if(UT)throw new Error("Cannot enable prod mode after platform setup.");BT=!1}let Ou;const jT=new dr("AllowMultipleToken");class yO{constructor(t,r){this.name=t,this.token=r}}function HT(e,t,r=[]){const l=`Platform: ${t}`,f=new dr(l);return(h=[])=>{let b=zT();if(!b||b.injector.get(jT,!1))if(e)e(r.concat(h).concat({provide:f,useValue:!0}));else{const x=r.concat(h).concat({provide:f,useValue:!0},{provide:Fc,useValue:"platform"});!function(e){if(Ou&&!Ou.destroyed&&!Ou.injector.get(jT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ou=e.get($T);const t=e.get(PT,null);t&&t.forEach(r=>r())}(wi.create({providers:x,name:l}))}return function(e){const t=zT();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(f)}}function zT(){return Ou&&!Ou.destroyed?Ou:null}let $T=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,l){const x=function(e,t){let r;return r="noop"===e?new lO:("zone.js"===e?void 0:e)||new ul({enableLongStackTrace:(UT=!0,BT),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),r}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),M=[{provide:ul,useValue:x}];return x.run(()=>{const z=wi.create({providers:M,parent:this.injector,name:r.moduleType.name}),se=r.create(z),Te=se.injector.get(ka,null);if(!Te)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return x.runOutsideAngular(()=>{const Ie=x.onError.subscribe({next:ze=>{Te.handleError(ze)}});se.onDestroy(()=>{Z0(this._modules,se),Ie.unsubscribe()})}),function(e,t,r){try{const l=r();return fm(l)?l.catch(f=>{throw t.runOutsideAngular(()=>e.handleError(f)),f}):l}catch(l){throw t.runOutsideAngular(()=>e.handleError(l)),l}}(Te,x,()=>{const Ie=se.injector.get(rg);return Ie.runInitializers(),Ie.donePromise.then(()=>(c0(se.injector.get(Hy,Ey)||Ey),this._moduleDoBootstrap(se),se))})})}bootstrapModule(r,l=[]){const f=WT({},l);return function(e,t,r){const l=new I0(r);return Promise.resolve(l)}(0,0,r).then(h=>this.bootstrapModuleFactory(h,f))}_moduleDoBootstrap(r){const l=r.injector.get(zm);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!r.instance.ngDoBootstrap)throw new Error(`The module ${ne(r.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);r.instance.ngDoBootstrap(l)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(r){return new(r||e)(Hi(wi))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();function WT(e,t){return Array.isArray(t)?t.reduce(WT,e):Object.assign(Object.assign({},e),t)}let zm=(()=>{class e{constructor(r,l,f,h,b){this._zone=r,this._injector=l,this._exceptionHandler=f,this._componentFactoryResolver=h,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new $.y(z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{z.next(this._stable),z.complete()})}),M=new $.y(z=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{ul.assertNotInAngularZone(),q0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,z.next(!0))})})});const Te=this._zone.onUnstable.subscribe(()=>{ul.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{z.next(!1)}))});return()=>{se.unsubscribe(),Te.unsubscribe()}});this.isStable=(0,fe.T)(x,M.pipe(e=>(0,ce.x)()((0,ee.O)(ue)(e))))}bootstrap(r,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=r instanceof iC?r:this._componentFactoryResolver.resolveComponentFactory(r),this.componentTypes.push(f.componentType);const h=function(e){return e.isBoundToModule}(f)?void 0:this._injector.get(Oh),x=f.create(wi.NULL,[],l||f.selector,h),M=x.location.nativeElement,z=x.injector.get(LT,null),se=z&&x.injector.get(FT);return z&&se&&se.registerApplication(M,z),x.onDestroy(()=>{this.detachView(x.hostView),Z0(this.components,x),se&&se.unregisterApplication(M)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){const l=r;this._views.push(l),l.attachToAppRef(this)}detachView(r){const l=r;Z0(this._views,l),l.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(MT,[]).concat(this._bootstrapListeners).forEach(f=>f(r))}ngOnDestroy(){this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(r){return new(r||e)(Hi(ul),Hi(wi),Hi(ka),Hi(Kp),Hi(rg))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();function Z0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class xO{}class SO{}const OO={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let PO=(()=>{class e{constructor(r,l){this._compiler=r,this._config=l||OO}load(r){return this.loadAndCompile(r)}loadAndCompile(r){let[l,f]=r.split("#");return void 0===f&&(f="default"),F(8255)(l).then(h=>h[f]).then(h=>KT(h,l,f)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(r){let[l,f]=r.split("#"),h="NgFactory";return void 0===f&&(f="default",h=""),F(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(b=>b[f+h]).then(b=>KT(b,l,f))}}return e.\u0275fac=function(r){return new(r||e)(Hi(Hm),Hi(SO,8))},e.\u0275prov=fn({token:e,factory:e.\u0275fac}),e})();function KT(e,t,r){if(!e)throw new Error(`Cannot find '${r}' in '${t}'`);return e}const LO=function(e){return null},BO=HT(null,"core",[{provide:DT,useValue:"unknown"},{provide:$T,deps:[wi]},{provide:FT,deps:[]},{provide:AT,deps:[]}]),zO=[{provide:zm,useClass:zm,deps:[ul,wi,ka,Kp,rg]},{provide:qw,deps:[ul],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(r){t.push(r)}}},{provide:rg,useClass:rg,deps:[[new Pa,$0]]},{provide:Hm,useClass:Hm,deps:[]},QS,{provide:My,useFactory:function(){return jx},deps:[]},{provide:Ay,useFactory:function(){return Hx},deps:[]},{provide:Hy,useFactory:function(e){return c0(e=e||"undefined"!=typeof $localize&&$localize.locale||Ey),e},deps:[[new zu(Hy),new Pa,new Sl]]},{provide:IT,useValue:"USD"}];let WO=(()=>{class e{constructor(r){}}return e.\u0275fac=function(r){return new(r||e)(Hi(zm))},e.\u0275mod=Qi({type:e}),e.\u0275inj=Nn({providers:zO}),e})()},3256:(ct,Le,F)=>{"use strict";F.d(Le,{m2:()=>Mr,F0:()=>Ti,Bz:()=>Ni,lC:()=>Po});var A=F(8583),y=F(8720),$=F(4869),fe=F(9796),ee=F(7393);class ce extends ee.L{notifyNext(D,P,H,te,ye){this.destination.next(P)}notifyError(D,P){this.destination.error(D)}notifyComplete(D){this.destination.complete()}}class ue extends ee.L{constructor(D,P,H){super(),this.parent=D,this.outerValue=P,this.outerIndex=H,this.index=0}_next(D){this.parent.notifyNext(this.outerValue,D,this.outerIndex,this.index++,this)}_error(D){this.parent.notifyError(D,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var oe=F(7444),j=F(7574);function W(I,D,P,H,te=new ue(I,P,H)){if(!te.closed)return D instanceof j.y?D.subscribe(te):(0,oe.s)(D)(te)}var ne=F(6693);const G={};class Ce{constructor(D){this.resultSelector=D}call(D,P){return P.subscribe(new ae(D,this.resultSelector))}}class ae extends ce{constructor(D,P){super(D),this.resultSelector=P,this.active=0,this.values=[],this.observables=[]}_next(D){this.values.push(G),this.observables.push(D)}_complete(){const D=this.observables,P=D.length;if(0===P)this.destination.complete();else{this.active=P,this.toRespond=P;for(let H=0;H<P;H++)this.add(W(this,D[H],void 0,H))}}notifyComplete(D){0==(this.active-=1)&&this.destination.complete()}notifyNext(D,P,H){const te=this.values,Ve=this.toRespond?te[H]===G?--this.toRespond:this.toRespond:0;te[H]=P,0===Ve&&(this.resultSelector?this._tryResultSelector(te):this.destination.next(te.slice()))}_tryResultSelector(D){let P;try{P=this.resultSelector.apply(this,D)}catch(H){return void this.destination.error(H)}this.destination.next(P)}}const Pe=(()=>{function I(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return I.prototype=Object.create(Error.prototype),I})();var De=F(4402),Ae=F(5917),ge=F(6215),je=F(8071),Ke=F(1439),Dt=F(9193),dt=F(2441),Ye=F(7709);function Y(I,D){let P=!1;return arguments.length>=2&&(P=!0),function(te){return te.lift(new B(I,D,P))}}class B{constructor(D,P,H=!1){this.accumulator=D,this.seed=P,this.hasSeed=H}call(D,P){return P.subscribe(new re(D,this.accumulator,this.seed,this.hasSeed))}}class re extends ee.L{constructor(D,P,H,te){super(D),this.accumulator=P,this._seed=H,this.hasSeed=te,this.index=0}get seed(){return this._seed}set seed(D){this.hasSeed=!0,this._seed=D}_next(D){if(this.hasSeed)return this._tryNext(D);this.seed=D,this.destination.next(D)}_tryNext(D){const P=this.index++;let H;try{H=this.accumulator(this.seed,D,P)}catch(te){this.destination.error(te)}this.seed=H,this.destination.next(H)}}var pe=F(5435),Ee=F(7108);function Fe(I){return function(P){return 0===I?(0,Dt.c)():P.lift(new Re(I))}}class Re{constructor(D){if(this.total=D,this.total<0)throw new Ee.W}call(D,P){return P.subscribe(new Je(D,this.total))}}class Je extends ee.L{constructor(D,P){super(D),this.total=P,this.ring=new Array,this.count=0}_next(D){const P=this.ring,H=this.total,te=this.count++;P.length<H?P.push(D):P[te%H]=D}_complete(){const D=this.destination;let P=this.count;if(P>0){const H=this.count>=this.total?this.total:this.count,te=this.ring;for(let ye=0;ye<H;ye++){const Ve=P++%H;D.next(te[Ve])}}D.complete()}}function ft(I=He){return D=>D.lift(new vt(I))}class vt{constructor(D){this.errorFactory=D}call(D,P){return P.subscribe(new lt(D,this.errorFactory))}}class lt extends ee.L{constructor(D,P){super(D),this.errorFactory=P,this.hasValue=!1}_next(D){this.hasValue=!0,this.destination.next(D)}_complete(){if(this.hasValue)return this.destination.complete();{let D;try{D=this.errorFactory()}catch(P){D=P}this.destination.error(D)}}}function He(){return new Pe}function nt(I=null){return D=>D.lift(new ht(I))}class ht{constructor(D){this.defaultValue=D}call(D,P){return P.subscribe(new jt(D,this.defaultValue))}}class jt extends ee.L{constructor(D,P){super(D),this.defaultValue=P,this.isEmpty=!0}_next(D){this.isEmpty=!1,this.destination.next(D)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Rt=F(4487),Un=F(5257);function Sn(I,D){const P=arguments.length>=2;return H=>H.pipe(I?(0,pe.h)((te,ye)=>I(te,ye,H)):Rt.y,(0,Un.q)(1),P?nt(D):ft(()=>new Pe))}var fn=F(5319);class Nn{constructor(D){this.callback=D}call(D,P){return P.subscribe(new Sr(D,this.callback))}}class Sr extends ee.L{constructor(D,P){super(D),this.add(new fn.w(P))}}var Tn=F(8002),ai=F(3190),Kr=F(9761),nr=F(5304),Oi=F(4612),Lr=F(9773),Qn=F(8307),qi=F(1307),an=F(3282);class Hn{constructor(D,P){this.id=D,this.url=P}}class Or extends Hn{constructor(D,P,H="imperative",te=null){super(D,P),this.navigationTrigger=H,this.restoredState=te}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mr extends Hn{constructor(D,P,H){super(D,P),this.urlAfterRedirects=H}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pr extends Hn{constructor(D,P,H){super(D,P),this.reason=H}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ba extends Hn{constructor(D,P,H){super(D,P),this.error=H}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jn extends Hn{constructor(D,P,H,te){super(D,P),this.urlAfterRedirects=H,this.state=te}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kt extends Hn{constructor(D,P,H,te){super(D,P),this.urlAfterRedirects=H,this.state=te}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yn extends Hn{constructor(D,P,H,te,ye){super(D,P),this.urlAfterRedirects=H,this.state=te,this.shouldActivate=ye}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fo extends Hn{constructor(D,P,H,te){super(D,P),this.urlAfterRedirects=H,this.state=te}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends Hn{constructor(D,P,H,te){super(D,P),this.urlAfterRedirects=H,this.state=te}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ks{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pi{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ha{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zn{constructor(D,P,H){this.routerEvent=D,this.position=P,this.anchor=H}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pn="primary";class Fn{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const P=this.params[D];return Array.isArray(P)?P[0]:P}return null}getAll(D){if(this.has(D)){const P=this.params[D];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function pi(I){return new Fn(I)}const ss="ngNavigationCancelingError";function vo(I){const D=Error("NavigationCancelingError: "+I);return D[ss]=!0,D}function Ne(I,D,P){const H=P.path.split("/");if(H.length>I.length||"full"===P.pathMatch&&(D.hasChildren()||H.length<I.length))return null;const te={};for(let ye=0;ye<H.length;ye++){const Ve=H[ye],Ge=I[ye];if(Ve.startsWith(":"))te[Ve.substring(1)]=Ge;else if(Ve!==Ge.path)return null}return{consumed:I.slice(0,H.length),posParams:te}}function pt(I,D){const P=I?Object.keys(I):void 0,H=D?Object.keys(D):void 0;if(!P||!H||P.length!=H.length)return!1;let te;for(let ye=0;ye<P.length;ye++)if(te=P[ye],!Ht(I[te],D[te]))return!1;return!0}function Ht(I,D){if(Array.isArray(I)&&Array.isArray(D)){if(I.length!==D.length)return!1;const P=[...I].sort(),H=[...D].sort();return P.every((te,ye)=>H[ye]===te)}return I===D}function Vn(I){return Array.prototype.concat.apply([],I)}function jn(I){return I.length>0?I[I.length-1]:null}function gr(I,D){for(const P in I)I.hasOwnProperty(P)&&D(I[P],P)}function nn(I){return(0,y.CqO)(I)?I:(0,y.QGY)(I)?(0,De.D)(Promise.resolve(I)):(0,Ae.of)(I)}const Ki={exact:function er(I,D,P){if(!Pr(I.segments,D.segments)||!gi(I.segments,D.segments,P)||I.numberOfChildren!==D.numberOfChildren)return!1;for(const H in D.children)if(!I.children[H]||!er(I.children[H],D.children[H],P))return!1;return!0},subset:Yr},Et={exact:function(I,D){return pt(I,D)},subset:function(I,D){return Object.keys(D).length<=Object.keys(I).length&&Object.keys(D).every(P=>Ht(I[P],D[P]))},ignored:()=>!0};function Fr(I,D,P){return Ki[P.paths](I.root,D.root,P.matrixParams)&&Et[P.queryParams](I.queryParams,D.queryParams)&&!("exact"===P.fragment&&I.fragment!==D.fragment)}function Yr(I,D,P){return li(I,D,D.segments,P)}function li(I,D,P,H){if(I.segments.length>P.length){const te=I.segments.slice(0,P.length);return!(!Pr(te,P)||D.hasChildren()||!gi(te,P,H))}if(I.segments.length===P.length){if(!Pr(I.segments,P)||!gi(I.segments,P,H))return!1;for(const te in D.children)if(!I.children[te]||!Yr(I.children[te],D.children[te],H))return!1;return!0}{const te=P.slice(0,I.segments.length),ye=P.slice(I.segments.length);return!!(Pr(I.segments,te)&&gi(I.segments,te,H)&&I.children[pn])&&li(I.children[pn],D,ye,H)}}function gi(I,D,P){return D.every((H,te)=>Et[P](I[te].parameters,H.parameters))}class kn{constructor(D,P,H){this.root=D,this.queryParams=P,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pi(this.queryParams)),this._queryParamMap}toString(){return _r.serialize(this)}}class yt{constructor(D,P){this.segments=D,this.children=P,this.parent=null,gr(P,(H,te)=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zr(this)}}class On{constructor(D,P){this.path=D,this.parameters=P}get parameterMap(){return this._parameterMap||(this._parameterMap=pi(this.parameters)),this._parameterMap}toString(){return ui(this)}}function Pr(I,D){return I.length===D.length&&I.every((P,H)=>P.path===D[H].path)}class Kn{}class qs{parse(D){const P=new Uo(D);return new kn(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(D){var I;return`${`/${Fi(D.root,!0)}`}${function(I){const D=Object.keys(I).map(P=>{const H=I[P];return Array.isArray(H)?H.map(te=>`${yo(P)}=${yo(te)}`).join("&"):`${yo(P)}=${yo(H)}`}).filter(P=>!!P);return D.length?`?${D.join("&")}`:""}(D.queryParams)}${"string"==typeof D.fragment?`#${I=D.fragment,encodeURI(I)}`:""}`}}const _r=new qs;function Zr(I){return I.segments.map(D=>ui(D)).join("/")}function Fi(I,D){if(!I.hasChildren())return Zr(I);if(D){const P=I.children[pn]?Fi(I.children[pn],!1):"",H=[];return gr(I.children,(te,ye)=>{ye!==pn&&H.push(`${ye}:${Fi(te,!1)}`)}),H.length>0?`${P}(${H.join("//")})`:P}{const P=function(I,D){let P=[];return gr(I.children,(H,te)=>{te===pn&&(P=P.concat(D(H,te)))}),gr(I.children,(H,te)=>{te!==pn&&(P=P.concat(D(H,te)))}),P}(I,(H,te)=>te===pn?[Fi(I.children[pn],!1)]:[`${te}:${Fi(H,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[pn]?`${Zr(I)}/${P[0]}`:`${Zr(I)}/(${P.join("//")})`}}function _n(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yo(I){return _n(I).replace(/%3B/gi,";")}function mi(I){return _n(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rs(I){return decodeURIComponent(I)}function Mi(I){return Rs(I.replace(/\+/g,"%20"))}function ui(I){return`${mi(I.path)}${function(I){return Object.keys(I).map(D=>`;${mi(D)}=${mi(I[D])}`).join("")}(I.parameters)}`}const ur=/^[^\/()?;=#]+/;function io(I){const D=I.match(ur);return D?D[0]:""}const Bo=/^[^=?&#]+/,vi=/^[^?&#]+/;class Uo{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(D.length>0||Object.keys(P).length>0)&&(H[pn]=new yt(D,P)),H}parseSegment(){const D=io(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new On(Rs(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const P=io(this.remaining);if(!P)return;this.capture(P);let H="";if(this.consumeOptional("=")){const te=io(this.remaining);te&&(H=te,this.capture(H))}D[Rs(P)]=Rs(H)}parseQueryParam(D){const P=function(I){const D=I.match(Bo);return D?D[0]:""}(this.remaining);if(!P)return;this.capture(P);let H="";if(this.consumeOptional("=")){const Ve=function(I){const D=I.match(vi);return D?D[0]:""}(this.remaining);Ve&&(H=Ve,this.capture(H))}const te=Mi(P),ye=Mi(H);if(D.hasOwnProperty(te)){let Ve=D[te];Array.isArray(Ve)||(Ve=[Ve],D[te]=Ve),Ve.push(ye)}else D[te]=ye}parseParens(D){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=io(this.remaining),te=this.remaining[H.length];if("/"!==te&&")"!==te&&";"!==te)throw new Error(`Cannot parse url '${this.url}'`);let ye;H.indexOf(":")>-1?(ye=H.substr(0,H.indexOf(":")),this.capture(ye),this.capture(":")):D&&(ye=pn);const Ve=this.parseChildren();P[ye]=1===Object.keys(Ve).length?Ve[pn]:new yt([],Ve),this.consumeOptional("//")}return P}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class Ks{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const P=this.pathFromRoot(D);return P.length>1?P[P.length-2]:null}children(D){const P=jr(D,this._root);return P?P.children.map(H=>H.value):[]}firstChild(D){const P=jr(D,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(D){const P=ln(D,this._root);return P.length<2?[]:P[P.length-2].children.map(te=>te.value).filter(te=>te!==D)}pathFromRoot(D){return ln(D,this._root).map(P=>P.value)}}function jr(I,D){if(I===D.value)return D;for(const P of D.children){const H=jr(I,P);if(H)return H}return null}function ln(I,D){if(I===D.value)return[D];for(const P of D.children){const H=ln(I,P);if(H.length)return H.unshift(D),H}return[]}class Tr{constructor(D,P){this.value=D,this.children=P}toString(){return`TreeNode(${this.value})`}}function Ai(I){const D={};return I&&I.children.forEach(P=>D[P.value.outlet]=P),D}class Dr extends Ks{constructor(D,P){super(D),this.snapshot=P,pa(this,D)}toString(){return this.snapshot.toString()}}function zn(I,D){const P=function(I,D){const Ve=new bo([],{},{},"",{},pn,D,null,I.root,-1,{});return new Va("",new Tr(Ve,[]))}(I,D),H=new ge.X([new On("",{})]),te=new ge.X({}),ye=new ge.X({}),Ve=new ge.X({}),Ge=new ge.X(""),_t=new Ur(H,te,Ve,Ge,ye,pn,D,P.root);return _t.snapshot=P.root,new Dr(new Tr(_t,[]),P)}class Ur{constructor(D,P,H,te,ye,Ve,Ge,_t){this.url=D,this.params=P,this.queryParams=H,this.fragment=te,this.data=ye,this.outlet=Ve,this.component=Ge,this._futureSnapshot=_t}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tn.U)(D=>pi(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tn.U)(D=>pi(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ua(I,D="emptyOnly"){const P=I.pathFromRoot;let H=0;if("always"!==D)for(H=P.length-1;H>=1;){const te=P[H],ye=P[H-1];if(te.routeConfig&&""===te.routeConfig.path)H--;else{if(ye.component)break;H--}}return function(I){return I.reduce((D,P)=>({params:Object.assign(Object.assign({},D.params),P.params),data:Object.assign(Object.assign({},D.data),P.data),resolve:Object.assign(Object.assign({},D.resolve),P._resolvedData)}),{params:{},data:{},resolve:{}})}(P.slice(H))}class bo{constructor(D,P,H,te,ye,Ve,Ge,_t,Qt,Yn,mn){this.url=D,this.params=P,this.queryParams=H,this.fragment=te,this.data=ye,this.outlet=Ve,this.component=Ge,this.routeConfig=_t,this._urlSegment=Qt,this._lastPathIndex=Yn,this._resolve=mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Va extends Ks{constructor(D,P){super(P),this.url=D,pa(this,P)}toString(){return cl(this._root)}}function pa(I,D){D.value._routerState=I,D.children.forEach(P=>pa(I,P))}function cl(I){const D=I.children.length>0?` { ${I.children.map(cl).join(", ")} } `:"";return`${I.value}${D}`}function Er(I){if(I.snapshot){const D=I.snapshot,P=I._futureSnapshot;I.snapshot=P,pt(D.queryParams,P.queryParams)||I.queryParams.next(P.queryParams),D.fragment!==P.fragment&&I.fragment.next(P.fragment),pt(D.params,P.params)||I.params.next(P.params),function(I,D){if(I.length!==D.length)return!1;for(let P=0;P<I.length;++P)if(!pt(I[P],D[P]))return!1;return!0}(D.url,P.url)||I.url.next(P.url),pt(D.data,P.data)||I.data.next(P.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function $l(I,D){return pt(I.params,D.params)&&function(I,D){return Pr(I,D)&&I.every((P,H)=>pt(P.parameters,D[H].parameters))}(I.url,D.url)&&!(!I.parent!=!D.parent)&&(!I.parent||$l(I.parent,D.parent))}function ja(I,D,P){if(P&&I.shouldReuseRoute(D.value,P.value.snapshot)){const H=P.value;H._futureSnapshot=D.value;const te=function(I,D,P){return D.children.map(H=>{for(const te of P.children)if(I.shouldReuseRoute(H.value,te.value.snapshot))return ja(I,H,te);return ja(I,H)})}(I,D,P);return new Tr(H,te)}{if(I.shouldAttach(D.value)){const ye=I.retrieve(D.value);if(null!==ye){const Ve=ye.route;return Au(D,Ve),Ve}}const H=function(I){return new Ur(new ge.X(I.url),new ge.X(I.params),new ge.X(I.queryParams),new ge.X(I.fragment),new ge.X(I.data),I.outlet,I.component,I)}(D.value),te=D.children.map(ye=>ja(I,ye));return new Tr(H,te)}}function Au(I,D){if(I.value.routeConfig!==D.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(I.children.length!==D.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");D.value._futureSnapshot=I.value;for(let P=0;P<I.children.length;++P)Au(I.children[P],D.children[P])}function jo(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Ha(I){return"object"==typeof I&&null!=I&&I.outlets}function za(I,D,P,H,te){let ye={};return H&&gr(H,(Ve,Ge)=>{ye[Ge]=Array.isArray(Ve)?Ve.map(_t=>`${_t}`):`${Ve}`}),new kn(P.root===I?D:dl(P.root,I,D),ye,te)}function dl(I,D,P){const H={};return gr(I.children,(te,ye)=>{H[ye]=te===D?P:dl(te,D,P)}),new yt(I.segments,H)}class xs{constructor(D,P,H){if(this.isAbsolute=D,this.numberOfDoubleDots=P,this.commands=H,D&&H.length>0&&jo(H[0]))throw new Error("Root segment cannot have matrix parameters");const te=H.find(Ha);if(te&&te!==jn(H))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ga{constructor(D,P,H){this.segmentGroup=D,this.processChildren=P,this.index=H}}function To(I,D,P){if(I||(I=new yt([],{})),0===I.segments.length&&I.hasChildren())return Eo(I,D,P);const H=function(I,D,P){let H=0,te=D;const ye={match:!1,pathIndex:0,commandIndex:0};for(;te<I.segments.length;){if(H>=P.length)return ye;const Ve=I.segments[te],Ge=P[H];if(Ha(Ge))break;const _t=`${Ge}`,Qt=H<P.length-1?P[H+1]:null;if(te>0&&void 0===_t)break;if(_t&&Qt&&"object"==typeof Qt&&void 0===Qt.outlets){if(!Ho(_t,Qt,Ve))return ye;H+=2}else{if(!Ho(_t,{},Ve))return ye;H++}te++}return{match:!0,pathIndex:te,commandIndex:H}}(I,D,P),te=P.slice(H.commandIndex);if(H.match&&H.pathIndex<I.segments.length){const ye=new yt(I.segments.slice(0,H.pathIndex),{});return ye.children[pn]=new yt(I.segments.slice(H.pathIndex),I.children),Eo(ye,0,te)}return H.match&&0===te.length?new yt(I.segments,{}):H.match&&!I.hasChildren()?hl(I,D,P):H.match?Eo(I,0,te):hl(I,D,P)}function Eo(I,D,P){if(0===P.length)return new yt(I.segments,{});{const H=function(I){return Ha(I[0])?I[0].outlets:{[pn]:I}}(P),te={};return gr(H,(ye,Ve)=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(te[Ve]=To(I.children[Ve],D,ye))}),gr(I.children,(ye,Ve)=>{void 0===H[Ve]&&(te[Ve]=ye)}),new yt(I.segments,te)}}function hl(I,D,P){const H=I.segments.slice(0,D);let te=0;for(;te<P.length;){const ye=P[te];if(Ha(ye)){const _t=Qc(ye.outlets);return new yt(H,_t)}if(0===te&&jo(P[0])){H.push(new On(I.segments[D].path,cr(P[0]))),te++;continue}const Ve=Ha(ye)?ye.outlets[pn]:`${ye}`,Ge=te<P.length-1?P[te+1]:null;Ve&&Ge&&jo(Ge)?(H.push(new On(Ve,cr(Ge))),te+=2):(H.push(new On(Ve,{})),te++)}return new yt(H,{})}function Qc(I){const D={};return gr(I,(P,H)=>{"string"==typeof P&&(P=[P]),null!==P&&(D[H]=hl(new yt([],{}),0,P))}),D}function cr(I){const D={};return gr(I,(P,H)=>D[H]=`${P}`),D}function Ho(I,D,P){return I==P.path&&pt(D,P.parameters)}class yi{constructor(D,P,H,te){this.routeReuseStrategy=D,this.futureState=P,this.currState=H,this.forwardEvent=te}activate(D){const P=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,H,D),Er(this.futureState.root),this.activateChildRoutes(P,H,D)}deactivateChildRoutes(D,P,H){const te=Ai(P);D.children.forEach(ye=>{const Ve=ye.value.outlet;this.deactivateRoutes(ye,te[Ve],H),delete te[Ve]}),gr(te,(ye,Ve)=>{this.deactivateRouteAndItsChildren(ye,H)})}deactivateRoutes(D,P,H){const te=D.value,ye=P?P.value:null;if(te===ye)if(te.component){const Ve=H.getContext(te.outlet);Ve&&this.deactivateChildRoutes(D,P,Ve.children)}else this.deactivateChildRoutes(D,P,H);else ye&&this.deactivateRouteAndItsChildren(P,H)}deactivateRouteAndItsChildren(D,P){this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,P):this.deactivateRouteAndOutlet(D,P)}detachAndStoreRouteSubtree(D,P){const H=P.getContext(D.value.outlet);if(H&&H.outlet){const te=H.outlet.detach(),ye=H.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:te,route:D,contexts:ye})}}deactivateRouteAndOutlet(D,P){const H=P.getContext(D.value.outlet),te=H&&D.value.component?H.children:P,ye=Ai(D);for(const Ve of Object.keys(ye))this.deactivateRouteAndItsChildren(ye[Ve],te);H&&H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated(),H.attachRef=null,H.resolver=null,H.route=null)}activateChildRoutes(D,P,H){const te=Ai(P);D.children.forEach(ye=>{this.activateRoutes(ye,te[ye.value.outlet],H),this.forwardEvent(new mo(ye.value.snapshot))}),D.children.length&&this.forwardEvent(new ha(D.value.snapshot))}activateRoutes(D,P,H){const te=D.value,ye=P?P.value:null;if(Er(te),te===ye)if(te.component){const Ve=H.getOrCreateContext(te.outlet);this.activateChildRoutes(D,P,Ve.children)}else this.activateChildRoutes(D,P,H);else if(te.component){const Ve=H.getOrCreateContext(te.outlet);if(this.routeReuseStrategy.shouldAttach(te.snapshot)){const Ge=this.routeReuseStrategy.retrieve(te.snapshot);this.routeReuseStrategy.store(te.snapshot,null),Ve.children.onOutletReAttached(Ge.contexts),Ve.attachRef=Ge.componentRef,Ve.route=Ge.route.value,Ve.outlet&&Ve.outlet.attach(Ge.componentRef,Ge.route.value),Ii(Ge.route)}else{const Ge=function(I){for(let D=I.parent;D;D=D.parent){const P=D.routeConfig;if(P&&P._loadedConfig)return P._loadedConfig;if(P&&P.component)return null}return null}(te.snapshot),_t=Ge?Ge.module.componentFactoryResolver:null;Ve.attachRef=null,Ve.route=te,Ve.resolver=_t,Ve.outlet&&Ve.outlet.activateWith(te,_t),this.activateChildRoutes(D,null,Ve.children)}}else this.activateChildRoutes(D,null,H)}}function Ii(I){Er(I.value),I.children.forEach(Ii)}class xo{constructor(D,P){this.routes=D,this.module=P}}function Xt(I){return"function"==typeof I}function Q(I){return I instanceof kn}const V=Symbol("INITIAL_VALUE");function X(){return(0,ai.w)(I=>function(...I){let D,P;return(0,$.K)(I[I.length-1])&&(P=I.pop()),"function"==typeof I[I.length-1]&&(D=I.pop()),1===I.length&&(0,fe.k)(I[0])&&(I=I[0]),(0,ne.n)(I,P).lift(new Ce(D))}(I.map(D=>D.pipe((0,Un.q)(1),(0,Kr.O)(V)))).pipe(Y((D,P)=>{let H=!1;return P.reduce((te,ye,Ve)=>te!==V?te:(ye===V&&(H=!0),H||!1!==ye&&Ve!==P.length-1&&!Q(ye)?te:ye),D)},V),(0,pe.h)(D=>D!==V),(0,Tn.U)(D=>Q(D)?D:!0===D),(0,Un.q)(1)))}let be=(()=>{class I{}return I.\u0275fac=function(P){return new(P||I)},I.\u0275cmp=y.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(P,H){1&P&&y._UZ(0,"router-outlet")},directives:function(){return[Po]},encapsulation:2}),I})();function We(I,D=""){for(let P=0;P<I.length;P++){const H=I[P];ot(H,rt(D,H))}}function ot(I,D){I.children&&We(I.children,D)}function rt(I,D){return D?I||D.path?I&&!D.path?`${I}/`:!I&&D.path?D.path:`${I}/${D.path}`:"":I}function ut(I){const D=I.children&&I.children.map(ut),P=D?Object.assign(Object.assign({},I),{children:D}):Object.assign({},I);return!P.component&&(D||P.loadChildren)&&P.outlet&&P.outlet!==pn&&(P.component=be),P}function Ot(I){return I.outlet||pn}function St(I,D){const P=I.filter(H=>Ot(H)===D);return P.push(...I.filter(H=>Ot(H)!==D)),P}const It={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $t(I,D,P){var H;if(""===D.path)return"full"===D.pathMatch&&(I.hasChildren()||P.length>0)?Object.assign({},It):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ye=(D.matcher||Ne)(P,I,D);if(!ye)return Object.assign({},It);const Ve={};gr(ye.posParams,(_t,Qt)=>{Ve[Qt]=_t.path});const Ge=ye.consumed.length>0?Object.assign(Object.assign({},Ve),ye.consumed[ye.consumed.length-1].parameters):Ve;return{matched:!0,consumedSegments:ye.consumed,lastChild:ye.consumed.length,parameters:Ge,positionalParamSegments:null!==(H=ye.posParams)&&void 0!==H?H:{}}}function Gt(I,D,P,H,te="corrected"){if(P.length>0&&function(I,D,P){return P.some(H=>ar(I,D,H)&&Ot(H)!==pn)}(I,P,H)){const Ve=new yt(D,function(I,D,P,H){const te={};te[pn]=H,H._sourceSegment=I,H._segmentIndexShift=D.length;for(const ye of P)if(""===ye.path&&Ot(ye)!==pn){const Ve=new yt([],{});Ve._sourceSegment=I,Ve._segmentIndexShift=D.length,te[Ot(ye)]=Ve}return te}(I,D,H,new yt(P,I.children)));return Ve._sourceSegment=I,Ve._segmentIndexShift=D.length,{segmentGroup:Ve,slicedSegments:[]}}if(0===P.length&&function(I,D,P){return P.some(H=>ar(I,D,H))}(I,P,H)){const Ve=new yt(I.segments,function(I,D,P,H,te,ye){const Ve={};for(const Ge of H)if(ar(I,P,Ge)&&!te[Ot(Ge)]){const _t=new yt([],{});_t._sourceSegment=I,_t._segmentIndexShift="legacy"===ye?I.segments.length:D.length,Ve[Ot(Ge)]=_t}return Object.assign(Object.assign({},te),Ve)}(I,D,P,H,I.children,te));return Ve._sourceSegment=I,Ve._segmentIndexShift=D.length,{segmentGroup:Ve,slicedSegments:P}}const ye=new yt(I.segments,I.children);return ye._sourceSegment=I,ye._segmentIndexShift=D.length,{segmentGroup:ye,slicedSegments:P}}function ar(I,D,P){return(!(I.hasChildren()||D.length>0)||"full"!==P.pathMatch)&&""===P.path}function tn(I,D,P,H){return!!(Ot(I)===H||H!==pn&&ar(D,P,I))&&("**"===I.path||$t(D,I,P).matched)}function ci(I,D,P){return 0===D.length&&!I.children[P]}class Vr{constructor(D){this.segmentGroup=D||null}}class ki{constructor(D){this.urlTree=D}}function mr(I){return new j.y(D=>D.error(new Vr(I)))}function _i(I){return new j.y(D=>D.error(new ki(I)))}function Ui(I){return new j.y(D=>D.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I}'`)))}class Xn{constructor(D,P,H,te,ye){this.configLoader=P,this.urlSerializer=H,this.urlTree=te,this.config=ye,this.allowRedirects=!0,this.ngModule=D.get(y.h0i)}apply(){const D=Gt(this.urlTree.root,[],[],this.config).segmentGroup,P=new yt(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,P,pn).pipe((0,Tn.U)(ye=>this.createUrlTree(Ar(ye),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,nr.K)(ye=>{if(ye instanceof ki)return this.allowRedirects=!1,this.match(ye.urlTree);throw ye instanceof Vr?this.noMatchError(ye):ye}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,pn).pipe((0,Tn.U)(te=>this.createUrlTree(Ar(te),D.queryParams,D.fragment))).pipe((0,nr.K)(te=>{throw te instanceof Vr?this.noMatchError(te):te}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,P,H){const te=D.segments.length>0?new yt([],{[pn]:D}):D;return new kn(te,P,H)}expandSegmentGroup(D,P,H,te){return 0===H.segments.length&&H.hasChildren()?this.expandChildren(D,P,H).pipe((0,Tn.U)(ye=>new yt([],ye))):this.expandSegment(D,H,P,H.segments,te,!0)}expandChildren(D,P,H){const te=[];for(const ye of Object.keys(H.children))"primary"===ye?te.unshift(ye):te.push(ye);return(0,De.D)(te).pipe((0,Oi.b)(ye=>{const Ve=H.children[ye],Ge=St(P,ye);return this.expandSegmentGroup(D,Ge,Ve,ye).pipe((0,Tn.U)(_t=>({segment:_t,outlet:ye})))}),Y((ye,Ve)=>(ye[Ve.outlet]=Ve.segment,ye),{}),function(I,D){const P=arguments.length>=2;return H=>H.pipe(I?(0,pe.h)((te,ye)=>I(te,ye,H)):Rt.y,Fe(1),P?nt(D):ft(()=>new Pe))}())}expandSegment(D,P,H,te,ye,Ve){return(0,De.D)(H).pipe((0,Oi.b)(Ge=>this.expandSegmentAgainstRoute(D,P,H,Ge,te,ye,Ve).pipe((0,nr.K)(Qt=>{if(Qt instanceof Vr)return(0,Ae.of)(null);throw Qt}))),Sn(Ge=>!!Ge),(0,nr.K)((Ge,_t)=>{if(Ge instanceof Pe||"EmptyError"===Ge.name){if(ci(P,te,ye))return(0,Ae.of)(new yt([],{}));throw new Vr(P)}throw Ge}))}expandSegmentAgainstRoute(D,P,H,te,ye,Ve,Ge){return tn(te,P,ye,Ve)?void 0===te.redirectTo?this.matchSegmentAgainstRoute(D,P,te,ye,Ve):Ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,P,H,te,ye,Ve):mr(P):mr(P)}expandSegmentAgainstRouteUsingRedirect(D,P,H,te,ye,Ve){return"**"===te.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,H,te,Ve):this.expandRegularSegmentAgainstRouteUsingRedirect(D,P,H,te,ye,Ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,P,H,te){const ye=this.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?_i(ye):this.lineralizeSegments(H,ye).pipe((0,Lr.zg)(Ve=>{const Ge=new yt(Ve,{});return this.expandSegment(D,Ge,P,Ve,te,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,P,H,te,ye,Ve){const{matched:Ge,consumedSegments:_t,lastChild:Qt,positionalParamSegments:Yn}=$t(P,te,ye);if(!Ge)return mr(P);const mn=this.applyRedirectCommands(_t,te.redirectTo,Yn);return te.redirectTo.startsWith("/")?_i(mn):this.lineralizeSegments(te,mn).pipe((0,Lr.zg)(tr=>this.expandSegment(D,P,H,tr.concat(ye.slice(Qt)),Ve,!1)))}matchSegmentAgainstRoute(D,P,H,te,ye){if("**"===H.path)return H.loadChildren?(H._loadedConfig?(0,Ae.of)(H._loadedConfig):this.configLoader.load(D.injector,H)).pipe((0,Tn.U)(tr=>(H._loadedConfig=tr,new yt(te,{})))):(0,Ae.of)(new yt(te,{}));const{matched:Ve,consumedSegments:Ge,lastChild:_t}=$t(P,H,te);if(!Ve)return mr(P);const Qt=te.slice(_t);return this.getChildConfig(D,H,te).pipe((0,Lr.zg)(mn=>{const tr=mn.module,Gn=mn.routes,{segmentGroup:ji,slicedSegments:Ls}=Gt(P,Ge,Qt,Gn),Fs=new yt(ji.segments,ji.children);if(0===Ls.length&&Fs.hasChildren())return this.expandChildren(tr,Gn,Fs).pipe((0,Tn.U)(Cl=>new yt(Ge,Cl)));if(0===Gn.length&&0===Ls.length)return(0,Ae.of)(new yt(Ge,{}));const Sa=Ot(H)===ye;return this.expandSegment(tr,Fs,Gn,Ls,Sa?pn:ye,!0).pipe((0,Tn.U)(xr=>new yt(Ge.concat(xr.segments),xr.children)))}))}getChildConfig(D,P,H){return P.children?(0,Ae.of)(new xo(P.children,D)):P.loadChildren?void 0!==P._loadedConfig?(0,Ae.of)(P._loadedConfig):this.runCanLoadGuards(D.injector,P,H).pipe((0,Lr.zg)(te=>{return te?this.configLoader.load(D.injector,P).pipe((0,Tn.U)(ye=>(P._loadedConfig=ye,ye))):(I=P,new j.y(D=>D.error(vo(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`))));var I})):(0,Ae.of)(new xo([],D))}runCanLoadGuards(D,P,H){const te=P.canLoad;if(!te||0===te.length)return(0,Ae.of)(!0);const ye=te.map(Ve=>{const Ge=D.get(Ve);let _t;if((I=Ge)&&Xt(I.canLoad))_t=Ge.canLoad(P,H);else{if(!Xt(Ge))throw new Error("Invalid CanLoad guard");_t=Ge(P,H)}var I;return nn(_t)});return(0,Ae.of)(ye).pipe(X(),(0,Qn.b)(Ve=>{if(!Q(Ve))return;const Ge=vo(`Redirecting to "${this.urlSerializer.serialize(Ve)}"`);throw Ge.url=Ve,Ge}),(0,Tn.U)(Ve=>!0===Ve))}lineralizeSegments(D,P){let H=[],te=P.root;for(;;){if(H=H.concat(te.segments),0===te.numberOfChildren)return(0,Ae.of)(H);if(te.numberOfChildren>1||!te.children[pn])return Ui(D.redirectTo);te=te.children[pn]}}applyRedirectCommands(D,P,H){return this.applyRedirectCreatreUrlTree(P,this.urlSerializer.parse(P),D,H)}applyRedirectCreatreUrlTree(D,P,H,te){const ye=this.createSegmentGroup(D,P.root,H,te);return new kn(ye,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(D,P){const H={};return gr(D,(te,ye)=>{if("string"==typeof te&&te.startsWith(":")){const Ge=te.substring(1);H[ye]=P[Ge]}else H[ye]=te}),H}createSegmentGroup(D,P,H,te){const ye=this.createSegments(D,P.segments,H,te);let Ve={};return gr(P.children,(Ge,_t)=>{Ve[_t]=this.createSegmentGroup(D,Ge,H,te)}),new yt(ye,Ve)}createSegments(D,P,H,te){return P.map(ye=>ye.path.startsWith(":")?this.findPosParam(D,ye,te):this.findOrReturn(ye,H))}findPosParam(D,P,H){const te=H[P.path.substring(1)];if(!te)throw new Error(`Cannot redirect to '${D}'. Cannot find '${P.path}'.`);return te}findOrReturn(D,P){let H=0;for(const te of P){if(te.path===D.path)return P.splice(H),te;H++}return D}}function Ar(I){const D={};for(const H of Object.keys(I.children)){const ye=Ar(I.children[H]);(ye.segments.length>0||ye.hasChildren())&&(D[H]=ye)}return function(I){if(1===I.numberOfChildren&&I.children[pn]){const D=I.children[pn];return new yt(I.segments.concat(D.segments),D.children)}return I}(new yt(I.segments,D))}class Xr{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Jr{constructor(D,P){this.component=D,this.route=P}}function di(I,D,P){const H=I._root;return Ss(H,D?D._root:null,P,[H.value])}function Ys(I,D,P){const H=function(I){if(!I)return null;for(let D=I.parent;D;D=D.parent){const P=D.routeConfig;if(P&&P._loadedConfig)return P._loadedConfig}return null}(D);return(H?H.module.injector:P).get(I)}function Ss(I,D,P,H,te={canDeactivateChecks:[],canActivateChecks:[]}){const ye=Ai(D);return I.children.forEach(Ve=>{(function(I,D,P,H,te={canDeactivateChecks:[],canActivateChecks:[]}){const ye=I.value,Ve=D?D.value:null,Ge=P?P.getContext(I.value.outlet):null;if(Ve&&ye.routeConfig===Ve.routeConfig){const _t=function(I,D,P){if("function"==typeof P)return P(I,D);switch(P){case"pathParamsChange":return!Pr(I.url,D.url);case"pathParamsOrQueryParamsChange":return!Pr(I.url,D.url)||!pt(I.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$l(I,D)||!pt(I.queryParams,D.queryParams);case"paramsChange":default:return!$l(I,D)}}(Ve,ye,ye.routeConfig.runGuardsAndResolvers);_t?te.canActivateChecks.push(new Xr(H)):(ye.data=Ve.data,ye._resolvedData=Ve._resolvedData),Ss(I,D,ye.component?Ge?Ge.children:null:P,H,te),_t&&Ge&&Ge.outlet&&Ge.outlet.isActivated&&te.canDeactivateChecks.push(new Jr(Ge.outlet.component,Ve))}else Ve&&Ns(D,Ge,te),te.canActivateChecks.push(new Xr(H)),Ss(I,null,ye.component?Ge?Ge.children:null:P,H,te)})(Ve,ye[Ve.value.outlet],P,H.concat([Ve.value]),te),delete ye[Ve.value.outlet]}),gr(ye,(Ve,Ge)=>Ns(Ve,P.getContext(Ge),te)),te}function Ns(I,D,P){const H=Ai(I),te=I.value;gr(H,(ye,Ve)=>{Ns(ye,te.component?D?D.children.getContext(Ve):null:D,P)}),P.canDeactivateChecks.push(new Jr(te.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,te))}class Wo{}function ya(I){return new j.y(D=>D.error(I))}class oc{constructor(D,P,H,te,ye,Ve){this.rootComponentType=D,this.config=P,this.urlTree=H,this.url=te,this.paramsInheritanceStrategy=ye,this.relativeLinkResolution=Ve}recognize(){const D=Gt(this.urlTree.root,[],[],this.config.filter(Ve=>void 0===Ve.redirectTo),this.relativeLinkResolution).segmentGroup,P=this.processSegmentGroup(this.config,D,pn);if(null===P)return null;const H=new bo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pn,this.rootComponentType,null,this.urlTree.root,-1,{}),te=new Tr(H,P),ye=new Va(this.url,te);return this.inheritParamsAndData(ye._root),ye}inheritParamsAndData(D){const P=D.value,H=Ua(P,this.paramsInheritanceStrategy);P.params=Object.freeze(H.params),P.data=Object.freeze(H.data),D.children.forEach(te=>this.inheritParamsAndData(te))}processSegmentGroup(D,P,H){return 0===P.segments.length&&P.hasChildren()?this.processChildren(D,P):this.processSegment(D,P,P.segments,H)}processChildren(D,P){const H=[];for(const ye of Object.keys(P.children)){const Ve=P.children[ye],Ge=St(D,ye),_t=this.processSegmentGroup(Ge,Ve,ye);if(null===_t)return null;H.push(..._t)}const te=bi(H);return te.sort((D,P)=>D.value.outlet===pn?-1:P.value.outlet===pn?1:D.value.outlet.localeCompare(P.value.outlet)),te}processSegment(D,P,H,te){for(const ye of D){const Ve=this.processSegmentAgainstRoute(ye,P,H,te);if(null!==Ve)return Ve}return ci(P,H,te)?[]:null}processSegmentAgainstRoute(D,P,H,te){if(D.redirectTo||!tn(D,P,H,te))return null;let ye,Ve=[],Ge=[];if("**"===D.path){const Gn=H.length>0?jn(H).parameters:{};ye=new bo(H,Gn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gl(D),Ot(D),D.component,D,ql(P),Wa(P)+H.length,Ql(D))}else{const Gn=$t(P,D,H);if(!Gn.matched)return null;Ve=Gn.consumedSegments,Ge=H.slice(Gn.lastChild),ye=new bo(Ve,Gn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gl(D),Ot(D),D.component,D,ql(P),Wa(P)+Ve.length,Ql(D))}const _t=(I=D).children?I.children:I.loadChildren?I._loadedConfig.routes:[],{segmentGroup:Qt,slicedSegments:Yn}=Gt(P,Ve,Ge,_t.filter(Gn=>void 0===Gn.redirectTo),this.relativeLinkResolution);var I;if(0===Yn.length&&Qt.hasChildren()){const Gn=this.processChildren(_t,Qt);return null===Gn?null:[new Tr(ye,Gn)]}if(0===_t.length&&0===Yn.length)return[new Tr(ye,[])];const mn=Ot(D)===te,tr=this.processSegment(_t,Qt,Yn,mn?pn:te);return null===tr?null:[new Tr(ye,tr)]}}function wo(I){const D=I.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function bi(I){const D=[],P=new Set;for(const H of I){if(!wo(H)){D.push(H);continue}const te=D.find(ye=>H.value.routeConfig===ye.value.routeConfig);void 0!==te?(te.children.push(...H.children),P.add(te)):D.push(H)}for(const H of P){const te=bi(H.children);D.push(new Tr(H.value,te))}return D.filter(H=>!P.has(H))}function ql(I){let D=I;for(;D._sourceSegment;)D=D._sourceSegment;return D}function Wa(I){let D=I,P=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,P+=D._segmentIndexShift?D._segmentIndexShift:0;return P-1}function gl(I){return I.data||{}}function Ql(I){return I.resolve||{}}function ei(I){return(0,ai.w)(D=>{const P=I(D);return P?(0,De.D)(P).pipe((0,Tn.U)(()=>D)):(0,Ae.of)(D)})}class Go extends class{shouldDetach(D){return!1}store(D,P){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,P){return D.routeConfig===P.routeConfig}}{}const Oo=new y.OlP("ROUTES");class ml{constructor(D,P,H,te){this.loader=D,this.compiler=P,this.onLoadStartListener=H,this.onLoadEndListener=te}load(D,P){if(P._loader$)return P._loader$;this.onLoadStartListener&&this.onLoadStartListener(P);const te=this.loadModuleFactory(P.loadChildren).pipe((0,Tn.U)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(P);const Ve=ye.create(D);return new xo(Vn(Ve.injector.get(Oo,void 0,y.XFs.Self|y.XFs.Optional)).map(ut),Ve)}),(0,nr.K)(ye=>{throw P._loader$=void 0,ye}));return P._loader$=new dt.c(te,()=>new Ye.xQ).pipe((0,qi.x)()),P._loader$}loadModuleFactory(D){return"string"==typeof D?(0,De.D)(this.loader.load(D)):nn(D()).pipe((0,Lr.zg)(P=>P instanceof y.YKP?(0,Ae.of)(P):(0,De.D)(this.compiler.compileModuleAsync(P))))}}class ba{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ri,this.attachRef=null}}class Ri{constructor(){this.contexts=new Map}onChildOutletCreated(D,P){const H=this.getOrCreateContext(D);H.outlet=P,this.contexts.set(D,H)}onChildOutletDestroyed(D){const P=this.getContext(D);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let P=this.getContext(D);return P||(P=new ba,this.contexts.set(D,P)),P}getContext(D){return this.contexts.get(D)||null}}class Ga{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,P){return D}}function ao(I){throw I}function Ca(I,D,P){return D.parse("/")}function Lu(I,D){return(0,Ae.of)(null)}const vl={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{class I{constructor(P,H,te,ye,Ve,Ge,_t,Qt){this.rootComponentType=P,this.urlSerializer=H,this.rootContexts=te,this.location=ye,this.config=Qt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ye.xQ,this.errorHandler=ao,this.malformedUriErrorHandler=Ca,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Lu,afterPreactivation:Lu},this.urlHandlingStrategy=new Ga,this.routeReuseStrategy=new Go,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ve.get(y.h0i),this.console=Ve.get(y.c2e);const tr=Ve.get(y.R0b);this.isNgZoneEnabled=tr instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(Qt),this.currentUrlTree=new kn(new yt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ml(Ge,_t,Gn=>this.triggerEvent(new Gr(Gn)),Gn=>this.triggerEvent(new ks(Gn))),this.routerState=zn(this.currentUrlTree,this.rootComponentType),this.transitions=new ge.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var P;return null===(P=this.location.getState())||void 0===P?void 0:P.\u0275routerPageId}setupNavigations(P){const H=this.events;return P.pipe((0,pe.h)(te=>0!==te.id),(0,Tn.U)(te=>Object.assign(Object.assign({},te),{extractedUrl:this.urlHandlingStrategy.extract(te.rawUrl)})),(0,ai.w)(te=>{let ye=!1,Ve=!1;return(0,Ae.of)(te).pipe((0,Qn.b)(Ge=>{this.currentNavigation={id:Ge.id,initialUrl:Ge.currentRawUrl,extractedUrl:Ge.extractedUrl,trigger:Ge.source,extras:Ge.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ai.w)(Ge=>{const _t=this.browserUrlTree.toString(),Qt=!this.navigated||Ge.extractedUrl.toString()!==_t||_t!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Qt)&&this.urlHandlingStrategy.shouldProcessUrl(Ge.rawUrl))return yl(Ge.source)&&(this.browserUrlTree=Ge.extractedUrl),(0,Ae.of)(Ge).pipe((0,ai.w)(mn=>{const tr=this.transitions.getValue();return H.next(new Or(mn.id,this.serializeUrl(mn.extractedUrl),mn.source,mn.restoredState)),tr!==this.transitions.getValue()?Dt.E:Promise.resolve(mn)}),function(I,D,P,H){return(0,ai.w)(te=>function(I,D,P,H,te){return new Xn(I,D,P,H,te).apply()}(I,D,P,te.extractedUrl,H).pipe((0,Tn.U)(ye=>Object.assign(Object.assign({},te),{urlAfterRedirects:ye}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qn.b)(mn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:mn.urlAfterRedirects})}),function(I,D,P,H,te){return(0,Lr.zg)(ye=>function(I,D,P,H,te="emptyOnly",ye="legacy"){try{const Ve=new oc(I,D,P,H,te,ye).recognize();return null===Ve?ya(new Wo):(0,Ae.of)(Ve)}catch(Ve){return ya(Ve)}}(I,D,ye.urlAfterRedirects,P(ye.urlAfterRedirects),H,te).pipe((0,Tn.U)(Ve=>Object.assign(Object.assign({},ye),{targetSnapshot:Ve}))))}(this.rootComponentType,this.config,mn=>this.serializeUrl(mn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qn.b)(mn=>{"eager"===this.urlUpdateStrategy&&(mn.extras.skipLocationChange||this.setBrowserUrl(mn.urlAfterRedirects,mn),this.browserUrlTree=mn.urlAfterRedirects);const tr=new Jn(mn.id,this.serializeUrl(mn.extractedUrl),this.serializeUrl(mn.urlAfterRedirects),mn.targetSnapshot);H.next(tr)}));if(Qt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:tr,extractedUrl:Gn,source:ji,restoredState:Ls,extras:Fs}=Ge,Sa=new Or(tr,this.serializeUrl(Gn),ji,Ls);H.next(Sa);const dr=zn(Gn,this.rootComponentType).snapshot;return(0,Ae.of)(Object.assign(Object.assign({},Ge),{targetSnapshot:dr,urlAfterRedirects:Gn,extras:Object.assign(Object.assign({},Fs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ge.rawUrl,this.browserUrlTree=Ge.urlAfterRedirects,Ge.resolve(null),Dt.E}),ei(Ge=>{const{targetSnapshot:_t,id:Qt,extractedUrl:Yn,rawUrl:mn,extras:{skipLocationChange:tr,replaceUrl:Gn}}=Ge;return this.hooks.beforePreactivation(_t,{navigationId:Qt,appliedUrlTree:Yn,rawUrlTree:mn,skipLocationChange:!!tr,replaceUrl:!!Gn})}),(0,Qn.b)(Ge=>{const _t=new Kt(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot);this.triggerEvent(_t)}),(0,Tn.U)(Ge=>Object.assign(Object.assign({},Ge),{guards:di(Ge.targetSnapshot,Ge.currentSnapshot,this.rootContexts)})),function(I,D){return(0,Lr.zg)(P=>{const{targetSnapshot:H,currentSnapshot:te,guards:{canActivateChecks:ye,canDeactivateChecks:Ve}}=P;return 0===Ve.length&&0===ye.length?(0,Ae.of)(Object.assign(Object.assign({},P),{guardsResult:!0})):function(I,D,P,H){return(0,De.D)(I).pipe((0,Lr.zg)(te=>function(I,D,P,H,te){const ye=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ye||0===ye.length)return(0,Ae.of)(!0);const Ve=ye.map(Ge=>{const _t=Ys(Ge,D,te);let Qt;if(function(I){return I&&Xt(I.canDeactivate)}(_t))Qt=nn(_t.canDeactivate(I,D,P,H));else{if(!Xt(_t))throw new Error("Invalid CanDeactivate guard");Qt=nn(_t(I,D,P,H))}return Qt.pipe(Sn())});return(0,Ae.of)(Ve).pipe(X())}(te.component,te.route,P,D,H)),Sn(te=>!0!==te,!0))}(Ve,H,te,I).pipe((0,Lr.zg)(Ge=>Ge&&function(I){return"boolean"==typeof I}(Ge)?function(I,D,P,H){return(0,De.D)(D).pipe((0,Oi.b)(te=>(0,je.z)(function(I,D){return null!==I&&D&&D(new Pi(I)),(0,Ae.of)(!0)}(te.route.parent,H),function(I,D){return null!==I&&D&&D(new En(I)),(0,Ae.of)(!0)}(te.route,H),function(I,D,P){const H=D[D.length-1],ye=D.slice(0,D.length-1).reverse().map(Ve=>function(I){const D=I.routeConfig?I.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:I,guards:D}:null}(Ve)).filter(Ve=>null!==Ve).map(Ve=>(0,Ke.P)(()=>{const Ge=Ve.guards.map(_t=>{const Qt=Ys(_t,Ve.node,P);let Yn;if(function(I){return I&&Xt(I.canActivateChild)}(Qt))Yn=nn(Qt.canActivateChild(H,I));else{if(!Xt(Qt))throw new Error("Invalid CanActivateChild guard");Yn=nn(Qt(H,I))}return Yn.pipe(Sn())});return(0,Ae.of)(Ge).pipe(X())}));return(0,Ae.of)(ye).pipe(X())}(I,te.path,P),function(I,D,P){const H=D.routeConfig?D.routeConfig.canActivate:null;if(!H||0===H.length)return(0,Ae.of)(!0);const te=H.map(ye=>(0,Ke.P)(()=>{const Ve=Ys(ye,D,P);let Ge;if(function(I){return I&&Xt(I.canActivate)}(Ve))Ge=nn(Ve.canActivate(D,I));else{if(!Xt(Ve))throw new Error("Invalid CanActivate guard");Ge=nn(Ve(D,I))}return Ge.pipe(Sn())}));return(0,Ae.of)(te).pipe(X())}(I,te.route,P))),Sn(te=>!0!==te,!0))}(H,ye,I,D):(0,Ae.of)(Ge)),(0,Tn.U)(Ge=>Object.assign(Object.assign({},P),{guardsResult:Ge})))})}(this.ngModule.injector,Ge=>this.triggerEvent(Ge)),(0,Qn.b)(Ge=>{if(Q(Ge.guardsResult)){const Qt=vo(`Redirecting to "${this.serializeUrl(Ge.guardsResult)}"`);throw Qt.url=Ge.guardsResult,Qt}const _t=new yn(Ge.id,this.serializeUrl(Ge.extractedUrl),this.serializeUrl(Ge.urlAfterRedirects),Ge.targetSnapshot,!!Ge.guardsResult);this.triggerEvent(_t)}),(0,pe.h)(Ge=>!!Ge.guardsResult||(this.restoreHistory(Ge),this.cancelNavigationTransition(Ge,""),!1)),ei(Ge=>{if(Ge.guards.canActivateChecks.length)return(0,Ae.of)(Ge).pipe((0,Qn.b)(_t=>{const Qt=new Fo(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot);this.triggerEvent(Qt)}),(0,ai.w)(_t=>{let Qt=!1;return(0,Ae.of)(_t).pipe(function(I,D){return(0,Lr.zg)(P=>{const{targetSnapshot:H,guards:{canActivateChecks:te}}=P;if(!te.length)return(0,Ae.of)(P);let ye=0;return(0,De.D)(te).pipe((0,Oi.b)(Ve=>function(I,D,P,H){return function(I,D,P,H){const te=Object.keys(I);if(0===te.length)return(0,Ae.of)({});const ye={};return(0,De.D)(te).pipe((0,Lr.zg)(Ve=>function(I,D,P,H){const te=Ys(I,D,H);return nn(te.resolve?te.resolve(D,P):te(D,P))}(I[Ve],D,P,H).pipe((0,Qn.b)(Ge=>{ye[Ve]=Ge}))),Fe(1),(0,Lr.zg)(()=>Object.keys(ye).length===te.length?(0,Ae.of)(ye):Dt.E))}(I._resolve,I,D,H).pipe((0,Tn.U)(ye=>(I._resolvedData=ye,I.data=Object.assign(Object.assign({},I.data),Ua(I,P).resolve),null)))}(Ve.route,H,I,D)),(0,Qn.b)(()=>ye++),Fe(1),(0,Lr.zg)(Ve=>ye===te.length?(0,Ae.of)(P):Dt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qn.b)({next:()=>Qt=!0,complete:()=>{Qt||(this.restoreHistory(_t),this.cancelNavigationTransition(_t,"At least one route resolver didn't emit any value."))}}))}),(0,Qn.b)(_t=>{const Qt=new rr(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot);this.triggerEvent(Qt)}))}),ei(Ge=>{const{targetSnapshot:_t,id:Qt,extractedUrl:Yn,rawUrl:mn,extras:{skipLocationChange:tr,replaceUrl:Gn}}=Ge;return this.hooks.afterPreactivation(_t,{navigationId:Qt,appliedUrlTree:Yn,rawUrlTree:mn,skipLocationChange:!!tr,replaceUrl:!!Gn})}),(0,Tn.U)(Ge=>{const _t=function(I,D,P){const H=ja(I,D._root,P?P._root:void 0);return new Dr(H,D)}(this.routeReuseStrategy,Ge.targetSnapshot,Ge.currentRouterState);return Object.assign(Object.assign({},Ge),{targetRouterState:_t})}),(0,Qn.b)(Ge=>{this.currentUrlTree=Ge.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ge.urlAfterRedirects,Ge.rawUrl),this.routerState=Ge.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ge.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ge),this.browserUrlTree=Ge.urlAfterRedirects)}),((I,D,P)=>(0,Tn.U)(H=>(new yi(D,H.targetRouterState,H.currentRouterState,P).activate(I),H)))(this.rootContexts,this.routeReuseStrategy,Ge=>this.triggerEvent(Ge)),(0,Qn.b)({next(){ye=!0},complete(){ye=!0}}),function(I){return D=>D.lift(new Nn(I))}(()=>{var Ge;if(!ye&&!Ve){const _t=`Navigation ID ${te.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(te),this.cancelNavigationTransition(te,_t)):this.cancelNavigationTransition(te,_t)}(null===(Ge=this.currentNavigation)||void 0===Ge?void 0:Ge.id)===te.id&&(this.currentNavigation=null)}),(0,nr.K)(Ge=>{if(Ve=!0,function(I){return I&&I[ss]}(Ge)){const _t=Q(Ge.url);_t||(this.navigated=!0,this.restoreHistory(te,!0));const Qt=new pr(te.id,this.serializeUrl(te.extractedUrl),Ge.message);H.next(Qt),_t?setTimeout(()=>{const Yn=this.urlHandlingStrategy.merge(Ge.url,this.rawUrlTree),mn={skipLocationChange:te.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yl(te.source)};this.scheduleNavigation(Yn,"imperative",null,mn,{resolve:te.resolve,reject:te.reject,promise:te.promise})},0):te.resolve(!1)}else{this.restoreHistory(te,!0);const _t=new Ba(te.id,this.serializeUrl(te.extractedUrl),Ge);H.next(_t);try{te.resolve(this.errorHandler(Ge))}catch(Qt){te.reject(Qt)}}return Dt.E}))}))}resetRootComponentType(P){this.rootComponentType=P,this.routerState.root.component=this.rootComponentType}getTransition(){const P=this.transitions.value;return P.urlAfterRedirects=this.browserUrlTree,P}setTransition(P){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),P))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(P=>{const H=this.extractLocationChangeInfoFromEvent(P);this.shouldScheduleNavigation(this.lastLocationChangeInfo,H)&&setTimeout(()=>{const{source:te,state:ye,urlTree:Ve}=H,Ge={replaceUrl:!0};if(ye){const _t=Object.assign({},ye);delete _t.navigationId,delete _t.\u0275routerPageId,0!==Object.keys(_t).length&&(Ge.state=_t)}this.scheduleNavigation(Ve,te,ye,Ge)},0),this.lastLocationChangeInfo=H}))}extractLocationChangeInfoFromEvent(P){var H;return{source:"popstate"===P.type?"popstate":"hashchange",urlTree:this.parseUrl(P.url),state:(null===(H=P.state)||void 0===H?void 0:H.navigationId)?P.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(P,H){if(!P)return!0;const te=H.urlTree.toString()===P.urlTree.toString();return H.transitionId!==P.transitionId||!te||!("hashchange"===H.source&&"popstate"===P.source||"popstate"===H.source&&"hashchange"===P.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(P){this.events.next(P)}resetConfig(P){We(P),this.config=P.map(ut),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(P,H={}){const{relativeTo:te,queryParams:ye,fragment:Ve,queryParamsHandling:Ge,preserveFragment:_t}=H,Qt=te||this.routerState.root,Yn=_t?this.currentUrlTree.fragment:Ve;let mn=null;switch(Ge){case"merge":mn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ye);break;case"preserve":mn=this.currentUrlTree.queryParams;break;default:mn=ye||null}return null!==mn&&(mn=this.removeEmptyProps(mn)),function(I,D,P,H,te){if(0===P.length)return za(D.root,D.root,D,H,te);const ye=function(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new xs(!0,0,I);let D=0,P=!1;const H=I.reduce((te,ye,Ve)=>{if("object"==typeof ye&&null!=ye){if(ye.outlets){const Ge={};return gr(ye.outlets,(_t,Qt)=>{Ge[Qt]="string"==typeof _t?_t.split("/"):_t}),[...te,{outlets:Ge}]}if(ye.segmentPath)return[...te,ye.segmentPath]}return"string"!=typeof ye?[...te,ye]:0===Ve?(ye.split("/").forEach((Ge,_t)=>{0==_t&&"."===Ge||(0==_t&&""===Ge?P=!0:".."===Ge?D++:""!=Ge&&te.push(Ge))}),te):[...te,ye]},[]);return new xs(P,D,H)}(P);if(ye.toRoot())return za(D.root,new yt([],{}),D,H,te);const Ve=function(I,D,P){if(I.isAbsolute)return new ga(D.root,!0,0);if(-1===P.snapshot._lastPathIndex){const ye=P.snapshot._urlSegment;return new ga(ye,ye===D.root,0)}const H=jo(I.commands[0])?0:1;return function(I,D,P){let H=I,te=D,ye=P;for(;ye>te;){if(ye-=te,H=H.parent,!H)throw new Error("Invalid number of '../'");te=H.segments.length}return new ga(H,!1,te-ye)}(P.snapshot._urlSegment,P.snapshot._lastPathIndex+H,I.numberOfDoubleDots)}(ye,D,I),Ge=Ve.processChildren?Eo(Ve.segmentGroup,Ve.index,ye.commands):To(Ve.segmentGroup,Ve.index,ye.commands);return za(Ve.segmentGroup,Ge,D,H,te)}(Qt,this.currentUrlTree,P,mn,null!=Yn?Yn:null)}navigateByUrl(P,H={skipLocationChange:!1}){const te=Q(P)?P:this.parseUrl(P),ye=this.urlHandlingStrategy.merge(te,this.rawUrlTree);return this.scheduleNavigation(ye,"imperative",null,H)}navigate(P,H={skipLocationChange:!1}){return function(I){for(let D=0;D<I.length;D++){const P=I[D];if(null==P)throw new Error(`The requested path contains ${P} segment at index ${D}`)}}(P),this.navigateByUrl(this.createUrlTree(P,H),H)}serializeUrl(P){return this.urlSerializer.serialize(P)}parseUrl(P){let H;try{H=this.urlSerializer.parse(P)}catch(te){H=this.malformedUriErrorHandler(te,this.urlSerializer,P)}return H}isActive(P,H){let te;if(te=!0===H?Object.assign({},vl):!1===H?Object.assign({},qo):H,Q(P))return Fr(this.currentUrlTree,P,te);const ye=this.parseUrl(P);return Fr(this.currentUrlTree,ye,te)}removeEmptyProps(P){return Object.keys(P).reduce((H,te)=>{const ye=P[te];return null!=ye&&(H[te]=ye),H},{})}processNavigations(){this.navigations.subscribe(P=>{this.navigated=!0,this.lastSuccessfulId=P.id,this.currentPageId=P.targetPageId,this.events.next(new Mr(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,P.resolve(!0)},P=>{this.console.warn(`Unhandled Navigation Error: ${P}`)})}scheduleNavigation(P,H,te,ye,Ve){var Ge,_t;if(this.disposed)return Promise.resolve(!1);const Qt=this.getTransition(),Yn=yl(H)&&Qt&&!yl(Qt.source),Gn=(this.lastSuccessfulId===Qt.id||this.currentNavigation?Qt.rawUrl:Qt.urlAfterRedirects).toString()===P.toString();if(Yn&&Gn)return Promise.resolve(!0);let ji,Ls,Fs;Ve?(ji=Ve.resolve,Ls=Ve.reject,Fs=Ve.promise):Fs=new Promise((xr,Cl)=>{ji=xr,Ls=Cl});const Sa=++this.navigationId;let dr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(te=this.location.getState()),dr=te&&te.\u0275routerPageId?te.\u0275routerPageId:ye.replaceUrl||ye.skipLocationChange?null!==(Ge=this.browserPageId)&&void 0!==Ge?Ge:0:(null!==(_t=this.browserPageId)&&void 0!==_t?_t:0)+1):dr=0,this.setTransition({id:Sa,targetPageId:dr,source:H,restoredState:te,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:P,extras:ye,resolve:ji,reject:Ls,promise:Fs,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Fs.catch(xr=>Promise.reject(xr))}setBrowserUrl(P,H){const te=this.urlSerializer.serialize(P),ye=Object.assign(Object.assign({},H.extras.state),this.generateNgRouterState(H.id,H.targetPageId));this.location.isCurrentPathEqualTo(te)||H.extras.replaceUrl?this.location.replaceState(te,"",ye):this.location.go(te,"",ye)}restoreHistory(P,H=!1){var te,ye;if("computed"===this.canceledNavigationResolution){const Ve=this.currentPageId-P.targetPageId;"popstate"!==P.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(te=this.currentNavigation)||void 0===te?void 0:te.finalUrl)||0===Ve?this.currentUrlTree===(null===(ye=this.currentNavigation)||void 0===ye?void 0:ye.finalUrl)&&0===Ve&&(this.resetState(P),this.browserUrlTree=P.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ve)}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(P),this.resetUrlToCurrentUrlTree())}resetState(P){this.routerState=P.currentRouterState,this.currentUrlTree=P.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,P.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(P,H){const te=new pr(P.id,this.serializeUrl(P.extractedUrl),H);this.triggerEvent(te),P.resolve(!1)}generateNgRouterState(P,H){return"computed"===this.canceledNavigationResolution?{navigationId:P,\u0275routerPageId:H}:{navigationId:P}}}return I.\u0275fac=function(P){return new(P||I)(y.LFG(y.DyG),y.LFG(Kn),y.LFG(Ri),y.LFG(A.Ye),y.LFG(y.zs3),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(void 0))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac}),I})();function yl(I){return"imperative"!==I}let Po=(()=>{class I{constructor(P,H,te,ye,Ve){this.parentContexts=P,this.location=H,this.resolver=te,this.changeDetector=Ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.name=ye||pn,P.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const P=this.parentContexts.getContext(this.name);P&&P.route&&(P.attachRef?this.attach(P.attachRef,P.route):this.activateWith(P.route,P.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const P=this.activated;return this.activated=null,this._activatedRoute=null,P}attach(P,H){this.activated=P,this._activatedRoute=H,this.location.insert(P.hostView)}deactivate(){if(this.activated){const P=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(P)}}activateWith(P,H){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=P;const Ve=(H=H||this.resolver).resolveComponentFactory(P._futureSnapshot.routeConfig.component),Ge=this.parentContexts.getOrCreateContext(this.name).children,_t=new ac(P,Ge,this.location.injector);this.activated=this.location.createComponent(Ve,this.location.length,_t),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(P){return new(P||I)(y.Y36(Ri),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},I.\u0275dir=y.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),I})();class ac{constructor(D,P,H){this.route=D,this.childContexts=P,this.parent=H}get(D,P){return D===Ur?this.route:D===Ri?this.childContexts:this.parent.get(D,P)}}class Bu{}class Yc{preload(D,P){return(0,Ae.of)(null)}}let Qo=(()=>{class I{constructor(P,H,te,ye,Ve){this.router=P,this.injector=ye,this.preloadingStrategy=Ve,this.loader=new ml(H,te,Qt=>P.triggerEvent(new Gr(Qt)),Qt=>P.triggerEvent(new ks(Qt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,pe.h)(P=>P instanceof Mr),(0,Oi.b)(()=>this.preload())).subscribe(()=>{})}preload(){const P=this.injector.get(y.h0i);return this.processRoutes(P,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(P,H){const te=[];for(const ye of H)if(ye.loadChildren&&!ye.canLoad&&ye._loadedConfig){const Ve=ye._loadedConfig;te.push(this.processRoutes(Ve.module,Ve.routes))}else ye.loadChildren&&!ye.canLoad?te.push(this.preloadConfig(P,ye)):ye.children&&te.push(this.processRoutes(P,ye.children));return(0,De.D)(te).pipe((0,an.J)(),(0,Tn.U)(ye=>{}))}preloadConfig(P,H){return this.preloadingStrategy.preload(H,()=>(H._loadedConfig?(0,Ae.of)(H._loadedConfig):this.loader.load(P.injector,H)).pipe((0,Lr.zg)(ye=>(H._loadedConfig=ye,this.processRoutes(ye.module,ye.routes)))))}}return I.\u0275fac=function(P){return new(P||I)(y.LFG(Ti),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(Bu))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac}),I})(),Ko=(()=>{class I{constructor(P,H,te={}){this.router=P,this.viewportScroller=H,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(P=>{P instanceof Or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=P.navigationTrigger,this.restoredId=P.restoredState?P.restoredState.navigationId:0):P instanceof Mr&&(this.lastId=P.id,this.scheduleScrollEvent(P,this.router.parseUrl(P.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(P=>{P instanceof Zn&&(P.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(P.position):P.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(P.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(P,H){this.router.triggerEvent(new Zn(P,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(P){return new(P||I)(y.LFG(Ti),y.LFG(A.EM),y.LFG(void 0))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac}),I})();const Do=new y.OlP("ROUTER_CONFIGURATION"),Yl=new y.OlP("ROUTER_FORROOT_GUARD"),xa=[A.Ye,{provide:Kn,useClass:qs},{provide:Ti,useFactory:function(I,D,P,H,te,ye,Ve,Ge={},_t,Qt){const Yn=new Ti(null,I,D,P,H,te,ye,Vn(Ve));return _t&&(Yn.urlHandlingStrategy=_t),Qt&&(Yn.routeReuseStrategy=Qt),function(I,D){I.errorHandler&&(D.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(D.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(D.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(D.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(D.urlUpdateStrategy=I.urlUpdateStrategy)}(Ge,Yn),Ge.enableTracing&&Yn.events.subscribe(mn=>{var tr,Gn;null===(tr=console.group)||void 0===tr||tr.call(console,`Router Event: ${mn.constructor.name}`),console.log(mn.toString()),console.log(mn),null===(Gn=console.groupEnd)||void 0===Gn||Gn.call(console)}),Yn},deps:[Kn,Ri,A.Ye,y.zs3,y.v3s,y.Sil,Oo,Do,[class{},new y.FiY],[class{},new y.FiY]]},Ri,{provide:Ur,useFactory:function(I){return I.routerState.root},deps:[Ti]},{provide:y.v3s,useClass:y.EAV},Qo,Yc,class{preload(D,P){return P().pipe((0,nr.K)(()=>(0,Ae.of)(null)))}},{provide:Do,useValue:{enableTracing:!1}}];function lc(){return new y.PXZ("Router",Ti)}let Ni=(()=>{class I{constructor(P,H){}static forRoot(P,H){return{ngModule:I,providers:[xa,wa(P),{provide:Yl,useFactory:bl,deps:[[Ti,new y.FiY,new y.tp0]]},{provide:Do,useValue:H||{}},{provide:A.S$,useFactory:qa,deps:[A.lw,[new y.tBr(A.mr),new y.FiY],Do]},{provide:Ko,useFactory:uc,deps:[Ti,A.EM,Do]},{provide:Bu,useExisting:H&&H.preloadingStrategy?H.preloadingStrategy:Yc},{provide:y.PXZ,multi:!0,useFactory:lc},[Ei,{provide:y.ip1,multi:!0,useFactory:Yo,deps:[Ei]},{provide:cc,useFactory:Xl,deps:[Ei]},{provide:y.tb,multi:!0,useExisting:cc}]]}}static forChild(P){return{ngModule:I,providers:[wa(P)]}}}return I.\u0275fac=function(P){return new(P||I)(y.LFG(Yl,8),y.LFG(Ti,8))},I.\u0275mod=y.oAB({type:I}),I.\u0275inj=y.cJS({}),I})();function uc(I,D,P){return P.scrollOffset&&D.setOffset(P.scrollOffset),new Ko(I,D,P)}function qa(I,D,P={}){return P.useHash?new A.Do(I,D):new A.b0(I,D)}function bl(I){return"guarded"}function wa(I){return[{provide:y.deG,multi:!0,useValue:I},{provide:Oo,multi:!0,useValue:I}]}let Ei=(()=>{class I{constructor(P){this.injector=P,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ye.xQ}appInitializer(){return this.injector.get(A.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let H=null;const te=new Promise(Ge=>H=Ge),ye=this.injector.get(Ti),Ve=this.injector.get(Do);return"disabled"===Ve.initialNavigation?(ye.setUpLocationChangeListener(),H(!0)):"enabled"===Ve.initialNavigation||"enabledBlocking"===Ve.initialNavigation?(ye.hooks.afterPreactivation=()=>this.initNavigation?(0,Ae.of)(null):(this.initNavigation=!0,H(!0),this.resultOfPreactivationDone),ye.initialNavigation()):H(!0),te})}bootstrapListener(P){const H=this.injector.get(Do),te=this.injector.get(Qo),ye=this.injector.get(Ko),Ve=this.injector.get(Ti),Ge=this.injector.get(y.z2F);P===Ge.components[0]&&(("enabledNonBlocking"===H.initialNavigation||void 0===H.initialNavigation)&&Ve.initialNavigation(),te.setUpPreloading(),ye.init(),Ve.resetRootComponentType(Ge.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(P){return new(P||I)(y.LFG(y.zs3))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac}),I})();function Yo(I){return I.appInitializer.bind(I)}function Xl(I){return I.bootstrapListener.bind(I)}const cc=new y.OlP("Router Initializer")},7974:(ct,Le,F)=>{"use strict";var A=F(4897);ct.exports=function(ee,ce){return void 0===ce&&(ce=!1),function(ue,oe,j){if(ue)ee(ue);else if(oe.statusCode>=400&&oe.statusCode<=599){var W=j;if(ce)if(A.TextDecoder){var ne=(void 0===(fe=oe.headers&&oe.headers["content-type"])&&(fe=""),fe.toLowerCase().split(";").reduce(function(ee,ce){var ue=ce.split("="),j=ue[1];return"charset"===ue[0].trim()?j.trim():ee},"utf-8"));try{W=new TextDecoder(ne).decode(j)}catch(G){}}else W=String.fromCharCode.apply(null,new Uint8Array(j));ee({cause:W})}else{var fe;ee(null,j)}}}},2472:(ct,Le,F)=>{"use strict";var A=F(4897),y=F(6549),$=F(1315);function ue(G,le,Ce){var ae=G;return $(le)?(Ce=le,"string"==typeof G&&(ae={uri:G})):ae=y({},le,{uri:G}),ae.callback=Ce,ae}function oe(G,le,Ce){return j(le=ue(G,le,Ce))}function j(G){if(void 0===G.callback)throw new Error("callback argument missing");var le=!1,Ce=function(Fe,Re,Je){le||(le=!0,G.callback(Fe,Re,Je))};function _e(){var Ee=void 0;if(Ee=Ae.response?Ae.response:Ae.responseText||function(G){try{if("document"===G.responseType)return G.responseXML;if(""===G.responseType&&(!G.responseXML||"parsererror"!==G.responseXML.documentElement.nodeName))return G.responseXML}catch(Ce){}return null}(Ae),B)try{Ee=JSON.parse(Ee)}catch(Fe){}return Ee}function Pe(Ee){return clearTimeout(re),Ee instanceof Error||(Ee=new Error(""+(Ee||"Unknown XMLHttpRequest Error"))),Ee.statusCode=0,Ce(Ee,pe)}function De(){if(!je){var Ee;clearTimeout(re);var Fe=pe,Re=null;return 0!==(Ee=G.useXDR&&void 0===Ae.status?200:1223===Ae.status?204:Ae.status)?(Fe={body:_e(),statusCode:Ee,method:Dt,headers:{},url:Ke,rawRequest:Ae},Ae.getAllResponseHeaders&&(Fe.headers=function(le){var Ce={};return le&&le.trim().split("\n").forEach(function(ae){var _e=ae.indexOf(":"),Pe=ae.slice(0,_e).trim().toLowerCase(),De=ae.slice(_e+1).trim();void 0===Ce[Pe]?Ce[Pe]=De:Array.isArray(Ce[Pe])?Ce[Pe].push(De):Ce[Pe]=[Ce[Pe],De]}),Ce}(Ae.getAllResponseHeaders()))):Re=new Error("Internal XMLHttpRequest Error"),Ce(Re,Fe,Fe.body)}}var Ae=G.xhr||null;Ae||(Ae=G.cors||G.useXDR?new oe.XDomainRequest:new oe.XMLHttpRequest);var ge,je,re,Ke=Ae.url=G.uri||G.url,Dt=Ae.method=G.method||"GET",dt=G.body||G.data,Ye=Ae.headers=G.headers||{},Y=!!G.sync,B=!1,pe={body:void 0,headers:{},statusCode:0,method:Dt,url:Ke,rawRequest:Ae};if("json"in G&&!1!==G.json&&(B=!0,Ye.accept||Ye.Accept||(Ye.Accept="application/json"),"GET"!==Dt&&"HEAD"!==Dt&&(Ye["content-type"]||Ye["Content-Type"]||(Ye["Content-Type"]="application/json"),dt=JSON.stringify(!0===G.json?dt:G.json))),Ae.onreadystatechange=function(){4===Ae.readyState&&setTimeout(De,0)},Ae.onload=De,Ae.onerror=Pe,Ae.onprogress=function(){},Ae.onabort=function(){je=!0},Ae.ontimeout=Pe,Ae.open(Dt,Ke,!Y,G.username,G.password),Y||(Ae.withCredentials=!!G.withCredentials),!Y&&G.timeout>0&&(re=setTimeout(function(){if(!je){je=!0,Ae.abort("timeout");var Ee=new Error("XMLHttpRequest timeout");Ee.code="ETIMEDOUT",Pe(Ee)}},G.timeout)),Ae.setRequestHeader)for(ge in Ye)Ye.hasOwnProperty(ge)&&Ae.setRequestHeader(ge,Ye[ge]);else if(G.headers&&!function(G){for(var le in G)if(G.hasOwnProperty(le))return!1;return!0}(G.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in G&&(Ae.responseType=G.responseType),"beforeSend"in G&&"function"==typeof G.beforeSend&&G.beforeSend(Ae),Ae.send(dt||null),Ae}oe.httpHandler=F(7974),ct.exports=oe,ct.exports.default=oe,oe.XMLHttpRequest=A.XMLHttpRequest||function(){},oe.XDomainRequest="withCredentials"in new oe.XMLHttpRequest?oe.XMLHttpRequest:A.XDomainRequest,function(G,le){for(var Ce=0;Ce<G.length;Ce++)le(G[Ce])}(["get","put","post","patch","head","delete"],function(G){oe["delete"===G?"del":G]=function(le,Ce,ae){return(Ce=ue(le,Ce,ae)).method=G.toUpperCase(),j(Ce)}})},1558:(ct,Le,F)=>{"use strict";F.d(Le,{g7:()=>ue});var A=null,y={},$=1,ee="@wry/context:Slot",ce=Array,ue=ce[ee]||function(){var ae=function(){function ae(){this.id=["slot",$++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return ae.prototype.hasValue=function(){for(var _e=A;_e;_e=_e.parent)if(this.id in _e.slots){var Pe=_e.slots[this.id];if(Pe===y)break;return _e!==A&&(A.slots[this.id]=Pe),!0}return A&&(A.slots[this.id]=y),!1},ae.prototype.getValue=function(){if(this.hasValue())return A.slots[this.id]},ae.prototype.withValue=function(_e,Pe,De,Ae){var ge,je=((ge={__proto__:null})[this.id]=_e,ge),Ke=A;A={parent:Ke,slots:je};try{return Pe.apply(Ae,De)}finally{A=Ke}},ae.bind=function(_e){var Pe=A;return function(){var De=A;try{return A=Pe,_e.apply(this,arguments)}finally{A=De}}},ae.noContext=function(_e,Pe,De){if(!A)return _e.apply(De,Pe);var Ae=A;try{return A=null,_e.apply(De,Pe)}finally{A=Ae}},ae}();try{Object.defineProperty(ce,ee,{value:ce[ee]=ae,enumerable:!1,writable:!1,configurable:!1})}finally{return ae}}()},1913:(ct,Le,F)=>{"use strict";F.d(Le,{D:()=>ce});var A=Object.prototype,y=A.toString,$=A.hasOwnProperty,fe=Function.prototype.toString,ee=new Map;function ce(le,Ce){try{return ue(le,Ce)}finally{ee.clear()}}function ue(le,Ce){if(le===Ce)return!0;var ae=y.call(le);if(ae!==y.call(Ce))return!1;switch(ae){case"[object Array]":if(le.length!==Ce.length)return!1;case"[object Object]":if(G(le,Ce))return!0;var Pe=oe(le),De=oe(Ce),Ae=Pe.length;if(Ae!==De.length)return!1;for(var ge=0;ge<Ae;++ge)if(!$.call(Ce,Pe[ge]))return!1;for(ge=0;ge<Ae;++ge){var je=Pe[ge];if(!ue(le[je],Ce[je]))return!1}return!0;case"[object Error]":return le.name===Ce.name&&le.message===Ce.message;case"[object Number]":if(le!=le)return Ce!=Ce;case"[object Boolean]":case"[object Date]":return+le==+Ce;case"[object RegExp]":case"[object String]":return le==""+Ce;case"[object Map]":case"[object Set]":if(le.size!==Ce.size)return!1;if(G(le,Ce))return!0;for(var Ke=le.entries(),Dt="[object Map]"===ae;;){var dt=Ke.next();if(dt.done)break;var Ye=dt.value,Y=Ye[0],B=Ye[1];if(!Ce.has(Y)||Dt&&!ue(B,Ce.get(Y)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":le=new Uint8Array(le),Ce=new Uint8Array(Ce);case"[object DataView]":var re=le.byteLength;if(re===Ce.byteLength)for(;re--&&le[re]===Ce[re];);return-1===re;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var pe=fe.call(le);return pe===fe.call(Ce)&&!function(le,Ce){var ae=le.length-Ce.length;return ae>=0&&le.indexOf(Ce,ae)===ae}(pe,W)}return!1}function oe(le){return Object.keys(le).filter(j,le)}function j(le){return void 0!==this[le]}var W="{ [native code] }";function G(le,Ce){var ae=ee.get(le);if(ae){if(ae.has(Ce))return!0}else ee.set(le,ae=new Set);return ae.add(Ce),!1}},2844:(ct,Le,F)=>{"use strict";F.d(Le,{B:()=>ee});var A=function(){return Object.create(null)},y=Array.prototype,$=y.forEach,fe=y.slice,ee=function(){function ue(oe,j){void 0===oe&&(oe=!0),void 0===j&&(j=A),this.weakness=oe,this.makeData=j}return ue.prototype.lookup=function(){for(var oe=[],j=0;j<arguments.length;j++)oe[j]=arguments[j];return this.lookupArray(oe)},ue.prototype.lookupArray=function(oe){var j=this;return $.call(oe,function(W){return j=j.getChildTrie(W)}),j.data||(j.data=this.makeData(fe.call(oe)))},ue.prototype.getChildTrie=function(oe){var j=this.weakness&&function(ue){switch(typeof ue){case"object":if(null===ue)break;case"function":return!0}return!1}(oe)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),W=j.get(oe);return W||j.set(oe,W=new ue(this.weakness,this.makeData)),W},ue}()},1351:(ct,Le)=>{"use strict";function F($,fe){return void 0===fe&&(fe=Object),fe&&"function"==typeof fe.freeze?fe.freeze($):$}var A=F({HTML:"text/html",isHTML:function($){return $===A.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),y=F({HTML:"http://www.w3.org/1999/xhtml",isHTML:function($){return $===y.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Le.freeze=F,Le.MIME_TYPE=A,Le.NAMESPACE=y},9818:(ct,Le,F)=>{var y=F(1351),$=F(3577),fe=F(3079),ee=F(6483),ce=$.DOMImplementation,ue=y.NAMESPACE,oe=ee.ParseError,j=ee.XMLReader;function W(Pe){this.options=Pe||{locator:{}}}function G(){this.cdata=!1}function le(Pe,De){De.lineNumber=Pe.lineNumber,De.columnNumber=Pe.columnNumber}function Ce(Pe){if(Pe)return"\n@"+(Pe.systemId||"")+"#[line:"+Pe.lineNumber+",col:"+Pe.columnNumber+"]"}function ae(Pe,De,Ae){return"string"==typeof Pe?Pe.substr(De,Ae):Pe.length>=De+Ae||De?new java.lang.String(Pe,De,Ae)+"":Pe}function _e(Pe,De){Pe.currentElement?Pe.currentElement.appendChild(De):Pe.doc.appendChild(De)}W.prototype.parseFromString=function(Pe,De){var Ae=this.options,ge=new j,je=Ae.domBuilder||new G,Ke=Ae.errorHandler,Dt=Ae.locator,dt=Ae.xmlns||{},Ye=/\/x?html?$/.test(De),Y=Ye?fe.HTML_ENTITIES:fe.XML_ENTITIES;return Dt&&je.setDocumentLocator(Dt),ge.errorHandler=function(Pe,De,Ae){if(!Pe){if(De instanceof G)return De;Pe=De}var ge={},je=Pe instanceof Function;function Ke(Dt){var dt=Pe[Dt];!dt&&je&&(dt=2==Pe.length?function(Ye){Pe(Dt,Ye)}:Pe),ge[Dt]=dt&&function(Ye){dt("[xmldom "+Dt+"]\t"+Ye+Ce(Ae))}||function(){}}return Ae=Ae||{},Ke("warning"),Ke("error"),Ke("fatalError"),ge}(Ke,je,Dt),ge.domBuilder=Ae.domBuilder||je,Ye&&(dt[""]=ue.HTML),dt.xml=dt.xml||ue.XML,Pe&&"string"==typeof Pe?ge.parse(Pe,dt,Y):ge.errorHandler.error("invalid doc source"),je.doc},G.prototype={startDocument:function(){this.doc=(new ce).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(Pe,De,Ae,ge){var je=this.doc,Ke=je.createElementNS(Pe,Ae||De),Dt=ge.length;_e(this,Ke),this.currentElement=Ke,this.locator&&le(this.locator,Ke);for(var dt=0;dt<Dt;dt++){Pe=ge.getURI(dt);var Ye=ge.getValue(dt),Y=(Ae=ge.getQName(dt),je.createAttributeNS(Pe,Ae));this.locator&&le(ge.getLocator(dt),Y),Y.value=Y.nodeValue=Ye,Ke.setAttributeNode(Y)}},endElement:function(Pe,De,Ae){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(Pe,De){},endPrefixMapping:function(Pe){},processingInstruction:function(Pe,De){var Ae=this.doc.createProcessingInstruction(Pe,De);this.locator&&le(this.locator,Ae),_e(this,Ae)},ignorableWhitespace:function(Pe,De,Ae){},characters:function(Pe,De,Ae){if(Pe=ae.apply(this,arguments)){if(this.cdata)var ge=this.doc.createCDATASection(Pe);else ge=this.doc.createTextNode(Pe);this.currentElement?this.currentElement.appendChild(ge):/^\s*$/.test(Pe)&&this.doc.appendChild(ge),this.locator&&le(this.locator,ge)}},skippedEntity:function(Pe){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(Pe){(this.locator=Pe)&&(Pe.lineNumber=0)},comment:function(Pe,De,Ae){Pe=ae.apply(this,arguments);var ge=this.doc.createComment(Pe);this.locator&&le(this.locator,ge),_e(this,ge)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(Pe,De,Ae){var ge=this.doc.implementation;if(ge&&ge.createDocumentType){var je=ge.createDocumentType(Pe,De,Ae);this.locator&&le(this.locator,je),_e(this,je),this.doc.doctype=je}},warning:function(Pe){console.warn("[xmldom warning]\t"+Pe,Ce(this.locator))},error:function(Pe){console.error("[xmldom error]\t"+Pe,Ce(this.locator))},fatalError:function(Pe){throw new oe(Pe,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(Pe){G.prototype[Pe]=function(){return null}}),Le.DOMParser=W},3577:(ct,Le,F)=>{var y=F(1351).NAMESPACE;function $(Oe){return""!==Oe}function ee(Oe,Ne){return Oe.hasOwnProperty(Ne)||(Oe[Ne]=!0),Oe}function ce(Oe){if(!Oe)return[];var Ne=function(Oe){return Oe?Oe.split(/[\t\n\f\r ]+/).filter($):[]}(Oe);return Object.keys(Ne.reduce(ee,{}))}function oe(Oe,Ne){for(var Qe in Oe)Ne[Qe]=Oe[Qe]}function j(Oe,Ne){var Qe=Oe.prototype;if(!(Qe instanceof Ne)){let Ht=function(){};Ht.prototype=Ne.prototype,Ht=new Ht,oe(Qe,Ht),Oe.prototype=Qe=Ht}Qe.constructor!=Oe&&("function"!=typeof Oe&&console.error("unknown Class:"+Oe),Qe.constructor=Oe)}var W={},ne=W.ELEMENT_NODE=1,G=W.ATTRIBUTE_NODE=2,le=W.TEXT_NODE=3,Ce=W.CDATA_SECTION_NODE=4,ae=W.ENTITY_REFERENCE_NODE=5,_e=W.ENTITY_NODE=6,Pe=W.PROCESSING_INSTRUCTION_NODE=7,De=W.COMMENT_NODE=8,Ae=W.DOCUMENT_NODE=9,ge=W.DOCUMENT_TYPE_NODE=10,je=W.DOCUMENT_FRAGMENT_NODE=11,Ke=W.NOTATION_NODE=12,Dt={},dt={},B=(Dt.INDEX_SIZE_ERR=(dt[1]="Index size error",1),Dt.DOMSTRING_SIZE_ERR=(dt[2]="DOMString size error",2),Dt.HIERARCHY_REQUEST_ERR=(dt[3]="Hierarchy request error",3)),Re=(Dt.WRONG_DOCUMENT_ERR=(dt[4]="Wrong document",4),Dt.INVALID_CHARACTER_ERR=(dt[5]="Invalid character",5),Dt.NO_DATA_ALLOWED_ERR=(dt[6]="No data allowed",6),Dt.NO_MODIFICATION_ALLOWED_ERR=(dt[7]="No modification allowed",7),Dt.NOT_FOUND_ERR=(dt[8]="Not found",8)),ft=(Dt.NOT_SUPPORTED_ERR=(dt[9]="Not supported",9),Dt.INUSE_ATTRIBUTE_ERR=(dt[10]="Attribute in use",10));function jt(Oe,Ne){if(Ne instanceof Error)var Qe=Ne;else Qe=this,Error.call(this,dt[Oe]),this.message=dt[Oe],Error.captureStackTrace&&Error.captureStackTrace(this,jt);return Qe.code=Oe,Ne&&(this.message=this.message+": "+Ne),Qe}function Rt(){}function qt(Oe,Ne){this._node=Oe,this._refresh=Ne,Un(this)}function Un(Oe){var Ne=Oe._node._inc||Oe._node.ownerDocument._inc;if(Oe._inc!=Ne){var Qe=Oe._refresh(Oe._node);ss(Oe,"length",Qe.length),oe(Qe,Oe),Oe._inc=Ne}}function Sn(){}function fn(Oe,Ne){for(var Qe=Oe.length;Qe--;)if(Oe[Qe]===Ne)return Qe}function An(Oe,Ne,Qe,pt){if(pt?Ne[fn(Ne,pt)]=Qe:Ne[Ne.length++]=Qe,Oe){Qe.ownerElement=Oe;var Ht=Oe.ownerDocument;Ht&&(pt&&Lr(Ht,Oe,pt),function(Oe,Ne,Qe){Oe&&Oe._inc++,Qe.namespaceURI===y.XMLNS&&(Ne._nsMap[Qe.prefix?Qe.localName:""]=Qe.value)}(Ht,Oe,Qe))}}function Nn(Oe,Ne,Qe){var pt=fn(Ne,Qe);if(!(pt>=0))throw jt(Re,new Error(Oe.tagName+"@"+Qe));for(var Ht=Ne.length-1;pt<Ht;)Ne[pt]=Ne[++pt];if(Ne.length=Ht,Oe){var Vn=Oe.ownerDocument;Vn&&(Lr(Vn,Oe,Qe),Qe.ownerElement=null)}}function Sr(){}function Tn(){}function ai(Oe){return("<"==Oe?"&lt;":">"==Oe&&"&gt;")||"&"==Oe&&"&amp;"||'"'==Oe&&"&quot;"||"&#"+Oe.charCodeAt()+";"}function Kr(Oe,Ne){if(Ne(Oe))return!0;if(Oe=Oe.firstChild)do{if(Kr(Oe,Ne))return!0}while(Oe=Oe.nextSibling)}function nr(){}function Lr(Oe,Ne,Qe,pt){Oe&&Oe._inc++,Qe.namespaceURI===y.XMLNS&&delete Ne._nsMap[Qe.prefix?Qe.localName:""]}function Qn(Oe,Ne,Qe){if(Oe&&Oe._inc){Oe._inc++;var pt=Ne.childNodes;if(Qe)pt[pt.length++]=Qe;else{for(var Ht=Ne.firstChild,Vn=0;Ht;)pt[Vn++]=Ht,Ht=Ht.nextSibling;pt.length=Vn}}}function qi(Oe,Ne){var Qe=Ne.previousSibling,pt=Ne.nextSibling;return Qe?Qe.nextSibling=pt:Oe.firstChild=pt,pt?pt.previousSibling=Qe:Oe.lastChild=Qe,Qn(Oe.ownerDocument,Oe),Ne}function an(Oe,Ne,Qe){var pt=Ne.parentNode;if(pt&&pt.removeChild(Ne),Ne.nodeType===je){var Ht=Ne.firstChild;if(null==Ht)return Ne;var Vn=Ne.lastChild}else Ht=Vn=Ne;var jn=Qe?Qe.previousSibling:Oe.lastChild;Ht.previousSibling=jn,Vn.nextSibling=Qe,jn?jn.nextSibling=Ht:Oe.firstChild=Ht,null==Qe?Oe.lastChild=Vn:Qe.previousSibling=Vn;do{Ht.parentNode=Oe}while(Ht!==Vn&&(Ht=Ht.nextSibling));return Qn(Oe.ownerDocument||Oe,Oe),Ne.nodeType==je&&(Ne.firstChild=Ne.lastChild=null),Ne}function Or(){this._nsMap={}}function Mr(){}function pr(){}function Ba(){}function Jn(){}function Kt(){}function yn(){}function Fo(){}function rr(){}function Gr(){}function ks(){}function Pi(){}function ha(){}function En(Oe,Ne){var Qe=[],pt=9==this.nodeType&&this.documentElement||this,Ht=pt.prefix,Vn=pt.namespaceURI;if(Vn&&null==Ht&&null==(Ht=pt.lookupPrefix(Vn)))var jn=[{namespace:Vn,prefix:null}];return pn(this,Qe,Oe,Ne,jn),Qe.join("")}function mo(Oe,Ne,Qe){var pt=Oe.prefix||"",Ht=Oe.namespaceURI;if(!Ht||"xml"===pt&&Ht===y.XML||Ht===y.XMLNS)return!1;for(var Vn=Qe.length;Vn--;){var jn=Qe[Vn];if(jn.prefix===pt)return jn.namespace!==Ht}return!0}function Zn(Oe,Ne,Qe){Oe.push(" ",Ne,'="',Qe.replace(/[<&"]/g,ai),'"')}function pn(Oe,Ne,Qe,pt,Ht){if(Ht||(Ht=[]),pt){if(!(Oe=pt(Oe)))return;if("string"==typeof Oe)return void Ne.push(Oe)}switch(Oe.nodeType){case ne:var Vn=Oe.attributes,jn=Vn.length,ir=Oe.firstChild,gr=Oe.tagName,nn=gr;if(!(Qe=y.isHTML(Oe.namespaceURI)||Qe)&&!Oe.prefix&&Oe.namespaceURI){for(var Qi,Ki=0;Ki<Vn.length;Ki++)if("xmlns"===Vn.item(Ki).name){Qi=Vn.item(Ki).value;break}if(!Qi)for(var Et=Ht.length-1;Et>=0;Et--)if(""===(Fr=Ht[Et]).prefix&&Fr.namespace===Oe.namespaceURI){Qi=Fr.namespace;break}if(Qi!==Oe.namespaceURI)for(Et=Ht.length-1;Et>=0;Et--){var Fr;if((Fr=Ht[Et]).namespace===Oe.namespaceURI){Fr.prefix&&(nn=Fr.prefix+":"+gr);break}}}Ne.push("<",nn);for(var Di=0;Di<jn;Di++)"xmlns"==(er=Vn.item(Di)).prefix?Ht.push({prefix:er.localName,namespace:er.value}):"xmlns"==er.nodeName&&Ht.push({prefix:"",namespace:er.value});for(Di=0;Di<jn;Di++){var er,Br,Yr;mo(er=Vn.item(Di),0,Ht)&&(Zn(Ne,(Br=er.prefix||"")?"xmlns:"+Br:"xmlns",Yr=er.namespaceURI),Ht.push({prefix:Br,namespace:Yr})),pn(er,Ne,Qe,pt,Ht)}if(gr===nn&&mo(Oe,0,Ht)&&(Zn(Ne,(Br=Oe.prefix||"")?"xmlns:"+Br:"xmlns",Yr=Oe.namespaceURI),Ht.push({prefix:Br,namespace:Yr})),ir||Qe&&!/^(?:meta|link|img|br|hr|input)$/i.test(gr)){if(Ne.push(">"),Qe&&/^script$/i.test(gr))for(;ir;)ir.data?Ne.push(ir.data):pn(ir,Ne,Qe,pt,Ht.slice()),ir=ir.nextSibling;else for(;ir;)pn(ir,Ne,Qe,pt,Ht.slice()),ir=ir.nextSibling;Ne.push("</",nn,">")}else Ne.push("/>");return;case Ae:case je:for(ir=Oe.firstChild;ir;)pn(ir,Ne,Qe,pt,Ht.slice()),ir=ir.nextSibling;return;case G:return Zn(Ne,Oe.name,Oe.value);case le:return Ne.push(Oe.data.replace(/[<&]/g,ai).replace(/]]>/g,"]]&gt;"));case Ce:return Ne.push("<![CDATA[",Oe.data,"]]>");case De:return Ne.push("\x3c!--",Oe.data,"--\x3e");case ge:var li=Oe.publicId,gi=Oe.systemId;if(Ne.push("<!DOCTYPE ",Oe.name),li)Ne.push(" PUBLIC ",li),gi&&"."!=gi&&Ne.push(" ",gi),Ne.push(">");else if(gi&&"."!=gi)Ne.push(" SYSTEM ",gi,">");else{var kn=Oe.internalSubset;kn&&Ne.push(" [",kn,"]"),Ne.push(">")}return;case Pe:return Ne.push("<?",Oe.target," ",Oe.data,"?>");case ae:return Ne.push("&",Oe.nodeName,";");default:Ne.push("??",Oe.nodeName)}}function Fn(Oe,Ne,Qe){var pt;switch(Ne.nodeType){case ne:(pt=Ne.cloneNode(!1)).ownerDocument=Oe;case je:break;case G:Qe=!0}if(pt||(pt=Ne.cloneNode(!1)),pt.ownerDocument=Oe,pt.parentNode=null,Qe)for(var Ht=Ne.firstChild;Ht;)pt.appendChild(Fn(Oe,Ht,Qe)),Ht=Ht.nextSibling;return pt}function pi(Oe,Ne,Qe){var pt=new Ne.constructor;for(var Ht in Ne){var Vn=Ne[Ht];"object"!=typeof Vn&&Vn!=pt[Ht]&&(pt[Ht]=Vn)}switch(Ne.childNodes&&(pt.childNodes=new Rt),pt.ownerDocument=Oe,pt.nodeType){case ne:var jn=Ne.attributes,ir=pt.attributes=new Sn,gr=jn.length;ir._ownerElement=pt;for(var nn=0;nn<gr;nn++)pt.setAttributeNode(pi(Oe,jn.item(nn),!0));break;case G:Qe=!0}if(Qe)for(var Qi=Ne.firstChild;Qi;)pt.appendChild(pi(Oe,Qi,Qe)),Qi=Qi.nextSibling;return pt}function ss(Oe,Ne,Qe){Oe[Ne]=Qe}Dt.INVALID_STATE_ERR=(dt[11]="Invalid state",11),Dt.SYNTAX_ERR=(dt[12]="Syntax error",12),Dt.INVALID_MODIFICATION_ERR=(dt[13]="Invalid modification",13),Dt.NAMESPACE_ERR=(dt[14]="Invalid namespace",14),Dt.INVALID_ACCESS_ERR=(dt[15]="Invalid access",15),jt.prototype=Error.prototype,oe(Dt,jt),Rt.prototype={length:0,item:function(Oe){return this[Oe]||null},toString:function(Oe,Ne){for(var Qe=[],pt=0;pt<this.length;pt++)pn(this[pt],Qe,Oe,Ne);return Qe.join("")}},qt.prototype.item=function(Oe){return Un(this),this[Oe]},j(qt,Rt),Sn.prototype={length:0,item:Rt.prototype.item,getNamedItem:function(Oe){for(var Ne=this.length;Ne--;){var Qe=this[Ne];if(Qe.nodeName==Oe)return Qe}},setNamedItem:function(Oe){var Ne=Oe.ownerElement;if(Ne&&Ne!=this._ownerElement)throw new jt(ft);var Qe=this.getNamedItem(Oe.nodeName);return An(this._ownerElement,this,Oe,Qe),Qe},setNamedItemNS:function(Oe){var Qe,Ne=Oe.ownerElement;if(Ne&&Ne!=this._ownerElement)throw new jt(ft);return Qe=this.getNamedItemNS(Oe.namespaceURI,Oe.localName),An(this._ownerElement,this,Oe,Qe),Qe},removeNamedItem:function(Oe){var Ne=this.getNamedItem(Oe);return Nn(this._ownerElement,this,Ne),Ne},removeNamedItemNS:function(Oe,Ne){var Qe=this.getNamedItemNS(Oe,Ne);return Nn(this._ownerElement,this,Qe),Qe},getNamedItemNS:function(Oe,Ne){for(var Qe=this.length;Qe--;){var pt=this[Qe];if(pt.localName==Ne&&pt.namespaceURI==Oe)return pt}return null}},Sr.prototype={hasFeature:function(Oe,Ne){return!0},createDocument:function(Oe,Ne,Qe){var pt=new nr;if(pt.implementation=this,pt.childNodes=new Rt,pt.doctype=Qe||null,Qe&&pt.appendChild(Qe),Ne){var Ht=pt.createElementNS(Oe,Ne);pt.appendChild(Ht)}return pt},createDocumentType:function(Oe,Ne,Qe){var pt=new yn;return pt.name=Oe,pt.nodeName=Oe,pt.publicId=Ne||"",pt.systemId=Qe||"",pt}},Tn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(Oe,Ne){return an(this,Oe,Ne)},replaceChild:function(Oe,Ne){this.insertBefore(Oe,Ne),Ne&&this.removeChild(Ne)},removeChild:function(Oe){return qi(this,Oe)},appendChild:function(Oe){return this.insertBefore(Oe,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(Oe){return pi(this.ownerDocument||this,this,Oe)},normalize:function(){for(var Oe=this.firstChild;Oe;){var Ne=Oe.nextSibling;Ne&&Ne.nodeType==le&&Oe.nodeType==le?(this.removeChild(Ne),Oe.appendData(Ne.data)):(Oe.normalize(),Oe=Ne)}},isSupported:function(Oe,Ne){return this.ownerDocument.implementation.hasFeature(Oe,Ne)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(Oe){for(var Ne=this;Ne;){var Qe=Ne._nsMap;if(Qe)for(var pt in Qe)if(Qe[pt]==Oe)return pt;Ne=Ne.nodeType==G?Ne.ownerDocument:Ne.parentNode}return null},lookupNamespaceURI:function(Oe){for(var Ne=this;Ne;){var Qe=Ne._nsMap;if(Qe&&Oe in Qe)return Qe[Oe];Ne=Ne.nodeType==G?Ne.ownerDocument:Ne.parentNode}return null},isDefaultNamespace:function(Oe){return null==this.lookupPrefix(Oe)}},oe(W,Tn),oe(W,Tn.prototype),nr.prototype={nodeName:"#document",nodeType:Ae,doctype:null,documentElement:null,_inc:1,insertBefore:function(Oe,Ne){if(Oe.nodeType==je){for(var Qe=Oe.firstChild;Qe;){var pt=Qe.nextSibling;this.insertBefore(Qe,Ne),Qe=pt}return Oe}return null==this.documentElement&&Oe.nodeType==ne&&(this.documentElement=Oe),an(this,Oe,Ne),Oe.ownerDocument=this,Oe},removeChild:function(Oe){return this.documentElement==Oe&&(this.documentElement=null),qi(this,Oe)},importNode:function(Oe,Ne){return Fn(this,Oe,Ne)},getElementById:function(Oe){var Ne=null;return Kr(this.documentElement,function(Qe){if(Qe.nodeType==ne&&Qe.getAttribute("id")==Oe)return Ne=Qe,!0}),Ne},getElementsByClassName:function(Oe){var Ne=ce(Oe);return new qt(this,function(Qe){var pt=[];return Ne.length>0&&Kr(Qe.documentElement,function(Ht){if(Ht!==Qe&&Ht.nodeType===ne){var Vn=Ht.getAttribute("class");if(Vn){var jn=Oe===Vn;if(!jn){var ir=ce(Vn);jn=Ne.every(function(Oe){return function(Ne){return Oe&&-1!==Oe.indexOf(Ne)}}(ir))}jn&&pt.push(Ht)}}}),pt})},createElement:function(Oe){var Ne=new Or;return Ne.ownerDocument=this,Ne.nodeName=Oe,Ne.tagName=Oe,Ne.localName=Oe,Ne.childNodes=new Rt,(Ne.attributes=new Sn)._ownerElement=Ne,Ne},createDocumentFragment:function(){var Oe=new ks;return Oe.ownerDocument=this,Oe.childNodes=new Rt,Oe},createTextNode:function(Oe){var Ne=new Ba;return Ne.ownerDocument=this,Ne.appendData(Oe),Ne},createComment:function(Oe){var Ne=new Jn;return Ne.ownerDocument=this,Ne.appendData(Oe),Ne},createCDATASection:function(Oe){var Ne=new Kt;return Ne.ownerDocument=this,Ne.appendData(Oe),Ne},createProcessingInstruction:function(Oe,Ne){var Qe=new Pi;return Qe.ownerDocument=this,Qe.tagName=Qe.target=Oe,Qe.nodeValue=Qe.data=Ne,Qe},createAttribute:function(Oe){var Ne=new Mr;return Ne.ownerDocument=this,Ne.name=Oe,Ne.nodeName=Oe,Ne.localName=Oe,Ne.specified=!0,Ne},createEntityReference:function(Oe){var Ne=new Gr;return Ne.ownerDocument=this,Ne.nodeName=Oe,Ne},createElementNS:function(Oe,Ne){var Qe=new Or,pt=Ne.split(":"),Ht=Qe.attributes=new Sn;return Qe.childNodes=new Rt,Qe.ownerDocument=this,Qe.nodeName=Ne,Qe.tagName=Ne,Qe.namespaceURI=Oe,2==pt.length?(Qe.prefix=pt[0],Qe.localName=pt[1]):Qe.localName=Ne,Ht._ownerElement=Qe,Qe},createAttributeNS:function(Oe,Ne){var Qe=new Mr,pt=Ne.split(":");return Qe.ownerDocument=this,Qe.nodeName=Ne,Qe.name=Ne,Qe.namespaceURI=Oe,Qe.specified=!0,2==pt.length?(Qe.prefix=pt[0],Qe.localName=pt[1]):Qe.localName=Ne,Qe}},j(nr,Tn),nr.prototype.getElementsByTagName=(Or.prototype={nodeType:ne,hasAttribute:function(Oe){return null!=this.getAttributeNode(Oe)},getAttribute:function(Oe){var Ne=this.getAttributeNode(Oe);return Ne&&Ne.value||""},getAttributeNode:function(Oe){return this.attributes.getNamedItem(Oe)},setAttribute:function(Oe,Ne){var Qe=this.ownerDocument.createAttribute(Oe);Qe.value=Qe.nodeValue=""+Ne,this.setAttributeNode(Qe)},removeAttribute:function(Oe){var Ne=this.getAttributeNode(Oe);Ne&&this.removeAttributeNode(Ne)},appendChild:function(Oe){return Oe.nodeType===je?this.insertBefore(Oe,null):function(Oe,Ne){var Qe=Ne.parentNode;if(Qe){var pt=Oe.lastChild;Qe.removeChild(Ne),pt=Oe.lastChild}return pt=Oe.lastChild,Ne.parentNode=Oe,Ne.previousSibling=pt,Ne.nextSibling=null,pt?pt.nextSibling=Ne:Oe.firstChild=Ne,Oe.lastChild=Ne,Qn(Oe.ownerDocument,Oe,Ne),Ne}(this,Oe)},setAttributeNode:function(Oe){return this.attributes.setNamedItem(Oe)},setAttributeNodeNS:function(Oe){return this.attributes.setNamedItemNS(Oe)},removeAttributeNode:function(Oe){return this.attributes.removeNamedItem(Oe.nodeName)},removeAttributeNS:function(Oe,Ne){var Qe=this.getAttributeNodeNS(Oe,Ne);Qe&&this.removeAttributeNode(Qe)},hasAttributeNS:function(Oe,Ne){return null!=this.getAttributeNodeNS(Oe,Ne)},getAttributeNS:function(Oe,Ne){var Qe=this.getAttributeNodeNS(Oe,Ne);return Qe&&Qe.value||""},setAttributeNS:function(Oe,Ne,Qe){var pt=this.ownerDocument.createAttributeNS(Oe,Ne);pt.value=pt.nodeValue=""+Qe,this.setAttributeNode(pt)},getAttributeNodeNS:function(Oe,Ne){return this.attributes.getNamedItemNS(Oe,Ne)},getElementsByTagName:function(Oe){return new qt(this,function(Ne){var Qe=[];return Kr(Ne,function(pt){pt!==Ne&&pt.nodeType==ne&&("*"===Oe||pt.tagName==Oe)&&Qe.push(pt)}),Qe})},getElementsByTagNameNS:function(Oe,Ne){return new qt(this,function(Qe){var pt=[];return Kr(Qe,function(Ht){Ht!==Qe&&Ht.nodeType===ne&&("*"===Oe||Ht.namespaceURI===Oe)&&("*"===Ne||Ht.localName==Ne)&&pt.push(Ht)}),pt})}}).getElementsByTagName,nr.prototype.getElementsByTagNameNS=Or.prototype.getElementsByTagNameNS,j(Or,Tn),Mr.prototype.nodeType=G,j(Mr,Tn),pr.prototype={data:"",substringData:function(Oe,Ne){return this.data.substring(Oe,Oe+Ne)},appendData:function(Oe){this.nodeValue=this.data=Oe=this.data+Oe,this.length=Oe.length},insertData:function(Oe,Ne){this.replaceData(Oe,0,Ne)},appendChild:function(Oe){throw new Error(dt[B])},deleteData:function(Oe,Ne){this.replaceData(Oe,Ne,"")},replaceData:function(Oe,Ne,Qe){var pt=this.data.substring(0,Oe),Ht=this.data.substring(Oe+Ne);this.nodeValue=this.data=Qe=pt+Qe+Ht,this.length=Qe.length}},j(pr,Tn),Ba.prototype={nodeName:"#text",nodeType:le,splitText:function(Oe){var Ne=this.data,Qe=Ne.substring(Oe);Ne=Ne.substring(0,Oe),this.data=this.nodeValue=Ne,this.length=Ne.length;var pt=this.ownerDocument.createTextNode(Qe);return this.parentNode&&this.parentNode.insertBefore(pt,this.nextSibling),pt}},j(Ba,pr),Jn.prototype={nodeName:"#comment",nodeType:De},j(Jn,pr),Kt.prototype={nodeName:"#cdata-section",nodeType:Ce},j(Kt,pr),yn.prototype.nodeType=ge,j(yn,Tn),Fo.prototype.nodeType=Ke,j(Fo,Tn),rr.prototype.nodeType=_e,j(rr,Tn),Gr.prototype.nodeType=ae,j(Gr,Tn),ks.prototype.nodeName="#document-fragment",ks.prototype.nodeType=je,j(ks,Tn),Pi.prototype.nodeType=Pe,j(Pi,Tn),ha.prototype.serializeToString=function(Oe,Ne,Qe){return En.call(Oe,Ne,Qe)},Tn.prototype.toString=En;try{if(Object.defineProperty){let Oe=function(Ne){switch(Ne.nodeType){case ne:case je:var Qe=[];for(Ne=Ne.firstChild;Ne;)7!==Ne.nodeType&&8!==Ne.nodeType&&Qe.push(Oe(Ne)),Ne=Ne.nextSibling;return Qe.join("");default:return Ne.nodeValue}};Object.defineProperty(qt.prototype,"length",{get:function(){return Un(this),this.$$length}}),Object.defineProperty(Tn.prototype,"textContent",{get:function(){return Oe(this)},set:function(Ne){switch(this.nodeType){case ne:case je:for(;this.firstChild;)this.removeChild(this.firstChild);(Ne||String(Ne))&&this.appendChild(this.ownerDocument.createTextNode(Ne));break;default:this.data=Ne,this.value=Ne,this.nodeValue=Ne}}}),ss=function(Ne,Qe,pt){Ne["$$"+Qe]=pt}}}catch(Oe){}Le.DocumentType=yn,Le.DOMException=jt,Le.DOMImplementation=Sr,Le.Element=Or,Le.Node=Tn,Le.NodeList=Rt,Le.XMLSerializer=ha},3079:(ct,Le,F)=>{var A=F(1351).freeze;Le.XML_ENTITIES=A({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),Le.HTML_ENTITIES=A({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),Le.entityMap=Le.HTML_ENTITIES},4251:(ct,Le,F)=>{F(3577);Le.DOMParser=F(9818).DOMParser},6483:(ct,Le,F)=>{var A=F(1351).NAMESPACE,y=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$=new RegExp("[\\-\\.0-9"+y.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),fe=new RegExp("^"+y.source+$.source+"*(?::"+y.source+$.source+"*)?$");function le(Y,B){this.message=Y,this.locator=B,Error.captureStackTrace&&Error.captureStackTrace(this,le)}function Ce(){}function _e(Y,B){return B.lineNumber=Y.lineNumber,B.columnNumber=Y.columnNumber,B}function Pe(Y,B,re,pe,Ee,Fe){function Re(ht,jt,Rt){re.attributeNames.hasOwnProperty(ht)&&Fe.fatalError("Attribute "+ht+" redefined"),re.addValue(ht,jt,Rt)}for(var Je,vt=++B,lt=0;;){var He=Y.charAt(vt);switch(He){case"=":if(1===lt)Je=Y.slice(B,vt),lt=3;else{if(2!==lt)throw new Error("attribute equal must after attrName");lt=3}break;case"'":case'"':if(3===lt||1===lt){if(1===lt&&(Fe.warning('attribute value must after "="'),Je=Y.slice(B,vt)),!((vt=Y.indexOf(He,B=vt+1))>0))throw new Error("attribute value no end '"+He+"' match");Re(Je,ft=Y.slice(B,vt).replace(/&#?\w+;/g,Ee),B-1),lt=5}else{if(4!=lt)throw new Error('attribute value must after "="');Re(Je,ft=Y.slice(B,vt).replace(/&#?\w+;/g,Ee),B),Fe.warning('attribute "'+Je+'" missed start quot('+He+")!!"),B=vt+1,lt=5}break;case"/":switch(lt){case 0:re.setTagName(Y.slice(B,vt));case 5:case 6:case 7:lt=7,re.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Fe.error("unexpected end of input"),0==lt&&re.setTagName(Y.slice(B,vt)),vt;case">":switch(lt){case 0:re.setTagName(Y.slice(B,vt));case 5:case 6:case 7:break;case 4:case 1:"/"===(ft=Y.slice(B,vt)).slice(-1)&&(re.closed=!0,ft=ft.slice(0,-1));case 2:2===lt&&(ft=Je),4==lt?(Fe.warning('attribute "'+ft+'" missed quot(")!'),Re(Je,ft.replace(/&#?\w+;/g,Ee),B)):((!A.isHTML(pe[""])||!ft.match(/^(?:disabled|checked|selected)$/i))&&Fe.warning('attribute "'+ft+'" missed value!! "'+ft+'" instead!!'),Re(ft,ft,B));break;case 3:throw new Error("attribute value missed!!")}return vt;case"\x80":He=" ";default:if(He<=" ")switch(lt){case 0:re.setTagName(Y.slice(B,vt)),lt=6;break;case 1:Je=Y.slice(B,vt),lt=2;break;case 4:var ft=Y.slice(B,vt).replace(/&#?\w+;/g,Ee);Fe.warning('attribute "'+ft+'" missed quot(")!!'),Re(Je,ft,B);case 5:lt=6}else switch(lt){case 2:(!A.isHTML(pe[""])||!Je.match(/^(?:disabled|checked|selected)$/i))&&Fe.warning('attribute "'+Je+'" missed value!! "'+Je+'" instead2!!'),Re(Je,Je,B),B=vt,lt=1;break;case 5:Fe.warning('attribute space is required"'+Je+'"!!');case 6:lt=1,B=vt;break;case 3:lt=4,B=vt;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}vt++}}function De(Y,B,re){for(var pe=Y.tagName,Ee=null,Fe=Y.length;Fe--;){var Re=Y[Fe],Je=Re.qName,ft=Re.value;if((nt=Je.indexOf(":"))>0)var vt=Re.prefix=Je.slice(0,nt),lt=Je.slice(nt+1),He="xmlns"===vt&&lt;else lt=Je,vt=null,He="xmlns"===Je&&"";Re.localName=lt,!1!==He&&(null==Ee&&(Ee={},je(re,re={})),re[He]=Ee[He]=ft,Re.uri=A.XMLNS,B.startPrefixMapping(He,ft))}for(Fe=Y.length;Fe--;)(vt=(Re=Y[Fe]).prefix)&&("xml"===vt&&(Re.uri=A.XML),"xmlns"!==vt&&(Re.uri=re[vt||""]));var nt;(nt=pe.indexOf(":"))>0?(vt=Y.prefix=pe.slice(0,nt),lt=Y.localName=pe.slice(nt+1)):(vt=null,lt=Y.localName=pe);var ht=Y.uri=re[vt||""];if(B.startElement(ht,lt,pe,Y),!Y.closed)return Y.currentNSMap=re,Y.localNSMap=Ee,!0;if(B.endElement(ht,lt,pe),Ee)for(vt in Ee)B.endPrefixMapping(vt)}function Ae(Y,B,re,pe,Ee){if(/^(?:script|textarea)$/i.test(re)){var Fe=Y.indexOf("</"+re+">",B),Re=Y.substring(B+1,Fe);if(/[&<]/.test(Re))return/^script$/i.test(re)?(Ee.characters(Re,0,Re.length),Fe):(Re=Re.replace(/&#?\w+;/g,pe),Ee.characters(Re,0,Re.length),Fe)}return B+1}function ge(Y,B,re,pe){var Ee=pe[re];return null==Ee&&((Ee=Y.lastIndexOf("</"+re+">"))<B&&(Ee=Y.lastIndexOf("</"+re)),pe[re]=Ee),Ee<B}function je(Y,B){for(var re in Y)B[re]=Y[re]}function Ke(Y,B,re,pe){switch(Y.charAt(B+2)){case"-":return"-"===Y.charAt(B+3)?(Fe=Y.indexOf("--\x3e",B+4))>B?(re.comment(Y,B+4,Fe-B-4),Fe+3):(pe.error("Unclosed comment"),-1):-1;default:if("CDATA["==Y.substr(B+3,6)){var Fe=Y.indexOf("]]>",B+9);return re.startCDATA(),re.characters(Y,B+9,Fe-B-9),re.endCDATA(),Fe+3}var Re=function(Y,B){var re,pe=[],Ee=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Ee.lastIndex=B,Ee.exec(Y);re=Ee.exec(Y);)if(pe.push(re),re[1])return pe}(Y,B),Je=Re.length;if(Je>1&&/!doctype/i.test(Re[0][0])){var ft=Re[1][0],vt=!1,lt=!1;Je>3&&(/^public$/i.test(Re[2][0])?(vt=Re[3][0],lt=Je>4&&Re[4][0]):/^system$/i.test(Re[2][0])&&(lt=Re[3][0]));var He=Re[Je-1];return re.startDTD(ft,vt,lt),re.endDTD(),He.index+He[0].length}}return-1}function Dt(Y,B,re){var pe=Y.indexOf("?>",B);if(pe){var Ee=Y.substring(B,pe).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Ee?(re.processingInstruction(Ee[1],Ee[2]),pe+2):-1}return-1}function dt(){this.attributeNames={}}(le.prototype=new Error).name=le.name,Ce.prototype={parse:function(Y,B,re){var pe=this.domBuilder;pe.startDocument(),je(B,B={}),function(Y,B,re,pe,Ee){function Re(Hn){var Or=Hn.slice(1,-1);return Or in re?re[Or]:"#"===Or.charAt(0)?function(Hn){return Hn>65535?(Hn-=65536,String.fromCharCode(55296+(Hn>>10),56320+(1023&Hn))):String.fromCharCode(Hn)}(parseInt(Or.substr(1).replace("x","0x"))):(Ee.error("entity not found:"+Hn),Hn)}function Je(Hn){if(Hn>Rt){var Or=Y.substring(Rt,Hn).replace(/&#?\w+;/g,Re);nt&&ft(Rt),pe.characters(Or,0,Hn-Rt),Rt=Hn}}function ft(Hn,Or){for(;Hn>=lt&&(Or=He.exec(Y));)lt=(vt=Or.index)+Or[0].length,nt.lineNumber++;nt.columnNumber=Hn-vt+1}for(var vt=0,lt=0,He=/.*(?:\r\n?|\n)|.*$/g,nt=pe.locator,ht=[{currentNSMap:B}],jt={},Rt=0;;){try{var qt=Y.indexOf("<",Rt);if(qt<0){if(!Y.substr(Rt).match(/^\s*$/)){var Un=pe.doc,Sn=Un.createTextNode(Y.substr(Rt));Un.appendChild(Sn),pe.currentElement=Sn}return}switch(qt>Rt&&Je(qt),Y.charAt(qt+1)){case"/":var fn=Y.indexOf(">",qt+3),An=Y.substring(qt+2,fn).replace(/[ \t\n\r]+$/g,""),Nn=ht.pop();fn<0?(An=Y.substring(qt+2).replace(/[\s<].*/,""),Ee.error("end tag name: "+An+" is not complete:"+Nn.tagName),fn=qt+1+An.length):An.match(/\s</)&&(An=An.replace(/[\s<].*/,""),Ee.error("end tag name: "+An+" maybe not complete"),fn=qt+1+An.length);var Sr=Nn.localNSMap,Tn=Nn.tagName==An;if(Tn||Nn.tagName&&Nn.tagName.toLowerCase()==An.toLowerCase()){if(pe.endElement(Nn.uri,Nn.localName,An),Sr)for(var Kr in Sr)pe.endPrefixMapping(Kr);Tn||Ee.fatalError("end tag name: "+An+" is not match the current start tagName:"+Nn.tagName)}else ht.push(Nn);fn++;break;case"?":nt&&ft(qt),fn=Dt(Y,qt,pe);break;case"!":nt&&ft(qt),fn=Ke(Y,qt,pe,Ee);break;default:nt&&ft(qt);var nr=new dt,Oi=ht[ht.length-1].currentNSMap,Lr=(fn=Pe(Y,qt,nr,Oi,Re,Ee),nr.length);if(!nr.closed&&ge(Y,fn,nr.tagName,jt)&&(nr.closed=!0,re.nbsp||Ee.warning("unclosed xml attribute")),nt&&Lr){for(var Qn=_e(nt,{}),qi=0;qi<Lr;qi++){var an=nr[qi];ft(an.offset),an.locator=_e(nt,{})}pe.locator=Qn,De(nr,pe,Oi)&&ht.push(nr),pe.locator=nt}else De(nr,pe,Oi)&&ht.push(nr);A.isHTML(nr.uri)&&!nr.closed?fn=Ae(Y,fn,nr.tagName,Re,pe):fn++}}catch(Hn){if(Hn instanceof le)throw Hn;Ee.error("element parse error: "+Hn),fn=-1}fn>Rt?Rt=fn:Je(Math.max(qt,Rt)+1)}}(Y,B,re,pe,this.errorHandler),pe.endDocument()}},dt.prototype={setTagName:function(Y){if(!fe.test(Y))throw new Error("invalid tagName:"+Y);this.tagName=Y},addValue:function(Y,B,re){if(!fe.test(Y))throw new Error("invalid attribute:"+Y);this.attributeNames[Y]=this.length,this[this.length++]={qName:Y,value:B,offset:re}},length:0,getLocalName:function(Y){return this[Y].localName},getLocator:function(Y){return this[Y].locator},getQName:function(Y){return this[Y].qName},getURI:function(Y){return this[Y].uri},getValue:function(Y){return this[Y].value}},Le.XMLReader=Ce,Le.ParseError=le},8161:(ct,Le,F)=>{var $,A="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},y=F(5893);"undefined"!=typeof document?$=document:($=A["__GLOBAL_DOCUMENT_CACHE@4"])||($=A["__GLOBAL_DOCUMENT_CACHE@4"]=y),ct.exports=$},4897:ct=>{var Le;Le="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ct.exports=Le},1315:ct=>{ct.exports=function(A){if(!A)return!1;var y=Le.call(A);return"[object Function]"===y||"function"==typeof A&&"[object RegExp]"!==y||"undefined"!=typeof window&&(A===window.setTimeout||A===window.alert||A===window.confirm||A===window.prompt)};var Le=Object.prototype.toString},3216:(ct,Le)=>{function F(ce){if(ce&&"object"==typeof ce){var ue=ce.which||ce.keyCode||ce.charCode;ue&&(ce=ue)}if("number"==typeof ce)return fe[ce];var j,oe=String(ce);return(j=A[oe.toLowerCase()])?j:(j=y[oe.toLowerCase()])||(1===oe.length?oe.charCodeAt(0):void 0)}F.isEventKey=function(ue,oe){if(ue&&"object"==typeof ue){var j=ue.which||ue.keyCode||ue.charCode;if(null==j)return!1;if("string"==typeof oe){var W;if(W=A[oe.toLowerCase()])return W===j;if(W=y[oe.toLowerCase()])return W===j}else if("number"==typeof oe)return oe===j;return!1}};var A=(Le=ct.exports=F).code=Le.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},y=Le.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for($=97;$<123;$++)A[String.fromCharCode($)]=$-32;for(var $=48;$<58;$++)A[$-48]=$;for($=1;$<13;$++)A["f"+$]=$+111;for($=0;$<10;$++)A["numpad "+$]=$+96;var fe=Le.names=Le.title={};for($ in A)fe[A[$]]=$;for(var ee in y)A[ee]=y[ee]},1001:ct=>{var Le=Math.pow(2,32);ct.exports=function(A){var y=new DataView(A.buffer,A.byteOffset,A.byteLength),$={version:A[0],flags:new Uint8Array(A.subarray(1,4)),references:[],referenceId:y.getUint32(4),timescale:y.getUint32(8)},fe=12;0===$.version?($.earliestPresentationTime=y.getUint32(fe),$.firstOffset=y.getUint32(fe+4),fe+=8):($.earliestPresentationTime=y.getUint32(fe)*Le+y.getUint32(fe+4),$.firstOffset=y.getUint32(fe+8)*Le+y.getUint32(fe+12),fe+=16);var ee=y.getUint16(fe+=2);for(fe+=2;ee>0;fe+=12,ee--)$.references.push({referenceType:(128&A[fe])>>>7,referencedSize:2147483647&y.getUint32(fe),subsegmentDuration:y.getUint32(fe+4),startsWithSap:!!(128&A[fe+8]),sapType:(112&A[fe+8])>>>4,sapDeltaTime:268435455&y.getUint32(fe+8)});return $}},9211:ct=>{var F,A,y,$,fe,ee,ce;fe=function(ue,oe){return F($(ue,oe))},ee=function(ue,oe){return A(y(ue),oe)},ce=function(ue,oe,j){return y(j?ue:ue-oe)},ct.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:F=function(ue){return 9e4*ue},secondsToAudioTs:A=function(ue,oe){return ue*oe},videoTsToSeconds:y=function(ue){return ue/9e4},audioTsToSeconds:$=function(ue,oe){return ue/oe},audioTsToVideoTs:fe,videoTsToAudioTs:ee,metadataTsToSeconds:ce}},2259:(ct,Le,F)=>{"use strict";F.d(Le,{lu:()=>_e,Q3:()=>Ce,Hd:()=>Pe});var A=F(8720),y=F(8583);const $=["nsmContent"],fe=["nsmDialog"],ee=["nsmOverlay"],ce=["dynamicContent"];function ue(De,Ae){}function oe(De,Ae){if(1&De){const ge=A.EpF();A.TgZ(0,"button",10),A.NdJ("click",function(){return A.CHM(ge),A.oxw(2).close()}),A.O4$(),A.TgZ(1,"svg",11),A.TgZ(2,"g"),A._UZ(3,"path",12),A.qZA(),A.TgZ(4,"g"),A._UZ(5,"path",13),A.qZA(),A.qZA(),A.qZA()}}const j=function(De,Ae){return{transparent:De,overlay:!0,"nsm-overlay-open":Ae}},W=function(De,Ae){return["nsm-dialog",De,Ae]};function ne(De,Ae){if(1&De){const ge=A.EpF();A.TgZ(0,"div",1,2),A.NdJ("mousedown",function(Ke){return A.CHM(ge),A.oxw().dismiss(Ke)}),A.TgZ(2,"div",3,4),A.TgZ(4,"div",5,6),A.TgZ(6,"div",7),A.YNc(7,ue,0,0,"ng-template",null,8,A.W1O),A.Hsn(9),A.qZA(),A.YNc(10,oe,6,0,"button",9),A.qZA(),A.qZA(),A.qZA()}if(2&De){const ge=A.oxw();A.Udp("z-index",ge.visible?ge.layerPosition-1:-1),A.Q6J("ngClass",A.WLB(11,j,!ge.backdrop,ge.openedClass)),A.xp6(2),A.Udp("z-index",ge.visible?ge.layerPosition:-1),A.Q6J("ngClass",A.WLB(14,W,ge.customClass,ge.openedClass?"nsm-dialog-open":"nsm-dialog-close")),A.uIk("aria-hidden",!ge.openedClass)("aria-label",ge.ariaLabel)("aria-labelledby",ge.ariaLabelledBy)("aria-describedby",ge.ariaDescribedBy),A.xp6(8),A.Q6J("ngIf",ge.closable)}}const G=["*"];let Ce=(()=>{class De{constructor(ge,je,Ke,Dt,dt){this._renderer=ge,this._changeDetectorRef=je,this.componentFactoryResolver=Ke,this._document=Dt,this._platformId=dt,this.closable=!0,this.escapable=!0,this.dismissable=!0,this.identifier="",this.customClass="nsm-dialog-animation-fade",this.visible=!1,this.backdrop=!0,this.force=!0,this.hideDelay=500,this.autostart=!1,this.target="",this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaDescribedBy=null,this.refocus=!0,this.visibleChange=new A.vpe,this.onClose=new A.vpe,this.onCloseFinished=new A.vpe,this.onDismiss=new A.vpe,this.onDismissFinished=new A.vpe,this.onAnyCloseEvent=new A.vpe,this.onAnyCloseEventFinished=new A.vpe,this.onOpen=new A.vpe,this.onOpenFinished=new A.vpe,this.onEscape=new A.vpe,this.onDataAdded=new A.vpe,this.onDataRemoved=new A.vpe,this.layerPosition=1041,this.overlayVisible=!1,this.openedClass=!1,this.createFrom="html"}ngOnInit(){if(!this.identifier||!this.identifier.length)throw new Error("identifier field isn\u2019t set. Please set one before calling <ngx-smart-modal> in a template.");this._sendEvent("create")}ngAfterViewInit(){if(this.contentComponent){const ge=this.componentFactoryResolver.resolveComponentFactory(this.contentComponent);this.createDynamicContent(this.dynamicContentContainer,ge),this.dynamicContentContainer.changes.subscribe(je=>{this.createDynamicContent(je,ge)})}}ngOnDestroy(){this._sendEvent("delete")}open(ge){return this._sendEvent("open",{top:ge}),this}close(){return this._sendEvent("close"),this}dismiss(ge){return this.dismissable&&ge.target.classList.contains("overlay")?(this._sendEvent("dismiss"),this):this}toggle(ge){return this._sendEvent("toggle",{top:ge}),this}addCustomClass(ge){return this.customClass.length?this.customClass+=" "+ge:this.customClass=ge,this}removeCustomClass(ge){return this.customClass=ge?this.customClass.replace(ge,"").trim():"",this}isVisible(){return this.visible}hasData(){return void 0!==this._data}setData(ge,je){return(!this.hasData()||this.hasData()&&je)&&(this._data=ge,this.onDataAdded.emit(this._data),this.markForCheck()),this}getData(){return this._data}removeData(){return this._data=void 0,this.onDataRemoved.emit(!0),this.markForCheck(),this}addBodyClass(){return this._renderer.addClass(this._document.body,"dialog-open"),this}removeBodyClass(){return this._renderer.removeClass(this._document.body,"dialog-open"),this}markForCheck(){try{this._changeDetectorRef.detectChanges()}catch(ge){}this._changeDetectorRef.markForCheck()}targetPlacement(){if(!(this.isBrowser&&this.nsmDialog.length&&this.nsmContent.length&&this.nsmOverlay.length&&this.target))return!1;const ge=this._document.querySelector(this.target);if(!ge)return!1;const je=ge.getBoundingClientRect(),Ke=this.nsmOverlay.first.nativeElement.getBoundingClientRect(),Dt=this.nsmContent.first.nativeElement.getBoundingClientRect(),dt=this.nsmDialog.first.nativeElement.getBoundingClientRect(),Ye=parseInt(getComputedStyle(this.nsmContent.first.nativeElement).marginLeft,10),Y=parseInt(getComputedStyle(this.nsmContent.first.nativeElement).marginTop,10);let B=je.top-dt.top-(Dt.height-je.height)/2,re=je.left-dt.left-(Dt.width-je.width)/2;re+dt.left+Dt.width+2*Ye>Ke.width?re=Ke.width-(dt.left+Dt.width)-2*Ye:re+dt.left<0&&(re=-dt.left),B+dt.top+Dt.height+Y>Ke.height&&(B=Ke.height-(dt.top+Dt.height)-Y),this._renderer.setStyle(this.nsmContent.first.nativeElement,"top",(B<0?0:B)+"px"),this._renderer.setStyle(this.nsmContent.first.nativeElement,"left",re+"px")}_sendEvent(ge,je){if(!this.isBrowser)return!1;const Dt=new CustomEvent("ngx-smart-modal."+ge,{detail:{extraData:je,instance:{id:this.identifier,modal:this}}});return window.dispatchEvent(Dt)}get isBrowser(){return(0,y.NF)(this._platformId)}createDynamicContent(ge,je){ge.forEach(Ke=>{Ke.clear(),Ke.createComponent(je),this.markForCheck()})}}return De.\u0275fac=function(ge){return new(ge||De)(A.Y36(A.Qsj),A.Y36(A.sBO),A.Y36(A._Vd),A.Y36(y.K0),A.Y36(A.Lbi))},De.\u0275cmp=A.Xpm({type:De,selectors:[["ngx-smart-modal"]],viewQuery:function(ge,je){if(1&ge&&(A.Gf($,5),A.Gf(fe,5),A.Gf(ee,5),A.Gf(ce,5,A.s_b)),2&ge){let Ke;A.iGM(Ke=A.CRH())&&(je.nsmContent=Ke),A.iGM(Ke=A.CRH())&&(je.nsmDialog=Ke),A.iGM(Ke=A.CRH())&&(je.nsmOverlay=Ke),A.iGM(Ke=A.CRH())&&(je.dynamicContentContainer=Ke)}},hostBindings:function(ge,je){1&ge&&A.NdJ("resize",function(){return je.targetPlacement()},!1,A.Jf7)},inputs:{closable:"closable",escapable:"escapable",dismissable:"dismissable",identifier:"identifier",customClass:"customClass",visible:"visible",backdrop:"backdrop",force:"force",hideDelay:"hideDelay",autostart:"autostart",target:"target",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",refocus:"refocus"},outputs:{visibleChange:"visibleChange",onClose:"onClose",onCloseFinished:"onCloseFinished",onDismiss:"onDismiss",onDismissFinished:"onDismissFinished",onAnyCloseEvent:"onAnyCloseEvent",onAnyCloseEventFinished:"onAnyCloseEventFinished",onOpen:"onOpen",onOpenFinished:"onOpenFinished",onEscape:"onEscape",onDataAdded:"onDataAdded",onDataRemoved:"onDataRemoved"},ngContentSelectors:G,decls:1,vars:1,consts:[[3,"z-index","ngClass","mousedown",4,"ngIf"],[3,"ngClass","mousedown"],["nsmOverlay",""],[3,"ngClass"],["nsmDialog",""],[1,"nsm-content"],["nsmContent",""],[1,"nsm-body"],["dynamicContent",""],["type","button","aria-label","Close","class","nsm-dialog-btn-close",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"nsm-dialog-btn-close",3,"click"],["xmlns","http://www.w3.org/2000/svg","version","1.1","id","Layer_1","x","0px","y","0px","viewBox","0 0 512 512",0,"xml","space","preserve","width","16px","height","16px"],["d","M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249    C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306    C514.019,27.23,514.019,14.135,505.943,6.058z","fill","currentColor"],["d","M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636    c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z","fill","currentColor"]],template:function(ge,je){1&ge&&(A.F$t(),A.YNc(0,ne,11,17,"div",0)),2&ge&&A.Q6J("ngIf",je.overlayVisible)},directives:[y.O5,y.mk],encapsulation:2}),De})(),ae=(()=>{class De{constructor(){this._modalStack=[]}addModal(ge,je){if(je){const Ke=this._modalStack.findIndex(Dt=>Dt.id===ge.id);Ke>-1?this._modalStack[Ke].modal=ge.modal:this._modalStack.push(ge)}else this._modalStack.push(ge)}getModal(ge){const je=this._modalStack.find(Ke=>Ke.id===ge);if(void 0!==je)return je.modal;throw new Error(`Cannot find modal with identifier ${ge}`)}getModalStack(){return this._modalStack}getOpenedModals(){return this._modalStack.filter(ge=>ge.modal.visible)}getTopOpenedModal(){if(!this.getOpenedModals().length)throw new Error("No modal is opened");return this.getOpenedModals().map(ge=>ge.modal).reduce((ge,je)=>je.layerPosition>ge.layerPosition?je:ge,this.getOpenedModals()[0].modal)}getHigherIndex(){return Math.max(...this._modalStack.map(ge=>ge.modal.layerPosition),1041)+1}getModalStackCount(){return this._modalStack.length}removeModal(ge){const je=this._modalStack.findIndex(Ke=>Ke.id===ge);je>-1&&this._modalStack.splice(je,1)}}return De.\u0275fac=function(ge){return new(ge||De)},De.\u0275prov=A.Yz7({token:De,factory:De.\u0275fac}),De})(),_e=(()=>{class De{constructor(ge,je,Ke,Dt,dt,Ye,Y){this._componentFactoryResolver=ge,this._appRef=je,this._injector=Ke,this._modalStack=Dt,this.applicationRef=dt,this._document=Ye,this._platformId=Y,this._escapeKeyboardEvent=B=>{if("Escape"===B.key)try{const re=this.getTopOpenedModal();return!!re.escapable&&(re.onEscape.emit(re),this.closeLatestModal(),!0)}catch(re){return!1}return!1},this._trapFocusModal=B=>{if("Tab"===B.key)try{const re=this.getTopOpenedModal();return re.nsmDialog.first.nativeElement.contains(document.activeElement)||(B.preventDefault(),B.stopPropagation(),re.nsmDialog.first.nativeElement.focus()),!0}catch(re){return!1}return!1},this._addEvents()}addModal(ge,je){this._modalStack.addModal(ge,je)}getModal(ge){return this._modalStack.getModal(ge)}get(ge){return this.getModal(ge)}open(ge,je=!1){return this._openModal(this.get(ge),je)}close(ge){return this._closeModal(this.get(ge))}closeAll(){this.getOpenedModals().forEach(ge=>{this._closeModal(ge.modal)})}toggle(ge,je=!1){return this._toggleModal(this.get(ge),je)}getModalStack(){return this._modalStack.getModalStack()}getOpenedModals(){return this._modalStack.getOpenedModals()}getTopOpenedModal(){return this._modalStack.getTopOpenedModal()}getHigherIndex(){return this._modalStack.getHigherIndex()}getModalStackCount(){return this._modalStack.getModalStackCount()}removeModal(ge){this._modalStack.removeModal(ge)}setModalData(ge,je,Ke){let Dt;return!!(Dt=this.get(je))&&(Dt.setData(ge,Ke),!0)}getModalData(ge){let je;return(je=this.get(ge))?je.getData():null}resetModalData(ge){if(this._modalStack.getModalStack().find(je=>je.id===ge)){const je=this.getModal(ge).getData();return this.getModal(ge).removeData(),je}return!1}closeLatestModal(){this.getTopOpenedModal().close()}create(ge,je,Ke={}){try{return this.getModal(ge)}catch(Dt){const dt=this._componentFactoryResolver.resolveComponentFactory(Ce),Ye=this._resolveNgContent(je),Y=dt.create(this._injector,Ye);return je instanceof A.DyG&&(Y.instance.contentComponent=je),Y.instance.identifier=ge,Y.instance.createFrom="service","boolean"==typeof Ke.closable&&(Y.instance.closable=Ke.closable),"boolean"==typeof Ke.escapable&&(Y.instance.escapable=Ke.escapable),"boolean"==typeof Ke.dismissable&&(Y.instance.dismissable=Ke.dismissable),"string"==typeof Ke.customClass&&(Y.instance.customClass=Ke.customClass),"boolean"==typeof Ke.backdrop&&(Y.instance.backdrop=Ke.backdrop),"boolean"==typeof Ke.force&&(Y.instance.force=Ke.force),"number"==typeof Ke.hideDelay&&(Y.instance.hideDelay=Ke.hideDelay),"boolean"==typeof Ke.autostart&&(Y.instance.autostart=Ke.autostart),"string"==typeof Ke.target&&(Y.instance.target=Ke.target),"string"==typeof Ke.ariaLabel&&(Y.instance.ariaLabel=Ke.ariaLabel),"string"==typeof Ke.ariaLabelledBy&&(Y.instance.ariaLabelledBy=Ke.ariaLabelledBy),"string"==typeof Ke.ariaDescribedBy&&(Y.instance.ariaDescribedBy=Ke.ariaDescribedBy),"boolean"==typeof Ke.refocus&&(Y.instance.refocus=Ke.refocus),this._appRef.attachView(Y.hostView),this._document.body.appendChild(Y.hostView.rootNodes[0]),Y.instance}}_addEvents(){return!!this.isBrowser&&(window.addEventListener("ngx-smart-modal.create",ge=>{this._initModal(ge.detail.instance)}),window.addEventListener("ngx-smart-modal.delete",ge=>{this._deleteModal(ge.detail.instance)}),window.addEventListener("ngx-smart-modal.open",ge=>{this._openModal(ge.detail.instance.modal,ge.detail.top)}),window.addEventListener("ngx-smart-modal.toggle",ge=>{this._toggleModal(ge.detail.instance.modal,ge.detail.top)}),window.addEventListener("ngx-smart-modal.close",ge=>{this._closeModal(ge.detail.instance.modal)}),window.addEventListener("ngx-smart-modal.dismiss",ge=>{this._dismissModal(ge.detail.instance.modal)}),window.addEventListener("keyup",this._escapeKeyboardEvent),!0)}_initModal(ge){ge.modal.layerPosition+=this.getModalStackCount(),this.addModal(ge,ge.modal.force),ge.modal.autostart&&this.open(ge.id)}_openModal(ge,je){return!ge.visible&&(this.lastElementFocused=document.activeElement,ge.escapable&&window.addEventListener("keyup",this._escapeKeyboardEvent),ge.backdrop&&window.addEventListener("keydown",this._trapFocusModal),je&&(ge.layerPosition=this.getHigherIndex()),ge.addBodyClass(),ge.overlayVisible=!0,ge.visible=!0,ge.onOpen.emit(ge),ge.markForCheck(),setTimeout(()=>{ge.openedClass=!0,ge.target&&ge.targetPlacement(),ge.nsmDialog.first.nativeElement.setAttribute("role","dialog"),ge.nsmDialog.first.nativeElement.setAttribute("tabIndex","-1"),ge.nsmDialog.first.nativeElement.setAttribute("aria-modal","true"),ge.nsmDialog.first.nativeElement.focus(),ge.markForCheck(),ge.onOpenFinished.emit(ge)}),!0)}_toggleModal(ge,je){return ge.visible?this._closeModal(ge):this._openModal(ge,je)}_closeModal(ge){return!!ge.openedClass&&(ge.openedClass=!1,ge.onClose.emit(ge),ge.onAnyCloseEvent.emit(ge),this.getOpenedModals().length<2&&(ge.removeBodyClass(),window.removeEventListener("keyup",this._escapeKeyboardEvent),window.removeEventListener("keydown",this._trapFocusModal)),setTimeout(()=>{ge.visibleChange.emit(ge.visible),ge.visible=!1,ge.overlayVisible=!1,ge.nsmDialog.first.nativeElement.removeAttribute("tabIndex"),ge.markForCheck(),ge.onCloseFinished.emit(ge),ge.onAnyCloseEventFinished.emit(ge),ge.refocus&&this.lastElementFocused.focus()},ge.hideDelay),!0)}_dismissModal(ge){return!!ge.openedClass&&(ge.openedClass=!1,ge.onDismiss.emit(ge),ge.onAnyCloseEvent.emit(ge),this.getOpenedModals().length<2&&ge.removeBodyClass(),setTimeout(()=>{ge.visible=!1,ge.visibleChange.emit(ge.visible),ge.overlayVisible=!1,ge.markForCheck(),ge.onDismissFinished.emit(ge),ge.onAnyCloseEventFinished.emit(ge)},ge.hideDelay),!0)}_deleteModal(ge){this.removeModal(ge.id),this.getModalStack().length||ge.modal.removeBodyClass()}_resolveNgContent(ge){if("string"==typeof ge)return[[this._document.createTextNode(ge)]];if(ge instanceof A.Rgc){const je=ge.createEmbeddedView(null);return this.applicationRef.attachView(je),[je.rootNodes]}return[]}get isBrowser(){return(0,y.NF)(this._platformId)}}return De.\u0275fac=function(ge){return new(ge||De)(A.LFG(A._Vd),A.LFG(A.z2F),A.LFG(A.zs3),A.LFG(ae),A.LFG(A.z2F),A.LFG(y.K0),A.LFG(A.Lbi))},De.\u0275prov=A.Yz7({token:De,factory:De.\u0275fac}),De})(),Pe=(()=>{class De{constructor(ge){this.serivce=ge}static forRoot(){return{ngModule:De,providers:[_e,ae]}}static forChild(){return{ngModule:De,providers:[_e,ae]}}}return De.\u0275fac=function(ge){return new(ge||De)(A.LFG(_e))},De.\u0275mod=A.oAB({type:De}),De.\u0275inj=A.cJS({imports:[[y.ez]]}),De})()},1747:(ct,Le,F)=>{"use strict";F.d(Le,{dP:()=>Re,re:()=>lt});var A=F(2844),y=F(1558);function $(){}var ce,fe=function(){function He(nt,ht){void 0===nt&&(nt=1/0),void 0===ht&&(ht=$),this.max=nt,this.dispose=ht,this.map=new Map,this.newest=null,this.oldest=null}return He.prototype.has=function(nt){return this.map.has(nt)},He.prototype.get=function(nt){var ht=this.getNode(nt);return ht&&ht.value},He.prototype.getNode=function(nt){var ht=this.map.get(nt);if(ht&&ht!==this.newest){var jt=ht.older,Rt=ht.newer;Rt&&(Rt.older=jt),jt&&(jt.newer=Rt),ht.older=this.newest,ht.older.newer=ht,ht.newer=null,this.newest=ht,ht===this.oldest&&(this.oldest=Rt)}return ht},He.prototype.set=function(nt,ht){var jt=this.getNode(nt);return jt?jt.value=ht:(jt={key:nt,value:ht,newer:null,older:this.newest},this.newest&&(this.newest.newer=jt),this.newest=jt,this.oldest=this.oldest||jt,this.map.set(nt,jt),jt.value)},He.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},He.prototype.delete=function(nt){var ht=this.map.get(nt);return!!ht&&(ht===this.newest&&(this.newest=ht.older),ht===this.oldest&&(this.oldest=ht.newer),ht.newer&&(ht.newer.older=ht.older),ht.older&&(ht.older.newer=ht.newer),this.map.delete(nt),this.dispose(ht.value,nt),!0)},He}(),ee=new y.g7,ue=Object.prototype.hasOwnProperty,oe=void 0===(ce=Array.from)?function(He){var nt=[];return He.forEach(function(ht){return nt.push(ht)}),nt}:ce;function j(He){var nt=He.unsubscribe;"function"==typeof nt&&(He.unsubscribe=void 0,nt())}var W=[];function G(He,nt){if(!He)throw new Error(nt||"assertion failure")}function Ce(He){switch(He.length){case 0:throw new Error("unknown value");case 1:return He[0];case 2:throw He[1]}}var _e=function(){function He(nt){this.fn=nt,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++He.count}return He.prototype.peek=function(){if(1===this.value.length&&!ge(this))return Pe(this),this.value[0]},He.prototype.recompute=function(nt){return G(!this.recomputing,"already recomputing"),Pe(this),ge(this)?function(He,nt){return re(He),ee.withValue(He,Ae,[He,nt]),function(He,nt){if("function"==typeof He.subscribe)try{j(He),He.unsubscribe=He.subscribe.apply(null,nt)}catch(ht){return He.setDirty(),!1}return!0}(He,nt)&&function(He){He.dirty=!1,!ge(He)&&Dt(He)}(He),Ce(He.value)}(this,nt):Ce(this.value)},He.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ke(this),j(this))},He.prototype.dispose=function(){var nt=this;this.setDirty(),re(this),dt(this,function(ht,jt){ht.setDirty(),pe(ht,nt)})},He.prototype.forget=function(){this.dispose()},He.prototype.dependOn=function(nt){nt.add(this),this.deps||(this.deps=W.pop()||new Set),this.deps.add(nt)},He.prototype.forgetDeps=function(){var nt=this;this.deps&&(oe(this.deps).forEach(function(ht){return ht.delete(nt)}),this.deps.clear(),W.push(this.deps),this.deps=null)},He.count=0,He}();function Pe(He){var nt=ee.getValue();if(nt)return He.parents.add(nt),nt.childValues.has(He)||nt.childValues.set(He,[]),ge(He)?Ye(nt,He):Y(nt,He),nt}function Ae(He,nt){He.recomputing=!0,He.value.length=0;try{He.value[0]=He.fn.apply(null,nt)}catch(ht){He.value[1]=ht}He.recomputing=!1}function ge(He){return He.dirty||!(!He.dirtyChildren||!He.dirtyChildren.size)}function Ke(He){dt(He,Ye)}function Dt(He){dt(He,Y)}function dt(He,nt){var ht=He.parents.size;if(ht)for(var jt=oe(He.parents),Rt=0;Rt<ht;++Rt)nt(jt[Rt],He)}function Ye(He,nt){G(He.childValues.has(nt)),G(ge(nt));var ht=!ge(He);if(He.dirtyChildren){if(He.dirtyChildren.has(nt))return}else He.dirtyChildren=W.pop()||new Set;He.dirtyChildren.add(nt),ht&&Ke(He)}function Y(He,nt){G(He.childValues.has(nt)),G(!ge(nt));var ht=He.childValues.get(nt);0===ht.length?He.childValues.set(nt,function(He){return He.slice(0)}(nt.value)):function(He,nt){var ht=He.length;return ht>0&&ht===nt.length&&He[ht-1]===nt[ht-1]}(ht,nt.value)||He.setDirty(),B(He,nt),!ge(He)&&Dt(He)}function B(He,nt){var ht=He.dirtyChildren;ht&&(ht.delete(nt),0===ht.size&&(W.length<100&&W.push(ht),He.dirtyChildren=null))}function re(He){He.childValues.size>0&&He.childValues.forEach(function(nt,ht){pe(He,ht)}),He.forgetDeps(),G(null===He.dirtyChildren)}function pe(He,nt){nt.parents.delete(He),He.childValues.delete(nt),B(He,nt)}var Fe={setDirty:!0,dispose:!0,forget:!0};function Re(He){var nt=new Map,ht=He&&He.subscribe;function jt(Rt){var qt=ee.getValue();if(qt){var Un=nt.get(Rt);Un||nt.set(Rt,Un=new Set),qt.dependOn(Un),"function"==typeof ht&&(j(Un),Un.unsubscribe=ht(Rt))}}return jt.dirty=function(qt,Un){var Sn=nt.get(qt);if(Sn){var fn=Un&&ue.call(Fe,Un)?Un:"setDirty";oe(Sn).forEach(function(An){return An[fn]()}),nt.delete(qt),j(Sn)}},jt}function Je(){var He=new A.B("function"==typeof WeakMap);return function(){return He.lookupArray(arguments)}}Je();var vt=new Set;function lt(He,nt){void 0===nt&&(nt=Object.create(null));var ht=new fe(nt.max||Math.pow(2,16),function(An){return An.dispose()}),jt=nt.keyArgs,Rt=nt.makeCacheKey||Je(),qt=function(){var An=Rt.apply(null,jt?jt.apply(null,arguments):arguments);if(void 0===An)return He.apply(null,arguments);var Nn=ht.get(An);Nn||(ht.set(An,Nn=new _e(He)),Nn.subscribe=nt.subscribe,Nn.forget=function(){return ht.delete(An)});var Sr=Nn.recompute(Array.prototype.slice.call(arguments));return ht.set(An,Nn),vt.add(ht),ee.hasValue()||(vt.forEach(function(Tn){return Tn.clean()}),vt.clear()),Sr};function Un(An){var Nn=ht.get(An);Nn&&Nn.setDirty()}function Sn(An){var Nn=ht.get(An);if(Nn)return Nn.peek()}function fn(An){return ht.delete(An)}return Object.defineProperty(qt,"size",{get:function(){return ht.map.size},configurable:!1,enumerable:!1}),qt.dirtyKey=Un,qt.dirty=function(){Un(Rt.apply(null,arguments))},qt.peekKey=Sn,qt.peek=function(){return Sn(Rt.apply(null,arguments))},qt.forgetKey=fn,qt.forget=function(){return fn(Rt.apply(null,arguments))},qt.makeCacheKey=Rt,qt.getKey=jt?function(){return Rt.apply(null,jt.apply(null,arguments))}:Rt,Object.freeze(qt)}},6215:(ct,Le,F)=>{"use strict";F.d(Le,{X:()=>$});var A=F(7709),y=F(7971);class $ extends A.xQ{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const ce=super._subscribe(ee);return ce&&!ce.closed&&ee.next(this._value),ce}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new y.N;return this._value}next(ee){super.next(this._value=ee)}}},3098:(ct,Le,F)=>{"use strict";F.d(Le,{P:()=>ee});var A=F(9193),y=F(5917),$=F(205);class ee{constructor(ue,oe,j){this.kind=ue,this.value=oe,this.error=j,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,oe,j){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return oe&&oe(this.error);case"C":return j&&j()}}accept(ue,oe,j){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,oe,j)}toObservable(){switch(this.kind){case"N":return(0,y.of)(this.value);case"E":return(0,$._)(this.error);case"C":return(0,A.c)()}throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new ee("N",ue):ee.undefinedValueNotification}static createError(ue){return new ee("E",void 0,ue)}static createComplete(){return ee.completeNotification}}ee.completeNotification=new ee("C"),ee.undefinedValueNotification=new ee("N",void 0)},7574:(ct,Le,F)=>{"use strict";F.d(Le,{y:()=>ne});var A=F(7393),$=F(9181),fe=F(6490),ce=F(6554),ue=F(4487);var W=F(2494);let ne=(()=>{class le{constructor(ae){this._isScalar=!1,ae&&(this._subscribe=ae)}lift(ae){const _e=new le;return _e.source=this,_e.operator=ae,_e}subscribe(ae,_e,Pe){const{operator:De}=this,Ae=function(le,Ce,ae){if(le){if(le instanceof A.L)return le;if(le[$.b])return le[$.b]()}return le||Ce||ae?new A.L(le,Ce,ae):new A.L(fe.c)}(ae,_e,Pe);if(Ae.add(De?De.call(Ae,this.source):this.source||W.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),W.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(ae){try{return this._subscribe(ae)}catch(_e){W.v.useDeprecatedSynchronousErrorHandling&&(ae.syncErrorThrown=!0,ae.syncErrorValue=_e),function(le){for(;le;){const{closed:Ce,destination:ae,isStopped:_e}=le;if(Ce||_e)return!1;le=ae&&ae instanceof A.L?ae:null}return!0}(ae)?ae.error(_e):console.warn(_e)}}forEach(ae,_e){return new(_e=G(_e))((Pe,De)=>{let Ae;Ae=this.subscribe(ge=>{try{ae(ge)}catch(je){De(je),Ae&&Ae.unsubscribe()}},De,Pe)})}_subscribe(ae){const{source:_e}=this;return _e&&_e.subscribe(ae)}[ce.L](){return this}pipe(...ae){return 0===ae.length?this:function(le){return 0===le.length?ue.y:1===le.length?le[0]:function(ae){return le.reduce((_e,Pe)=>Pe(_e),ae)}}(ae)(this)}toPromise(ae){return new(ae=G(ae))((_e,Pe)=>{let De;this.subscribe(Ae=>De=Ae,Ae=>Pe(Ae),()=>_e(De))})}}return le.create=Ce=>new le(Ce),le})();function G(le){if(le||(le=W.v.Promise||Promise),!le)throw new Error("no Promise impl found");return le}},6490:(ct,Le,F)=>{"use strict";F.d(Le,{c:()=>$});var A=F(2494),y=F(4449);const $={closed:!0,next(fe){},error(fe){if(A.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,y.z)(fe)},complete(){}}},7709:(ct,Le,F)=>{"use strict";F.d(Le,{xQ:()=>oe,Yc:()=>ue});var A=F(7574),y=F(7393),$=F(5319),fe=F(7971);class ee extends $.w{constructor(ne,G){super(),this.subject=ne,this.subscriber=G,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ne=this.subject,G=ne.observers;if(this.subject=null,!G||0===G.length||ne.isStopped||ne.closed)return;const le=G.indexOf(this.subscriber);-1!==le&&G.splice(le,1)}}var ce=F(9181);class ue extends y.L{constructor(ne){super(ne),this.destination=ne}}let oe=(()=>{class W extends A.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new ue(this)}lift(G){const le=new j(this,this);return le.operator=G,le}next(G){if(this.closed)throw new fe.N;if(!this.isStopped){const{observers:le}=this,Ce=le.length,ae=le.slice();for(let _e=0;_e<Ce;_e++)ae[_e].next(G)}}error(G){if(this.closed)throw new fe.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:le}=this,Ce=le.length,ae=le.slice();for(let _e=0;_e<Ce;_e++)ae[_e].error(G);this.observers.length=0}complete(){if(this.closed)throw new fe.N;this.isStopped=!0;const{observers:G}=this,le=G.length,Ce=G.slice();for(let ae=0;ae<le;ae++)Ce[ae].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new fe.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new fe.N;return this.hasError?(G.error(this.thrownError),$.w.EMPTY):this.isStopped?(G.complete(),$.w.EMPTY):(this.observers.push(G),new ee(this,G))}asObservable(){const G=new A.y;return G.source=this,G}}return W.create=(ne,G)=>new j(ne,G),W})();class j extends oe{constructor(ne,G){super(),this.destination=ne,this.source=G}next(ne){const{destination:G}=this;G&&G.next&&G.next(ne)}error(ne){const{destination:G}=this;G&&G.error&&this.destination.error(ne)}complete(){const{destination:ne}=this;ne&&ne.complete&&this.destination.complete()}_subscribe(ne){const{source:G}=this;return G?this.source.subscribe(ne):$.w.EMPTY}}},7393:(ct,Le,F)=>{"use strict";F.d(Le,{L:()=>ue});var A=F(9105),y=F(6490),$=F(5319),fe=F(9181),ee=F(2494),ce=F(4449);class ue extends $.w{constructor(W,ne,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=y.c;break;case 1:if(!W){this.destination=y.c;break}if("object"==typeof W){W instanceof ue?(this.syncErrorThrowable=W.syncErrorThrowable,this.destination=W,W.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,W));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,W,ne,G)}}[fe.b](){return this}static create(W,ne,G){const le=new ue(W,ne,G);return le.syncErrorThrowable=!1,le}next(W){this.isStopped||this._next(W)}error(W){this.isStopped||(this.isStopped=!0,this._error(W))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(W){this.destination.next(W)}_error(W){this.destination.error(W),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:W}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=W,this}}class oe extends ue{constructor(W,ne,G,le){super(),this._parentSubscriber=W;let Ce,ae=this;(0,A.m)(ne)?Ce=ne:ne&&(Ce=ne.next,G=ne.error,le=ne.complete,ne!==y.c&&(ae=Object.create(ne),(0,A.m)(ae.unsubscribe)&&this.add(ae.unsubscribe.bind(ae)),ae.unsubscribe=this.unsubscribe.bind(this))),this._context=ae,this._next=Ce,this._error=G,this._complete=le}next(W){if(!this.isStopped&&this._next){const{_parentSubscriber:ne}=this;ee.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?this.__tryOrSetError(ne,this._next,W)&&this.unsubscribe():this.__tryOrUnsub(this._next,W)}}error(W){if(!this.isStopped){const{_parentSubscriber:ne}=this,{useDeprecatedSynchronousErrorHandling:G}=ee.v;if(this._error)G&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,this._error,W),this.unsubscribe()):(this.__tryOrUnsub(this._error,W),this.unsubscribe());else if(ne.syncErrorThrowable)G?(ne.syncErrorValue=W,ne.syncErrorThrown=!0):(0,ce.z)(W),this.unsubscribe();else{if(this.unsubscribe(),G)throw W;(0,ce.z)(W)}}}complete(){if(!this.isStopped){const{_parentSubscriber:W}=this;if(this._complete){const ne=()=>this._complete.call(this._context);ee.v.useDeprecatedSynchronousErrorHandling&&W.syncErrorThrowable?(this.__tryOrSetError(W,ne),this.unsubscribe()):(this.__tryOrUnsub(ne),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(W,ne){try{W.call(this._context,ne)}catch(G){if(this.unsubscribe(),ee.v.useDeprecatedSynchronousErrorHandling)throw G;(0,ce.z)(G)}}__tryOrSetError(W,ne,G){if(!ee.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,G)}catch(le){return ee.v.useDeprecatedSynchronousErrorHandling?(W.syncErrorValue=le,W.syncErrorThrown=!0,!0):((0,ce.z)(le),!0)}return!1}_unsubscribe(){const{_parentSubscriber:W}=this;this._context=null,this._parentSubscriber=null,W.unsubscribe()}}},5319:(ct,Le,F)=>{"use strict";F.d(Le,{w:()=>ce});var A=F(9796),y=F(1555),$=F(9105);const ee=(()=>{function oe(j){return Error.call(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((W,ne)=>`${ne+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j,this}return oe.prototype=Object.create(Error.prototype),oe})();class ce{constructor(j){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,j&&(this._ctorUnsubscribe=!0,this._unsubscribe=j)}unsubscribe(){let j;if(this.closed)return;let{_parentOrParents:W,_ctorUnsubscribe:ne,_unsubscribe:G,_subscriptions:le}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,W instanceof ce)W.remove(this);else if(null!==W)for(let Ce=0;Ce<W.length;++Ce)W[Ce].remove(this);if((0,$.m)(G)){ne&&(this._unsubscribe=void 0);try{G.call(this)}catch(Ce){j=Ce instanceof ee?ue(Ce.errors):[Ce]}}if((0,A.k)(le)){let Ce=-1,ae=le.length;for(;++Ce<ae;){const _e=le[Ce];if((0,y.K)(_e))try{_e.unsubscribe()}catch(Pe){j=j||[],Pe instanceof ee?j=j.concat(ue(Pe.errors)):j.push(Pe)}}}if(j)throw new ee(j)}add(j){let W=j;if(!j)return ce.EMPTY;switch(typeof j){case"function":W=new ce(j);case"object":if(W===this||W.closed||"function"!=typeof W.unsubscribe)return W;if(this.closed)return W.unsubscribe(),W;if(!(W instanceof ce)){const le=W;W=new ce,W._subscriptions=[le]}break;default:throw new Error("unrecognized teardown "+j+" added to Subscription.")}let{_parentOrParents:ne}=W;if(null===ne)W._parentOrParents=this;else if(ne instanceof ce){if(ne===this)return W;W._parentOrParents=[ne,this]}else{if(-1!==ne.indexOf(this))return W;ne.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[W]:G.push(W),W}remove(j){const W=this._subscriptions;if(W){const ne=W.indexOf(j);-1!==ne&&W.splice(ne,1)}}}var oe;function ue(oe){return oe.reduce((j,W)=>j.concat(W instanceof ee?W.errors:W),[])}ce.EMPTY=((oe=new ce).closed=!0,oe)},2494:(ct,Le,F)=>{"use strict";F.d(Le,{v:()=>y});let A=!1;const y={Promise:void 0,set useDeprecatedSynchronousErrorHandling($){if($){const fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+fe.stack)}else A&&console.log("RxJS: Back to a better error behavior. Thank you. <3");A=$},get useDeprecatedSynchronousErrorHandling(){return A}}},5345:(ct,Le,F)=>{"use strict";F.d(Le,{IY:()=>fe,Ds:()=>ce,ft:()=>oe});var A=F(7393),y=F(7574),$=F(7444);class fe extends A.L{constructor(W){super(),this.parent=W}_next(W){this.parent.notifyNext(W)}_error(W){this.parent.notifyError(W),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends A.L{notifyNext(W){this.destination.next(W)}notifyError(W){this.destination.error(W)}notifyComplete(){this.destination.complete()}}function oe(j,W){if(W.closed)return;if(j instanceof y.y)return j.subscribe(W);let ne;try{ne=(0,$.s)(j)(W)}catch(G){W.error(G)}return ne}},2441:(ct,Le,F)=>{"use strict";F.d(Le,{c:()=>ee,N:()=>ce});var A=F(7709),y=F(7574),$=F(5319),fe=F(1307);class ee extends y.y{constructor(ne,G){super(),this.source=ne,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(ne){return this.getSubject().subscribe(ne)}getSubject(){const ne=this._subject;return(!ne||ne.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ne=this._connection;return ne||(this._isComplete=!1,ne=this._connection=new $.w,ne.add(this.source.subscribe(new ue(this.getSubject(),this))),ne.closed&&(this._connection=null,ne=$.w.EMPTY)),ne}refCount(){return(0,fe.x)()(this)}}const ce=(()=>{const W=ee.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:W._subscribe},_isComplete:{value:W._isComplete,writable:!0},getSubject:{value:W.getSubject},connect:{value:W.connect},refCount:{value:W.refCount}}})();class ue extends A.Yc{constructor(ne,G){super(ne),this.connectable=G}_error(ne){this._unsubscribe(),super._error(ne)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ne=this.connectable;if(ne){this.connectable=null;const G=ne._connection;ne._refCount=0,ne._subject=null,ne._connection=null,G&&G.unsubscribe()}}}},8071:(ct,Le,F)=>{"use strict";F.d(Le,{z:()=>fe});var A=F(5917),y=F(3282);function fe(...ee){return(0,y.J)(1)((0,A.of)(...ee))}},1439:(ct,Le,F)=>{"use strict";F.d(Le,{P:()=>fe});var A=F(7574),y=F(4402),$=F(9193);function fe(ee){return new A.y(ce=>{let ue;try{ue=ee()}catch(j){return void ce.error(j)}return(ue?(0,y.D)(ue):(0,$.c)()).subscribe(ce)})}},9193:(ct,Le,F)=>{"use strict";F.d(Le,{E:()=>y,c:()=>$});var A=F(7574);const y=new A.y(ee=>ee.complete());function $(ee){return ee?function(ee){return new A.y(ce=>ee.schedule(()=>ce.complete()))}(ee):y}},4402:(ct,Le,F)=>{"use strict";F.d(Le,{D:()=>ae});var A=F(7574),y=F(7444),$=F(5319),fe=F(6554),ue=F(4087),oe=F(377),ne=F(4072),G=F(9489);function ae(_e,Pe){return Pe?function(_e,Pe){if(null!=_e){if(function(_e){return _e&&"function"==typeof _e[fe.L]}(_e))return function(_e,Pe){return new A.y(De=>{const Ae=new $.w;return Ae.add(Pe.schedule(()=>{const ge=_e[fe.L]();Ae.add(ge.subscribe({next(je){Ae.add(Pe.schedule(()=>De.next(je)))},error(je){Ae.add(Pe.schedule(()=>De.error(je)))},complete(){Ae.add(Pe.schedule(()=>De.complete()))}}))})),Ae})}(_e,Pe);if((0,ne.t)(_e))return function(_e,Pe){return new A.y(De=>{const Ae=new $.w;return Ae.add(Pe.schedule(()=>_e.then(ge=>{Ae.add(Pe.schedule(()=>{De.next(ge),Ae.add(Pe.schedule(()=>De.complete()))}))},ge=>{Ae.add(Pe.schedule(()=>De.error(ge)))}))),Ae})}(_e,Pe);if((0,G.z)(_e))return(0,ue.r)(_e,Pe);if(function(_e){return _e&&"function"==typeof _e[oe.hZ]}(_e)||"string"==typeof _e)return function(_e,Pe){if(!_e)throw new Error("Iterable cannot be null");return new A.y(De=>{const Ae=new $.w;let ge;return Ae.add(()=>{ge&&"function"==typeof ge.return&&ge.return()}),Ae.add(Pe.schedule(()=>{ge=_e[oe.hZ](),Ae.add(Pe.schedule(function(){if(De.closed)return;let je,Ke;try{const Dt=ge.next();je=Dt.value,Ke=Dt.done}catch(Dt){return void De.error(Dt)}Ke?De.complete():(De.next(je),this.schedule())}))})),Ae})}(_e,Pe)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}(_e,Pe):_e instanceof A.y?_e:new A.y((0,y.s)(_e))}},6693:(ct,Le,F)=>{"use strict";F.d(Le,{n:()=>fe});var A=F(7574),y=F(5015),$=F(4087);function fe(ee,ce){return ce?(0,$.r)(ee,ce):new A.y((0,y.V)(ee))}},6682:(ct,Le,F)=>{"use strict";F.d(Le,{T:()=>ee});var A=F(7574),y=F(4869),$=F(3282),fe=F(6693);function ee(...ce){let ue=Number.POSITIVE_INFINITY,oe=null,j=ce[ce.length-1];return(0,y.K)(j)?(oe=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(ue=ce.pop())):"number"==typeof j&&(ue=ce.pop()),null===oe&&1===ce.length&&ce[0]instanceof A.y?ce[0]:(0,$.J)(ue)((0,fe.n)(ce,oe))}},5917:(ct,Le,F)=>{"use strict";F.d(Le,{of:()=>fe});var A=F(4869),y=F(6693),$=F(4087);function fe(...ee){let ce=ee[ee.length-1];return(0,A.K)(ce)?(ee.pop(),(0,$.r)(ee,ce)):(0,y.n)(ee)}},205:(ct,Le,F)=>{"use strict";F.d(Le,{_:()=>y});var A=F(7574);function y(fe,ee){return new A.y(ee?ce=>ee.schedule($,0,{error:fe,subscriber:ce}):ce=>ce.error(fe))}function $({error:fe,subscriber:ee}){ee.error(fe)}},5304:(ct,Le,F)=>{"use strict";F.d(Le,{K:()=>y});var A=F(5345);function y(ee){return function(ue){const oe=new $(ee),j=ue.lift(oe);return oe.caught=j}}class ${constructor(ce){this.selector=ce}call(ce,ue){return ue.subscribe(new fe(ce,this.selector,this.caught))}}class fe extends A.Ds{constructor(ce,ue,oe){super(ce),this.selector=ue,this.caught=oe}error(ce){if(!this.isStopped){let ue;try{ue=this.selector(ce,this.caught)}catch(W){return void super.error(W)}this._unsubscribeAndRecycle();const oe=new A.IY(this);this.add(oe);const j=(0,A.ft)(ue,oe);j!==oe&&this.add(j)}}}},4612:(ct,Le,F)=>{"use strict";F.d(Le,{b:()=>y});var A=F(9773);function y($,fe){return(0,A.zg)($,fe,1)}},7519:(ct,Le,F)=>{"use strict";F.d(Le,{x:()=>y});var A=F(7393);function y(ee,ce){return ue=>ue.lift(new $(ee,ce))}class ${constructor(ce,ue){this.compare=ce,this.keySelector=ue}call(ce,ue){return ue.subscribe(new fe(ce,this.compare,this.keySelector))}}class fe extends A.L{constructor(ce,ue,oe){super(ce),this.keySelector=oe,this.hasKey=!1,"function"==typeof ue&&(this.compare=ue)}compare(ce,ue){return ce===ue}_next(ce){let ue;try{const{keySelector:j}=this;ue=j?j(ce):ce}catch(j){return this.destination.error(j)}let oe=!1;if(this.hasKey)try{const{compare:j}=this;oe=j(this.key,ue)}catch(j){return this.destination.error(j)}else this.hasKey=!0;oe||(this.key=ue,this.destination.next(ce))}}},5435:(ct,Le,F)=>{"use strict";F.d(Le,{h:()=>y});var A=F(7393);function y(ee,ce){return function(oe){return oe.lift(new $(ee,ce))}}class ${constructor(ce,ue){this.predicate=ce,this.thisArg=ue}call(ce,ue){return ue.subscribe(new fe(ce,this.predicate,this.thisArg))}}class fe extends A.L{constructor(ce,ue,oe){super(ce),this.predicate=ue,this.thisArg=oe,this.count=0}_next(ce){let ue;try{ue=this.predicate.call(this.thisArg,ce,this.count++)}catch(oe){return void this.destination.error(oe)}ue&&this.destination.next(ce)}}},8002:(ct,Le,F)=>{"use strict";F.d(Le,{U:()=>y});var A=F(7393);function y(ee,ce){return function(oe){if("function"!=typeof ee)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new $(ee,ce))}}class ${constructor(ce,ue){this.project=ce,this.thisArg=ue}call(ce,ue){return ue.subscribe(new fe(ce,this.project,this.thisArg))}}class fe extends A.L{constructor(ce,ue,oe){super(ce),this.project=ue,this.count=0,this.thisArg=oe||this}_next(ce){let ue;try{ue=this.project.call(this.thisArg,ce,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(ue)}}},3282:(ct,Le,F)=>{"use strict";F.d(Le,{J:()=>$});var A=F(9773),y=F(4487);function $(fe=Number.POSITIVE_INFINITY){return(0,A.zg)(y.y,fe)}},9773:(ct,Le,F)=>{"use strict";F.d(Le,{zg:()=>fe});var A=F(8002),y=F(4402),$=F(5345);function fe(oe,j,W=Number.POSITIVE_INFINITY){return"function"==typeof j?ne=>ne.pipe(fe((G,le)=>(0,y.D)(oe(G,le)).pipe((0,A.U)((Ce,ae)=>j(G,Ce,le,ae))),W)):("number"==typeof j&&(W=j),ne=>ne.lift(new ee(oe,W)))}class ee{constructor(j,W=Number.POSITIVE_INFINITY){this.project=j,this.concurrent=W}call(j,W){return W.subscribe(new ce(j,this.project,this.concurrent))}}class ce extends $.Ds{constructor(j,W,ne=Number.POSITIVE_INFINITY){super(j),this.project=W,this.concurrent=ne,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(j){this.active<this.concurrent?this._tryNext(j):this.buffer.push(j)}_tryNext(j){let W;const ne=this.index++;try{W=this.project(j,ne)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(W)}_innerSub(j){const W=new $.IY(this),ne=this.destination;ne.add(W);const G=(0,$.ft)(j,W);G!==W&&ne.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(j){this.destination.next(j)}notifyComplete(){const j=this.buffer;this.active--,j.length>0?this._next(j.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4458:(ct,Le,F)=>{"use strict";F.d(Le,{O:()=>y});var A=F(2441);function y(fe,ee){return function(ue){let oe;if(oe="function"==typeof fe?fe:function(){return fe},"function"==typeof ee)return ue.lift(new $(oe,ee));const j=Object.create(ue,A.N);return j.source=ue,j.subjectFactory=oe,j}}class ${constructor(ee,ce){this.subjectFactory=ee,this.selector=ce}call(ee,ce){const{selector:ue}=this,oe=this.subjectFactory(),j=ue(oe).subscribe(ee);return j.add(ce.subscribe(oe)),j}}},1307:(ct,Le,F)=>{"use strict";F.d(Le,{x:()=>y});var A=F(7393);function y(){return function(ce){return ce.lift(new $(ce))}}class ${constructor(ce){this.connectable=ce}call(ce,ue){const{connectable:oe}=this;oe._refCount++;const j=new fe(ce,oe),W=ue.subscribe(j);return j.closed||(j.connection=oe.connect()),W}}class fe extends A.L{constructor(ce,ue){super(ce),this.connectable=ue}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const ue=ce._refCount;if(ue<=0)return void(this.connection=null);if(ce._refCount=ue-1,ue>1)return void(this.connection=null);const{connection:oe}=this,j=ce._connection;this.connection=null,j&&(!oe||j===oe)&&j.unsubscribe()}}},9761:(ct,Le,F)=>{"use strict";F.d(Le,{O:()=>$});var A=F(8071),y=F(4869);function $(...fe){const ee=fe[fe.length-1];return(0,y.K)(ee)?(fe.pop(),ce=>(0,A.z)(fe,ce,ee)):ce=>(0,A.z)(fe,ce)}},3190:(ct,Le,F)=>{"use strict";F.d(Le,{w:()=>fe});var A=F(8002),y=F(4402),$=F(5345);function fe(ue,oe){return"function"==typeof oe?j=>j.pipe(fe((W,ne)=>(0,y.D)(ue(W,ne)).pipe((0,A.U)((G,le)=>oe(W,G,ne,le))))):j=>j.lift(new ee(ue))}class ee{constructor(oe){this.project=oe}call(oe,j){return j.subscribe(new ce(oe,this.project))}}class ce extends $.Ds{constructor(oe,j){super(oe),this.project=j,this.index=0}_next(oe){let j;const W=this.index++;try{j=this.project(oe,W)}catch(ne){return void this.destination.error(ne)}this._innerSub(j)}_innerSub(oe){const j=this.innerSubscription;j&&j.unsubscribe();const W=new $.IY(this),ne=this.destination;ne.add(W),this.innerSubscription=(0,$.ft)(oe,W),this.innerSubscription!==W&&ne.add(this.innerSubscription)}_complete(){const{innerSubscription:oe}=this;(!oe||oe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(oe){this.destination.next(oe)}}},5257:(ct,Le,F)=>{"use strict";F.d(Le,{q:()=>fe});var A=F(7393),y=F(7108),$=F(9193);function fe(ue){return oe=>0===ue?(0,$.c)():oe.lift(new ee(ue))}class ee{constructor(oe){if(this.total=oe,this.total<0)throw new y.W}call(oe,j){return j.subscribe(new ce(oe,this.total))}}class ce extends A.L{constructor(oe,j){super(oe),this.total=j,this.count=0}_next(oe){const j=this.total,W=++this.count;W<=j&&(this.destination.next(oe),W===j&&(this.destination.complete(),this.unsubscribe()))}}},8307:(ct,Le,F)=>{"use strict";F.d(Le,{b:()=>fe});var A=F(7393),y=F(8640),$=F(9105);function fe(ue,oe,j){return function(ne){return ne.lift(new ee(ue,oe,j))}}class ee{constructor(oe,j,W){this.nextOrObserver=oe,this.error=j,this.complete=W}call(oe,j){return j.subscribe(new ce(oe,this.nextOrObserver,this.error,this.complete))}}class ce extends A.L{constructor(oe,j,W,ne){super(oe),this._tapNext=y.Z,this._tapError=y.Z,this._tapComplete=y.Z,this._tapError=W||y.Z,this._tapComplete=ne||y.Z,(0,$.m)(j)?(this._context=this,this._tapNext=j):j&&(this._context=j,this._tapNext=j.next||y.Z,this._tapError=j.error||y.Z,this._tapComplete=j.complete||y.Z)}_next(oe){try{this._tapNext.call(this._context,oe)}catch(j){return void this.destination.error(j)}this.destination.next(oe)}_error(oe){try{this._tapError.call(this._context,oe)}catch(j){return void this.destination.error(j)}this.destination.error(oe)}_complete(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}},9426:(ct,Le,F)=>{"use strict";F.d(Le,{p:()=>ue});var A=F(7393),y=F(3637);const $={leading:!0,trailing:!1};function ue(ne,G=y.P,le=$){return Ce=>Ce.lift(new oe(ne,G,le.leading,le.trailing))}class oe{constructor(G,le,Ce,ae){this.duration=G,this.scheduler=le,this.leading=Ce,this.trailing=ae}call(G,le){return le.subscribe(new j(G,this.duration,this.scheduler,this.leading,this.trailing))}}class j extends A.L{constructor(G,le,Ce,ae,_e){super(G),this.duration=le,this.scheduler=Ce,this.leading=ae,this.trailing=_e,this._hasTrailingValue=!1,this._trailingValue=null}_next(G){this.throttled?this.trailing&&(this._trailingValue=G,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(W,this.duration,{subscriber:this})),this.leading?this.destination.next(G):this.trailing&&(this._trailingValue=G,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const G=this.throttled;G&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),G.unsubscribe(),this.remove(G),this.throttled=null)}}function W(ne){const{subscriber:G}=ne;G.clearThrottle()}},4087:(ct,Le,F)=>{"use strict";F.d(Le,{r:()=>$});var A=F(7574),y=F(5319);function $(fe,ee){return new A.y(ce=>{const ue=new y.w;let oe=0;return ue.add(ee.schedule(function(){oe!==fe.length?(ce.next(fe[oe++]),ce.closed||ue.add(this.schedule())):ce.complete()})),ue})}},9474:(ct,Le,F)=>{"use strict";F.d(Le,{o:()=>$});var A=F(5319);class y extends A.w{constructor(ee,ce){super()}schedule(ee,ce=0){return this}}class $ extends y{constructor(ee,ce){super(ee,ce),this.scheduler=ee,this.work=ce,this.pending=!1}schedule(ee,ce=0){if(this.closed)return this;this.state=ee;const ue=this.id,oe=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(oe,ue,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(oe,this.id,ce),this}requestAsyncId(ee,ce,ue=0){return setInterval(ee.flush.bind(ee,this),ue)}recycleAsyncId(ee,ce,ue=0){if(null!==ue&&this.delay===ue&&!1===this.pending)return ce;clearInterval(ce)}execute(ee,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ee,ce);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,ce){let oe,ue=!1;try{this.work(ee)}catch(j){ue=!0,oe=!!j&&j||new Error(j)}if(ue)return this.unsubscribe(),oe}_unsubscribe(){const ee=this.id,ce=this.scheduler,ue=ce.actions,oe=ue.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==oe&&ue.splice(oe,1),null!=ee&&(this.id=this.recycleAsyncId(ce,ee,null)),this.delay=null}}},6102:(ct,Le,F)=>{"use strict";F.d(Le,{v:()=>y});let A=(()=>{class ${constructor(ee,ce=$.now){this.SchedulerAction=ee,this.now=ce}schedule(ee,ce=0,ue){return new this.SchedulerAction(this,ee).schedule(ue,ce)}}return $.now=()=>Date.now(),$})();class y extends A{constructor(fe,ee=A.now){super(fe,()=>y.delegate&&y.delegate!==this?y.delegate.now():ee()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(fe,ee=0,ce){return y.delegate&&y.delegate!==this?y.delegate.schedule(fe,ee,ce):super.schedule(fe,ee,ce)}flush(fe){const{actions:ee}=this;if(this.active)return void ee.push(fe);let ce;this.active=!0;do{if(ce=fe.execute(fe.state,fe.delay))break}while(fe=ee.shift());if(this.active=!1,ce){for(;fe=ee.shift();)fe.unsubscribe();throw ce}}}},3637:(ct,Le,F)=>{"use strict";F.d(Le,{z:()=>$,P:()=>fe});var A=F(9474);const $=new(F(6102).v)(A.o),fe=$},377:(ct,Le,F)=>{"use strict";F.d(Le,{hZ:()=>y});const y="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ct,Le,F)=>{"use strict";F.d(Le,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ct,Le,F)=>{"use strict";F.d(Le,{b:()=>A});const A="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(ct,Le,F)=>{"use strict";F.d(Le,{W:()=>y});const y=(()=>{function $(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return $.prototype=Object.create(Error.prototype),$})()},7971:(ct,Le,F)=>{"use strict";F.d(Le,{N:()=>y});const y=(()=>{function $(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return $.prototype=Object.create(Error.prototype),$})()},4449:(ct,Le,F)=>{"use strict";function A(y){setTimeout(()=>{throw y},0)}F.d(Le,{z:()=>A})},4487:(ct,Le,F)=>{"use strict";function A(y){return y}F.d(Le,{y:()=>A})},9796:(ct,Le,F)=>{"use strict";F.d(Le,{k:()=>A});const A=Array.isArray||(y=>y&&"number"==typeof y.length)},9489:(ct,Le,F)=>{"use strict";F.d(Le,{z:()=>A});const A=y=>y&&"number"==typeof y.length&&"function"!=typeof y},9105:(ct,Le,F)=>{"use strict";function A(y){return"function"==typeof y}F.d(Le,{m:()=>A})},1555:(ct,Le,F)=>{"use strict";function A(y){return null!==y&&"object"==typeof y}F.d(Le,{K:()=>A})},4072:(ct,Le,F)=>{"use strict";function A(y){return!!y&&"function"!=typeof y.subscribe&&"function"==typeof y.then}F.d(Le,{t:()=>A})},4869:(ct,Le,F)=>{"use strict";function A(y){return y&&"function"==typeof y.schedule}F.d(Le,{K:()=>A})},8640:(ct,Le,F)=>{"use strict";function A(){}F.d(Le,{Z:()=>A})},7444:(ct,Le,F)=>{"use strict";F.d(Le,{s:()=>ne});var A=F(5015),y=F(4449),fe=F(377),ce=F(6554),oe=F(9489),j=F(4072),W=F(1555);const ne=G=>{if(G&&"function"==typeof G[ce.L])return(G=>le=>{const Ce=G[ce.L]();if("function"!=typeof Ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ce.subscribe(le)})(G);if((0,oe.z)(G))return(0,A.V)(G);if((0,j.t)(G))return(G=>le=>(G.then(Ce=>{le.closed||(le.next(Ce),le.complete())},Ce=>le.error(Ce)).then(null,y.z),le))(G);if(G&&"function"==typeof G[fe.hZ])return(G=>le=>{const Ce=G[fe.hZ]();for(;;){let ae;try{ae=Ce.next()}catch(_e){return le.error(_e),le}if(ae.done){le.complete();break}if(le.next(ae.value),le.closed)break}return"function"==typeof Ce.return&&le.add(()=>{Ce.return&&Ce.return()}),le})(G);{const Ce=`You provided ${(0,W.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ce)}}},5015:(ct,Le,F)=>{"use strict";F.d(Le,{V:()=>A});const A=y=>$=>{for(let fe=0,ee=y.length;fe<ee&&!$.closed;fe++)$.next(y[fe]);$.complete()}},1395:ct=>{ct.exports=function(F,A){var y,$=null;try{y=JSON.parse(F,A)}catch(fe){$=fe}return[$,y]}},9028:function(ct){ct.exports=function(Le){var F={};function A(y){if(F[y])return F[y].exports;var $=F[y]={exports:{},id:y,loaded:!1};return Le[y].call($.exports,$,$.exports,A),$.loaded=!0,$.exports}return A.m=Le,A.c=F,A.p="",A(0)}([function(Le,F,A){"use strict";Object.defineProperty(F,"__esModule",{value:!0});var y=function(){function ue(oe,j){for(var W=0;W<j.length;W++){var ne=j[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(oe,ne.key,ne)}}return function(oe,j,W){return j&&ue(oe.prototype,j),W&&ue(oe,W),oe}}();var fe=A(1),ee=A(3),ce=function(){function ue(oe,j){(function(ue,oe){if(!(ue instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,ue),fe.initializer.load(this,j,oe),this.begin()}return y(ue,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||!this.pause.status||(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var j=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,j&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var j=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){j.currentElContent&&0!==j.currentElContent.length?j.backspace(j.currentElContent,j.currentElContent.length):j.typewrite(j.strings[j.sequence[j.arrayPos]],j.strPos)},this.startDelay)}},{key:"typewrite",value:function(j,W){var ne=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var G=this.humanizer(this.typeSpeed),le=1;!0!==this.pause.status?this.timeout=setTimeout(function(){W=ee.htmlParser.typeHtmlChars(j,W,ne);var Ce=0,ae=j.substr(W);if("^"===ae.charAt(0)&&/^\^\d+/.test(ae)){var _e=1;_e+=(ae=/\d+/.exec(ae)[0]).length,Ce=parseInt(ae),ne.temporaryPause=!0,ne.options.onTypingPaused(ne.arrayPos,ne),j=j.substring(0,W)+j.substring(W+_e),ne.toggleBlinking(!0)}if("`"===ae.charAt(0)){for(;"`"!==j.substr(W+le).charAt(0)&&(le++,!(W+le>j.length)););var Pe=j.substring(0,W),De=j.substring(Pe.length+1,W+le),Ae=j.substring(W+le+1);j=Pe+De+Ae,le--}ne.timeout=setTimeout(function(){ne.toggleBlinking(!1),W>=j.length?ne.doneTyping(j,W):ne.keepTyping(j,W,le),ne.temporaryPause&&(ne.temporaryPause=!1,ne.options.onTypingResumed(ne.arrayPos,ne))},Ce)},G):this.setPauseStatus(j,W,!0)}},{key:"keepTyping",value:function(j,W,ne){0===W&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var G=j.substr(0,W+=ne);this.replaceText(G),this.typewrite(j,W)}},{key:"doneTyping",value:function(j,W){var ne=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),(this.arrayPos!==this.strings.length-1||(this.complete(),!1!==this.loop&&this.curLoop!==this.loopCount))&&(this.timeout=setTimeout(function(){ne.backspace(j,W)},this.backDelay))}},{key:"backspace",value:function(j,W){var ne=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var G=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){W=ee.htmlParser.backSpaceHtmlChars(j,W,ne);var le=j.substr(0,W);if(ne.replaceText(le),ne.smartBackspace){var Ce=ne.strings[ne.arrayPos+1];ne.stopNum=Ce&&le===Ce.substr(0,W)?W:0}W>ne.stopNum?(W--,ne.backspace(j,W)):W<=ne.stopNum&&(ne.arrayPos++,ne.arrayPos===ne.strings.length?(ne.arrayPos=0,ne.options.onLastStringBackspaced(),ne.shuffleStringsIfNeeded(),ne.begin()):ne.typewrite(ne.strings[ne.sequence[ne.arrayPos]],W))},G)}else this.setPauseStatus(j,W,!1)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(j,W,ne){this.pause.typewrite=ne,this.pause.curString=j,this.pause.curStrPos=W}},{key:"toggleBlinking",value:function(j){!this.cursor||this.pause.status||this.cursorBlinking!==j&&(this.cursorBlinking=j,j?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink"))}},{key:"humanizer",value:function(j){return Math.round(Math.random()*j/2)+j}},{key:"shuffleStringsIfNeeded",value:function(){!this.shuffle||(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var j=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){j.arrayPos++,j.replaceText(""),j.strings.length>j.arrayPos?j.typewrite(j.strings[j.sequence[j.arrayPos]],0):(j.typewrite(j.strings[0],0),j.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(j){this.attr?this.el.setAttribute(this.attr,j):this.isInput?this.el.value=j:"html"===this.contentType?this.el.innerHTML=j:this.el.textContent=j}},{key:"bindFocusEvents",value:function(){var j=this;!this.isInput||(this.el.addEventListener("focus",function(W){j.stop()}),this.el.addEventListener("blur",function(W){j.el.value&&0!==j.el.value.length||j.start()}))}},{key:"insertCursor",value:function(){!this.showCursor||this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling))}}]),ue}();F.default=ce,Le.exports=F.default},function(Le,F,A){"use strict";Object.defineProperty(F,"__esModule",{value:!0});var y=Object.assign||function(W){for(var ne=1;ne<arguments.length;ne++){var G=arguments[ne];for(var le in G)Object.prototype.hasOwnProperty.call(G,le)&&(W[le]=G[le])}return W},$=function(){function W(ne,G){for(var le=0;le<G.length;le++){var Ce=G[le];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ne,Ce.key,Ce)}}return function(ne,G,le){return G&&W(ne.prototype,G),le&&W(ne,le),ne}}();var W,ue=(W=A(2))&&W.__esModule?W:{default:W},oe=function(){function W(){!function(W,ne){if(!(W instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,W)}return $(W,[{key:"load",value:function(G,le,Ce){if(G.el="string"==typeof Ce?document.querySelector(Ce):Ce,G.options=y({},ue.default,le),G.isInput="input"===G.el.tagName.toLowerCase(),G.attr=G.options.attr,G.bindInputFocusEvents=G.options.bindInputFocusEvents,G.showCursor=!G.isInput&&G.options.showCursor,G.cursorChar=G.options.cursorChar,G.cursorBlinking=!0,G.elContent=G.attr?G.el.getAttribute(G.attr):G.el.textContent,G.contentType=G.options.contentType,G.typeSpeed=G.options.typeSpeed,G.startDelay=G.options.startDelay,G.backSpeed=G.options.backSpeed,G.smartBackspace=G.options.smartBackspace,G.backDelay=G.options.backDelay,G.fadeOut=G.options.fadeOut,G.fadeOutClass=G.options.fadeOutClass,G.fadeOutDelay=G.options.fadeOutDelay,G.isPaused=!1,G.strings=G.options.strings.map(function(Ae){return Ae.trim()}),G.stringsElement="string"==typeof G.options.stringsElement?document.querySelector(G.options.stringsElement):G.options.stringsElement,G.stringsElement){G.strings=[],G.stringsElement.style.display="none";var ae=Array.prototype.slice.apply(G.stringsElement.children),_e=ae.length;if(_e)for(var Pe=0;Pe<_e;Pe+=1)G.strings.push(ae[Pe].innerHTML.trim())}for(var Pe in G.strPos=0,G.arrayPos=0,G.stopNum=0,G.loop=G.options.loop,G.loopCount=G.options.loopCount,G.curLoop=0,G.shuffle=G.options.shuffle,G.sequence=[],G.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},G.typingComplete=!1,G.strings)G.sequence[Pe]=Pe;G.currentElContent=this.getCurrentElContent(G),G.autoInsertCss=G.options.autoInsertCss,this.appendAnimationCss(G)}},{key:"getCurrentElContent",value:function(G){return G.attr?G.el.getAttribute(G.attr):G.isInput?G.el.value:"html"===G.contentType?G.el.innerHTML:G.el.textContent}},{key:"appendAnimationCss",value:function(G){var le="data-typed-js-css";if(G.autoInsertCss&&(G.showCursor||G.fadeOut)&&!document.querySelector("["+le+"]")){var Ce=document.createElement("style");Ce.type="text/css",Ce.setAttribute(le,!0);var ae="";G.showCursor&&(ae+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),G.fadeOut&&(ae+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==Ce.length&&(Ce.innerHTML=ae,document.body.appendChild(Ce))}}}]),W}();F.default=oe;var j=new oe;F.initializer=j},function(Le,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0}),F.default={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function($){},onComplete:function($){},preStringTyped:function($,fe){},onStringTyped:function($,fe){},onLastStringBackspaced:function($){},onTypingPaused:function($,fe){},onTypingResumed:function($,fe){},onReset:function($){},onStop:function($,fe){},onStart:function($,fe){},onDestroy:function($){}},Le.exports=F.default},function(Le,F){"use strict";Object.defineProperty(F,"__esModule",{value:!0});var A=function(){function ee(ce,ue){for(var oe=0;oe<ue.length;oe++){var j=ue[oe];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(ce,j.key,j)}}return function(ce,ue,oe){return ue&&ee(ce.prototype,ue),oe&&ee(ce,oe),ce}}();var $=function(){function ee(){!function(ee,ce){if(!(ee instanceof ce))throw new TypeError("Cannot call a class as a function")}(this,ee)}return A(ee,[{key:"typeHtmlChars",value:function(ue,oe,j){if("html"!==j.contentType)return oe;var W=ue.substr(oe).charAt(0);if("<"===W||"&"===W){var ne;for(ne="<"===W?">":";";ue.substr(oe+1).charAt(0)!==ne&&!(1+ ++oe>ue.length););oe++}return oe}},{key:"backSpaceHtmlChars",value:function(ue,oe,j){if("html"!==j.contentType)return oe;var W=ue.substr(oe).charAt(0);if(">"===W||";"===W){var ne;for(ne=">"===W?"<":"&";ue.substr(oe-1).charAt(0)!==ne&&!(--oe<0););oe--}return oe}}]),ee}();F.default=$;var fe=new $;F.htmlParser=fe}])},3958:function(ct){var F,A,y,$,fe;F=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,A=/^([^\/?#]*)([^]*)$/,y=/(?:\/|^)\.(?=\/)/g,$=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,ct.exports=fe={buildAbsoluteURL:function(ee,ce,ue){if(ue=ue||{},ee=ee.trim(),!(ce=ce.trim())){if(!ue.alwaysNormalize)return ee;var oe=fe.parseURL(ee);if(!oe)throw new Error("Error trying to parse base URL.");return oe.path=fe.normalizePath(oe.path),fe.buildURLFromParts(oe)}var j=fe.parseURL(ce);if(!j)throw new Error("Error trying to parse relative URL.");if(j.scheme)return ue.alwaysNormalize?(j.path=fe.normalizePath(j.path),fe.buildURLFromParts(j)):ce;var W=fe.parseURL(ee);if(!W)throw new Error("Error trying to parse base URL.");if(!W.netLoc&&W.path&&"/"!==W.path[0]){var ne=A.exec(W.path);W.netLoc=ne[1],W.path=ne[2]}W.netLoc&&!W.path&&(W.path="/");var G={scheme:W.scheme,netLoc:j.netLoc,path:null,params:j.params,query:j.query,fragment:j.fragment};if(!j.netLoc&&(G.netLoc=W.netLoc,"/"!==j.path[0]))if(j.path){var le=W.path,Ce=le.substring(0,le.lastIndexOf("/")+1)+j.path;G.path=fe.normalizePath(Ce)}else G.path=W.path,j.params||(G.params=W.params,j.query||(G.query=W.query));return null===G.path&&(G.path=ue.alwaysNormalize?fe.normalizePath(j.path):j.path),fe.buildURLFromParts(G)},parseURL:function(ee){var ce=F.exec(ee);return ce?{scheme:ce[1]||"",netLoc:ce[2]||"",path:ce[3]||"",params:ce[4]||"",query:ce[5]||"",fragment:ce[6]||""}:null},normalizePath:function(ee){for(ee=ee.split("").reverse().join("").replace(y,"");ee.length!==(ee=ee.replace($,"")).length;);return ee.split("").reverse().join("")},buildURLFromParts:function(ee){return ee.scheme+ee.netLoc+ee.path+ee.params+ee.query+ee.fragment}}},3277:(ct,Le,F)=>{var A=F(4897),y=ct.exports={WebVTT:F(6093),VTTCue:F(8281),VTTRegion:F(415)};A.vttjs=y,A.WebVTT=y.WebVTT;var $=y.VTTCue,fe=y.VTTRegion,ee=A.VTTCue,ce=A.VTTRegion;y.shim=function(){A.VTTCue=$,A.VTTRegion=fe},y.restore=function(){A.VTTCue=ee,A.VTTRegion=ce},A.VTTCue||y.shim()},6093:(ct,Le,F)=>{var A=F(8161),y=Object.create||function(){function Y(){}return function(B){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return Y.prototype=B,new Y}}();function $(Y,B){this.name="ParsingError",this.code=Y.code,this.message=B||Y.message}function fe(Y){function B(pe,Ee,Fe,Re){return 3600*(0|pe)+60*(0|Ee)+(0|Fe)+(0|Re)/1e3}var re=Y.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return re?re[3]?B(re[1],re[2],re[3].replace(":",""),re[4]):re[1]>59?B(re[1],re[2],0,re[4]):B(0,re[1],re[2],re[4]):null}function ee(){this.values=y(null)}function ce(Y,B,re,pe){var Ee=pe?Y.split(pe):[Y];for(var Fe in Ee)if("string"==typeof Ee[Fe]){var Re=Ee[Fe].split(re);2===Re.length&&B(Re[0],Re[1])}}function ue(Y,B,re){var pe=Y;function Ee(){var Je=fe(Y);if(null===Je)throw new $($.Errors.BadTimeStamp,"Malformed timestamp: "+pe);return Y=Y.replace(/^[^\sa-zA-Z-]+/,""),Je}function Re(){Y=Y.replace(/^\s+/,"")}if(Re(),B.startTime=Ee(),Re(),"--\x3e"!==Y.substr(0,3))throw new $($.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+pe);Y=Y.substr(3),Re(),B.endTime=Ee(),Re(),function(Je,ft){var vt=new ee;ce(Je,function(lt,He){switch(lt){case"region":for(var nt=re.length-1;nt>=0;nt--)if(re[nt].id===He){vt.set(lt,re[nt].region);break}break;case"vertical":vt.alt(lt,He,["rl","lr"]);break;case"line":var ht=He.split(","),jt=ht[0];vt.integer(lt,jt),vt.percent(lt,jt)&&vt.set("snapToLines",!1),vt.alt(lt,jt,["auto"]),2===ht.length&&vt.alt("lineAlign",ht[1],["start","center","end"]);break;case"position":ht=He.split(","),vt.percent(lt,ht[0]),2===ht.length&&vt.alt("positionAlign",ht[1],["start","center","end"]);break;case"size":vt.percent(lt,He);break;case"align":vt.alt(lt,He,["start","center","end","left","right"])}},/:/,/\s/),ft.region=vt.get("region",null),ft.vertical=vt.get("vertical","");try{ft.line=vt.get("line","auto")}catch(lt){}ft.lineAlign=vt.get("lineAlign","start"),ft.snapToLines=vt.get("snapToLines",!0),ft.size=vt.get("size",100);try{ft.align=vt.get("align","center")}catch(lt){ft.align=vt.get("align","middle")}try{ft.position=vt.get("position","auto")}catch(lt){ft.position=vt.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},ft.align)}ft.positionAlign=vt.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},ft.align)}(Y,B)}($.prototype=y(Error.prototype)).constructor=$,$.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},ee.prototype={set:function(Y,B){!this.get(Y)&&""!==B&&(this.values[Y]=B)},get:function(Y,B,re){return re?this.has(Y)?this.values[Y]:B[re]:this.has(Y)?this.values[Y]:B},has:function(Y){return Y in this.values},alt:function(Y,B,re){for(var pe=0;pe<re.length;++pe)if(B===re[pe]){this.set(Y,B);break}},integer:function(Y,B){/^-?\d+$/.test(B)&&this.set(Y,parseInt(B,10))},percent:function(Y,B){return!!(B.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(B=parseFloat(B),B>=0&&B<=100))&&(this.set(Y,B),!0)}};var oe=A.createElement&&A.createElement("textarea"),j={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},W={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},ne={v:"title",lang:"lang"},G={rt:"ruby"};function le(Y,B){function re(){if(!B)return null;var qt,Rt=B.match(/^([^<]*)(<[^>]*>?)?/);return B=B.substr((qt=Rt[1]?Rt[1]:Rt[2]).length),qt}function pe(jt){return oe.innerHTML=jt,jt=oe.textContent,oe.textContent="",jt}function Fe(jt,Rt){var qt=j[jt];if(!qt)return null;var Un=Y.document.createElement(qt),Sn=ne[jt];return Sn&&Rt&&(Un[Sn]=Rt.trim()),Un}for(var ft,Re=Y.document.createElement("div"),Je=Re,vt=[];null!==(ft=re());)if("<"!==ft[0])Je.appendChild(Y.document.createTextNode(pe(ft)));else{if("/"===ft[1]){vt.length&&vt[vt.length-1]===ft.substr(2).replace(">","")&&(vt.pop(),Je=Je.parentNode);continue}var He,lt=fe(ft.substr(1,ft.length-2));if(lt){He=Y.document.createProcessingInstruction("timestamp",lt),Je.appendChild(He);continue}var nt=ft.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!nt||!(He=Fe(nt[1],nt[3]))||G[(Rt=He).localName]&&G[Rt.localName]!==Je.localName)continue;if(nt[2]){var ht=nt[2].split(".");ht.forEach(function(jt){var Rt=/^bg_/.test(jt),qt=Rt?jt.slice(3):jt;W.hasOwnProperty(qt)&&(He.style[Rt?"background-color":"color"]=W[qt])}),He.className=ht.join(" ")}vt.push(nt[1]),Je.appendChild(He),Je=He}var Rt;return Re}var Ce=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function ae(Y){for(var B=0;B<Ce.length;B++){var re=Ce[B];if(Y>=re[0]&&Y<=re[1])return!0}return!1}function _e(Y){var B=[],re="";if(!Y||!Y.childNodes)return"ltr";function Ee(Je,ft){for(var vt=ft.childNodes.length-1;vt>=0;vt--)Je.push(ft.childNodes[vt])}function Fe(Je){if(!Je||!Je.length)return null;var ft=Je.pop(),vt=ft.textContent||ft.innerText;if(vt){var lt=vt.match(/^.*(\n|\r)/);return lt?(Je.length=0,lt[0]):vt}return"ruby"===ft.tagName?Fe(Je):ft.childNodes?(Ee(Je,ft),Fe(Je)):void 0}for(Ee(B,Y);re=Fe(B);)for(var Re=0;Re<re.length;Re++)if(ae(re.charCodeAt(Re)))return"rtl";return"ltr"}function De(){}function Ae(Y,B,re){De.call(this),this.cue=B,this.cueDiv=le(Y,B.text);var pe={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===B.vertical?"horizontal-tb":"lr"===B.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(pe,this.cueDiv),this.div=Y.document.createElement("div"),pe={direction:_e(this.cueDiv),writingMode:""===B.vertical?"horizontal-tb":"lr"===B.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===B.align?"center":B.align,font:re.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(pe),this.div.appendChild(this.cueDiv);var Ee=0;switch(B.positionAlign){case"start":Ee=B.position;break;case"center":Ee=B.position-B.size/2;break;case"end":Ee=B.position-B.size}this.applyStyles(""===B.vertical?{left:this.formatStyle(Ee,"%"),width:this.formatStyle(B.size,"%")}:{top:this.formatStyle(Ee,"%"),height:this.formatStyle(B.size,"%")}),this.move=function(Fe){this.applyStyles({top:this.formatStyle(Fe.top,"px"),bottom:this.formatStyle(Fe.bottom,"px"),left:this.formatStyle(Fe.left,"px"),right:this.formatStyle(Fe.right,"px"),height:this.formatStyle(Fe.height,"px"),width:this.formatStyle(Fe.width,"px")})}}function ge(Y){var B,re,pe,Ee;if(Y.div){re=Y.div.offsetHeight,pe=Y.div.offsetWidth,Ee=Y.div.offsetTop;var Fe=(Fe=Y.div.childNodes)&&(Fe=Fe[0])&&Fe.getClientRects&&Fe.getClientRects();Y=Y.div.getBoundingClientRect(),B=Fe?Math.max(Fe[0]&&Fe[0].height||0,Y.height/Fe.length):0}this.left=Y.left,this.right=Y.right,this.top=Y.top||Ee,this.height=Y.height||re,this.bottom=Y.bottom||Ee+(Y.height||re),this.width=Y.width||pe,this.lineHeight=void 0!==B?B:Y.lineHeight}function je(Y,B,re,pe){var Fe=new ge(B),Re=B.cue,Je=function(Y){if("number"==typeof Y.line&&(Y.snapToLines||Y.line>=0&&Y.line<=100))return Y.line;if(!Y.track||!Y.track.textTrackList||!Y.track.textTrackList.mediaElement)return-1;for(var B=Y.track,re=B.textTrackList,pe=0,Ee=0;Ee<re.length&&re[Ee]!==B;Ee++)"showing"===re[Ee].mode&&pe++;return-1*++pe}(Re),ft=[];if(Re.snapToLines){var vt;switch(Re.vertical){case"":ft=["+y","-y"],vt="height";break;case"rl":ft=["+x","-x"],vt="width";break;case"lr":ft=["-x","+x"],vt="width"}var lt=Fe.lineHeight,He=lt*Math.round(Je),nt=re[vt]+lt,ht=ft[0];Math.abs(He)>nt&&(He=He<0?-1:1,He*=Math.ceil(nt/lt)*lt),Je<0&&(He+=""===Re.vertical?re.height:re.width,ft=ft.reverse()),Fe.move(ht,He)}else{var jt=Fe.lineHeight/re.height*100;switch(Re.lineAlign){case"center":Je-=jt/2;break;case"end":Je-=jt}switch(Re.vertical){case"":B.applyStyles({top:B.formatStyle(Je,"%")});break;case"rl":B.applyStyles({left:B.formatStyle(Je,"%")});break;case"lr":B.applyStyles({right:B.formatStyle(Je,"%")})}ft=["+y","-x","+x","-y"],Fe=new ge(B)}var Rt=function(qt,Un){for(var Sn,fn=new ge(qt),An=1,Nn=0;Nn<Un.length;Nn++){for(;qt.overlapsOppositeAxis(re,Un[Nn])||qt.within(re)&&qt.overlapsAny(pe);)qt.move(Un[Nn]);if(qt.within(re))return qt;var Sr=qt.intersectPercentage(re);An>Sr&&(Sn=new ge(qt),An=Sr),qt=new ge(fn)}return Sn||fn}(Fe,ft);B.move(Rt.toCSSCompatValues(re))}function Ke(){}De.prototype.applyStyles=function(Y,B){for(var re in B=B||this.div,Y)Y.hasOwnProperty(re)&&(B.style[re]=Y[re])},De.prototype.formatStyle=function(Y,B){return 0===Y?0:Y+B},(Ae.prototype=y(De.prototype)).constructor=Ae,ge.prototype.move=function(Y,B){switch(B=void 0!==B?B:this.lineHeight,Y){case"+x":this.left+=B,this.right+=B;break;case"-x":this.left-=B,this.right-=B;break;case"+y":this.top+=B,this.bottom+=B;break;case"-y":this.top-=B,this.bottom-=B}},ge.prototype.overlaps=function(Y){return this.left<Y.right&&this.right>Y.left&&this.top<Y.bottom&&this.bottom>Y.top},ge.prototype.overlapsAny=function(Y){for(var B=0;B<Y.length;B++)if(this.overlaps(Y[B]))return!0;return!1},ge.prototype.within=function(Y){return this.top>=Y.top&&this.bottom<=Y.bottom&&this.left>=Y.left&&this.right<=Y.right},ge.prototype.overlapsOppositeAxis=function(Y,B){switch(B){case"+x":return this.left<Y.left;case"-x":return this.right>Y.right;case"+y":return this.top<Y.top;case"-y":return this.bottom>Y.bottom}},ge.prototype.intersectPercentage=function(Y){return Math.max(0,Math.min(this.right,Y.right)-Math.max(this.left,Y.left))*Math.max(0,Math.min(this.bottom,Y.bottom)-Math.max(this.top,Y.top))/(this.height*this.width)},ge.prototype.toCSSCompatValues=function(Y){return{top:this.top-Y.top,bottom:Y.bottom-this.bottom,left:this.left-Y.left,right:Y.right-this.right,height:this.height,width:this.width}},ge.getSimpleBoxPosition=function(Y){var B=Y.div?Y.div.offsetHeight:Y.tagName?Y.offsetHeight:0,re=Y.div?Y.div.offsetWidth:Y.tagName?Y.offsetWidth:0,pe=Y.div?Y.div.offsetTop:Y.tagName?Y.offsetTop:0;return{left:(Y=Y.div?Y.div.getBoundingClientRect():Y.tagName?Y.getBoundingClientRect():Y).left,right:Y.right,top:Y.top||pe,height:Y.height||B,bottom:Y.bottom||pe+(Y.height||B),width:Y.width||re}},Ke.StringDecoder=function(){return{decode:function(Y){if(!Y)return"";if("string"!=typeof Y)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(Y))}}},Ke.convertCueToDOMTree=function(Y,B){return Y&&B?le(Y,B):null},Ke.processCues=function(Y,B,re){if(!Y||!B||!re)return null;for(;re.firstChild;)re.removeChild(re.firstChild);var pe=Y.document.createElement("div");if(pe.style.position="absolute",pe.style.left="0",pe.style.right="0",pe.style.top="0",pe.style.bottom="0",pe.style.margin="1.5%",re.appendChild(pe),function(lt){for(var He=0;He<lt.length;He++)if(lt[He].hasBeenReset||!lt[He].displayState)return!0;return!1}(B)){var Re=[],Je=ge.getSimpleBoxPosition(pe),vt={font:Math.round(.05*Je.height*100)/100+"px sans-serif"};!function(){for(var lt,He,nt=0;nt<B.length;nt++)lt=new Ae(Y,He=B[nt],vt),pe.appendChild(lt.div),je(0,lt,Je,Re),He.displayState=lt.div,Re.push(ge.getSimpleBoxPosition(lt))}()}else for(var Fe=0;Fe<B.length;Fe++)pe.appendChild(B[Fe].displayState)},(Ke.Parser=function(Y,B,re){re||(re=B,B={}),B||(B={}),this.window=Y,this.vttjs=B,this.state="INITIAL",this.buffer="",this.decoder=re||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(Y){if(!(Y instanceof $))throw Y;this.onparsingerror&&this.onparsingerror(Y)},parse:function(Y){var lt,B=this;function re(){for(var lt=B.buffer,He=0;He<lt.length&&"\r"!==lt[He]&&"\n"!==lt[He];)++He;var nt=lt.substr(0,He);return"\r"===lt[He]&&++He,"\n"===lt[He]&&++He,B.buffer=lt.substr(He),nt}Y&&(B.buffer+=B.decoder.decode(Y,{stream:!0}));try{var Re;if("INITIAL"===B.state){if(!/\r\n|\n/.test(B.buffer))return this;var Je=(Re=re()).match(/^WEBVTT([ \t].*)?$/);if(!Je||!Je[0])throw new $($.Errors.BadSignature);B.state="HEADER"}for(var ft=!1;B.buffer;){if(!/\r\n|\n/.test(B.buffer))return this;switch(ft?ft=!1:Re=re(),B.state){case"HEADER":/:/.test(Re)?(lt=Re).match(/X-TIMESTAMP-MAP/)?ce(lt,function(He,nt){switch(He){case"X-TIMESTAMP-MAP":!function(lt){var He=new ee;ce(lt,function(nt,ht){switch(nt){case"MPEGT":He.integer(nt+"S",ht);break;case"LOCA":He.set(nt+"L",fe(ht))}},/[^\d]:/,/,/),B.ontimestampmap&&B.ontimestampmap({MPEGTS:He.get("MPEGTS"),LOCAL:He.get("LOCAL")})}(nt)}},/=/):ce(lt,function(He,nt){switch(He){case"Region":!function(lt){var He=new ee;if(ce(lt,function(ht,jt){switch(ht){case"id":He.set(ht,jt);break;case"width":He.percent(ht,jt);break;case"lines":He.integer(ht,jt);break;case"regionanchor":case"viewportanchor":var Rt=jt.split(",");if(2!==Rt.length)break;var qt=new ee;if(qt.percent("x",Rt[0]),qt.percent("y",Rt[1]),!qt.has("x")||!qt.has("y"))break;He.set(ht+"X",qt.get("x")),He.set(ht+"Y",qt.get("y"));break;case"scroll":He.alt(ht,jt,["up"])}},/=/,/\s/),He.has("id")){var nt=new(B.vttjs.VTTRegion||B.window.VTTRegion);nt.width=He.get("width",100),nt.lines=He.get("lines",3),nt.regionAnchorX=He.get("regionanchorX",0),nt.regionAnchorY=He.get("regionanchorY",100),nt.viewportAnchorX=He.get("viewportanchorX",0),nt.viewportAnchorY=He.get("viewportanchorY",100),nt.scroll=He.get("scroll",""),B.onregion&&B.onregion(nt),B.regionList.push({id:He.get("id"),region:nt})}}(nt)}},/:/):Re||(B.state="ID");continue;case"NOTE":Re||(B.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(Re)){B.state="NOTE";break}if(!Re)continue;B.cue=new(B.vttjs.VTTCue||B.window.VTTCue)(0,0,"");try{B.cue.align="center"}catch(lt){B.cue.align="middle"}if(B.state="CUE",-1===Re.indexOf("--\x3e")){B.cue.id=Re;continue}case"CUE":try{ue(Re,B.cue,B.regionList)}catch(lt){B.reportOrThrowError(lt),B.cue=null,B.state="BADCUE";continue}B.state="CUETEXT";continue;case"CUETEXT":var vt=-1!==Re.indexOf("--\x3e");if(!Re||vt&&(ft=!0)){B.oncue&&B.oncue(B.cue),B.cue=null,B.state="ID";continue}B.cue.text&&(B.cue.text+="\n"),B.cue.text+=Re.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":Re||(B.state="ID");continue}}}catch(lt){B.reportOrThrowError(lt),"CUETEXT"===B.state&&B.cue&&B.oncue&&B.oncue(B.cue),B.cue=null,B.state="INITIAL"===B.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var Y=this;try{if(Y.buffer+=Y.decoder.decode(),(Y.cue||"HEADER"===Y.state)&&(Y.buffer+="\n\n",Y.parse()),"INITIAL"===Y.state)throw new $($.Errors.BadSignature)}catch(B){Y.reportOrThrowError(B)}return Y.onflush&&Y.onflush(),this}},ct.exports=Ke},8281:ct=>{var F={"":1,lr:1,rl:1},A={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function $(ee){return"string"==typeof ee&&!!A[ee.toLowerCase()]&&ee.toLowerCase()}function fe(ee,ce,ue){this.hasBeenReset=!1;var oe="",j=!1,W=ee,ne=ce,G=ue,le=null,Ce="",ae=!0,_e="auto",Pe="start",De="auto",Ae="auto",ge=100,je="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return oe},set:function(Ke){oe=""+Ke}},pauseOnExit:{enumerable:!0,get:function(){return j},set:function(Ke){j=!!Ke}},startTime:{enumerable:!0,get:function(){return W},set:function(Ke){if("number"!=typeof Ke)throw new TypeError("Start time must be set to a number.");W=Ke,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return ne},set:function(Ke){if("number"!=typeof Ke)throw new TypeError("End time must be set to a number.");ne=Ke,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return G},set:function(Ke){G=""+Ke,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return le},set:function(Ke){le=Ke,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return Ce},set:function(Ke){var Dt=function(ee){return"string"==typeof ee&&!!F[ee.toLowerCase()]&&ee.toLowerCase()}(Ke);if(!1===Dt)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");Ce=Dt,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return ae},set:function(Ke){ae=!!Ke,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return _e},set:function(Ke){if("number"!=typeof Ke&&"auto"!==Ke)throw new SyntaxError("Line: an invalid number or illegal string was specified.");_e=Ke,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return Pe},set:function(Ke){var Dt=$(Ke);Dt?(Pe=Dt,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return De},set:function(Ke){if(Ke<0||Ke>100)throw new Error("Position must be between 0 and 100.");De=Ke,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return Ae},set:function(Ke){var Dt=$(Ke);Dt?(Ae=Dt,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return ge},set:function(Ke){if(Ke<0||Ke>100)throw new Error("Size must be between 0 and 100.");ge=Ke,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return je},set:function(Ke){var Dt=$(Ke);if(!Dt)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");je=Dt,this.hasBeenReset=!0}}}),this.displayState=void 0}fe.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},ct.exports=fe},415:ct=>{var Le={"":!0,up:!0};function A($){return"number"==typeof $&&$>=0&&$<=100}ct.exports=function(){var $=100,fe=3,ee=0,ce=100,ue=0,oe=100,j="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return $},set:function(W){if(!A(W))throw new Error("Width must be between 0 and 100.");$=W}},lines:{enumerable:!0,get:function(){return fe},set:function(W){if("number"!=typeof W)throw new TypeError("Lines must be set to a number.");fe=W}},regionAnchorY:{enumerable:!0,get:function(){return ce},set:function(W){if(!A(W))throw new Error("RegionAnchorX must be between 0 and 100.");ce=W}},regionAnchorX:{enumerable:!0,get:function(){return ee},set:function(W){if(!A(W))throw new Error("RegionAnchorY must be between 0 and 100.");ee=W}},viewportAnchorY:{enumerable:!0,get:function(){return oe},set:function(W){if(!A(W))throw new Error("ViewportAnchorY must be between 0 and 100.");oe=W}},viewportAnchorX:{enumerable:!0,get:function(){return ue},set:function(W){if(!A(W))throw new Error("ViewportAnchorX must be between 0 and 100.");ue=W}},scroll:{enumerable:!0,get:function(){return j},set:function(W){var ne=function($){return"string"==typeof $&&!!Le[$.toLowerCase()]&&$.toLowerCase()}(W);!1===ne?console.warn("Scroll: an invalid or illegal string was specified."):j=ne}}})}},9030:(ct,Le,F)=>{"use strict";F.d(Le,{l:()=>ae});var A=F(6465),y=F(8002),$=F(5304);var oe=F(4762),j=F(205),W=F(136);const ne=({networkError:_e,graphQLErrors:Pe,message:De})=>{var Ae;if(Pe&&Pe.forEach(ge=>console.log("Apollo GraphQL Error",ge)),_e){const ge=_e,{error:je}=ge,Ke=(0,oe._T)(ge,["error"]);console.log("Apollo Network Error",Ke),null===(Ae=je.error)||void 0===Ae||Ae.errors.forEach(Dt=>console.log("Apollo Network Error",Dt))}return(0,j._)(De)};let G={name:"",type:"bar",stack:"regions",tooltip:{valueFormatter:function(_e){return _e+" GWh"}},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0,0,0,0.3)"}},data:[]};var Ce=F(8720);let ae=(()=>{class _e{constructor(De){this.apollo=De}queryBalanceData(De){let[Ae,ge]=function(_e){switch(_e.balance){case"Energiebilanz":return function(_e){let De,Pe={};return void 0!==_e.aggregate&&void 0!==_e.carrier&&(Pe={aggregates:_e.aggregate[0],years:_e.years,regions:_e.regions,carriers:_e.carrier}),De=A.Ps`
		query (
			$aggregates: String
			$years: [Int]
			$regions: [String]
			$carriers: String
		) {
			energyBalance(
				aggregates: $aggregates
				years: $years
				regions: $regions
				carriers: $carriers
			) {
				value
				years
				regions
				carriers
				aggregates
			}
		}
	`,[De,Pe]}(_e);case"Nutzenergieanalyse":return function(_e){console.log("~ features",_e);let De,Pe={};return void 0!==_e.aggregate&&void 0!==_e.carrier&&void 0!==_e.usage&&(Pe={aggregates:_e.aggregate[0],years:_e.years,regions:_e.regions,carriers:_e.carrier,usages:_e.usage}),De=A.Ps`
		query (
			$aggregates: String
			$years: [Int]
			$regions: [String]
			$carriers: String
			$usages: String
		) {
			usageAnalysisBalance(
				aggregates: $aggregates
				years: $years
				regions: $regions
				carriers: $carriers
				usages: $usages
			) {
				value
				years
				regions
				carriers
				aggregates
			}
		}
	`,[De,Pe]}(_e);case"Erneuerbare":return function(_e){let De,Pe={};return void 0!==_e.aggregate&&(Pe={aggregates:_e.aggregate[0],years:_e.years,regions:_e.regions}),De=A.Ps`
		query ($aggregates: String, $years: [Int], $regions: [String]) {
			renewablesBalance(
				aggregates: $aggregates
				years: $years
				regions: $regions
			) {
				value
				regions
				years
				aggregates
			}
		}
	`,[De,Pe]}(_e);default:throw Error("Balance name wrong or not found")}}(De);return this.apollo.watchQuery({query:Ae,variables:ge}).valueChanges.pipe((0,y.U)(je=>function(_e,Pe){let De=W.X[Pe.balance],Ae=Pe.regions,ge=!1,je=0;console.log("~ data",_e),console.log("~ data",_e[De]);let Ke=[];Ae.forEach(Ye=>{let Y=JSON.parse(JSON.stringify(G));Y.name=Ye,"AT"===Ye&&(Y.type="line",Y.lineStyle={width:4},Y.stack="total",ge=!0),_e[De].filter(pe=>pe.regions===Ye).sort(({years:pe},{years:Ee})=>pe-Ee).forEach(pe=>{Y.data.push(Math.round(.277*pe.value)),je+=pe.value}),Ke.push(Y)});let dt={yearsData:Pe.years,series:Ke,secondYaxis:ge,totalValue:je};return console.log("~ totalValue",je),dt}(je.data,De)),(0,$.K)(ne))}queryBalanceIndex(De){return this.apollo.watchQuery({query:this.getIndexQueryGQL(De)}).valueChanges.pipe((0,y.U)(Ae=>Ae.data),(0,$.K)(ne))}getIndexQueryGQL(De){return A.Ps`
			query {
				balanceIndex(name: "${De}") {
					data
				}
			}
		`}}return _e.\u0275fac=function(De){return new(De||_e)(Ce.LFG(A._M))},_e.\u0275prov=Ce.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},9598:(ct,Le,F)=>{"use strict";F.d(Le,{W:()=>Ye});var A=F(1215),$=F(9247),fe=F(3557);function oe(Y,B){let pe=function(Y,B){let re=[];return Y.forEach((pe,Ee)=>{re.push(B[pe])}),re}(function(Y){let B=Object.fromEntries(Object.entries(Y).filter(([pe,Ee])=>!0===Ee));return Object.keys(B)}(Y.regions),B);return Y.regions=pe,Y}var G=F(136),ae=F(8629);function _e(Y){if(void 0!==Y.years&&!(0,ae.Qr)(Y.years)){let B=function(Y){switch(Y){case"Energiebilanz":return 1988;case"Nutzenergieanalyse":return 1993;case"Erneuerbare":return 1988}return null}(Y.balance),pe=[];return Object.entries(Y.years).forEach(([Ee,Fe])=>{Fe&&pe.push(parseInt(Ee)+B)}),pe}}var ge=F(8720);const dt={balance:"Energiebilanz",regions:{region_0:!0,region_1:!0,region_2:!0,region_3:!0,region_4:!0,region_5:!0,region_6:!0,region_7:!0,region_8:!1,region_9:!1},years:{18:!0,19:!0,21:!0,22:!1,23:!1,24:!1,25:!1,26:!1},aggregate:["Bruttoinlandsverbrauch"],carrier:"Petroleum",usage:{usageSwitch_0:!1,usageSwitch_1:!1,usageSwitch_2:!1,usageSwitch_3:!1,usageSwitch_4:!1,usageSwitch_5:!1,usageSwitch_6:!1,usageSwitch_7:!0}};let Ye=(()=>{class Y extends A.b{constructor(){super(dt),this.regionNamesMap=function(){let Y={};if(Y=function(Y){return Object.entries(fe.W).filter(([re,pe])=>{if(re.includes("region_")){const Fe=pe.split("/").pop().split(".").slice(-2,-1)[0];Y[re]=Fe}}),Y}(Y),0===Object.keys(Y).length)throw new Error("Entries in videosource array does not include right keys and/or values for regions!");return Y}(),this.selectedBalance$=this.select(re=>re.balance),this.selectedRegions$=this.select(re=>re.regions),this.selectedYears$=this.select(re=>re.years),this.selectedUsage$=this.select(re=>re.usage),this.selectedFeaturesFetch$=this.select(re=>{let pe=Object.assign({},re);pe=function(Y,B){Y=oe(Y,B);let pe=[];return Y.regions.forEach(Ee=>{pe.push($.UF[Ee])}),Y.regions=pe,Y}(pe,this.regionNamesMap);let Ee=_e(pe);return void 0!==Ee&&(pe.years=Ee),pe=function(Y){let B=Y.balance,re=Y.aggregate,pe=0,Ee=[];if(void 0!==re&&(re.length>1?("Energiebilanz"===B&&(re=re.slice(1)),Ee.push(re.join("_"))):Ee.push(re[0]),"Nutzenergieanalyse"!==B)){switch(B){case"Energiebilanz":pe=5-re.length;break;case"Erneuerbare":pe=3-re.length}for(let Fe=0;Fe<pe;Fe++)Ee.push("Gesamt");Ee=[Ee.join("_")],Y.aggregate=Ee}return Y}(pe),void 0!==pe.usage&&(pe=function(Y){return Object.entries(Y.usage).forEach(([re,pe])=>{pe&&(Y.usage=G.Ud[re])}),Y}(pe)),pe}),this.selectedFeaturesInfo$=this.select(re=>{let pe=Object.assign({},re);if(void 0!==pe.regions&&(pe=oe(pe,this.regionNamesMap),pe.regions=function(Y){let B=[];return Y.forEach(re=>{B.push($.UF[re])}),B}(pe.regions)),void 0!==pe.years){let Ee=_e(pe);void 0!==Ee&&(pe.years=function(Y){return String(Y[0])+" - "+String(Y[Y.length-1])}(Ee))}return void 0!==pe.aggregate&&(pe.aggregate=pe.aggregate.slice(-1)),void 0!==pe.usage&&(pe.usage=function(Y){let B="";return Object.keys(Y).forEach(re=>{Y[re]&&(B=G.Ud[re])}),B}(pe.usage)),pe})}setBalance(re){this.setState({balance:re})}setGenericRegions(re){this.setState({regions:re})}setYears(re){this.setState({years:re})}setAggregate(re){this.setState({aggregate:re})}setCarrier(re){this.setState({carrier:re})}setUsage(re){this.setState({usage:re})}}return Y.\u0275fac=function(re){return new(re||Y)},Y.\u0275prov=ge.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})()},8078:(ct,Le,F)=>{"use strict";F.d(Le,{Z:()=>ue});var A=F(6215),y=F(5319),$=F(7519),fe=F(3256),ee=F(8720),ce=F(881);let ue=(()=>{class oe{constructor(W,ne){this.router=W,this.uiState=ne,this.baseURL="",this._previousRoute$=new A.X("undefined"),this._currentRoute$=new A.X(this.router.url),this.subs=new y.w,this.previousRoute$=this._previousRoute$.asObservable().pipe((0,$.x)()),this.currentRoute$=this._currentRoute$.asObservable().pipe((0,$.x)()),this.currentRoute=this.router.url,this.subscriptionPreviousRoute=this.router.events.subscribe(G=>{G instanceof fe.m2&&(this._previousRoute$.next(this.currentRoute),this.currentRoute=G.url)}),this.subscriptionActiveView=this.uiState.activeView$.subscribe(G=>{this.activeView=G}),this.subscriptionActiveConfigFeature=this.uiState.activeConfigFeature$.subscribe(G=>{void 0!==G&&(this.activeConfigFeature=G)}),this.subs.add(this.subscriptionPreviousRoute),this.subs.add(this.subscriptionActiveView),this.subs.add(this.subscriptionActiveConfigFeature)}updateRoute(W){let ne;switch(W){case"description":ne="intro";break;case"config":ne="config".concat("/",this.activeConfigFeature);break;case"config-info":ne="config-info";break;case"chart":ne="chart"}this.router.navigate([ne])}ngOnDestroy(){this.subs.unsubscribe()}}return oe.\u0275fac=function(W){return new(W||oe)(ee.LFG(fe.F0),ee.LFG(ce.B))},oe.\u0275prov=ee.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})()},1215:(ct,Le,F)=>{"use strict";F.d(Le,{b:()=>fe});var A=F(6215),y=F(8002),$=F(7519);class fe{constructor(ce){this.state$=new A.X(ce)}get state(){return this.state$.getValue()}select(ce){return this.state$.asObservable().pipe((0,y.U)(ue=>ce(ue)),(0,$.x)())}setState(ce){this.state$.next(Object.assign(Object.assign({},this.state),ce))}}},881:(ct,Le,F)=>{"use strict";F.d(Le,{B:()=>ee});var A=F(136),y=F(1215),$=F(8720);const fe={activeView:"description",activeConfigFeature:"balance",configButtonTouched:!1,configButtonLocked:!0,cubeButtonTouched:!1,cubeButtonLocked:!0,chartButtonLocked:!0,audioIsPlaying:!1,pwaInstall:void 0};let ee=(()=>{class ce extends y.b{constructor(){super(fe),this.activeView$=this.select(oe=>oe.activeView),this.activeConfigFeature$=this.select(oe=>oe.activeConfigFeature),this.configButtonTouched$=this.select(oe=>oe.configButtonTouched),this.configButtonLocked$=this.select(oe=>oe.configButtonLocked),this.cubeButtonTouched$=this.select(oe=>oe.cubeButtonTouched),this.cubeButtonLocked$=this.select(oe=>oe.cubeButtonLocked),this.chartButtonLocked$=this.select(oe=>oe.chartButtonLocked),this.audioIsPlaying$=this.select(oe=>oe.audioIsPlaying),this.pwaInstall$=this.select(oe=>oe.pwaInstall)}setActiveView(oe){this.setState({activeView:oe})}setActiveConfigFeature(oe){this.setState({activeConfigFeature:oe})}setAudioPlaying(oe){this.setState({audioIsPlaying:oe})}setConfigButtonTouched(oe){this.setState({configButtonTouched:oe})}setConfigButtonLocked(oe){this.setState({configButtonLocked:oe})}handleVeryFirstConfigButtonClicked(){this.setCubeButtonLocked(!1),this.setConfigButtonLocked(!0),this.setConfigButtonTouched(!0)}setCubeButtonTouched(oe){this.setState({cubeButtonTouched:oe})}setCubeButtonLocked(oe){this.setState({cubeButtonLocked:oe})}setActiveFeatureFromCubeButtonState(oe){this.setActiveConfigFeature(A.yd[oe])}setChartButtonLocked(oe){this.setState({chartButtonLocked:oe})}setPWAInstall(oe){this.setState({pwaInstall:oe})}}return ce.\u0275fac=function(oe){return new(oe||ce)},ce.\u0275prov=$.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},136:(ct,Le,F)=>{"use strict";F.d(Le,{rC:()=>y,yd:()=>$,l_:()=>fe,X:()=>ee,Ud:()=>ue,tu:()=>oe,Qq:()=>j});const y=["Energiebilanz","Nutzenergieanalyse","Erneuerbare"],$={intro:void 0,digitOne:"balance",digitTwo:"regions",digitThree:"years",digitFour:"aggregate",digitFive:"carrier",digitSix:"usage"},fe={Energiebilanz:"eb",Nutzenergieanalyse:"nea",Erneuerbare:"res"},ee={Energiebilanz:"energyBalance",Nutzenergieanalyse:"usageAnalysisBalance",Erneuerbare:"renewablesBalance"},ue={usageSwitch_0:"Beleuchtung und EDV",usageSwitch_1:"Dampferzeugung",usageSwitch_2:"Elektrochemische Zwecke",usageSwitch_3:"Industrie\xf6fen",usageSwitch_4:"Raumheizung und Klimaanlagen",usageSwitch_5:"Standmotoren",usageSwitch_6:"Traktion",usageSwitch_7:"Summe"},oe={Energiebilanz:"EB",Nutzenergieanalyse:"UA",Erneuerbare:"RES"},j={width:400,left:"22%",right:"0%",fontsize:28}},8629:(ct,Le,F)=>{"use strict";function A(fe){return new Promise(ee=>setTimeout(ee,fe))}function y(fe){return 0===Object.keys(fe).length&&fe.constructor===Object}F.d(Le,{Vs:()=>A,Qr:()=>y})},9247:(ct,Le,F)=>{"use strict";F.d(Le,{UA:()=>A,UF:()=>$});const A=["Wien","Burgenland","Nieder\xf6sterreich","Ober\xf6sterreich","Steiermark","Salzburg","Tirol","Vorarlberg","K\xe4rnten","Austria"],$={Wien:"Wie",Nieder\u00f6sterreich:"Noe",Ober\u00f6sterreich:"Ooe",Burgenland:"Bgl",Steiermark:"Stk",Salzburg:"Sbg",Tirol:"Tir",Vorarlberg:"Vor",K\u00e4rnten:"Ktn",Austria:"AT"}},9522:(ct,Le,F)=>{"use strict";F.d(Le,{p:()=>A_});var A=F(8239),y=F(4897),$=F.n(y),fe=F(8161),ee=F.n(fe);function ce(){return(ce=Object.assign||function(p){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s])}return p}).apply(this,arguments)}function ue(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function oe(p,o){return(oe=Object.setPrototypeOf||function(s,n){return s.__proto__=n,s})(p,o)}function j(p,o){p.prototype=Object.create(o.prototype),p.prototype.constructor=p,oe(p,o)}var W=F(1395),ne=F.n(W),G=F(3216),le=F.n(G),Ce=F(2472),ae=F.n(Ce),_e=F(3277),Pe=F.n(_e);function De(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}}function Ae(p,o,a){return(Ae=De()?Reflect.construct:function(n,i,c){var m=[null];m.push.apply(m,i);var O=new(Function.bind.apply(n,m));return c&&oe(O,c.prototype),O}).apply(null,arguments)}var je=F(3958),Ke=F.n(je),Dt="http://example.com";const Ye=function(o,a){if(/^[a-z]+:/i.test(a))return a;/^data:/.test(o)&&(o=$().location&&$().location.href||"");var s="function"==typeof $().URL,n=/^\/\//.test(o),i=!$().location&&!/\/\//i.test(o);if(s?o=new($().URL)(o,$().location||Dt):/\/\//i.test(o)||(o=Ke().buildAbsoluteURL($().location&&$().location.href||"",o)),s){var c=new URL(a,o);return i?c.href.slice(Dt.length):n?c.href.slice(c.protocol.length):c.href}return Ke().buildAbsoluteURL(o,a)};var Y=function(){function p(){this.listeners={}}var o=p.prototype;return o.on=function(s,n){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(n)},o.off=function(s,n){if(!this.listeners[s])return!1;var i=this.listeners[s].indexOf(n);return this.listeners[s]=this.listeners[s].slice(0),this.listeners[s].splice(i,1),i>-1},o.trigger=function(s){var n=this.listeners[s];if(n)if(2===arguments.length)for(var i=n.length,c=0;c<i;++c)n[c].call(this,arguments[1]);else for(var m=Array.prototype.slice.call(arguments,1),E=n.length,O=0;O<E;++O)n[O].apply(this,m)},o.dispose=function(){this.listeners={}},o.pipe=function(s){this.on("data",function(n){s.push(n)})},p}();function re(p){for(var o=function(o){return $().atob?$().atob(o):Buffer.from(o,"base64").toString("binary")}(p),a=new Uint8Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return a}var ga,p,pe=function(p){function o(){var s;return(s=p.call(this)||this).buffer="",s}return j(o,p),o.prototype.push=function(n){var i;for(this.buffer+=n,i=this.buffer.indexOf("\n");i>-1;i=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)},o}(Y),Ee=String.fromCharCode(9),Fe=function(o){var a=/([0-9.]*)?@?([0-9.]*)?/.exec(o||""),s={};return a[1]&&(s.length=parseInt(a[1],10)),a[2]&&(s.offset=parseInt(a[2],10)),s},Je=function(o){for(var i,a=o.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),s={},n=a.length;n--;)""!==a[n]&&((i=/([^=]*)=(.*)/.exec(a[n]).slice(1))[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),s[i[0]]=i[1]);return s},ft=function(p){function o(){var s;return(s=p.call(this)||this).customParsers=[],s.tagMappers=[],s}j(o,p);var a=o.prototype;return a.push=function(n){var c,m,i=this;if(0!==(n=n.trim()).length){if("#"!==n[0])return void this.trigger("data",{type:"uri",uri:n});this.tagMappers.reduce(function(O,R){var Z=R(n);return Z===n?O:O.concat([Z])},[n]).forEach(function(O){for(var R=0;R<i.customParsers.length;R++)if(i.customParsers[R].call(i,O))return;if(0===O.indexOf("#EXT"))if(O=O.replace("\r",""),c=/^#EXTM3U/.exec(O))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(c=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(O))return m={type:"tag",tagType:"inf"},c[1]&&(m.duration=parseFloat(c[1])),c[2]&&(m.title=c[2]),void i.trigger("data",m);if(c=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(O))return m={type:"tag",tagType:"targetduration"},c[1]&&(m.duration=parseInt(c[1],10)),void i.trigger("data",m);if(c=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(O))return m={type:"tag",tagType:"version"},c[1]&&(m.version=parseInt(c[1],10)),void i.trigger("data",m);if(c=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(O))return m={type:"tag",tagType:"media-sequence"},c[1]&&(m.number=parseInt(c[1],10)),void i.trigger("data",m);if(c=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(O))return m={type:"tag",tagType:"discontinuity-sequence"},c[1]&&(m.number=parseInt(c[1],10)),void i.trigger("data",m);if(c=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(O))return m={type:"tag",tagType:"playlist-type"},c[1]&&(m.playlistType=c[1]),void i.trigger("data",m);if(c=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(O))return m=ce(Fe(c[1]),{type:"tag",tagType:"byterange"}),void i.trigger("data",m);if(c=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(O))return m={type:"tag",tagType:"allow-cache"},c[1]&&(m.allowed=!/NO/.test(c[1])),void i.trigger("data",m);if(c=/^#EXT-X-MAP:?(.*)$/.exec(O)){if(m={type:"tag",tagType:"map"},c[1]){var Z=Je(c[1]);Z.URI&&(m.uri=Z.URI),Z.BYTERANGE&&(m.byterange=Fe(Z.BYTERANGE))}i.trigger("data",m)}else if(c=/^#EXT-X-STREAM-INF:?(.*)$/.exec(O)){if(m={type:"tag",tagType:"stream-inf"},c[1]){if(m.attributes=Je(c[1]),m.attributes.RESOLUTION){var q=m.attributes.RESOLUTION.split("x"),ve={};q[0]&&(ve.width=parseInt(q[0],10)),q[1]&&(ve.height=parseInt(q[1],10)),m.attributes.RESOLUTION=ve}m.attributes.BANDWIDTH&&(m.attributes.BANDWIDTH=parseInt(m.attributes.BANDWIDTH,10)),m.attributes["PROGRAM-ID"]&&(m.attributes["PROGRAM-ID"]=parseInt(m.attributes["PROGRAM-ID"],10))}i.trigger("data",m)}else{if(c=/^#EXT-X-MEDIA:?(.*)$/.exec(O))return m={type:"tag",tagType:"media"},c[1]&&(m.attributes=Je(c[1])),void i.trigger("data",m);if(c=/^#EXT-X-ENDLIST/.exec(O))i.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(c=/^#EXT-X-DISCONTINUITY/.exec(O)))return(c=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(O))?(m={type:"tag",tagType:"program-date-time"},c[1]&&(m.dateTimeString=c[1],m.dateTimeObject=new Date(c[1])),void i.trigger("data",m)):(c=/^#EXT-X-KEY:?(.*)$/.exec(O))?(m={type:"tag",tagType:"key"},c[1]&&(m.attributes=Je(c[1]),m.attributes.IV&&("0x"===m.attributes.IV.substring(0,2).toLowerCase()&&(m.attributes.IV=m.attributes.IV.substring(2)),m.attributes.IV=m.attributes.IV.match(/.{8}/g),m.attributes.IV[0]=parseInt(m.attributes.IV[0],16),m.attributes.IV[1]=parseInt(m.attributes.IV[1],16),m.attributes.IV[2]=parseInt(m.attributes.IV[2],16),m.attributes.IV[3]=parseInt(m.attributes.IV[3],16),m.attributes.IV=new Uint32Array(m.attributes.IV))),void i.trigger("data",m)):(c=/^#EXT-X-START:?(.*)$/.exec(O))?(m={type:"tag",tagType:"start"},c[1]&&(m.attributes=Je(c[1]),m.attributes["TIME-OFFSET"]=parseFloat(m.attributes["TIME-OFFSET"]),m.attributes.PRECISE=/YES/.test(m.attributes.PRECISE)),void i.trigger("data",m)):(c=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(O))?((m={type:"tag",tagType:"cue-out-cont"}).data=c[1]?c[1]:"",void i.trigger("data",m)):(c=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(O))?((m={type:"tag",tagType:"cue-out"}).data=c[1]?c[1]:"",void i.trigger("data",m)):(c=/^#EXT-X-CUE-IN:?(.*)?$/.exec(O))?((m={type:"tag",tagType:"cue-in"}).data=c[1]?c[1]:"",void i.trigger("data",m)):(c=/^#EXT-X-SKIP:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"skip"}).attributes=Je(c[1]),m.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(m.attributes["SKIPPED-SEGMENTS"]=parseInt(m.attributes["SKIPPED-SEGMENTS"],10)),m.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(m.attributes["RECENTLY-REMOVED-DATERANGES"]=m.attributes["RECENTLY-REMOVED-DATERANGES"].split(Ee)),void i.trigger("data",m)):(c=/^#EXT-X-PART:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"part"}).attributes=Je(c[1]),["DURATION"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=parseFloat(m.attributes[Me]))}),["INDEPENDENT","GAP"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=/YES/.test(m.attributes[Me]))}),m.attributes.hasOwnProperty("BYTERANGE")&&(m.attributes.byterange=Fe(m.attributes.BYTERANGE)),void i.trigger("data",m)):(c=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"server-control"}).attributes=Je(c[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=parseFloat(m.attributes[Me]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=/YES/.test(m.attributes[Me]))}),void i.trigger("data",m)):(c=/^#EXT-X-PART-INF:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"part-inf"}).attributes=Je(c[1]),["PART-TARGET"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=parseFloat(m.attributes[Me]))}),void i.trigger("data",m)):(c=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"preload-hint"}).attributes=Je(c[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(Me){if(m.attributes.hasOwnProperty(Me)){m.attributes[Me]=parseInt(m.attributes[Me],10);var xe="BYTERANGE-LENGTH"===Me?"length":"offset";m.attributes.byterange=m.attributes.byterange||{},m.attributes.byterange[xe]=m.attributes[Me],delete m.attributes[Me]}}),void i.trigger("data",m)):(c=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(O))&&c[1]?((m={type:"tag",tagType:"rendition-report"}).attributes=Je(c[1]),["LAST-MSN","LAST-PART"].forEach(function(Me){m.attributes.hasOwnProperty(Me)&&(m.attributes[Me]=parseInt(m.attributes[Me],10))}),void i.trigger("data",m)):void i.trigger("data",{type:"tag",data:O.slice(4)});i.trigger("data",{type:"tag",tagType:"discontinuity"})}}}else i.trigger("data",{type:"comment",text:O.slice(1)})})}},a.addParser=function(n){var i=this,c=n.expression,m=n.customType,E=n.dataParser,O=n.segment;"function"!=typeof E&&(E=function(Z){return Z}),this.customParsers.push(function(R){if(c.exec(R))return i.trigger("data",{type:"custom",data:E(R),customType:m,segment:O}),!0})},a.addTagMapper=function(n){var i=n.expression,c=n.map;this.tagMappers.push(function(O){return i.test(O)?c(O):O})},o}(Y),lt=function(o){var a={};return Object.keys(o).forEach(function(s){a[function(o){return o.toLowerCase().replace(/-(\w)/g,function(a){return a[1].toUpperCase()})}(s)]=o[s]}),a},He=function(o){var a=o.serverControl,s=o.targetDuration,n=o.partTargetDuration;if(a){var i="#EXT-X-SERVER-CONTROL",c="holdBack",m="partHoldBack",E=s&&3*s,O=n&&2*n;s&&!a.hasOwnProperty(c)&&(a[c]=E,this.trigger("info",{message:i+" defaulting HOLD-BACK to targetDuration * 3 ("+E+")."})),E&&a[c]<E&&(this.trigger("warn",{message:i+" clamping HOLD-BACK ("+a[c]+") to targetDuration * 3 ("+E+")"}),a[c]=E),n&&!a.hasOwnProperty(m)&&(a[m]=3*n,this.trigger("info",{message:i+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+a[m]+")."})),n&&a[m]<O&&(this.trigger("warn",{message:i+" clamping PART-HOLD-BACK ("+a[m]+") to partTargetDuration * 2 ("+O+")."}),a[m]=O)}},nt=function(p){function o(){var s;(s=p.call(this)||this).lineStream=new pe,s.parseStream=new ft,s.lineStream.pipe(s.parseStream);var m,E,n=ue(s),i=[],c={},O=!1,R=function(){},Z={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},ve=0;s.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var Me=0,xe=0;return s.on("end",function(){c.uri||!c.parts&&!c.preloadHints||(!c.map&&m&&(c.map=m),!c.key&&E&&(c.key=E),!c.timeline&&"number"==typeof ve&&(c.timeline=ve),s.manifest.preloadSegment=c)}),s.parseStream.on("data",function(we){var st,it;({tag:function(){({version:function(){we.version&&(this.manifest.version=we.version)},"allow-cache":function(){this.manifest.allowCache=we.allowed,"allowed"in we||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var wt={};"length"in we&&(c.byterange=wt,wt.length=we.length,"offset"in we||(we.offset=Me)),"offset"in we&&(c.byterange=wt,wt.offset=we.offset),Me=wt.offset+wt.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),we.duration>0&&(c.duration=we.duration),0===we.duration&&(c.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){if(we.attributes)if("NONE"!==we.attributes.METHOD)if(we.attributes.URI){if("com.apple.streamingkeydelivery"===we.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:we.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===we.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(we.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===we.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==we.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):we.attributes.KEYID&&"0x"===we.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:we.attributes.KEYFORMAT,keyId:we.attributes.KEYID.substring(2)},pssh:re(we.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));we.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),E={method:we.attributes.METHOD||"AES-128",uri:we.attributes.URI},void 0!==we.attributes.IV&&(E.iv=we.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else E=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(we.number)?this.manifest.mediaSequence=we.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+we.number})},"discontinuity-sequence":function(){isFinite(we.number)?(this.manifest.discontinuitySequence=we.number,ve=we.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+we.number})},"playlist-type":function(){/VOD|EVENT/.test(we.playlistType)?this.manifest.playlistType=we.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+we.playlist})},map:function(){m={},we.uri&&(m.uri=we.uri),we.byterange&&(m.byterange=we.byterange),E&&(m.key=E)},"stream-inf":function(){this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||Z,we.attributes?(c.attributes||(c.attributes={}),ce(c.attributes,we.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||Z,we.attributes&&we.attributes.TYPE&&we.attributes["GROUP-ID"]&&we.attributes.NAME){var wt=this.manifest.mediaGroups[we.attributes.TYPE];wt[we.attributes["GROUP-ID"]]=wt[we.attributes["GROUP-ID"]]||{},st=wt[we.attributes["GROUP-ID"]],(it={default:/yes/i.test(we.attributes.DEFAULT)}).autoselect=!!it.default||/yes/i.test(we.attributes.AUTOSELECT),we.attributes.LANGUAGE&&(it.language=we.attributes.LANGUAGE),we.attributes.URI&&(it.uri=we.attributes.URI),we.attributes["INSTREAM-ID"]&&(it.instreamId=we.attributes["INSTREAM-ID"]),we.attributes.CHARACTERISTICS&&(it.characteristics=we.attributes.CHARACTERISTICS),we.attributes.FORCED&&(it.forced=/yes/i.test(we.attributes.FORCED)),st[we.attributes.NAME]=it}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){ve+=1,c.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=we.dateTimeString,this.manifest.dateTimeObject=we.dateTimeObject),c.dateTimeString=we.dateTimeString,c.dateTimeObject=we.dateTimeObject},targetduration:function(){!isFinite(we.duration)||we.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+we.duration}):(this.manifest.targetDuration=we.duration,He.call(this,this.manifest))},start:function(){we.attributes&&!isNaN(we.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:we.attributes["TIME-OFFSET"],precise:we.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){c.cueOut=we.data},"cue-out-cont":function(){c.cueOutCont=we.data},"cue-in":function(){c.cueIn=we.data},skip:function(){this.manifest.skip=lt(we.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",we.attributes,["SKIPPED-SEGMENTS"])},part:function(){var wt=this;O=!0;var zt=this.manifest.segments.length,Jt=lt(we.attributes);c.parts=c.parts||[],c.parts.push(Jt),Jt.byterange&&(Jt.byterange.hasOwnProperty("offset")||(Jt.byterange.offset=xe),xe=Jt.byterange.offset+Jt.byterange.length),this.warnOnMissingAttributes_("#EXT-X-PART #"+(c.parts.length-1)+" for segment #"+zt,we.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(kt,Yt){kt.hasOwnProperty("lastPart")||wt.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+Yt+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var wt=this.manifest.serverControl=lt(we.attributes);wt.hasOwnProperty("canBlockReload")||(wt.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),He.call(this,this.manifest),wt.canSkipDateranges&&!wt.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var wt=this.manifest.segments.length,zt=lt(we.attributes),Jt=zt.type&&"PART"===zt.type;c.preloadHints=c.preloadHints||[],c.preloadHints.push(zt),zt.byterange&&(zt.byterange.hasOwnProperty("offset")||(zt.byterange.offset=Jt?xe:0,Jt&&(xe=zt.byterange.offset+zt.byterange.length)));var Lt=c.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+Lt+" for segment #"+wt,we.attributes,["TYPE","URI"]),zt.type)for(var kt=0;kt<c.preloadHints.length-1;kt++){var Yt=c.preloadHints[kt];!Yt.type||Yt.type===zt.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+Lt+" for segment #"+wt+" has the same TYPE "+zt.type+" as preload hint #"+kt})}},"rendition-report":function(){var wt=lt(we.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(wt);var zt=this.manifest.renditionReports.length-1,Jt=["LAST-MSN","URI"];O&&Jt.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+zt,we.attributes,Jt)},"part-inf":function(){this.manifest.partInf=lt(we.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",we.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),He.call(this,this.manifest)}}[we.tagType]||R).call(n)},uri:function(){c.uri=we.uri,i.push(c),this.manifest.targetDuration&&!("duration"in c)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),c.duration=this.manifest.targetDuration),E&&(c.key=E),c.timeline=ve,m&&(c.map=m),xe=0,c={}},comment:function(){},custom:function(){we.segment?(c.custom=c.custom||{},c.custom[we.customType]=we.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[we.customType]=we.data)}})[we.type].call(n)}),s}j(o,p);var a=o.prototype;return a.warnOnMissingAttributes_=function(n,i,c){var m=[];c.forEach(function(E){i.hasOwnProperty(E)||m.push(E)}),m.length&&this.trigger("warn",{message:n+" lacks required attribute(s): "+m.join(", ")})},a.push=function(n){this.lineStream.push(n)},a.end=function(){this.lineStream.push("\n"),this.trigger("end")},a.addParser=function(n){this.parseStream.addParser(n)},a.addTagMapper=function(n){this.parseStream.addTagMapper(n)},o}(Y),ht={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},jt=["video","audio","text"],Rt=["Video","Audio","Text"],qt=function(o){return o&&o.replace(/avc1\.(\d+)\.(\d+)/i,function(a,s,n){return"avc1."+("00"+Number(s).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})},fn=function(o){void 0===o&&(o="");var a=o.split(","),s=[];return a.forEach(function(n){var i;n=n.trim(),jt.forEach(function(c){var m=ht[c].exec(n.toLowerCase());if(m&&!(m.length<=1)){i=c;var E=n.substring(0,m[1].length),O=n.replace(E,"");s.push({type:E,details:O,mediaType:c})}}),i||s.push({type:n,details:"",mediaType:"unknown"})}),s},Sr=function(o){return void 0===o&&(o=""),ht.audio.test(o.trim().toLowerCase())},ai=function(o){if(o&&"string"==typeof o){var a=o.toLowerCase().split(",").map(function(i){return qt(i.trim())}),s="video";1===a.length&&Sr(a[0])?s="audio":1===a.length&&function(o){return void 0===o&&(o=""),ht.text.test(o.trim().toLowerCase())}(a[0])&&(s="application");var n="mp4";return a.every(function(i){return ht.mp4.test(i)})?n="mp4":a.every(function(i){return ht.webm.test(i)})?n="webm":a.every(function(i){return ht.ogg.test(i)})&&(n="ogg"),s+"/"+n+';codecs="'+o+'"'}},Kr=function(o){return void 0===o&&(o=""),$().MediaSource&&$().MediaSource.isTypeSupported&&$().MediaSource.isTypeSupported(ai(o))||!1},nr=function(o){return void 0===o&&(o=""),o.toLowerCase().split(",").every(function(a){a=a.trim();for(var s=0;s<Rt.length;s++)if(ht["muxer"+Rt[s]].test(a))return!0;return!1})},Oi="mp4a.40.2",Qn=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,qi=/^application\/dash\+xml/i,an=function(o){return Qn.test(o)?"hls":qi.test(o)?"dash":"application/vnd.videojs.vhs+json"===o?"vhs-json":null},Hn=F(4251),Mr=function(o){return!!o&&"object"==typeof o},pr=function p(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return a.reduce(function(n,i){return"object"!=typeof i||Object.keys(i).forEach(function(c){n[c]=Array.isArray(n[c])&&Array.isArray(i[c])?n[c].concat(i[c]):Mr(n[c])&&Mr(i[c])?p(n[c],i[c]):i[c]}),n},{})},Kt=function(o){return o.reduce(function(a,s){return a.concat(s)},[])},yn=function(o){if(!o.length)return[];for(var a=[],s=0;s<o.length;s++)a.push(o[s]);return a},Gr=function(o){var a=o.baseUrl,n=o.source,i=void 0===n?"":n,c=o.range,m=void 0===c?"":c,E=o.indexRange,O=void 0===E?"":E,R={uri:i,resolvedUri:Ye((void 0===a?"":a)||"",i)};if(m||O){var q=(m||O).split("-"),ve=parseInt(q[0],10),Me=parseInt(q[1],10);R.byterange={length:Me-ve+1,offset:ve}}return R},Pi=function(o){return o&&"number"!=typeof o&&(o=parseInt(o,10)),isNaN(o)?null:o},ha={static:function(o){var a=o.duration,s=o.timescale,n=void 0===s?1:s,i=o.sourceDuration,c=o.periodDuration,m=Pi(o.endNumber),E=a/n;return"number"==typeof m?{start:0,end:m}:"number"==typeof c?{start:0,end:c/E}:{start:0,end:i/E}},dynamic:function(o){var a=o.NOW,s=o.clientOffset,n=o.availabilityStartTime,i=o.timescale,c=void 0===i?1:i,m=o.duration,E=o.start,O=void 0===E?0:E,R=o.minimumUpdatePeriod,Z=void 0===R?0:R,q=o.timeShiftBufferDepth,ve=void 0===q?1/0:q,Me=Pi(o.endNumber),xe=(a+s)/1e3,we=n+O,bt=Math.ceil((xe+Z-we)*c/m),xt=Math.floor((xe-we-ve)*c/m),wt=Math.floor((xe-we)*c/m);return{start:Math.max(0,xt),end:"number"==typeof Me?Me:Math.min(bt,wt)}}},mo=function(o){var a=o.type,s=o.duration,n=o.timescale,i=void 0===n?1:n,c=o.periodDuration,m=o.sourceDuration,E=ha[a](o),Z=function(o,a){for(var s=[],n=o;n<a;n++)s.push(n);return s}(E.start,E.end).map(function(o){return function(a,s){var n=o.duration,i=o.timescale,E=o.startNumber;return{number:(void 0===E?1:E)+a,duration:n/(void 0===i?1:i),timeline:o.periodIndex,time:s*n}}}(o));if("static"===a){var q=Z.length-1;Z[q].duration=("number"==typeof c?c:m)-s/i*q}return Z},Zn=function(o){var a=o.baseUrl,s=o.initialization,n=void 0===s?{}:s,i=o.sourceDuration,c=o.indexRange,m=void 0===c?"":c,E=o.duration;if(!a)throw new Error("NO_BASE_URL");var O=Gr({baseUrl:a,source:n.sourceURL,range:n.range}),R=Gr({baseUrl:a,source:a,indexRange:m});if(R.map=O,E){var Z=mo(o);Z.length&&(R.duration=Z[0].duration,R.timeline=Z[0].timeline)}else i&&(R.duration=i,R.timeline=0);return R.number=0,[R]},pn=function(o,a,s){for(var n=o.sidx.map?o.sidx.map:null,i=o.sidx.duration,c=o.timeline||0,m=o.sidx.byterange,E=m.offset+m.length,O=a.timescale,R=a.references.filter(function(zt){return 1!==zt.referenceType}),Z=[],q=o.endList?"static":"dynamic",ve=E+a.firstOffset,Me=0;Me<R.length;Me++){var xe=a.references[Me],we=xe.referencedSize,wt=Zn({baseUrl:s,timescale:O,timeline:c,periodIndex:c,duration:xe.subsegmentDuration,sourceDuration:i,indexRange:ve+"-"+(ve+we-1),type:q})[0];n&&(wt.map=n),Z.push(wt),ve+=we}return o.segments=Z,o},Fn=function(o){return o&&o.uri+"-"+function(o){return o.offset+"-"+(o.offset+o.length-1)}(o.byterange)},pi=function(o){return function(o){return Object.keys(o).map(function(a){return o[a]})}(o.reduce(function(s,n){var c,i=n.attributes.id+(n.attributes.lang||"");return s[i]?(n.segments[0]&&(n.segments[0].discontinuity=!0),(c=s[i].segments).push.apply(c,n.segments),n.attributes.contentProtection&&(s[i].attributes.contentProtection=n.attributes.contentProtection)):s[i]=n,s},{})).map(function(s){return s.discontinuityStarts=function(o,a){return o.reduce(function(s,n,i){return n.discontinuity&&s.push(i),s},[])}(s.segments),s})},ss=function(o,a){var s=Fn(o.sidx),n=s&&a[s]&&a[s].sidx;return n&&pn(o,n,o.sidx.resolvedUri),o},vo=function(o,a){if(void 0===a&&(a={}),!Object.keys(a).length)return o;for(var s in o)o[s]=ss(o[s],a);return o},Vn=function(o){var a,s=o.attributes,n=o.segments,i=o.sidx,c={attributes:(a={NAME:s.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:s.width,height:s.height},CODECS:s.codecs,BANDWIDTH:s.bandwidth},a["PROGRAM-ID"]=1,a),uri:"",endList:"static"===s.type,timeline:s.periodIndex,resolvedUri:"",targetDuration:s.duration,segments:n,mediaSequence:n.length?n[0].number:1};return s.contentProtection&&(c.contentProtection=s.contentProtection),i&&(c.sidx=i),c},jn=function(o){var a=o.attributes;return"video/mp4"===a.mimeType||"video/webm"===a.mimeType||"video"===a.contentType},ir=function(o){var a=o.attributes;return"audio/mp4"===a.mimeType||"audio/webm"===a.mimeType||"audio"===a.contentType},gr=function(o){var a=o.attributes;return"text/vtt"===a.mimeType||"text"===a.contentType},Qi=function(o,a,s){var m=o.timescale,O=o.start,Z=o.minimumUpdatePeriod;return Math.ceil((((o.NOW+o.clientOffset)/1e3+(void 0===Z?0:Z)-(o.availabilityStartTime+(void 0===O?0:O)))*(void 0===m?1:m)-a)/s)},Ki=function(o,a){for(var s=o.type,n=o.minimumUpdatePeriod,i=void 0===n?0:n,c=o.media,m=void 0===c?"":c,E=o.sourceDuration,O=o.timescale,R=void 0===O?1:O,Z=o.startNumber,q=void 0===Z?1:Z,ve=o.periodIndex,Me=[],xe=-1,we=0;we<a.length;we++){var st=a[we],it=st.d,bt=st.r||0,xt=st.t||0;xe<0&&(xe=xt),xt&&xt>xe&&(xe=xt);var wt=void 0;if(bt<0){var zt=we+1;wt=zt===a.length?"dynamic"===s&&i>0&&m.indexOf("$Number$")>0?Qi(o,xe,it):(E*R-xe)/it:(a[zt].t-xe)/it}else wt=bt+1;for(var Jt=q+Me.length+wt,Lt=q+Me.length;Lt<Jt;)Me.push({number:Lt,duration:it/R,time:xe,timeline:ve}),xe+=it,Lt++}return Me},Et=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Di=function(o,a){return o.replace(Et,function(o){return function(a,s,n,i){if("$$"===a)return"$";if(void 0===o[s])return a;var c=""+o[s];return"RepresentationID"===s||(i=n?parseInt(i,10):1,c.length>=i)?c:""+new Array(i-c.length+1).join("0")+c}}(a))},Br=function(o,a){var s={RepresentationID:o.id,Bandwidth:o.bandwidth||0},n=o.initialization,i=void 0===n?{sourceURL:"",range:""}:n,c=Gr({baseUrl:o.baseUrl,source:Di(i.sourceURL,s),range:i.range});return function(o,a){return o.duration||a?o.duration?mo(o):Ki(o,a):[{number:o.startNumber||1,duration:o.sourceDuration,time:0,timeline:o.periodIndex}]}(o,a).map(function(E){s.Number=E.number,s.Time=E.time;var O=Di(o.media||"",s),q=o.periodStart+(E.time-(o.presentationTimeOffset||0))/(o.timescale||1);return{uri:O,timeline:E.timeline,duration:E.duration,resolvedUri:Ye(o.baseUrl||"",O),map:c,number:E.number,presentationTime:q}})},li=function(o,a){var s=o.duration,n=o.segmentUrls,i=void 0===n?[]:n,c=o.periodStart;if(!s&&!a||s&&a)throw new Error("SEGMENT_TIME_UNSPECIFIED");var E,m=i.map(function(R){return function(o,a){var s=o.baseUrl,n=o.initialization,i=void 0===n?{}:n,c=Gr({baseUrl:s,source:i.sourceURL,range:i.range}),m=Gr({baseUrl:s,source:a.media,range:a.mediaRange});return m.map=c,m}(o,R)});return s&&(E=mo(o)),a&&(E=Ki(o,a)),E.map(function(R,Z){if(m[Z]){var q=m[Z],ve=o.timescale||1,Me=o.presentationTimeOffset||0;return q.timeline=R.timeline,q.duration=R.duration,q.number=R.number,q.presentationTime=c+(R.time-Me)/ve,q}}).filter(function(R){return R})},gi=function(o){var n,i,a=o.attributes,s=o.segmentInfo;s.template?(i=Br,n=pr(a,s.template)):s.base?(i=Zn,n=pr(a,s.base)):s.list&&(i=li,n=pr(a,s.list));var c={attributes:a};if(!i)return c;var m=i(n,s.segmentTimeline);if(n.duration){var R=n.timescale;n.duration=n.duration/(void 0===R?1:R)}else n.duration=m.length?m.reduce(function(q,ve){return Math.max(q,Math.ceil(ve.duration))},0):0;return c.attributes=n,c.segments=m,s.base&&n.indexRange&&(c.sidx=m[0],c.segments=[]),c},yt=function(o,a){return yn(o.childNodes).filter(function(s){return s.tagName===a})},On=function(o){return o.textContent.trim()},sr=function(o){var E=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(o);if(!E)return 0;var O=E.slice(1),Z=O[1],q=O[2],ve=O[3],Me=O[4],xe=O[5];return 31536e3*parseFloat(O[0]||0)+2592e3*parseFloat(Z||0)+86400*parseFloat(q||0)+3600*parseFloat(ve||0)+60*parseFloat(Me||0)+parseFloat(xe||0)},Gs={mediaPresentationDuration:function(o){return sr(o)},availabilityStartTime:function(o){return function(o){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(o)&&(o+="Z"),Date.parse(o)}(o)/1e3},minimumUpdatePeriod:function(o){return sr(o)},suggestedPresentationDelay:function(o){return sr(o)},type:function(o){return o},timeShiftBufferDepth:function(o){return sr(o)},start:function(o){return sr(o)},width:function(o){return parseInt(o,10)},height:function(o){return parseInt(o,10)},bandwidth:function(o){return parseInt(o,10)},startNumber:function(o){return parseInt(o,10)},timescale:function(o){return parseInt(o,10)},presentationTimeOffset:function(o){return parseInt(o,10)},duration:function(o){var a=parseInt(o,10);return isNaN(a)?sr(o):a},d:function(o){return parseInt(o,10)},t:function(o){return parseInt(o,10)},r:function(o){return parseInt(o,10)},DEFAULT:function(o){return o}},Kn=function(o){return o&&o.attributes?yn(o.attributes).reduce(function(a,s){return a[s.name]=(Gs[s.name]||Gs.DEFAULT)(s.value),a},{}):{}},qs={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},_r=function(o,a){return a.length?Kt(o.map(function(s){return a.map(function(n){return Ye(s,On(n))})})):o},Zr=function(o){var a=yt(o,"SegmentTemplate")[0],s=yt(o,"SegmentList")[0],n=s&&yt(s,"SegmentURL").map(function(q){return pr({tag:"SegmentURL"},Kn(q))}),i=yt(o,"SegmentBase")[0],c=s||a,m=c&&yt(c,"SegmentTimeline")[0],E=s||i||a,O=E&&yt(E,"Initialization")[0],R=a&&Kn(a);R&&O?R.initialization=O&&Kn(O):R&&R.initialization&&(R.initialization={sourceURL:R.initialization});var Z={template:R,segmentTimeline:m&&yt(m,"S").map(function(q){return Kn(q)}),list:s&&pr(Kn(s),{segmentUrls:n,initialization:Kn(O)}),base:i&&pr(Kn(i),{initialization:Kn(O)})};return Object.keys(Z).forEach(function(q){Z[q]||delete Z[q]}),Z},mi=function(o,a){return function(s,n){var i=_r(a,yt(s.node,"BaseURL")),c=parseInt(s.attributes.id,10),m=$().isNaN(c)?n:c,E=pr(o,{periodIndex:m,periodStart:s.attributes.start});"number"==typeof s.attributes.duration&&(E.periodDuration=s.attributes.duration);var O=yt(s.node,"AdaptationSet"),R=Zr(s.node);return Kt(O.map(function(o,a,s){return function(n){var i=Kn(n),c=_r(a,yt(n,"BaseURL")),m=yt(n,"Role")[0],E={role:Kn(m)},O=pr(o,i,E),R=yt(n,"Accessibility")[0],Z=function(o){return"urn:scte:dash:cc:cea-608:2015"===o.schemeIdUri?("string"!=typeof o.value?[]:o.value.split(";")).map(function(n){var i,c;if(c=n,/^CC\d=/.test(n)){var m=n.split("=");i=m[0],c=m[1]}else/^CC\d$/.test(n)&&(i=n);return{channel:i,language:c}}):"urn:scte:dash:cc:cea-708:2015"===o.schemeIdUri?("string"!=typeof o.value?[]:o.value.split(";")).map(function(n){var i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){var c=n.split("="),E=c[1],O=void 0===E?"":E;i.channel=c[0],i.language=n,O.split(",").forEach(function(R){var Z=R.split(":"),q=Z[0],ve=Z[1];"lang"===q?i.language=ve:"er"===q?i.easyReader=Number(ve):"war"===q?i.aspectRatio=Number(ve):"3D"===q&&(i["3D"]=Number(ve))})}else i.language=n;return i.channel&&(i.channel="SERVICE"+i.channel),i}):void 0}(Kn(R));Z&&(O=pr(O,{captionServices:Z}));var q=yt(n,"Label")[0];if(q&&q.childNodes.length){var ve=q.childNodes[0].nodeValue.trim();O=pr(O,{label:ve})}var Me=function(o){return o.reduce(function(a,s){var n=Kn(s),i=qs[n.schemeIdUri];if(i){a[i]={attributes:n};var c=yt(s,"cenc:pssh")[0];if(c){var m=On(c),E=m&&re(m);a[i].pssh=E}}return a},{})}(yt(n,"ContentProtection"));Object.keys(Me).length&&(O=pr(O,{contentProtection:Me}));var xe=Zr(n),we=yt(n,"Representation"),st=pr(s,xe);return Kt(we.map(function(o,a,s){return function(n){var i=yt(n,"BaseURL"),c=_r(a,i),m=pr(o,Kn(n)),E=Zr(n);return c.map(function(O){return{segmentInfo:pr(s,E),attributes:pr(m,{baseUrl:O})}})}}(O,c,st)))}}(E,i,R)))}},ui=function(o){if(""===o)throw new Error("DASH_EMPTY_MANIFEST");var s,n,a=new Hn.DOMParser;try{n=(s=a.parseFromString(o,"application/xml"))&&"MPD"===s.documentElement.tagName?s.documentElement:null}catch(i){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return n},ur=function(o,a){void 0===a&&(a={});var s=function(o,a){void 0===a&&(a={});var s=a,n=s.manifestUri,i=void 0===n?"":n,c=s.NOW,m=void 0===c?Date.now():c,E=s.clientOffset,O=void 0===E?0:E,R=yt(o,"Period");if(!R.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var Z=yt(o,"Location"),q=Kn(o),ve=_r([i],yt(o,"BaseURL"));q.type=q.type||"static",q.sourceDuration=q.mediaPresentationDuration||0,q.NOW=m,q.clientOffset=O,Z.length&&(q.locations=Z.map(On));var Me=[];return R.forEach(function(xe,we){var st=Kn(xe),it=Me[we-1];st.start=function(o){var a=o.attributes,s=o.priorPeriodAttributes;return"number"==typeof a.start?a.start:s&&"number"==typeof s.start&&"number"==typeof s.duration?s.start+s.duration:s||"static"!==o.mpdType?null:0}({attributes:st,priorPeriodAttributes:it?it.attributes:null,mpdType:q.type}),Me.push({node:xe,attributes:st})}),{locations:q.locations,representationInfo:Kt(Me.map(mi(q,ve)))}}(ui(o),a);return function(o,a,s){var n;if(void 0===s&&(s={}),!o.length)return{};var i=o[0].attributes,c=i.sourceDuration,m=i.type,E=i.suggestedPresentationDelay,O=i.minimumUpdatePeriod,R=pi(o.filter(jn)).map(Vn),Z=pi(o.filter(ir)),q=o.filter(gr),ve=o.map(function(we){return we.attributes.captionServices}).filter(Boolean),Me={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:c,playlists:vo(R,s)};return O>=0&&(Me.minimumUpdatePeriod=1e3*O),a&&(Me.locations=a),"dynamic"===m&&(Me.suggestedPresentationDelay=E),Z.length&&(Me.mediaGroups.AUDIO.audio=function(o,a,s){void 0===a&&(a={}),void 0===s&&(s=!1);var n,i=o.reduce(function(m,E){var O=E.attributes.role&&E.attributes.role.value||"",R=E.attributes.lang||"",Z=E.attributes.label||"main";R&&!E.attributes.label&&(Z=E.attributes.lang+(O?" ("+O+")":"")),m[Z]||(m[Z]={language:R,autoselect:!0,default:"main"===O,playlists:[],uri:""});var ve=ss(function(o,a){var s,n=o.attributes,i=o.segments,c=o.sidx,m={attributes:(s={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},s["PROGRAM-ID"]=1,s),uri:"",endList:"static"===n.type,timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(m.contentProtection=n.contentProtection),c&&(m.sidx=c),a&&(m.attributes.AUDIO="audio",m.attributes.SUBTITLES="subs"),m}(E,s),a);return m[Z].playlists.push(ve),void 0===n&&"main"===O&&((n=E).default=!0),m},{});return n||(i[Object.keys(i)[0]].default=!0),i}(Z,s,0===Me.playlists.length)),q.length&&(Me.mediaGroups.SUBTITLES.subs=function(o,a){return void 0===a&&(a={}),o.reduce(function(s,n){var i=n.attributes.lang||"text";return s[i]||(s[i]={language:i,default:!1,autoselect:!1,playlists:[],uri:""}),s[i].playlists.push(ss(function(o){var a,s=o.attributes,n=o.segments;void 0===n&&(n=[{uri:s.baseUrl,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",duration:s.sourceDuration,number:0}],s.duration=s.sourceDuration);var i=((a={NAME:s.id,BANDWIDTH:s.bandwidth})["PROGRAM-ID"]=1,a);return s.codecs&&(i.CODECS=s.codecs),{attributes:i,uri:"",endList:"static"===s.type,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",targetDuration:s.duration,segments:n,mediaSequence:n.length?n[0].number:1}}(n),a)),s},{})}(q,s)),ve.length&&(Me.mediaGroups["CLOSED-CAPTIONS"].cc=function(o){return o.reduce(function(a,s){return s&&s.forEach(function(n){var c=n.language;a[c]={autoselect:!1,default:!1,instreamId:n.channel,language:c},n.hasOwnProperty("aspectRatio")&&(a[c].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(a[c].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(a[c]["3D"]=n["3D"])}),a},{})}(ve)),Me}(function(o){return o.map(gi)}(s.representationInfo),s.locations,a.sidxMapping)},Bo=F(1001),Qs=F.n(Bo),ln=function(o){return o instanceof Uint8Array?o:(!Array.isArray(o)&&!function(o){return ArrayBuffer.isView(o)}(o)&&!(o instanceof ArrayBuffer)&&(o="number"!=typeof o||"number"==typeof o&&o!=o?0:[o]),new Uint8Array(o&&o.buffer||o,o&&o.byteOffset||0,o&&o.byteLength||0))},Dr=$().BigInt||Number,zn=[Dr("0x1"),Dr("0x100"),Dr("0x10000"),Dr("0x1000000"),Dr("0x100000000"),Dr("0x10000000000"),Dr("0x1000000000000"),Dr("0x100000000000000"),Dr("0x10000000000000000")],zl=(p=new Uint16Array([65484]),new Uint8Array(p.buffer,p.byteOffset,p.byteLength),function(o,a){var s=void 0===a?{}:a,n=s.signed,i=void 0!==n&&n,c=s.le,m=void 0!==c&&c;o=ln(o);var E=m?"reduce":"reduceRight",R=(o[E]?o[E]:Array.prototype[E]).call(o,function(q,ve,Me){var xe=m?Me:Math.abs(Me+1-o.length);return q+Dr(ve)*zn[xe]},Dr(0));if(i){var Z=zn[o.length]/Dr(2)-Dr(1);(R=Dr(R))>Z&&(R-=Z,R-=Z,R-=Dr(2))}return Number(R)}),pa=function(o,a){if("string"!=typeof o&&o&&"function"==typeof o.toString&&(o=o.toString()),"string"!=typeof o)return new Uint8Array;a||(o=unescape(encodeURIComponent(o)));for(var s=new Uint8Array(o.length),n=0;n<o.length;n++)s[n]=o.charCodeAt(n);return s},Er=function(o,a,s){var n=void 0===s?{}:s,i=n.offset,c=void 0===i?0:i,m=n.mask,E=void 0===m?[]:m;return o=ln(o),(a=ln(a)).length&&o.length-c>=a.length&&(a.every?a.every:Array.prototype.every).call(a,function(R,Z){return R===(E[Z]?E[Z]&o[c+Z]:o[c+Z])})},ja=ln([73,68,51]),Vo=function p(o,a){return void 0===a&&(a=0),(o=ln(o)).length-a<10||!Er(o,ja,{offset:a})?a:(a+=function(o,a){void 0===a&&(a=0);var n=(o=ln(o))[a+6]<<21|o[a+7]<<14|o[a+8]<<7|o[a+9];return(16&o[a+5])>>4?n+20:n+10}(o,a),p(o,a))},xs=(new Uint8Array([79,112,117,115,72,101,97,100]),function(o){return"string"==typeof o?pa(o):o}),ma=function(o){o=ln(o);for(var a=[],s=0;o.length>s;){var n=o[s],i=0,c=0,m=o[++c];for(c++;128&m;)i=(127&m)<<7,m=o[c],c++;i+=127&m;for(var E=0;E<ga.length;E++){var O=ga[E];if(n===O.id){a.push((0,O.parser)(o.subarray(c,c+i)));break}}s+=i+c}return a};ga=[{id:3,parser:function(o){var a={tag:3,id:o[0]<<8|o[1],flags:o[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&a.flags&&(a.dependsOnEsId=o[a.size]<<8|o[a.size+1],a.size+=2),64&a.flags){var s=o[a.size];a.url=function(o){if(!o)return"";o=Array.prototype.slice.call(o);var a=String.fromCharCode.apply(null,ln(o));try{return decodeURIComponent(escape(a))}catch(s){}return a}(o.subarray(a.size+1,a.size+1+s)),a.size+=s}return 32&a.flags&&(a.ocrEsId=o[a.size]<<8|o[a.size+1],a.size+=2),a.descriptors=ma(o.subarray(a.size))||[],a}},{id:4,parser:function(o){return{tag:4,oti:o[0],streamType:o[1],bufferSize:o[2]<<16|o[3]<<8|o[4],maxBitrate:o[5]<<24|o[6]<<16|o[7]<<8|o[8],avgBitrate:o[9]<<24|o[10]<<16|o[11]<<8|o[12],descriptors:ma(o.subarray(13))}}},{id:5,parser:function(o){return{tag:5,bytes:o}}},{id:6,parser:function(o){return{tag:6,bytes:o}}}];var Bi=function p(o,a,s){void 0===s&&(s=!1),a=function(o){return Array.isArray(o)?o.map(function(a){return xs(a)}):[xs(o)]}(a),o=ln(o);var n=[];if(!a.length)return n;for(var i=0;i<o.length;){var c=(o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3])>>>0,m=o.subarray(i+4,i+8);if(0===c)break;var E=i+c;if(E>o.length){if(s)break;E=o.length}var O=o.subarray(i+8,E);Er(m,a[0])&&(1===a.length?n.push(O):n.push.apply(n,p(O,a.slice(1),s))),i=E}return n},cr={EBML:ln([26,69,223,163]),DocType:ln([66,130]),Segment:ln([24,83,128,103]),SegmentInfo:ln([21,73,169,102]),Tracks:ln([22,84,174,107]),Track:ln([174]),TrackNumber:ln([215]),DefaultDuration:ln([35,227,131]),TrackEntry:ln([174]),TrackType:ln([131]),FlagDefault:ln([136]),CodecID:ln([134]),CodecPrivate:ln([99,162]),VideoTrack:ln([224]),AudioTrack:ln([225]),Cluster:ln([31,67,182,117]),Timestamp:ln([231]),TimestampScale:ln([42,215,177]),BlockGroup:ln([160]),BlockDuration:ln([155]),Block:ln([161]),SimpleBlock:ln([163])},Ho=[128,64,32,16,8,4,2,1],yi=function(o,a,s,n){void 0===s&&(s=!0),void 0===n&&(n=!1);var i=function(o){for(var a=1,s=0;s<Ho.length&&!(o&Ho[s]);s++)a++;return a}(o[a]),c=o.subarray(a,a+i);return s&&((c=Array.prototype.slice.call(o,a,a+i))[0]^=Ho[i-1]),{length:i,value:zl(c,{signed:n}),bytes:c}},Ii=function p(o){return"string"==typeof o?o.match(/.{1,2}/g).map(function(a){return p(a)}):"number"==typeof o?function(o,a){var n=(void 0===a?{}:a).le,i=void 0!==n&&n;("bigint"!=typeof o&&"number"!=typeof o||"number"==typeof o&&o!=o)&&(o=0);for(var c=function(o){return Math.ceil(function(o){return o.toString(2).length}(o)/8)}(o=Dr(o)),m=new Uint8Array(new ArrayBuffer(c)),E=0;E<c;E++){var O=i?E:Math.abs(E+1-m.length);m[O]=Number(o/zn[E]&Dr(255)),o<0&&(m[O]=Math.abs(~m[O]),m[O]-=0===E?1:2)}return m}(o):o},xo=function p(o,a,s){if(s>=a.length)return a.length;var n=yi(a,s,!1);if(Er(o.bytes,n.bytes))return s;var i=yi(a,s+n.length);return p(o,a,s+i.length+i.value+n.length)},Xt=function p(o,a){a=function(o){return Array.isArray(o)?o.map(function(a){return Ii(a)}):[Ii(o)]}(a),o=ln(o);var s=[];if(!a.length)return s;for(var n=0;n<o.length;){var i=yi(o,n,!1),c=yi(o,n+i.length),m=n+i.length+c.length;127===c.value&&(c.value=xo(i,o,m),c.value!==o.length&&(c.value-=m));var O=o.subarray(m,m+c.value>o.length?o.length:m+c.value);Er(a[0],i.bytes)&&(1===a.length?s.push(O):s=s.concat(p(O,a.slice(1)))),n+=i.length+c.length+O.length}return s},_=ln([0,0,0,1]),w=ln([0,0,1]),V=ln([0,0,3]),X=function(o){for(var a=[],s=1;s<o.length-2;)Er(o.subarray(s,s+3),V)&&(a.push(s+2),s++),s++;if(0===a.length)return o;var n=o.length-a.length,i=new Uint8Array(n),c=0;for(s=0;s<n;c++,s++)c===a[0]&&(c++,a.shift()),i[s]=o[c];return i},be=function(o,a,s,n){void 0===n&&(n=1/0),o=ln(o),s=[].concat(s);for(var c,i=0,m=0;i<o.length&&(m<n||c);){var E=void 0;if(Er(o.subarray(i),_)?E=4:Er(o.subarray(i),w)&&(E=3),E){if(m++,c)return X(o.subarray(c,i));var O=void 0;"h264"===a?O=31&o[i+E]:"h265"===a&&(O=o[i+E]>>1&63),-1!==s.indexOf(O)&&(c=i+E),i+=E+("h264"===a?1:2)}else i++}return o.subarray(0,0)},rt={webm:ln([119,101,98,109]),matroska:ln([109,97,116,114,111,115,107,97]),flac:ln([102,76,97,67]),ogg:ln([79,103,103,83]),ac3:ln([11,119]),riff:ln([82,73,70,70]),avi:ln([65,86,73]),wav:ln([87,65,86,69]),"3gp":ln([102,116,121,112,51,103]),mp4:ln([102,116,121,112]),fmp4:ln([115,116,121,112]),mov:ln([102,116,121,112,113,116]),moov:ln([109,111,111,118]),moof:ln([109,111,111,102])},ut={aac:function(o){var a=Vo(o);return Er(o,[255,16],{offset:a,mask:[255,22]})},mp3:function(o){var a=Vo(o);return Er(o,[255,2],{offset:a,mask:[255,6]})},webm:function(o){var a=Xt(o,[cr.EBML,cr.DocType])[0];return Er(a,rt.webm)},mkv:function(o){var a=Xt(o,[cr.EBML,cr.DocType])[0];return Er(a,rt.matroska)},mp4:function(o){return!ut["3gp"](o)&&!ut.mov(o)&&(!!(Er(o,rt.mp4,{offset:4})||Er(o,rt.fmp4,{offset:4})||Er(o,rt.moof,{offset:4})||Er(o,rt.moov,{offset:4}))||void 0)},mov:function(o){return Er(o,rt.mov,{offset:4})},"3gp":function(o){return Er(o,rt["3gp"],{offset:4})},ac3:function(o){var a=Vo(o);return Er(o,rt.ac3,{offset:a})},ts:function(o){if(o.length<189&&o.length>=1)return 71===o[0];for(var a=0;a+188<o.length&&a<188;){if(71===o[a]&&71===o[a+188])return!0;a+=1}return!1},flac:function(o){var a=Vo(o);return Er(o,rt.flac,{offset:a})},ogg:function(o){return Er(o,rt.ogg)},avi:function(o){return Er(o,rt.riff)&&Er(o,rt.avi,{offset:8})},wav:function(o){return Er(o,rt.riff)&&Er(o,rt.wav,{offset:8})},h264:function(o){return function(o,a,s){return be(o,"h264",7,3)}(o).length},h265:function(o){return function(o,a,s){return be(o,"h265",[32,33],3)}(o).length}},Ot=Object.keys(ut).filter(function(p){return"ts"!==p&&"h264"!==p&&"h265"!==p}).concat(["ts","h264","h265"]);Ot.forEach(function(p){var o=ut[p];ut[p]=function(a){return o(ln(a))}});for(var mr,St=ut,It=function(o){o=ln(o);for(var a=0;a<Ot.length;a++){var s=Ot[a];if(St[s](o))return s}return""},Gt=F(9211),en={},un=function(o,a){return en[o]=en[o]||[],a&&(en[o]=en[o].concat(a)),en[o]},ar=function(o,a){var s=un(o).indexOf(a);return!(s<=-1||(en[o]=en[o].slice(),en[o].splice(s,1),0))},ci={prefixed:!0},Vr=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],ki=Vr[0],_i=0;_i<Vr.length;_i++)if(Vr[_i][1]in ee()){mr=Vr[_i];break}if(mr){for(var Ui=0;Ui<mr.length;Ui++)ci[ki[Ui]]=mr[Ui];ci.prefixed=mr[0]!==ki[0]}var Xi=[],Rn=function Xn(p){var a,o="info",s=function(){for(var i=arguments.length,c=new Array(i),m=0;m<i;m++)c[m]=arguments[m];a("log",o,c)};return a=function(o,a){return function(s,n,i){var c=a.levels[n],m=new RegExp("^("+c+")$");if("log"!==s&&i.unshift(s.toUpperCase()+":"),i.unshift(o+":"),Xi){Xi.push([].concat(i));var E=Xi.length-1e3;Xi.splice(0,E>0?E:0)}if($().console){var O=$().console[s];!O&&"debug"===s&&(O=$().console.info||$().console.log),O&&c&&m.test(s)&&O[Array.isArray(i)?"apply":"call"]($().console,i)}}}(p,s),s.createLogger=function(n){return Xn(p+": "+n)},s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},s.level=function(n){if("string"==typeof n){if(!s.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');o=n}return o},(s.history=function(){return Xi?[].concat(Xi):[]}).filter=function(n){return(Xi||[]).filter(function(i){return new RegExp(".*"+n+".*").test(i[0])})},s.history.clear=function(){Xi&&(Xi.length=0)},s.history.disable=function(){null!==Xi&&(Xi.length=0,Xi=null)},s.history.enable=function(){null===Xi&&(Xi=[])},s.error=function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a("error",o,i)},s.warn=function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a("warn",o,i)},s.debug=function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return a("debug",o,i)},s}("VIDEOJS"),Ar=Rn.createLogger,$a=Object.prototype.toString,Xr=function(o){return Ys(o)?Object.keys(o):[]};function Jr(p,o){Xr(p).forEach(function(a){return o(p[a],a)})}function Hr(p){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return Object.assign?ce.apply(void 0,[p].concat(a)):(a.forEach(function(n){!n||Jr(n,function(i,c){p[c]=i})}),p)}function Ys(p){return!!p&&"object"==typeof p}function Wl(p){return Ys(p)&&"[object Object]"===$a.call(p)&&p.constructor===Object}function Ss(p,o){if(!p||!o)return"";if("function"==typeof $().getComputedStyle){var a;try{a=$().getComputedStyle(p)}catch(s){return""}return a?a.getPropertyValue(o)||a[o]:""}return""}var zr=$().navigator&&$().navigator.userAgent||"",ps=/AppleWebKit\/([\d.]+)/i.exec(zr),Ns=ps?parseFloat(ps.pop()):null,pl=/iPod/i.test(zr),zo=function(){var p=zr.match(/OS (\d+)_/i);return p&&p[1]?p[1]:null}(),Vi=/Android/i.test(zr),Gl=function(){var p=zr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!p)return null;var o=p[1]&&parseFloat(p[1]),a=p[2]&&parseFloat(p[2]);return o&&a?parseFloat(p[1]+"."+p[2]):o||null}(),$o=Vi&&Gl<5&&Ns<537,Iu=/Firefox/i.test(zr),va=/Edg/i.test(zr),oo=!va&&(/Chrome/i.test(zr)||/CriOS/i.test(zr)),Wo=function(){var p=zr.match(/(Chrome|CriOS)\/(\d+)/);return p&&p[2]?parseFloat(p[2]):null}(),ya=function(){var p=/MSIE\s(\d+)\.\d/.exec(zr),o=p&&parseFloat(p[1]);return!o&&/Trident\/7.0/i.test(zr)&&/rv:11.0/.test(zr)&&(o=11),o}(),Zs=/Safari/i.test(zr)&&!oo&&!Vi&&!va,oc=/Windows/i.test(zr),_a=Boolean(Ci()&&("ontouchstart"in $()||$().navigator.maxTouchPoints||$().DocumentTouch&&$().document instanceof $().DocumentTouch)),gs=/iPad/i.test(zr)||Zs&&_a&&!/iPhone/i.test(zr),wo=/iPhone/i.test(zr)&&!gs,bi=wo||gs||pl,ku=(Zs||bi)&&!oo,ql=Object.freeze({__proto__:null,IS_IPOD:pl,IOS_VERSION:zo,IS_ANDROID:Vi,ANDROID_VERSION:Gl,IS_NATIVE_ANDROID:$o,IS_FIREFOX:Iu,IS_EDGE:va,IS_CHROME:oo,CHROME_VERSION:Wo,IE_VERSION:ya,IS_SAFARI:Zs,IS_WINDOWS:oc,TOUCH_ENABLED:_a,IS_IPAD:gs,IS_IPHONE:wo,IS_IOS:bi,IS_ANY_SAFARI:ku});function Wa(p){return"string"==typeof p&&Boolean(p.trim())}function gl(p){if(p.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Ci(){return ee()===$().document}function ms(p){return Ys(p)&&1===p.nodeType}function qr(){try{return $().parent!==$().self}catch(p){return!0}}function Ru(p){return function(o,a){if(!Wa(o))return ee()[p](null);Wa(a)&&(a=ee().querySelector(a));var s=ms(a)?a:ee();return s[p]&&s[p](o)}}function lr(p,o,a,s){void 0===p&&(p="div"),void 0===o&&(o={}),void 0===a&&(a={});var n=ee().createElement(p);return Object.getOwnPropertyNames(o).forEach(function(i){var c=o[i];-1!==i.indexOf("aria-")||"role"===i||"type"===i?(Rn.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+i+" to "+c+"."),n.setAttribute(i,c)):"textContent"===i?ei(n,c):(n[i]!==c||"tabIndex"===i)&&(n[i]=c)}),Object.getOwnPropertyNames(a).forEach(function(i){n.setAttribute(i,a[i])}),s&&Fu(n,s),n}function ei(p,o){return void 0===p.textContent?p.innerText=o:p.textContent=o,p}function Kl(p,o){o.firstChild?o.insertBefore(p,o.firstChild):o.appendChild(p)}function So(p,o){return gl(o),p.classList?p.classList.contains(o):function(p){return new RegExp("(^|\\s)"+p+"($|\\s)")}(o).test(p.className)}function Go(p,o){return p.classList?p.classList.add(o):So(p,o)||(p.className=(p.className+" "+o).trim()),p}function Oo(p,o){return p?(p.classList?p.classList.remove(o):(gl(o),p.className=p.className.split(/\s+/).filter(function(a){return a!==o}).join(" ")),p):(Rn.warn("removeClass was called with an element that doesn't exist"),null)}function ml(p,o,a){var s=So(p,o);if("function"==typeof a&&(a=a(p,o)),"boolean"!=typeof a&&(a=!s),a!==s)return a?Go(p,o):Oo(p,o),p}function ba(p,o){Object.getOwnPropertyNames(o).forEach(function(a){var s=o[a];null==s||!1===s?p.removeAttribute(a):p.setAttribute(a,!0===s?"":s)})}function Ri(p){var o={};if(p&&p.attributes&&p.attributes.length>0)for(var s=p.attributes,n=s.length-1;n>=0;n--){var i=s[n].name,c=s[n].value;("boolean"==typeof p[i]||-1!==",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+","))&&(c=null!==c),o[i]=c}return o}function Nu(p,o){return p.getAttribute(o)}function Ga(p,o,a){p.setAttribute(o,a)}function ao(p,o){p.removeAttribute(o)}function Ca(){ee().body.focus(),ee().onselectstart=function(){return!1}}function Lu(){ee().onselectstart=function(){return!0}}function vl(p){if(p&&p.getBoundingClientRect&&p.parentNode){var o=p.getBoundingClientRect(),a={};return["bottom","height","left","right","top","width"].forEach(function(s){void 0!==o[s]&&(a[s]=o[s])}),a.height||(a.height=parseFloat(Ss(p,"height"))),a.width||(a.width=parseFloat(Ss(p,"width"))),a}}function qo(p){if(!p||p&&!p.offsetParent)return{left:0,top:0,width:0,height:0};for(var o=p.offsetWidth,a=p.offsetHeight,s=0,n=0;p.offsetParent&&p!==ee()[ci.fullscreenElement];)s+=p.offsetLeft,n+=p.offsetTop,p=p.offsetParent;return{left:s,top:n,width:o,height:a}}function Ti(p,o){var a={x:0,y:0};if(bi)for(var s=p;s&&"html"!==s.nodeName.toLowerCase();){var n=Ss(s,"transform");if(/^matrix/.test(n)){var i=n.slice(7,-1).split(/,\s/).map(Number);a.x+=i[4],a.y+=i[5]}else if(/^matrix3d/.test(n)){var c=n.slice(9,-1).split(/,\s/).map(Number);a.x+=c[12],a.y+=c[13]}s=s.parentNode}var m={},E=qo(o.target),O=qo(p),R=O.width,q=o.offsetY-(O.top-E.top),ve=o.offsetX-(O.left-E.left);return o.changedTouches&&(ve=o.changedTouches[0].pageX-O.left,q=o.changedTouches[0].pageY+O.top,bi&&(ve-=a.x,q-=a.y)),m.y=1-Math.max(0,Math.min(1,q/O.height)),m.x=Math.max(0,Math.min(1,ve/R)),m}function Kc(p){return Ys(p)&&3===p.nodeType}function yl(p){for(;p.firstChild;)p.removeChild(p.firstChild);return p}function _l(p){return"function"==typeof p&&(p=p()),(Array.isArray(p)?p:[p]).map(function(o){return"function"==typeof o&&(o=o()),ms(o)||Kc(o)?o:"string"==typeof o&&/\S/.test(o)?ee().createTextNode(o):void 0}).filter(function(o){return o})}function Fu(p,o){return _l(o).forEach(function(a){return p.appendChild(a)}),p}function ls(p,o){return Fu(yl(p),o)}function Ta(p){return void 0===p.button&&void 0===p.buttons||0===p.button&&void 0===p.buttons||"mouseup"===p.type&&0===p.button&&0===p.buttons||!(0!==p.button||1!==p.buttons)}var Ea,Xs=Ru("querySelector"),Po=Ru("querySelectorAll"),ac=Object.freeze({__proto__:null,isReal:Ci,isEl:ms,isInFrame:qr,createEl:lr,textContent:ei,prependTo:Kl,hasClass:So,addClass:Go,removeClass:Oo,toggleClass:ml,setAttributes:ba,getAttributes:Ri,getAttribute:Nu,setAttribute:Ga,removeAttribute:ao,blockTextSelection:Ca,unblockTextSelection:Lu,getBoundingClientRect:vl,findPosition:qo,getPointerPosition:Ti,isTextNode:Kc,emptyEl:yl,normalizeContent:_l,appendContent:Fu,insertContent:ls,isSingleLeftClick:Ta,$:Xs,$$:Po}),Bu=!1,Yc=function(){if(!1!==Ea.options.autoSetup){var o=Array.prototype.slice.call(ee().getElementsByTagName("video")),a=Array.prototype.slice.call(ee().getElementsByTagName("audio")),s=Array.prototype.slice.call(ee().getElementsByTagName("video-js")),n=o.concat(a,s);if(n&&n.length>0)for(var i=0,c=n.length;i<c;i++){var m=n[i];if(!m||!m.getAttribute){Qo(1);break}void 0===m.player&&null!==m.getAttribute("data-setup")&&Ea(m)}else Bu||Qo(1)}};function Qo(p,o){!Ci()||(o&&(Ea=o),$().setTimeout(Yc,p))}function Ko(){Bu=!0,$().removeEventListener("load",Ko)}Ci()&&("complete"===ee().readyState?Ko():$().addEventListener("load",Ko));var lc,Uu=function(o){var a=ee().createElement("style");return a.className=o,a},Do=function(o,a){o.styleSheet?o.styleSheet.cssText=a:o.textContent=a},Zl=3;function xa(){return Zl++}$().WeakMap||(lc=function(){function p(){this.vdata="vdata"+Math.floor($().performance&&$().performance.now()||Date.now()),this.data={}}var o=p.prototype;return o.set=function(s,n){var i=s[this.vdata]||xa();return s[this.vdata]||(s[this.vdata]=i),this.data[i]=n,this},o.get=function(s){var n=s[this.vdata];if(n)return this.data[n];Rn("We have no data for this element",s)},o.has=function(s){return s[this.vdata]in this.data},o.delete=function(s){var n=s[this.vdata];n&&(delete this.data[n],delete s[this.vdata])},p}());var Ni=$().WeakMap?new WeakMap:new lc;function uc(p,o){if(Ni.has(p)){var a=Ni.get(p);0===a.handlers[o].length&&(delete a.handlers[o],p.removeEventListener?p.removeEventListener(o,a.dispatcher,!1):p.detachEvent&&p.detachEvent("on"+o,a.dispatcher)),Object.getOwnPropertyNames(a.handlers).length<=0&&(delete a.handlers,delete a.dispatcher,delete a.disabled),0===Object.getOwnPropertyNames(a).length&&Ni.delete(p)}}function qa(p,o,a,s){a.forEach(function(n){p(o,n,s)})}function bl(p){if(p.fixed_)return p;function o(){return!0}function a(){return!1}if(!p||!p.isPropagationStopped||!p.isImmediatePropagationStopped){var s=p||$().event;for(var n in p={},s)"layerX"!==n&&"layerY"!==n&&"keyLocation"!==n&&"webkitMovementX"!==n&&"webkitMovementY"!==n&&("returnValue"===n&&s.preventDefault||(p[n]=s[n]));if(p.target||(p.target=p.srcElement||ee()),p.relatedTarget||(p.relatedTarget=p.fromElement===p.target?p.toElement:p.fromElement),p.preventDefault=function(){s.preventDefault&&s.preventDefault(),p.returnValue=!1,s.returnValue=!1,p.defaultPrevented=!0},p.defaultPrevented=!1,p.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),p.cancelBubble=!0,s.cancelBubble=!0,p.isPropagationStopped=o},p.isPropagationStopped=a,p.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),p.isImmediatePropagationStopped=o,p.stopPropagation()},p.isImmediatePropagationStopped=a,null!=p.clientX){var i=ee().documentElement,c=ee().body;p.pageX=p.clientX+(i&&i.scrollLeft||c&&c.scrollLeft||0)-(i&&i.clientLeft||c&&c.clientLeft||0),p.pageY=p.clientY+(i&&i.scrollTop||c&&c.scrollTop||0)-(i&&i.clientTop||c&&c.clientTop||0)}p.which=p.charCode||p.keyCode,null!=p.button&&(p.button=1&p.button?0:4&p.button?1:2&p.button?2:0)}return p.fixed_=!0,p}var wa,Zc=["touchstart","touchmove"];function Os(p,o,a){if(Array.isArray(o))return qa(Os,p,o,a);Ni.has(p)||Ni.set(p,{});var s=Ni.get(p);if(s.handlers||(s.handlers={}),s.handlers[o]||(s.handlers[o]=[]),a.guid||(a.guid=xa()),s.handlers[o].push(a),s.dispatcher||(s.disabled=!1,s.dispatcher=function(i,c){if(!s.disabled){i=bl(i);var m=s.handlers[i.type];if(m)for(var E=m.slice(0),O=0,R=E.length;O<R&&!i.isImmediatePropagationStopped();O++)try{E[O].call(p,i,c)}catch(Z){Rn.error(Z)}}}),1===s.handlers[o].length)if(p.addEventListener){var n=!1;(function(){if("boolean"!=typeof wa){wa=!1;try{var o=Object.defineProperty({},"passive",{get:function(){wa=!0}});$().addEventListener("test",null,o),$().removeEventListener("test",null,o)}catch(a){}}return wa})()&&Zc.indexOf(o)>-1&&(n={passive:!0}),p.addEventListener(o,s.dispatcher,n)}else p.attachEvent&&p.attachEvent("on"+o,s.dispatcher)}function Ei(p,o,a){if(Ni.has(p)){var s=Ni.get(p);if(s.handlers){if(Array.isArray(o))return qa(Ei,p,o,a);var n=function(O,R){s.handlers[R]=[],uc(O,R)};if(void 0===o){for(var i in s.handlers)Object.prototype.hasOwnProperty.call(s.handlers||{},i)&&n(p,i);return}var c=s.handlers[o];if(c){if(!a)return void n(p,o);if(a.guid)for(var m=0;m<c.length;m++)c[m].guid===a.guid&&c.splice(m--,1);uc(p,o)}}}}function Yo(p,o,a){var s=Ni.has(p)?Ni.get(p):{},n=p.parentNode||p.ownerDocument;if("string"==typeof o?o={type:o,target:p}:o.target||(o.target=p),o=bl(o),s.dispatcher&&s.dispatcher.call(p,o,a),n&&!o.isPropagationStopped()&&!0===o.bubbles)Yo.call(null,n,o,a);else if(!n&&!o.defaultPrevented&&o.target&&o.target[o.type]){Ni.has(o.target)||Ni.set(o.target,{});var i=Ni.get(o.target);o.target[o.type]&&(i.disabled=!0,"function"==typeof o.target[o.type]&&o.target[o.type](),i.disabled=!1)}return!o.defaultPrevented}function Xl(p,o,a){if(Array.isArray(o))return qa(Xl,p,o,a);var s=function n(){Ei(p,o,n),a.apply(this,arguments)};s.guid=a.guid=a.guid||xa(),Os(p,o,s)}function cc(p,o,a){var s=function n(){Ei(p,o,n),a.apply(this,arguments)};s.guid=a.guid=a.guid||xa(),Os(p,o,s)}var te,Vu=Object.freeze({__proto__:null,fixEvent:bl,on:Os,off:Ei,trigger:Yo,one:Xl,any:cc}),I=function(o,a,s){a.guid||(a.guid=xa());var n=a.bind(o);return n.guid=s?s+"_"+a.guid:a.guid,n},D=function(o,a){var s=$().performance.now();return function(){var c=$().performance.now();c-s>=a&&(o.apply(void 0,arguments),s=c)}},H=function(){};H.prototype.allowedEvents_={},H.prototype.addEventListener=H.prototype.on=function(p,o){var a=this.addEventListener;this.addEventListener=function(){},Os(this,p,o),this.addEventListener=a},H.prototype.removeEventListener=H.prototype.off=function(p,o){Ei(this,p,o)},H.prototype.one=function(p,o){var a=this.addEventListener;this.addEventListener=function(){},Xl(this,p,o),this.addEventListener=a},H.prototype.any=function(p,o){var a=this.addEventListener;this.addEventListener=function(){},cc(this,p,o),this.addEventListener=a},H.prototype.dispatchEvent=H.prototype.trigger=function(p){var o=p.type||p;"string"==typeof p&&(p={type:o}),p=bl(p),this.allowedEvents_[o]&&this["on"+o]&&this["on"+o](p),Yo(this,p)},H.prototype.queueTrigger=function(p){var o=this;te||(te=new Map);var a=p.type||p,s=te.get(this);s||(s=new Map,te.set(this,s));var n=s.get(a);s.delete(a),$().clearTimeout(n);var i=$().setTimeout(function(){0===s.size&&(s=null,te.delete(o)),o.trigger(p)},0);s.set(a,i)};var ye=function(o){return"function"==typeof o.name?o.name():"string"==typeof o.name?o.name:o.name_?o.name_:o.constructor&&o.constructor.name?o.constructor.name:typeof o},Ve=function(o){return o instanceof H||!!o.eventBusEl_&&["on","one","off","trigger"].every(function(a){return"function"==typeof o[a]})},_t=function(o){return"string"==typeof o&&/\S/.test(o)||Array.isArray(o)&&!!o.length},Qt=function(o,a,s){if(!o||!o.nodeName&&!Ve(o))throw new Error("Invalid target for "+ye(a)+"#"+s+"; must be a DOM node or evented object.")},Yn=function(o,a,s){if(!_t(o))throw new Error("Invalid event type for "+ye(a)+"#"+s+"; must be a non-empty string or array.")},mn=function(o,a,s){if("function"!=typeof o)throw new Error("Invalid listener for "+ye(a)+"#"+s+"; must be a function.")},tr=function(o,a,s){var i,c,m,n=a.length<3||a[0]===o||a[0]===o.eventBusEl_;return n?(i=o.eventBusEl_,a.length>=3&&a.shift(),c=a[0],m=a[1]):(i=a[0],c=a[1],m=a[2]),Qt(i,o,s),Yn(c,o,s),mn(m,o,s),{isTargetingSelf:n,target:i,type:c,listener:m=I(o,m)}},Gn=function(o,a,s,n){Qt(o,o,a),o.nodeName?Vu[a](o,s,n):o[a](s,n)},ji={on:function(){for(var o=this,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var i=tr(this,s,"on"),c=i.isTargetingSelf,m=i.target,E=i.type,O=i.listener;if(Gn(m,"on",E,O),!c){var R=function(){return o.off(m,E,O)};R.guid=O.guid;var Z=function(){return o.off("dispose",R)};Z.guid=O.guid,Gn(this,"on","dispose",R),Gn(m,"on","dispose",Z)}},one:function(){for(var o=this,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var i=tr(this,s,"one"),c=i.isTargetingSelf,m=i.target,E=i.type,O=i.listener;if(c)Gn(m,"one",E,O);else{var R=function Z(){o.off(m,E,Z);for(var q=arguments.length,ve=new Array(q),Me=0;Me<q;Me++)ve[Me]=arguments[Me];O.apply(null,ve)};R.guid=O.guid,Gn(m,"one",E,R)}},any:function(){for(var o=this,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];var i=tr(this,s,"any"),c=i.isTargetingSelf,m=i.target,E=i.type,O=i.listener;if(c)Gn(m,"any",E,O);else{var R=function Z(){o.off(m,E,Z);for(var q=arguments.length,ve=new Array(q),Me=0;Me<q;Me++)ve[Me]=arguments[Me];O.apply(null,ve)};R.guid=O.guid,Gn(m,"any",E,R)}},off:function(o,a,s){if(!o||_t(o))Ei(this.eventBusEl_,o,a);else{var n=o,i=a;Qt(n,this,"off"),Yn(i,this,"off"),mn(s,this,"off"),s=I(this,s),this.off("dispose",s),n.nodeName?(Ei(n,i,s),Ei(n,"dispose",s)):Ve(n)&&(n.off(i,s),n.off("dispose",s))}},trigger:function(o,a){if(Qt(this.eventBusEl_,this,"trigger"),!_t(o&&"string"!=typeof o?o.type:o)){var n="Invalid event type for "+ye(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!o)throw new Error(n);(this.log||Rn).error(n)}return Yo(this.eventBusEl_,o,a)}};function Ls(p,o){void 0===o&&(o={});var s=o.eventBusKey;if(s){if(!p[s].nodeName)throw new Error('The eventBusKey "'+s+'" does not refer to an element.');p.eventBusEl_=p[s]}else p.eventBusEl_=lr("span",{className:"vjs-event-bus"});return Hr(p,ji),p.eventedCallbacks&&p.eventedCallbacks.forEach(function(n){n()}),p.on("dispose",function(){p.off(),[p,p.el_,p.eventBusEl_].forEach(function(n){n&&Ni.has(n)&&Ni.delete(n)}),$().setTimeout(function(){p.eventBusEl_=null},0)}),p}var Fs={state:{},setState:function(o){var s,a=this;return"function"==typeof o&&(o=o()),Jr(o,function(n,i){a.state[i]!==n&&((s=s||{})[i]={from:a.state[i],to:n}),a.state[i]=n}),s&&Ve(this)&&this.trigger({changes:s,type:"statechanged"}),s}};function Sa(p,o){return Hr(p,Fs),p.state=Hr({},p.state,o),"function"==typeof p.handleStateChanged&&Ve(p)&&p.on("statechanged",p.handleStateChanged),p}var dr=function(o){return"string"!=typeof o?o:o.replace(/./,function(a){return a.toLowerCase()})},xr=function(o){return"string"!=typeof o?o:o.replace(/./,function(a){return a.toUpperCase()})};function ti(){for(var p={},o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return a.forEach(function(n){!n||Jr(n,function(i,c){Wl(i)?(Wl(p[c])||(p[c]={}),p[c]=ti(p[c],i)):p[c]=i})}),p}var Km=function(){function p(){this.map_={}}var o=p.prototype;return o.has=function(s){return s in this.map_},o.delete=function(s){var n=this.has(s);return delete this.map_[s],n},o.set=function(s,n){return this.map_[s]=n,this},o.forEach=function(s,n){for(var i in this.map_)s.call(n,this.map_[i],i,this)},p}(),af=$().Map?$().Map:Km,Ym=function(){function p(){this.set_={}}var o=p.prototype;return o.has=function(s){return s in this.set_},o.delete=function(s){var n=this.has(s);return delete this.set_[s],n},o.add=function(s){return this.set_[s]=1,this},o.forEach=function(s,n){for(var i in this.set_)s.call(n,i,i,this)},p}(),lf=$().Set?$().Set:Ym,Ft=function(){function p(a,s,n){if(this.player_=!a&&this.play?a=this:a,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ti({},this.options_),s=this.options_=ti(this.options_,s),this.id_=s.id||s.el&&s.el.id,!this.id_){var i=a&&a.id&&a.id()||"no_player";this.id_=i+"_component_"+xa()}this.name_=s.name||null,s.el?this.el_=s.el:!1!==s.createEl&&(this.el_=this.createEl()),!1!==s.evented&&(Ls(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Sa(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new lf,this.setIntervalIds_=new lf,this.rafIds_=new lf,this.namedRafs_=new af,this.clearingTimersOnDispose_=!1,!1!==s.initChildren&&this.initChildren(),this.ready(n),!1!==s.reportTouchActivity&&this.enableTouchActivity()}var o=p.prototype;return o.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var s=this.children_.length-1;s>=0;s--)this.children_[s].dispose&&this.children_[s].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},o.isDisposed=function(){return Boolean(this.isDisposed_)},o.player=function(){return this.player_},o.options=function(s){return s?(this.options_=ti(this.options_,s),this.options_):this.options_},o.el=function(){return this.el_},o.createEl=function(s,n,i){return lr(s,n,i)},o.localize=function(s,n,i){void 0===i&&(i=s);var c=this.player_.language&&this.player_.language(),m=this.player_.languages&&this.player_.languages(),E=m&&m[c],O=c&&c.split("-")[0],R=m&&m[O],Z=i;return E&&E[s]?Z=E[s]:R&&R[s]&&(Z=R[s]),n&&(Z=Z.replace(/\{(\d+)\}/g,function(q,ve){var Me=n[ve-1],xe=Me;return void 0===Me&&(xe=q),xe})),Z},o.handleLanguagechange=function(){},o.contentEl=function(){return this.contentEl_||this.el_},o.id=function(){return this.id_},o.name=function(){return this.name_},o.children=function(){return this.children_},o.getChildById=function(s){return this.childIndex_[s]},o.getChild=function(s){if(s)return this.childNameIndex_[s]},o.getDescendant=function(){for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];n=n.reduce(function(E,O){return E.concat(O)},[]);for(var c=this,m=0;m<n.length;m++)if(!(c=c.getChild(n[m]))||!c.getChild)return;return c},o.addChild=function(s,n,i){var c,m;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof s){m=xr(s);var E=n.componentClass||m;n.name=m;var O=p.getComponent(E);if(!O)throw new Error("Component "+E+" does not exist");if("function"!=typeof O)return null;c=new O(this.player_||this,n)}else c=s;if(c.parentComponent_&&c.parentComponent_.removeChild(c),this.children_.splice(i,0,c),c.parentComponent_=this,"function"==typeof c.id&&(this.childIndex_[c.id()]=c),(m=m||c.name&&xr(c.name()))&&(this.childNameIndex_[m]=c,this.childNameIndex_[dr(m)]=c),"function"==typeof c.el&&c.el()){var R=null;this.children_[i+1]&&(this.children_[i+1].el_?R=this.children_[i+1].el_:ms(this.children_[i+1])&&(R=this.children_[i+1])),this.contentEl().insertBefore(c.el(),R)}return c},o.removeChild=function(s){if("string"==typeof s&&(s=this.getChild(s)),s&&this.children_){for(var n=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===s){n=!0,this.children_.splice(i,1);break}if(n){s.parentComponent_=null,this.childIndex_[s.id()]=null,this.childNameIndex_[xr(s.name())]=null,this.childNameIndex_[dr(s.name())]=null;var c=s.el();c&&c.parentNode===this.contentEl()&&this.contentEl().removeChild(s.el())}}},o.initChildren=function(){var s=this,n=this.options_.children;if(n){var m,i=this.options_,E=p.getComponent("Tech");(m=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(O){return!m.some(function(R){return"string"==typeof R?O===R:O===R.name})})).map(function(O){var R,Z;return"string"==typeof O?Z=n[R=O]||s.options_[R]||{}:(R=O.name,Z=O),{name:R,opts:Z}}).filter(function(O){var R=p.getComponent(O.opts.componentClass||xr(O.name));return R&&!E.isTech(R)}).forEach(function(R){var Z=R.name,q=R.opts;if(void 0!==i[Z]&&(q=i[Z]),!1!==q){!0===q&&(q={}),q.playerOptions=s.options_.playerOptions;var ve=s.addChild(Z,q);ve&&(s[Z]=ve)}})}},o.buildCSSClass=function(){return""},o.ready=function(s,n){if(void 0===n&&(n=!1),s){if(!this.isReady_)return this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(s);n?s.call(this):this.setTimeout(s,1)}},o.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var s=this.readyQueue_;this.readyQueue_=[],s&&s.length>0&&s.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)},o.$=function(s,n){return Xs(s,n||this.contentEl())},o.$$=function(s,n){return Po(s,n||this.contentEl())},o.hasClass=function(s){return So(this.el_,s)},o.addClass=function(s){Go(this.el_,s)},o.removeClass=function(s){Oo(this.el_,s)},o.toggleClass=function(s,n){ml(this.el_,s,n)},o.show=function(){this.removeClass("vjs-hidden")},o.hide=function(){this.addClass("vjs-hidden")},o.lockShowing=function(){this.addClass("vjs-lock-showing")},o.unlockShowing=function(){this.removeClass("vjs-lock-showing")},o.getAttribute=function(s){return Nu(this.el_,s)},o.setAttribute=function(s,n){Ga(this.el_,s,n)},o.removeAttribute=function(s){ao(this.el_,s)},o.width=function(s,n){return this.dimension("width",s,n)},o.height=function(s,n){return this.dimension("height",s,n)},o.dimensions=function(s,n){this.width(s,!0),this.height(n)},o.dimension=function(s,n,i){if(void 0!==n)return(null===n||n!=n)&&(n=0),this.el_.style[s]=-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?n:"auto"===n?"":n+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var c=this.el_.style[s],m=c.indexOf("px");return parseInt(-1!==m?c.slice(0,m):this.el_["offset"+xr(s)],10)},o.currentDimension=function(s){var n=0;if("width"!==s&&"height"!==s)throw new Error("currentDimension only accepts width or height value");if(n=Ss(this.el_,s),0===(n=parseFloat(n))||isNaN(n)){var i="offset"+xr(s);n=this.el_[i]}return n},o.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},o.currentWidth=function(){return this.currentDimension("width")},o.currentHeight=function(){return this.currentDimension("height")},o.focus=function(){this.el_.focus()},o.blur=function(){this.el_.blur()},o.handleKeyDown=function(s){this.player_&&(s.stopPropagation(),this.player_.handleKeyDown(s))},o.handleKeyPress=function(s){this.handleKeyDown(s)},o.emitTapEvents=function(){var m,s=0,n=null;this.on("touchstart",function(O){1===O.touches.length&&(n={pageX:O.touches[0].pageX,pageY:O.touches[0].pageY},s=$().performance.now(),m=!0)}),this.on("touchmove",function(O){if(O.touches.length>1)m=!1;else if(n){var R=O.touches[0].pageX-n.pageX,Z=O.touches[0].pageY-n.pageY;Math.sqrt(R*R+Z*Z)>10&&(m=!1)}});var E=function(){m=!1};this.on("touchleave",E),this.on("touchcancel",E),this.on("touchend",function(O){n=null,!0===m&&$().performance.now()-s<200&&(O.preventDefault(),this.trigger("tap"))})},o.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var n,s=I(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){s(),this.clearInterval(n),n=this.setInterval(s,250)});var i=function(m){s(),this.clearInterval(n)};this.on("touchmove",s),this.on("touchend",i),this.on("touchcancel",i)}},o.setTimeout=function(s,n){var c,i=this;return s=I(this,s),this.clearTimersOnDispose_(),c=$().setTimeout(function(){i.setTimeoutIds_.has(c)&&i.setTimeoutIds_.delete(c),s()},n),this.setTimeoutIds_.add(c),c},o.clearTimeout=function(s){return this.setTimeoutIds_.has(s)&&(this.setTimeoutIds_.delete(s),$().clearTimeout(s)),s},o.setInterval=function(s,n){s=I(this,s),this.clearTimersOnDispose_();var i=$().setInterval(s,n);return this.setIntervalIds_.add(i),i},o.clearInterval=function(s){return this.setIntervalIds_.has(s)&&(this.setIntervalIds_.delete(s),$().clearInterval(s)),s},o.requestAnimationFrame=function(s){var i,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),s=I(this,s),i=$().requestAnimationFrame(function(){n.rafIds_.has(i)&&n.rafIds_.delete(i),s()}),this.rafIds_.add(i),i):this.setTimeout(s,1e3/60)},o.requestNamedAnimationFrame=function(s,n){var i=this;if(!this.namedRafs_.has(s)){this.clearTimersOnDispose_(),n=I(this,n);var c=this.requestAnimationFrame(function(){n(),i.namedRafs_.has(s)&&i.namedRafs_.delete(s)});return this.namedRafs_.set(s,c),s}},o.cancelNamedAnimationFrame=function(s){!this.namedRafs_.has(s)||(this.cancelAnimationFrame(this.namedRafs_.get(s)),this.namedRafs_.delete(s))},o.cancelAnimationFrame=function(s){return this.supportsRaf_?(this.rafIds_.has(s)&&(this.rafIds_.delete(s),$().cancelAnimationFrame(s)),s):this.clearTimeout(s)},o.clearTimersOnDispose_=function(){var s=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(n){var c=n[1];s[n[0]].forEach(function(m,E){return s[c](E)})}),s.clearingTimersOnDispose_=!1}))},p.registerComponent=function(s,n){if("string"!=typeof s||!s)throw new Error('Illegal component name, "'+s+'"; must be a non-empty string.');var i=p.getComponent("Tech"),c=i&&i.isTech(n),m=p===n||p.prototype.isPrototypeOf(n.prototype);if(c||!m)throw new Error('Illegal component, "'+s+'"; '+(c?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");s=xr(s),p.components_||(p.components_={});var O=p.getComponent("Player");if("Player"===s&&O&&O.players){var R=O.players,Z=Object.keys(R);if(R&&Z.length>0&&Z.map(function(q){return R[q]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return p.components_[s]=n,p.components_[dr(s)]=n,n},p.getComponent=function(s){if(s&&p.components_)return p.components_[s]},p}();function Xc(p,o,a,s){return function(p,o,a){if("number"!=typeof o||o<0||o>a)throw new Error("Failed to execute '"+p+"' on 'TimeRanges': The index provided ("+o+") is non-numeric or out of bounds (0-"+a+").")}(p,s,a.length-1),a[s][o]}function cg(p){var o;return o=void 0===p||0===p.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:p.length,start:Xc.bind(null,"start",0,p),end:Xc.bind(null,"end",1,p)},$().Symbol&&$().Symbol.iterator&&(o[$().Symbol.iterator]=function(){return(p||[]).values()}),o}function xi(p,o){return Array.isArray(p)?cg(p):void 0===p||void 0===o?cg():cg([[p,o]])}function ju(p,o){var s,n,a=0;if(!o)return 0;(!p||!p.length)&&(p=xi(0,0));for(var i=0;i<p.length;i++)s=p.start(i),(n=p.end(i))>o&&(n=o),a+=n-s;return a/o}function vr(p){if(p instanceof vr)return p;"number"==typeof p?this.code=p:"string"==typeof p?this.message=p:Ys(p)&&("number"==typeof p.code&&(this.code=p.code),Hr(this,p)),this.message||(this.message=vr.defaultMessages[this.code]||"")}Ft.prototype.supportsRaf_="function"==typeof $().requestAnimationFrame&&"function"==typeof $().cancelAnimationFrame,Ft.registerComponent("Component",Ft),vr.prototype.code=0,vr.prototype.message="",vr.prototype.status=null,vr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Qa=0;Qa<vr.errorTypes.length;Qa++)vr[vr.errorTypes[Qa]]=Qa,vr.prototype[vr.errorTypes[Qa]]=Qa;function Ka(p){return null!=p&&"function"==typeof p.then}function Ya(p){Ka(p)&&p.then(null,function(o){})}var Jc=function(o){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(s,n,i){return o[n]&&(s[n]=o[n]),s},{cues:o.cues&&Array.prototype.map.call(o.cues,function(s){return{startTime:s.startTime,endTime:s.endTime,text:s.text,id:s.id}})})},Xo="vjs-modal-dialog",lo=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).handleKeyDown_=function(c){return i.handleKeyDown(c)},i.close_=function(c){return i.close(c)},i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=lr("div",{className:Xo+"-content"},{role:"document"}),i.descEl_=lr("p",{className:Xo+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),ei(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},a.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,p.prototype.dispose.call(this)},a.buildCSSClass=function(){return Xo+" vjs-hidden "+p.prototype.buildCSSClass.call(this)},a.label=function(){return this.localize(this.options_.label||"Modal Window")},a.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},a.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=n.controls(),n.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},a.opened=function(n){return"boolean"==typeof n&&this[n?"open":"close"](),this.opened_},a.close=function(){if(this.opened_){var n=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&n.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&n.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},a.closeable=function(n){if("boolean"==typeof n){var i=this.closeable_=!!n,c=this.getChild("closeButton");if(i&&!c){var m=this.contentEl_;this.contentEl_=this.el_,c=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=m,this.on(c,"close",this.close_)}!i&&c&&(this.off(c,"close",this.close_),this.removeChild(c),c.dispose())}return this.closeable_},a.fill=function(){this.fillWith(this.content())},a.fillWith=function(n){var i=this.contentEl(),c=i.parentNode,m=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,c.removeChild(i),this.empty(),ls(i,n),this.trigger("modalfill"),m?c.insertBefore(i,m):c.appendChild(i);var E=this.getChild("closeButton");E&&c.appendChild(E.el_)},a.empty=function(){this.trigger("beforemodalempty"),yl(this.contentEl()),this.trigger("modalempty")},a.content=function(n){return void 0!==n&&(this.content_=n),this.content_},a.conditionalFocus_=function(){var n=ee().activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(n)||i===n)&&(this.previouslyActiveEl_=n,this.focus())},a.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},a.handleKeyDown=function(n){if(n.stopPropagation(),le().isEventKey(n,"Escape")&&this.closeable())return n.preventDefault(),void this.close();if(le().isEventKey(n,"Tab")){for(var m,i=this.focusableEls_(),c=this.el_.querySelector(":focus"),E=0;E<i.length;E++)if(c===i[E]){m=E;break}ee().activeElement===this.el_&&(m=0),n.shiftKey&&0===m?(i[i.length-1].focus(),n.preventDefault()):!n.shiftKey&&m===i.length-1&&(i[0].focus(),n.preventDefault())}},a.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(i){return(i instanceof $().HTMLAnchorElement||i instanceof $().HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof $().HTMLInputElement||i instanceof $().HTMLSelectElement||i instanceof $().HTMLTextAreaElement||i instanceof $().HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof $().HTMLIFrameElement||i instanceof $().HTMLObjectElement||i instanceof $().HTMLEmbedElement||i.hasAttribute("tabindex")&&-1!==i.getAttribute("tabindex")||i.hasAttribute("contenteditable")})},o}(Ft);lo.prototype.options_={pauseOnOpen:!0,temporary:!0},Ft.registerComponent("ModalDialog",lo);var Jl=function(p){function o(s){var n;void 0===s&&(s=[]),(n=p.call(this)||this).tracks_=[],Object.defineProperty(ue(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<s.length;i++)n.addTrack(s[i]);return n}j(o,p);var a=o.prototype;return a.addTrack=function(n){var i=this,c=this.tracks_.length;""+c in this||Object.defineProperty(this,c,{get:function(){return this.tracks_[c]}}),-1===this.tracks_.indexOf(n)&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack",target:this})),n.labelchange_=function(){i.trigger({track:n,type:"labelchange",target:i})},Ve(n)&&n.addEventListener("labelchange",n.labelchange_)},a.removeTrack=function(n){for(var i,c=0,m=this.length;c<m;c++)if(this[c]===n){(i=this[c]).off&&i.off(),this.tracks_.splice(c,1);break}!i||this.trigger({track:i,type:"removetrack",target:this})},a.getTrackById=function(n){for(var i=null,c=0,m=this.length;c<m;c++){var E=this[c];if(E.id===n){i=E;break}}return i},o}(H);for(var kh in Jl.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Jl.prototype.allowedEvents_)Jl.prototype["on"+kh]=null;var ed=function(o,a){for(var s=0;s<o.length;s++)!Object.keys(o[s]).length||a.id===o[s].id||(o[s].enabled=!1)},Zm=function(p){function o(s){var n;void 0===s&&(s=[]);for(var i=s.length-1;i>=0;i--)if(s[i].enabled){ed(s,s[i]);break}return(n=p.call(this,s)||this).changing_=!1,n}j(o,p);var a=o.prototype;return a.addTrack=function(n){var i=this;n.enabled&&ed(this,n),p.prototype.addTrack.call(this,n),n.addEventListener&&(n.enabledChange_=function(){i.changing_||(i.changing_=!0,ed(i,n),i.changing_=!1,i.trigger("change"))},n.addEventListener("enabledchange",n.enabledChange_))},a.removeTrack=function(n){p.prototype.removeTrack.call(this,n),n.removeEventListener&&n.enabledChange_&&(n.removeEventListener("enabledchange",n.enabledChange_),n.enabledChange_=null)},o}(Jl),Rh=function(o,a){for(var s=0;s<o.length;s++)!Object.keys(o[s]).length||a.id===o[s].id||(o[s].selected=!1)},uf=function(p){function o(s){var n;void 0===s&&(s=[]);for(var i=s.length-1;i>=0;i--)if(s[i].selected){Rh(s,s[i]);break}return(n=p.call(this,s)||this).changing_=!1,Object.defineProperty(ue(n),"selectedIndex",{get:function(){for(var m=0;m<this.length;m++)if(this[m].selected)return m;return-1},set:function(){}}),n}j(o,p);var a=o.prototype;return a.addTrack=function(n){var i=this;n.selected&&Rh(this,n),p.prototype.addTrack.call(this,n),n.addEventListener&&(n.selectedChange_=function(){i.changing_||(i.changing_=!0,Rh(i,n),i.changing_=!1,i.trigger("change"))},n.addEventListener("selectedchange",n.selectedChange_))},a.removeTrack=function(n){p.prototype.removeTrack.call(this,n),n.removeEventListener&&n.selectedChange_&&(n.removeEventListener("selectedchange",n.selectedChange_),n.selectedChange_=null)},o}(Jl),Js=function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.addTrack=function(n){var i=this;p.prototype.addTrack.call(this,n),this.queueChange_||(this.queueChange_=function(){return i.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return i.trigger("selectedlanguagechange")}),n.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(n.kind)&&n.addEventListener("modechange",this.triggerSelectedlanguagechange_)},a.removeTrack=function(n){p.prototype.removeTrack.call(this,n),n.removeEventListener&&(this.queueChange_&&n.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&n.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},o}(Jl),cf=function(){function p(a){void 0===a&&(a=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var s=0,n=a.length;s<n;s++)this.addTrackElement_(a[s])}var o=p.prototype;return o.addTrackElement_=function(s){var n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.trackElements_[n]}}),-1===this.trackElements_.indexOf(s)&&this.trackElements_.push(s)},o.getTrackElementByTrack_=function(s){for(var n,i=0,c=this.trackElements_.length;i<c;i++)if(s===this.trackElements_[i].track){n=this.trackElements_[i];break}return n},o.removeTrackElement_=function(s){for(var n=0,i=this.trackElements_.length;n<i;n++)if(s===this.trackElements_[n]){this.trackElements_[n].track&&"function"==typeof this.trackElements_[n].track.off&&this.trackElements_[n].track.off(),"function"==typeof this.trackElements_[n].off&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}},p}(),Tl=function(){function p(a){p.prototype.setCues_.call(this,a),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var o=p.prototype;return o.setCues_=function(s){var n=this.length||0,i=0,c=s.length;this.cues_=s,this.length_=s.length;var m=function(O){""+O in this||Object.defineProperty(this,""+O,{get:function(){return this.cues_[O]}})};if(n<c)for(i=n;i<c;i++)m.call(this,i)},o.getCueById=function(s){for(var n=null,i=0,c=this.length;i<c;i++){var m=this[i];if(m.id===s){n=m;break}}return n},p}(),Nh={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},df={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},td={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},nd={disabled:"disabled",hidden:"hidden",showing:"showing"},ff=function(p){function o(a){var s;void 0===a&&(a={}),s=p.call(this)||this;var n={id:a.id||"vjs_track_"+xa(),kind:a.kind||"",language:a.language||""},i=a.label||"",c=function(O){Object.defineProperty(ue(s),O,{get:function(){return n[O]},set:function(){}})};for(var m in n)c(m);return Object.defineProperty(ue(s),"label",{get:function(){return i},set:function(O){O!==i&&(i=O,this.trigger("labelchange"))}}),s}return j(o,p),o}(H),hf=function(o){var a=["protocol","hostname","port","pathname","search","hash","host"],s=ee().createElement("a");s.href=o;for(var n={},i=0;i<a.length;i++)n[a[i]]=s[a[i]];return"http:"===n.protocol&&(n.host=n.host.replace(/:80$/,"")),"https:"===n.protocol&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=$().location.protocol),n.host||(n.host=$().location.host),n},Lh=function(o){if(!o.match(/^https?:\/\//)){var a=ee().createElement("a");a.href=o,o=a.href}return o},El=function(o){if("string"==typeof o){var s=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(o);if(s)return s.pop().toLowerCase()}return""},Hu=function(o,a){void 0===a&&(a=$().location);var s=hf(o);return(":"===s.protocol?a.protocol:s.protocol)+s.host!==a.protocol+a.host},rd=Object.freeze({__proto__:null,parseUrl:hf,getAbsoluteURL:Lh,getFileExtension:El,isCrossOrigin:Hu}),Fh=function(o,a){var s=new($().WebVTT.Parser)($(),$().vttjs,$().WebVTT.StringDecoder()),n=[];s.oncue=function(i){a.addCue(i)},s.onparsingerror=function(i){n.push(i)},s.onflush=function(){a.trigger({type:"loadeddata",target:a})},s.parse(o),n.length>0&&($().console&&$().console.groupCollapsed&&$().console.groupCollapsed("Text Track parsing errors for "+a.src),n.forEach(function(i){return Rn.error(i)}),$().console&&$().console.groupEnd&&$().console.groupEnd()),s.flush()},eu=function(o,a){var s={uri:o},n=Hu(o);n&&(s.cors=n);var i="use-credentials"===a.tech_.crossOrigin();i&&(s.withCredentials=i),ae()(s,I(this,function(c,m,E){if(c)return Rn.error(c,m);a.loaded_=!0,"function"!=typeof $().WebVTT?a.tech_&&a.tech_.any(["vttjsloaded","vttjserror"],function(O){if("vttjserror"!==O.type)return Fh(E,a);Rn.error("vttjs failed to load, stopping trying to process "+a.src)}):Fh(E,a)}))},tu=function(p){function o(s){var n;if(void 0===s&&(s={}),!s.tech)throw new Error("A tech was not provided.");var i=ti(s,{kind:td[s.kind]||"subtitles",language:s.language||s.srclang||""}),c=nd[i.mode]||"disabled",m=i.default;("metadata"===i.kind||"chapters"===i.kind)&&(c="hidden"),(n=p.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var E=new Tl(n.cues_),O=new Tl(n.activeCues_),R=!1,Z=I(ue(n),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,R&&(this.trigger("cuechange"),R=!1))});return n.tech_.one("dispose",function(){n.tech_.off("timeupdate",Z)}),"disabled"!==c&&n.tech_.on("timeupdate",Z),Object.defineProperties(ue(n),{default:{get:function(){return m},set:function(){}},mode:{get:function(){return c},set:function(Me){!nd[Me]||c!==Me&&(c=Me,!this.preload_&&"disabled"!==c&&0===this.cues.length&&eu(this.src,this),this.tech_.off("timeupdate",Z),"disabled"!==c&&this.tech_.on("timeupdate",Z),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?E:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return O;for(var Me=this.tech_.currentTime(),xe=[],we=0,st=this.cues.length;we<st;we++){var it=this.cues[we];(it.startTime<=Me&&it.endTime>=Me||it.startTime===it.endTime&&it.startTime<=Me&&it.startTime+.5>=Me)&&xe.push(it)}if(R=!1,xe.length!==this.activeCues_.length)R=!0;else for(var bt=0;bt<xe.length;bt++)-1===this.activeCues_.indexOf(xe[bt])&&(R=!0);return this.activeCues_=xe,O.setCues_(this.activeCues_),O},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==i.kind&&"captions"!==i.kind)&&eu(n.src,ue(n))):n.loaded_=!0,n}j(o,p);var a=o.prototype;return a.addCue=function(n){var i=n;if($().vttjs&&!(n instanceof $().vttjs.VTTCue)){for(var c in i=new($().vttjs.VTTCue)(n.startTime,n.endTime,n.text),n)c in i||(i[c]=n[c]);i.id=n.id,i.originalCue_=n}for(var m=this.tech_.textTracks(),E=0;E<m.length;E++)m[E]!==this&&m[E].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)},a.removeCue=function(n){for(var i=this.cues_.length;i--;){var c=this.cues_[i];if(c===n||c.originalCue_&&c.originalCue_===n){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}},o}(ff);tu.prototype.allowedEvents_={cuechange:"cuechange"};var nu=function(p){function o(a){var s;void 0===a&&(a={});var n=ti(a,{kind:df[a.kind]||""});s=p.call(this,n)||this;var i=!1;return Object.defineProperty(ue(s),"enabled",{get:function(){return i},set:function(m){"boolean"!=typeof m||m===i||(i=m,this.trigger("enabledchange"))}}),n.enabled&&(s.enabled=n.enabled),s.loaded_=!0,s}return j(o,p),o}(ff),Bh=function(p){function o(a){var s;void 0===a&&(a={});var n=ti(a,{kind:Nh[a.kind]||""});s=p.call(this,n)||this;var i=!1;return Object.defineProperty(ue(s),"selected",{get:function(){return i},set:function(m){"boolean"!=typeof m||m===i||(i=m,this.trigger("selectedchange"))}}),n.selected&&(s.selected=n.selected),s}return j(o,p),o}(ff),xl=function(p){function o(a){var s;void 0===a&&(a={}),s=p.call(this)||this;var n,i=new tu(a);return s.kind=i.kind,s.src=i.src,s.srclang=i.language,s.label=i.label,s.default=i.default,Object.defineProperties(ue(s),{readyState:{get:function(){return n}},track:{get:function(){return i}}}),n=0,i.addEventListener("loadeddata",function(){n=2,s.trigger({type:"load",target:ue(s)})}),s}return j(o,p),o}(H);xl.prototype.allowedEvents_={load:"load"},xl.NONE=0,xl.LOADING=1,xl.LOADED=2,xl.ERROR=3;var vs={audio:{ListClass:Zm,TrackClass:nu,capitalName:"Audio"},video:{ListClass:uf,TrackClass:Bh,capitalName:"Video"},text:{ListClass:Js,TrackClass:tu,capitalName:"Text"}};Object.keys(vs).forEach(function(p){vs[p].getterName=p+"Tracks",vs[p].privateName=p+"Tracks_"});var Jo={remoteText:{ListClass:Js,TrackClass:tu,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:cf,TrackClass:xl,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Us=ce({},vs,Jo);Jo.names=Object.keys(Jo),vs.names=Object.keys(vs),Us.names=[].concat(Jo.names).concat(vs.names);var Ir=function(p){function o(s,n){var i;return void 0===s&&(s={}),void 0===n&&(n=function(){}),s.reportTouchActivity=!1,(i=p.call(this,null,s,n)||this).onDurationChange_=function(c){return i.onDurationChange(c)},i.trackProgress_=function(c){return i.trackProgress(c)},i.trackCurrentTime_=function(c){return i.trackCurrentTime(c)},i.stopTrackingCurrentTime_=function(c){return i.stopTrackingCurrentTime(c)},i.disposeSourceHandler_=function(c){return i.disposeSourceHandler(c)},i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),Us.names.forEach(function(c){var m=Us[c];s&&s[m.getterName]&&(i[m.privateName]=s[m.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(c){!1===s["native"+c+"Tracks"]&&(i["featuresNative"+c+"Tracks"]=!1)}),!1===s.nativeCaptions||!1===s.nativeTextTracks?i.featuresNativeTextTracks=!1:(!0===s.nativeCaptions||!0===s.nativeTextTracks)&&(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==s.preloadTextTracks,i.autoRemoteTextTracks_=new Us.text.ListClass,i.initTrackListeners(),s.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}j(o,p);var a=o.prototype;return a.triggerSourceset=function(n){var i=this;this.isReady_||this.one("ready",function(){return i.setTimeout(function(){return i.triggerSourceset(n)},1)}),this.trigger({src:n,type:"sourceset"})},a.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},a.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},a.trackProgress=function(n){this.stopTrackingProgress(),this.progressInterval=this.setInterval(I(this,function(){var i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,1===i&&this.stopTrackingProgress()}),500)},a.onDurationChange=function(n){this.duration_=this.duration()},a.buffered=function(){return xi(0,0)},a.bufferedPercent=function(){return ju(this.buffered(),this.duration_)},a.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},a.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},a.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},a.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},a.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},a.dispose=function(){this.clearTracks(vs.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),p.prototype.dispose.call(this)},a.clearTracks=function(n){var i=this;(n=[].concat(n)).forEach(function(c){for(var m=i[c+"Tracks"]()||[],E=m.length;E--;){var O=m[E];"text"===c&&i.removeRemoteTextTrack(O),m.removeTrack(O)}})},a.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],i=n.length;i--;)this.removeRemoteTextTrack(n[i])},a.reset=function(){},a.crossOrigin=function(){},a.setCrossOrigin=function(){},a.error=function(n){return void 0!==n&&(this.error_=new vr(n),this.trigger("error")),this.error_},a.played=function(){return this.hasStarted_?xi(0,0):xi()},a.play=function(){},a.setScrubbing=function(){},a.scrubbing=function(){},a.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},a.initTrackListeners=function(){var n=this;vs.names.forEach(function(i){var m=function(){n.trigger(i+"trackchange")},E=n[vs[i].getterName]();E.addEventListener("removetrack",m),E.addEventListener("addtrack",m),n.on("dispose",function(){E.removeEventListener("removetrack",m),E.removeEventListener("addtrack",m)})})},a.addWebVttScript_=function(){var n=this;if(!$().WebVTT)if(ee().body.contains(this.el())){if(!this.options_["vtt.js"]&&Wl(Pe())&&Object.keys(Pe()).length>0)return void this.trigger("vttjsloaded");var i=ee().createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",i.onload=function(){n.trigger("vttjsloaded")},i.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){i.onload=null,i.onerror=null}),$().WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.addWebVttScript_)},a.emulateTextTracks=function(){var n=this,i=this.textTracks(),c=this.remoteTextTracks(),m=function(q){return i.addTrack(q.track)},E=function(q){return i.removeTrack(q.track)};c.on("addtrack",m),c.on("removetrack",E),this.addWebVttScript_();var O=function(){return n.trigger("texttrackchange")},R=function(){O();for(var q=0;q<i.length;q++){var ve=i[q];ve.removeEventListener("cuechange",O),"showing"===ve.mode&&ve.addEventListener("cuechange",O)}};R(),i.addEventListener("change",R),i.addEventListener("addtrack",R),i.addEventListener("removetrack",R),this.on("dispose",function(){c.off("addtrack",m),c.off("removetrack",E),i.removeEventListener("change",R),i.removeEventListener("addtrack",R),i.removeEventListener("removetrack",R);for(var Z=0;Z<i.length;Z++)i[Z].removeEventListener("cuechange",O)})},a.addTextTrack=function(n,i,c){if(!n)throw new Error("TextTrack kind is required but was not provided");return function(p,o,a,s,n){void 0===n&&(n={});var i=p.textTracks();n.kind=o,a&&(n.label=a),s&&(n.language=s),n.tech=p;var c=new Us.text.TrackClass(n);return i.addTrack(c),c}(this,n,i,c)},a.createRemoteTextTrack=function(n){var i=ti(n,{tech:this});return new Jo.remoteTextEl.TrackClass(i)},a.addRemoteTextTrack=function(n,i){var c=this;void 0===n&&(n={});var m=this.createRemoteTextTrack(n);return!0!==i&&!1!==i&&(Rn.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),i=!0),this.remoteTextTrackEls().addTrackElement_(m),this.remoteTextTracks().addTrack(m.track),!0!==i&&this.ready(function(){return c.autoRemoteTextTracks_.addTrack(m.track)}),m},a.removeRemoteTextTrack=function(n){var i=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(n),this.autoRemoteTextTracks_.removeTrack(n)},a.getVideoPlaybackQuality=function(){return{}},a.requestPictureInPicture=function(){var n=this.options_.Promise||$().Promise;if(n)return n.reject()},a.disablePictureInPicture=function(){return!0},a.setDisablePictureInPicture=function(){},a.setPoster=function(){},a.playsinline=function(){},a.setPlaysinline=function(){},a.overrideNativeAudioTracks=function(){},a.overrideNativeVideoTracks=function(){},a.canPlayType=function(){return""},o.canPlayType=function(){return""},o.canPlaySource=function(n,i){return o.canPlayType(n.type)},o.isTech=function(n){return n.prototype instanceof o||n instanceof o||n===o},o.registerTech=function(n,i){if(o.techs_||(o.techs_={}),!o.isTech(i))throw new Error("Tech "+n+" must be a Tech");if(!o.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!o.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=xr(n),o.techs_[n]=i,o.techs_[dr(n)]=i,"Tech"!==n&&o.defaultTechOrder_.push(n),i},o.getTech=function(n){if(n){if(o.techs_&&o.techs_[n])return o.techs_[n];if(n=xr(n),$()&&$().videojs&&$().videojs[n])return Rn.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),$().videojs[n]}},o}(Ft);Us.names.forEach(function(p){var o=Us[p];Ir.prototype[o.getterName]=function(){return this[o.privateName]=this[o.privateName]||new o.ListClass,this[o.privateName]}}),Ir.prototype.featuresVolumeControl=!0,Ir.prototype.featuresMuteControl=!0,Ir.prototype.featuresFullscreenResize=!1,Ir.prototype.featuresPlaybackRate=!1,Ir.prototype.featuresProgressEvents=!1,Ir.prototype.featuresSourceset=!1,Ir.prototype.featuresTimeupdateEvents=!1,Ir.prototype.featuresNativeTextTracks=!1,Ir.withSourceHandlers=function(p){p.registerSourceHandler=function(a,s){var n=p.sourceHandlers;n||(n=p.sourceHandlers=[]),void 0===s&&(s=n.length),n.splice(s,0,a)},p.canPlayType=function(a){for(var n,s=p.sourceHandlers||[],i=0;i<s.length;i++)if(n=s[i].canPlayType(a))return n;return""},p.selectSourceHandler=function(a,s){for(var n=p.sourceHandlers||[],c=0;c<n.length;c++)if(n[c].canHandleSource(a,s))return n[c];return null},p.canPlaySource=function(a,s){var n=p.selectSourceHandler(a,s);return n?n.canHandleSource(a,s):""},["seekable","seeking","duration"].forEach(function(a){var s=this[a];"function"==typeof s&&(this[a]=function(){return this.sourceHandler_&&this.sourceHandler_[a]?this.sourceHandler_[a].apply(this.sourceHandler_,arguments):s.apply(this,arguments)})},p.prototype),p.prototype.setSource=function(a){var s=p.selectSourceHandler(a,this.options_);s||(p.nativeSourceHandler?s=p.nativeSourceHandler:Rn.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),s!==p.nativeSourceHandler&&(this.currentSource_=a),this.sourceHandler_=s.handleSource(a,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},p.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ft.registerComponent("Tech",Ir),Ir.registerTech("Tech",Ir),Ir.defaultTechOrder_=[];var Za={},Oa={},wl={};function Vh(p,o,a){p.setTimeout(function(){return $u(o,Za[o.type],a,p)},1)}function Pa(p,o,a,s){void 0===s&&(s=null);var n="call"+xr(a),i=p.reduce(hc(n),s),c=i===wl,m=c?null:o[a](i);return function(p,o,a,s){for(var n=p.length-1;n>=0;n--){var i=p[n];i[o]&&i[o](s,a)}}(p,a,m,c),m}var id={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Sl={setCurrentTime:1,setMuted:1,setVolume:1},gf={play:1,pause:1};function hc(p){return function(o,a){return o===wl?wl:a[p]?a[p](o):o}}function $u(p,o,a,s,n,i){void 0===p&&(p={}),void 0===o&&(o=[]),void 0===n&&(n=[]),void 0===i&&(i=!1);var m=o[0],E=o.slice(1);if("string"==typeof m)$u(p,Za[m],a,s,n,i);else if(m){var O=function(p,o){var a=Oa[p.id()],s=null;if(null==a)return s=o(p),Oa[p.id()]=[[o,s]],s;for(var n=0;n<a.length;n++){var i=a[n];i[0]===o&&(s=i[1])}return null===s&&(s=o(p),a.push([o,s])),s}(s,m);if(!O.setSource)return n.push(O),$u(p,E,a,s,n,i);O.setSource(Hr({},p),function(R,Z){if(R)return $u(p,E,a,s,n,i);n.push(O),$u(Z,p.type===Z.type?E:Za[Z.type],a,s,n,i)})}else E.length?$u(p,E,a,s,n,i):i?a(p,n):$u(p,Za["*"],a,s,n,!0)}var zh={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Xa=function(o){void 0===o&&(o="");var a=El(o);return zh[a.toLowerCase()]||""},dg=function p(o){if(Array.isArray(o)){var a=[];o.forEach(function(s){s=p(s),Array.isArray(s)?a=a.concat(s):Ys(s)&&a.push(s)}),o=a}else o="string"==typeof o&&o.trim()?[tv({src:o})]:Ys(o)&&"string"==typeof o.src&&o.src&&o.src.trim()?[tv(o)]:[];return o};function tv(p){if(!p.type){var o=Xa(p.src);o&&(p.type=o)}return p}var Wu=function(p){function o(a,s,n){var i,c=ti({createEl:!1},s);if(i=p.call(this,a,c,n)||this,s.playerOptions.sources&&0!==s.playerOptions.sources.length)a.src(s.playerOptions.sources);else for(var m=0,E=s.playerOptions.techOrder;m<E.length;m++){var O=xr(E[m]),R=Ir.getTech(O);if(O||(R=Ft.getComponent(O)),R&&R.isSupported()){a.loadTech_(O);break}}return i}return j(o,p),o}(Ft);Ft.registerComponent("MediaLoader",Wu);var mc=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).handleMouseOver_=function(c){return i.handleMouseOver(c)},i.handleMouseOut_=function(c){return i.handleMouseOut(c)},i.handleClick_=function(c){return i.handleClick(c)},i.handleKeyDown_=function(c){return i.handleKeyDown(c)},i.emitTapEvents(),i.enable(),i}j(o,p);var a=o.prototype;return a.createEl=function(n,i,c){void 0===n&&(n="div"),void 0===i&&(i={}),void 0===c&&(c={}),i=Hr({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&Rn.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),c=Hr({role:"button"},c),this.tabIndex_=i.tabIndex;var m=lr(n,i,c);return m.appendChild(lr("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(m),m},a.dispose=function(){this.controlTextEl_=null,p.prototype.dispose.call(this)},a.createControlTextEl=function(n){return this.controlTextEl_=lr("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},a.controlText=function(n,i){if(void 0===i&&(i=this.el()),void 0===n)return this.controlText_||"Need Text";var c=this.localize(n);this.controlText_=n,ei(this.controlTextEl_,c),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",c)},a.buildCSSClass=function(){return"vjs-control vjs-button "+p.prototype.buildCSSClass.call(this)},a.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},a.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},a.handleLanguagechange=function(){this.controlText(this.controlText_)},a.handleClick=function(n){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},a.handleKeyDown=function(n){le().isEventKey(n,"Space")||le().isEventKey(n,"Enter")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):p.prototype.handleKeyDown.call(this,n)},o}(Ft);Ft.registerComponent("ClickableComponent",mc),Ft.registerComponent("PosterImage",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update(),i.update_=function(c){return i.update(c)},s.on("posterchange",i.update_),i}j(o,p);var a=o.prototype;return a.dispose=function(){this.player().off("posterchange",this.update_),p.prototype.dispose.call(this)},a.createEl=function(){return lr("div",{className:"vjs-poster",tabIndex:-1})},a.update=function(n){var i=this.player().poster();this.setSrc(i),i?this.show():this.hide()},a.setSrc=function(n){var i="";n&&(i='url("'+n+'")'),this.el_.style.backgroundImage=i},a.handleClick=function(n){if(this.player_.controls()){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((ya||va)&&i)&&this.player_.tech(!0).focus(),this.player_.paused()?Ya(this.player_.play()):this.player_.pause()}},o}(mc));var Mo="#222",fg={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ol(p,o){var a;if(4===p.length)a=p[1]+p[1]+p[2]+p[2]+p[3]+p[3];else{if(7!==p.length)throw new Error("Invalid color code provided, "+p+"; must be formatted as e.g. #f0e or #f604e2.");a=p.slice(1)}return"rgba("+parseInt(a.slice(0,2),16)+","+parseInt(a.slice(2,4),16)+","+parseInt(a.slice(4,6),16)+","+o+")"}function vc(p,o,a){try{p.style[o]=a}catch(s){return}}Ft.registerComponent("TextTrackDisplay",function(p){function o(s,n,i){var c;c=p.call(this,s,n,i)||this;var m=function(O){return c.updateDisplay(O)};return s.on("loadstart",function(E){return c.toggleDisplay(E)}),s.on("texttrackchange",m),s.on("loadedmetadata",function(E){return c.preselectTrack(E)}),s.ready(I(ue(c),function(){if(s.tech_&&s.tech_.featuresNativeTextTracks)this.hide();else{s.on("fullscreenchange",m),s.on("playerresize",m),$().addEventListener("orientationchange",m),s.on("dispose",function(){return $().removeEventListener("orientationchange",m)});for(var E=this.options_.playerOptions.tracks||[],O=0;O<E.length;O++)this.player_.addRemoteTextTrack(E[O],!0);this.preselectTrack()}})),c}j(o,p);var a=o.prototype;return a.preselectTrack=function(){for(var m,E,O,n={captions:1,subtitles:1},i=this.player_.textTracks(),c=this.player_.cache_.selectedLanguage,R=0;R<i.length;R++){var Z=i[R];c&&c.enabled&&c.language&&c.language===Z.language&&Z.kind in n?Z.kind===c.kind?O=Z:O||(O=Z):c&&!c.enabled?(O=null,m=null,E=null):Z.default&&("descriptions"!==Z.kind||m?Z.kind in n&&!E&&(E=Z):m=Z)}O?O.mode="showing":E?E.mode="showing":m&&(m.mode="showing")},a.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},a.clearDisplay=function(){"function"==typeof $().WebVTT&&$().WebVTT.processCues($(),[],this.el_)},a.updateDisplay=function(){var n=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){for(var c=[],m=0;m<n.length;++m){var E=n[m];"showing"===E.mode&&c.push(E)}this.updateForTrack(c)}else{for(var O=null,R=null,Z=n.length;Z--;){var q=n[Z];"showing"===q.mode&&("descriptions"===q.kind?O=q:R=q)}R?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(R)):O&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(O))}},a.updateDisplayState=function(n){for(var i=this.player_.textTrackSettings.getValues(),c=n.activeCues,m=c.length;m--;){var E=c[m];if(E){var O=E.displayState;if(i.color&&(O.firstChild.style.color=i.color),i.textOpacity&&vc(O.firstChild,"color",Ol(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(O.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&vc(O.firstChild,"backgroundColor",Ol(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?vc(O,"backgroundColor",Ol(i.windowColor,i.windowOpacity)):O.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?O.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Mo:"raised"===i.edgeStyle?O.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Mo:"depressed"===i.edgeStyle?O.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Mo:"uniform"===i.edgeStyle&&(O.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Mo)),i.fontPercent&&1!==i.fontPercent){var R=$().parseFloat(O.style.fontSize);O.style.fontSize=R*i.fontPercent+"px",O.style.height="auto",O.style.top="auto"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?O.firstChild.style.fontVariant="small-caps":O.firstChild.style.fontFamily=fg[i.fontFamily])}}},a.updateForTrack=function(n){if(Array.isArray(n)||(n=[n]),"function"==typeof $().WebVTT&&!n.every(function(ve){return!ve.activeCues})){for(var i=[],c=0;c<n.length;++c)for(var m=n[c],E=0;E<m.activeCues.length;++E)i.push(m.activeCues[E]);$().WebVTT.processCues($(),i,this.el_);for(var O=0;O<n.length;++O){for(var R=n[O],Z=0;Z<R.activeCues.length;++Z){var q=R.activeCues[Z].displayState;Go(q,"vjs-text-track-cue"),Go(q,"vjs-text-track-cue-"+(R.language?R.language:O)),R.language&&Ga(q,"lang",R.language)}this.player_.textTrackSettings&&this.updateDisplayState(R)}}},o}(Ft)),Ft.registerComponent("LoadingSpinner",function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(){var n=this.player_.isAudio(),i=this.localize(n?"Audio Player":"Video Player"),c=lr("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),m=p.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return m.appendChild(c),m},o}(Ft));var uo=function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.createEl=function(n,i,c){void 0===i&&(i={}),void 0===c&&(c={});var m=lr("button",i=Hr({className:this.buildCSSClass()},i),c=Hr({type:"button"},c));return m.appendChild(lr("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(m),m},a.addChild=function(n,i){return void 0===i&&(i={}),Rn.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),Ft.prototype.addChild.call(this,n,i)},a.enable=function(){p.prototype.enable.call(this),this.el_.removeAttribute("disabled")},a.disable=function(){p.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},a.handleKeyDown=function(n){le().isEventKey(n,"Space")||le().isEventKey(n,"Enter")?n.stopPropagation():p.prototype.handleKeyDown.call(this,n)},o}(mc);Ft.registerComponent("Button",uo);var od=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).mouseused_=!1,i.on("mousedown",function(c){return i.handleMouseDown(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-big-play-button"},a.handleClick=function(n){var i=this.player_.play();if(this.mouseused_&&n.clientX&&n.clientY){var c=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Ya(i),void(this.player_.tech(!0)&&(!ya&&!va||!c)&&this.player_.tech(!0).focus())}var m=this.player_.getChild("controlBar"),E=m&&m.getChild("playToggle");if(E){var O=function(){return E.focus()};Ka(i)?i.then(O,function(){}):this.setTimeout(O,1)}else this.player_.tech(!0).focus()},a.handleKeyDown=function(n){this.mouseused_=!1,p.prototype.handleKeyDown.call(this,n)},a.handleMouseDown=function(n){this.mouseused_=!0},o}(uo);od.prototype.controlText_="Play Video",Ft.registerComponent("BigPlayButton",od),Ft.registerComponent("CloseButton",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-close-button "+p.prototype.buildCSSClass.call(this)},a.handleClick=function(n){this.trigger({type:"close",bubbles:!1})},a.handleKeyDown=function(n){le().isEventKey(n,"Esc")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):p.prototype.handleKeyDown.call(this,n)},o}(uo));var ad=function(p){function o(s,n){var i;return void 0===n&&(n={}),i=p.call(this,s,n)||this,n.replay=void 0===n.replay||n.replay,i.on(s,"play",function(c){return i.handlePlay(c)}),i.on(s,"pause",function(c){return i.handlePause(c)}),n.replay&&i.on(s,"ended",function(c){return i.handleEnded(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-play-control "+p.prototype.buildCSSClass.call(this)},a.handleClick=function(n){this.player_.paused()?Ya(this.player_.play()):this.player_.pause()},a.handleSeeked=function(n){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(n):this.handlePlay(n)},a.handlePlay=function(n){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},a.handlePause=function(n){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},a.handleEnded=function(n){var i=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(c){return i.handleSeeked(c)})},o}(uo);ad.prototype.controlText_="Play",Ft.registerComponent("PlayToggle",ad);var Pl=function(o,a){o=o<0?0:o;var s=Math.floor(o%60),n=Math.floor(o/60%60),i=Math.floor(o/3600),c=Math.floor(a/60%60),m=Math.floor(a/3600);return(isNaN(o)||o===1/0)&&(i=n=s="-"),(i=i>0||m>0?i+":":"")+(n=((i||c>=10)&&n<10?"0"+n:n)+":")+(s<10?"0"+s:s)},ld=Pl;function iu(p,o){return void 0===o&&(o=p),ld(p,o)}var su=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,["timeupdate","ended"],function(c){return i.updateContent(c)}),i.updateTextNode_(),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=this.buildCSSClass(),i=p.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"}),c=lr("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xa0"},{role:"presentation"});return i.appendChild(c),this.contentEl_=lr("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),i.appendChild(this.contentEl_),i},a.dispose=function(){this.contentEl_=null,this.textNode_=null,p.prototype.dispose.call(this)},a.updateTextNode_=function(n){var i=this;void 0===n&&(n=0),n=iu(n),this.formattedTime_!==n&&(this.formattedTime_=n,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(i.contentEl_){var c=i.textNode_;c&&i.contentEl_.firstChild!==c&&(c=null,Rn.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),i.textNode_=ee().createTextNode(i.formattedTime_),i.textNode_&&(c?i.contentEl_.replaceChild(i.textNode_,c):i.contentEl_.appendChild(i.textNode_))}}))},a.updateContent=function(n){},o}(Ft);su.prototype.labelText_="Time",su.prototype.controlText_="Time",Ft.registerComponent("TimeDisplay",su);var vf=function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-current-time"},a.updateContent=function(n){var i;i=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)},o}(su);vf.prototype.labelText_="Current Time",vf.prototype.controlText_="Current Time",Ft.registerComponent("CurrentTimeDisplay",vf);var yf=function(p){function o(s,n){var i,c=function(E){return i.updateContent(E)};return(i=p.call(this,s,n)||this).on(s,"durationchange",c),i.on(s,"loadstart",c),i.on(s,"loadedmetadata",c),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-duration"},a.updateContent=function(n){var i=this.player_.duration();this.updateTextNode_(i)},o}(su);yf.prototype.labelText_="Duration",yf.prototype.controlText_="Duration",Ft.registerComponent("DurationDisplay",yf),Ft.registerComponent("TimeDivider",function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(){var n=p.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=p.prototype.createEl.call(this,"div"),c=p.prototype.createEl.call(this,"span",{textContent:"/"});return i.appendChild(c),n.appendChild(i),n},o}(Ft));var ea=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,"durationchange",function(c){return i.updateContent(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-remaining-time"},a.createEl=function(){var n=p.prototype.createEl.call(this);return n.insertBefore(lr("span",{},{"aria-hidden":!0},"-"),this.contentEl_),n},a.updateContent=function(n){var i;"number"==typeof this.player_.duration()&&(i=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(i))},o}(su);ea.prototype.labelText_="Remaining Time",ea.prototype.controlText_="Remaining Time",Ft.registerComponent("RemainingTimeDisplay",ea),Ft.registerComponent("LiveDisplay",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).updateShowing(),i.on(i.player(),"durationchange",function(c){return i.updateShowing(c)}),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=p.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=lr("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(lr("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xa0"})),this.contentEl_.appendChild(ee().createTextNode(this.localize("LIVE"))),n.appendChild(this.contentEl_),n},a.dispose=function(){this.contentEl_=null,p.prototype.dispose.call(this)},a.updateShowing=function(n){this.player().duration()===1/0?this.show():this.hide()},o}(Ft));var bf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&(i.updateLiveEdgeStatusHandler_=function(c){return i.updateLiveEdgeStatus(c)},i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatusHandler_)),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=p.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=lr("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),n.appendChild(this.textEl_),n},a.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},a.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},a.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,p.prototype.dispose.call(this)},o}(uo);bf.prototype.controlText_="Seek to live, currently playing live",Ft.registerComponent("SeekToLive",bf);var ou=function(o,a,s){return o=Number(o),Math.min(s,Math.max(a,isNaN(o)?a:o))},Cf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).handleMouseDown_=function(c){return i.handleMouseDown(c)},i.handleMouseUp_=function(c){return i.handleMouseUp(c)},i.handleKeyDown_=function(c){return i.handleKeyDown(c)},i.handleClick_=function(c){return i.handleClick(c)},i.handleMouseMove_=function(c){return i.handleMouseMove(c)},i.update_=function(c){return i.update(c)},i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}j(o,p);var a=o.prototype;return a.enabled=function(){return this.enabled_},a.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},a.disable=function(){if(this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},a.createEl=function(n,i,c){return void 0===i&&(i={}),void 0===c&&(c={}),i.className=i.className+" vjs-slider",i=Hr({tabIndex:0},i),c=Hr({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},c),p.prototype.createEl.call(this,n,i,c)},a.handleMouseDown=function(n){var i=this.bar.el_.ownerDocument;"mousedown"===n.type&&n.preventDefault(),"touchstart"===n.type&&!oo&&n.preventDefault(),Ca(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(n)},a.handleMouseMove=function(n){},a.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;Lu(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()},a.update=function(){var n=this;if(this.el_&&this.bar){var i=this.getProgress();return i===this.progress_||(this.progress_=i,this.requestNamedAnimationFrame("Slider#update",function(){var c=n.vertical()?"height":"width";n.bar.el().style[c]=(100*i).toFixed(2)+"%"})),i}},a.getProgress=function(){return Number(ou(this.getPercent(),0,1).toFixed(4))},a.calculateDistance=function(n){var i=Ti(this.el_,n);return this.vertical()?i.y:i.x},a.handleKeyDown=function(n){le().isEventKey(n,"Left")||le().isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepBack()):le().isEventKey(n,"Right")||le().isEventKey(n,"Up")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):p.prototype.handleKeyDown.call(this,n)},a.handleClick=function(n){n.stopPropagation(),n.preventDefault()},a.vertical=function(n){if(void 0===n)return this.vertical_||!1;this.vertical_=!!n,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},o}(Ft);Ft.registerComponent("Slider",Cf);var Tf=function(o,a){return ou(o/a*100,0,100).toFixed(2)+"%"};Ft.registerComponent("LoadProgressBar",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).partEls_=[],i.on(s,"progress",function(c){return i.update(c)}),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=p.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=lr("span",{className:"vjs-control-text"}),c=lr("span",{textContent:this.localize("Loaded")}),m=ee().createTextNode(": ");return this.percentageEl_=lr("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),n.appendChild(i),i.appendChild(c),i.appendChild(m),i.appendChild(this.percentageEl_),n},a.dispose=function(){this.partEls_=null,this.percentageEl_=null,p.prototype.dispose.call(this)},a.update=function(n){var i=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var c=i.player_.liveTracker,m=i.player_.buffered(),E=c&&c.isLive()?c.seekableEnd():i.player_.duration(),O=i.player_.bufferedEnd(),R=i.partEls_,Z=Tf(O,E);i.percent_!==Z&&(i.el_.style.width=Z,ei(i.percentageEl_,Z),i.percent_=Z);for(var q=0;q<m.length;q++){var ve=m.start(q),Me=m.end(q),xe=R[q];xe||(xe=i.el_.appendChild(lr()),R[q]=xe),(xe.dataset.start!==ve||xe.dataset.end!==Me)&&(xe.dataset.start=ve,xe.dataset.end=Me,xe.style.left=Tf(ve,O),xe.style.width=Tf(Me-ve,O))}for(var we=R.length;we>m.length;we--)i.el_.removeChild(R[we-1]);R.length=m.length})},o}(Ft)),Ft.registerComponent("TimeTooltip",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},a.update=function(n,i,c){var m=qo(this.el_),E=vl(this.player_.el()),O=n.width*i;if(E&&m){var R=n.left-E.left+O,Z=n.width-O+(E.right-n.right),q=m.width/2;R<q?q+=q-R:Z<q&&(q=Z),q<0?q=0:q>m.width&&(q=m.width),q=Math.round(q),this.el_.style.right="-"+q+"px",this.write(c)}},a.write=function(n){ei(this.el_,n)},a.updateTime=function(n,i,c,m){var E=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var O,R=E.player_.duration();if(E.player_.liveTracker&&E.player_.liveTracker.isLive()){var Z=E.player_.liveTracker.liveWindow(),q=Z-i*Z;O=(q<1?"":"-")+iu(q,Z)}else O=iu(c,R);E.update(n,i,O),m&&m()})},o}(Ft));var ud=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},a.update=function(n,i){var c=this.getChild("timeTooltip");if(c){var m=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();c.updateTime(n,i,m)}},o}(Ft);ud.prototype.options_={children:[]},!bi&&!Vi&&ud.prototype.options_.children.push("timeTooltip"),Ft.registerComponent("PlayProgressBar",ud);var xf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},a.update=function(n,i){var c=this,m=i*this.player_.duration();this.getChild("timeTooltip").updateTime(n,i,m,function(){c.el_.style.left=n.width*i+"px"})},o}(Ft);xf.prototype.options_={children:["timeTooltip"]},Ft.registerComponent("MouseTimeDisplay",xf);var wf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).setEventHandlers_(),i}j(o,p);var a=o.prototype;return a.setEventHandlers_=function(){var n=this;this.update_=I(this,this.update),this.update=D(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(i){return n.enableInterval_(i)},this.disableIntervalHandler_=function(i){return n.disableInterval_(i)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ee()&&"visibilityState"in ee()&&this.on(ee(),"visibilitychange",this.toggleVisibility_)},a.toggleVisibility_=function(n){"hidden"===ee().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(n)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},a.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},a.disableInterval_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&n&&"ended"!==n.type||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},a.update=function(n){var i=this;if("hidden"!==ee().visibilityState){var c=p.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var m=i.player_.ended()?i.player_.duration():i.getCurrentTime_(),E=i.player_.liveTracker,O=i.player_.duration();E&&E.isLive()&&(O=i.player_.liveTracker.liveCurrentTime()),i.percent_!==c&&(i.el_.setAttribute("aria-valuenow",(100*c).toFixed(2)),i.percent_=c),(i.currentTime_!==m||i.duration_!==O)&&(i.el_.setAttribute("aria-valuetext",i.localize("progress bar timing: currentTime={1} duration={2}",[iu(m,O),iu(O,O)],"{1} of {2}")),i.currentTime_=m,i.duration_=O),i.bar&&i.bar.update(vl(i.el()),i.getProgress())}),c}},a.userSeek_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(n)},a.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},a.getPercent=function(){var i,n=this.getCurrentTime_(),c=this.player_.liveTracker;return c&&c.isLive()?(i=(n-c.seekableStart())/c.liveWindow(),c.atLiveEdge()&&(i=1)):i=n/this.player_.duration(),i},a.handleMouseDown=function(n){!Ta(n)||(n.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),p.prototype.handleMouseDown.call(this,n))},a.handleMouseMove=function(n){if(Ta(n)){var i,c=this.calculateDistance(n),m=this.player_.liveTracker;if(m&&m.isLive()){if(c>=.99)return void m.seekToLiveEdge();var E=m.seekableStart(),O=m.liveCurrentTime();if((i=E+c*m.liveWindow())>=O&&(i=O),i<=E&&(i=E+.1),i===1/0)return}else(i=c*this.player_.duration())===this.player_.duration()&&(i-=.1);this.userSeek_(i)}},a.enable=function(){p.prototype.enable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.show()},a.disable=function(){p.prototype.disable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.hide()},a.handleMouseUp=function(n){p.prototype.handleMouseUp.call(this,n),n&&n.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ya(this.player_.play()):this.update_()},a.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},a.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},a.handleAction=function(n){this.player_.paused()?this.player_.play():this.player_.pause()},a.handleKeyDown=function(n){var i=this.player_.liveTracker;if(le().isEventKey(n,"Space")||le().isEventKey(n,"Enter"))n.preventDefault(),n.stopPropagation(),this.handleAction(n);else if(le().isEventKey(n,"Home"))n.preventDefault(),n.stopPropagation(),this.userSeek_(0);else if(le().isEventKey(n,"End"))n.preventDefault(),n.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(le()(n))){n.preventDefault(),n.stopPropagation();var c=10*(le().codes[le()(n)]-le().codes[0])/100;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*c):this.userSeek_(this.player_.duration()*c)}else le().isEventKey(n,"PgDn")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):le().isEventKey(n,"PgUp")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):p.prototype.handleKeyDown.call(this,n)},a.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ee()&&"visibilityState"in ee()&&this.off(ee(),"visibilitychange",this.toggleVisibility_),p.prototype.dispose.call(this)},o}(Cf);wf.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!bi&&!Vi&&wf.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ft.registerComponent("SeekBar",wf);var iv=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).handleMouseMove=D(I(ue(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=D(I(ue(i),i.handleMouseSeek),30),i.handleMouseUpHandler_=function(c){return i.handleMouseUp(c)},i.handleMouseDownHandler_=function(c){return i.handleMouseDown(c)},i.enable(),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},a.handleMouseMove=function(n){var i=this.getChild("seekBar");if(i){var c=i.getChild("playProgressBar"),m=i.getChild("mouseTimeDisplay");if(c||m){var E=i.el(),O=qo(E),R=Ti(E,n).x;R=ou(R,0,1),m&&m.update(O,R),c&&c.update(O,i.getProgress())}}},a.handleMouseSeek=function(n){var i=this.getChild("seekBar");i&&i.handleMouseMove(n)},a.enabled=function(){return this.enabled_},a.disable=function(){if(this.children().forEach(function(i){return i.disable&&i.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var n=this.getChild("seekBar");this.player_.scrubbing(!1),n.videoWasPlaying&&Ya(this.player_.play())}},a.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},a.removeListenersAddedOnMousedownAndTouchstart=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseSeek),this.off(n,"touchmove",this.throttledHandleMouseSeek),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},a.handleMouseDown=function(n){var i=this.el_.ownerDocument,c=this.getChild("seekBar");c&&c.handleMouseDown(n),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)},a.handleMouseUp=function(n){var i=this.getChild("seekBar");i&&i.handleMouseUp(n),this.removeListenersAddedOnMousedownAndTouchstart()},o}(Ft);iv.prototype.options_={children:["seekBar"]},Ft.registerComponent("ProgressControl",iv);var cd=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,["enterpictureinpicture","leavepictureinpicture"],function(c){return i.handlePictureInPictureChange(c)}),i.on(s,["disablepictureinpicturechanged","loadedmetadata"],function(c){return i.handlePictureInPictureEnabledChange(c)}),i.disable(),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-picture-in-picture-control "+p.prototype.buildCSSClass.call(this)},a.handlePictureInPictureEnabledChange=function(){ee().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},a.handlePictureInPictureChange=function(n){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},a.handleClick=function(n){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},o}(uo);cd.prototype.controlText_="Picture-in-Picture",Ft.registerComponent("PictureInPictureToggle",cd);var Gu=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,"fullscreenchange",function(c){return i.handleFullscreenChange(c)}),!1===ee()[s.fsApi_.fullscreenEnabled]&&i.disable(),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-fullscreen-control "+p.prototype.buildCSSClass.call(this)},a.handleFullscreenChange=function(n){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},a.handleClick=function(n){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},o}(uo);Gu.prototype.controlText_="Fullscreen",Ft.registerComponent("FullscreenToggle",Gu),Ft.registerComponent("VolumeLevel",function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(){var n=p.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return n.appendChild(p.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),n},o}(Ft)),Ft.registerComponent("VolumeLevelTooltip",function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},a.update=function(n,i,c,m){if(!c){var E=vl(this.el_),O=vl(this.player_.el()),R=n.width*i;if(!O||!E)return;var Z=n.left-O.left+R,q=n.width-R+(O.right-n.right),ve=E.width/2;Z<ve?ve+=ve-Z:q<ve&&(ve=q),ve<0?ve=0:ve>E.width&&(ve=E.width),this.el_.style.right="-"+ve+"px"}this.write(m+"%")},a.write=function(n){ei(this.el_,n)},a.updateVolume=function(n,i,c,m,E){var O=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){O.update(n,i,c,m.toFixed(0)),E&&E()})},o}(Ft));var Sf=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).update=D(I(ue(i),i.update),30),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},a.update=function(n,i,c){var m=this,E=100*i;this.getChild("volumeLevelTooltip").updateVolume(n,i,c,E,function(){c?m.el_.style.bottom=n.height*i+"px":m.el_.style.left=n.width*i+"px"})},o}(Ft);Sf.prototype.options_={children:["volumeLevelTooltip"]},Ft.registerComponent("MouseVolumeLevelDisplay",Sf);var Cc=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on("slideractive",function(c){return i.updateLastVolume_(c)}),i.on(s,"volumechange",function(c){return i.updateARIAAttributes(c)}),s.ready(function(){return i.updateARIAAttributes()}),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},a.handleMouseDown=function(n){!Ta(n)||p.prototype.handleMouseDown.call(this,n)},a.handleMouseMove=function(n){var i=this.getChild("mouseVolumeLevelDisplay");if(i){var c=this.el(),m=vl(c),E=this.vertical(),O=Ti(c,n);O=ou(O=E?O.y:O.x,0,1),i.update(m,O,E)}!Ta(n)||(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},a.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},a.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},a.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},a.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},a.updateARIAAttributes=function(n){var i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")},a.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},a.updateLastVolume_=function(){var n=this,i=this.player_.volume();this.one("sliderinactive",function(){0===n.player_.volume()&&n.player_.lastVolume_(i)})},o}(Cf);Cc.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!bi&&!Vi&&Cc.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Cc.prototype.playerEvent="volumechange",Ft.registerComponent("VolumeBar",Cc);var dd=function(p){function o(s,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||Wl(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),function(o,a){a.tech_&&!a.tech_.featuresVolumeControl&&o.addClass("vjs-hidden"),o.on(a,"loadstart",function(){a.tech_.featuresVolumeControl?o.removeClass("vjs-hidden"):o.addClass("vjs-hidden")})}(ue(i=p.call(this,s,n)||this),s),i.throttledHandleMouseMove=D(I(ue(i),i.handleMouseMove),30),i.handleMouseUpHandler_=function(c){return i.handleMouseUp(c)},i.on("mousedown",function(c){return i.handleMouseDown(c)}),i.on("touchstart",function(c){return i.handleMouseDown(c)}),i.on("mousemove",function(c){return i.handleMouseMove(c)}),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n="vjs-volume-horizontal";return this.options_.vertical&&(n="vjs-volume-vertical"),p.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+n})},a.handleMouseDown=function(n){var i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)},a.handleMouseUp=function(n){var i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)},a.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},o}(Ft);dd.prototype.options_={children:["volumeBar"]},Ft.registerComponent("VolumeControl",dd);var au=function(p){function o(s,n){var i;return function(o,a){a.tech_&&!a.tech_.featuresMuteControl&&o.addClass("vjs-hidden"),o.on(a,"loadstart",function(){a.tech_.featuresMuteControl?o.removeClass("vjs-hidden"):o.addClass("vjs-hidden")})}(ue(i=p.call(this,s,n)||this),s),i.on(s,["loadstart","volumechange"],function(c){return i.update(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-mute-control "+p.prototype.buildCSSClass.call(this)},a.handleClick=function(n){var i=this.player_.volume(),c=this.player_.lastVolume_();0===i?(this.player_.volume(c<.1?.1:c),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},a.update=function(n){this.updateIcon_(),this.updateControlText_()},a.updateIcon_=function(){var n=this.player_.volume(),i=3;bi&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===n||this.player_.muted()?i=0:n<.33?i=1:n<.67&&(i=2);for(var c=0;c<4;c++)Oo(this.el_,"vjs-vol-"+c);Go(this.el_,"vjs-vol-"+i)},a.updateControlText_=function(){var i=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)},o}(uo);au.prototype.controlText_="Mute",Ft.registerComponent("MuteToggle",au);var Qh=function(p){function o(s,n){var i;return void 0===n&&(n={}),n.inline=void 0===n.inline||n.inline,(void 0===n.volumeControl||Wl(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=p.call(this,s,n)||this).handleKeyPressHandler_=function(c){return i.handleKeyPress(c)},i.on(s,["loadstart"],function(c){return i.volumePanelState_(c)}),i.on(i.muteToggle,"keyup",function(c){return i.handleKeyPress(c)}),i.on(i.volumeControl,"keyup",function(c){return i.handleVolumeControlKeyUp(c)}),i.on("keydown",function(c){return i.handleKeyPress(c)}),i.on("mouseover",function(c){return i.handleMouseOver(c)}),i.on("mouseout",function(c){return i.handleMouseOut(c)}),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}j(o,p);var a=o.prototype;return a.sliderActive_=function(){this.addClass("vjs-slider-active")},a.sliderInactive_=function(){this.removeClass("vjs-slider-active")},a.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},a.createEl=function(){var n="vjs-volume-panel-horizontal";return this.options_.inline||(n="vjs-volume-panel-vertical"),p.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+n})},a.dispose=function(){this.handleMouseOut(),p.prototype.dispose.call(this)},a.handleVolumeControlKeyUp=function(n){le().isEventKey(n,"Esc")&&this.muteToggle.focus()},a.handleMouseOver=function(n){this.addClass("vjs-hover"),Os(ee(),"keyup",this.handleKeyPressHandler_)},a.handleMouseOut=function(n){this.removeClass("vjs-hover"),Ei(ee(),"keyup",this.handleKeyPressHandler_)},a.handleKeyPress=function(n){le().isEventKey(n,"Esc")&&this.handleMouseOut()},o}(Ft);Qh.prototype.options_={children:["muteToggle","volumeControl"]},Ft.registerComponent("VolumePanel",Qh);var fd=function(p){function o(s,n){var i;return i=p.call(this,s,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",function(c){return i.handleKeyDown(c)}),i.boundHandleBlur_=function(c){return i.handleBlur(c)},i.boundHandleTapClick_=function(c){return i.handleTapClick(c)},i}j(o,p);var a=o.prototype;return a.addEventListenerForItem=function(n){n instanceof Ft&&(this.on(n,"blur",this.boundHandleBlur_),this.on(n,["tap","click"],this.boundHandleTapClick_))},a.removeEventListenerForItem=function(n){n instanceof Ft&&(this.off(n,"blur",this.boundHandleBlur_),this.off(n,["tap","click"],this.boundHandleTapClick_))},a.removeChild=function(n){"string"==typeof n&&(n=this.getChild(n)),this.removeEventListenerForItem(n),p.prototype.removeChild.call(this,n)},a.addItem=function(n){var i=this.addChild(n);i&&this.addEventListenerForItem(i)},a.createEl=function(){this.contentEl_=lr(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=p.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),Os(i,"click",function(c){c.preventDefault(),c.stopImmediatePropagation()}),i},a.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,p.prototype.dispose.call(this)},a.handleBlur=function(n){var i=n.relatedTarget||ee().activeElement;if(!this.children().some(function(m){return m.el()===i})){var c=this.menuButton_;c&&c.buttonPressed_&&i!==c.el().firstChild&&c.unpressButton()}},a.handleTapClick=function(n){if(this.menuButton_){this.menuButton_.unpressButton();var i=this.children();if(!Array.isArray(i))return;var c=i.filter(function(m){return m.el()===n.target})[0];if(!c)return;"CaptionSettingsMenuItem"!==c.name()&&this.menuButton_.focus()}},a.handleKeyDown=function(n){le().isEventKey(n,"Left")||le().isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):(le().isEventKey(n,"Right")||le().isEventKey(n,"Up"))&&(n.preventDefault(),n.stopPropagation(),this.stepBack())},a.stepForward=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_+1),this.focus(n)},a.stepBack=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_-1),this.focus(n)},a.focus=function(n){void 0===n&&(n=0);var i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(n<0?n=0:n>=i.length&&(n=i.length-1),this.focusedChild_=n,i[n].el_.focus())},o}(Ft);Ft.registerComponent("Menu",fd);var Tc=function(p){function o(s,n){var i;void 0===n&&(n={}),(i=p.call(this,s,n)||this).menuButton_=new uo(s,n),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var c=uo.prototype.buildCSSClass();i.menuButton_.el_.className=i.buildCSSClass()+" "+c,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0;var m=function(O){return i.handleClick(O)};return i.handleMenuKeyUp_=function(E){return i.handleMenuKeyUp(E)},i.on(i.menuButton_,"tap",m),i.on(i.menuButton_,"click",m),i.on(i.menuButton_,"keydown",function(E){return i.handleKeyDown(E)}),i.on(i.menuButton_,"mouseenter",function(){i.addClass("vjs-hover"),i.menu.show(),Os(ee(),"keyup",i.handleMenuKeyUp_)}),i.on("mouseleave",function(E){return i.handleMouseLeave(E)}),i.on("keydown",function(E){return i.handleSubmenuKeyDown(E)}),i}j(o,p);var a=o.prototype;return a.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.addChild(n),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},a.createMenu=function(){var n=new fd(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var i=lr("li",{className:"vjs-menu-title",textContent:xr(this.options_.title),tabIndex:-1}),c=new Ft(this.player_,{el:i});n.addItem(c)}if(this.items=this.createItems(),this.items)for(var m=0;m<this.items.length;m++)n.addItem(this.items[m]);return n},a.createItems=function(){},a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},a.buildWrapperCSSClass=function(){var n="vjs-menu-button";return"vjs-menu-button "+(n+=!0===this.options_.inline?"-inline":"-popup")+" "+uo.prototype.buildCSSClass()+" "+p.prototype.buildCSSClass.call(this)},a.buildCSSClass=function(){var n="vjs-menu-button";return"vjs-menu-button "+(n+=!0===this.options_.inline?"-inline":"-popup")+" "+p.prototype.buildCSSClass.call(this)},a.controlText=function(n,i){return void 0===i&&(i=this.menuButton_.el()),this.menuButton_.controlText(n,i)},a.dispose=function(){this.handleMouseLeave(),p.prototype.dispose.call(this)},a.handleClick=function(n){this.buttonPressed_?this.unpressButton():this.pressButton()},a.handleMouseLeave=function(n){this.removeClass("vjs-hover"),Ei(ee(),"keyup",this.handleMenuKeyUp_)},a.focus=function(){this.menuButton_.focus()},a.blur=function(){this.menuButton_.blur()},a.handleKeyDown=function(n){le().isEventKey(n,"Esc")||le().isEventKey(n,"Tab")?(this.buttonPressed_&&this.unpressButton(),le().isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus())):(le().isEventKey(n,"Up")||le().isEventKey(n,"Down"))&&(this.buttonPressed_||(n.preventDefault(),this.pressButton()))},a.handleMenuKeyUp=function(n){(le().isEventKey(n,"Esc")||le().isEventKey(n,"Tab"))&&this.removeClass("vjs-hover")},a.handleSubmenuKeyPress=function(n){this.handleSubmenuKeyDown(n)},a.handleSubmenuKeyDown=function(n){(le().isEventKey(n,"Esc")||le().isEventKey(n,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),le().isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus()))},a.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),bi&&qr())return;this.menu.focus()}},a.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},a.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},a.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},o}(Ft);Ft.registerComponent("MenuButton",Tc);var Dl=function(p){function o(a,s){var n,i=s.tracks;if((n=p.call(this,a,s)||this).items.length<=1&&n.hide(),!i)return ue(n);var c=I(ue(n),n.update);return i.addEventListener("removetrack",c),i.addEventListener("addtrack",c),i.addEventListener("labelchange",c),n.player_.on("ready",c),n.player_.on("dispose",function(){i.removeEventListener("removetrack",c),i.removeEventListener("addtrack",c),i.removeEventListener("labelchange",c)}),n}return j(o,p),o}(Tc);Ft.registerComponent("TrackButton",Dl);var e_=["Tab","Esc","Up","Down","Right","Left"],Of=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.el_.setAttribute("role",i.selectable?i.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),i}j(o,p);var a=o.prototype;return a.createEl=function(n,i,c){this.nonIconControl=!0;var m=p.prototype.createEl.call(this,"li",Hr({className:"vjs-menu-item",tabIndex:-1},i),c);return m.replaceChild(lr("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),m.querySelector(".vjs-icon-placeholder")),m},a.handleKeyDown=function(n){e_.some(function(i){return le().isEventKey(n,i)})||p.prototype.handleKeyDown.call(this,n)},a.handleClick=function(n){this.selected(!0)},a.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},o}(mc);Ft.registerComponent("MenuItem",Of);var gn=function(p){function o(s,n){var i,c=n.track,m=s.textTracks();n.label=c.label||c.language||"Unknown",n.selected="showing"===c.mode,(i=p.call(this,s,n)||this).track=c,i.kinds=(n.kinds||[n.kind||i.track.kind]).filter(Boolean);var R,E=function(){for(var q=arguments.length,ve=new Array(q),Me=0;Me<q;Me++)ve[Me]=arguments[Me];i.handleTracksChange.apply(ue(i),ve)},O=function(){for(var q=arguments.length,ve=new Array(q),Me=0;Me<q;Me++)ve[Me]=arguments[Me];i.handleSelectedLanguageChange.apply(ue(i),ve)};return s.on(["loadstart","texttrackchange"],E),m.addEventListener("change",E),m.addEventListener("selectedlanguagechange",O),i.on("dispose",function(){s.off(["loadstart","texttrackchange"],E),m.removeEventListener("change",E),m.removeEventListener("selectedlanguagechange",O)}),void 0===m.onchange&&i.on(["tap","click"],function(){if("object"!=typeof $().Event)try{R=new($().Event)("change")}catch(Z){}R||(R=ee().createEvent("Event")).initEvent("change",!0,!0),m.dispatchEvent(R)}),i.handleTracksChange(),i}j(o,p);var a=o.prototype;return a.handleClick=function(n){var i=this.track,c=this.player_.textTracks();if(p.prototype.handleClick.call(this,n),c)for(var m=0;m<c.length;m++){var E=c[m];-1!==this.kinds.indexOf(E.kind)&&(E===i?"showing"!==E.mode&&(E.mode="showing"):"disabled"!==E.mode&&(E.mode="disabled"))}},a.handleTracksChange=function(n){var i="showing"===this.track.mode;i!==this.isSelected_&&this.selected(i)},a.handleSelectedLanguageChange=function(n){if("showing"===this.track.mode){var i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},a.dispose=function(){this.track=null,p.prototype.dispose.call(this)},o}(Of);Ft.registerComponent("TextTrackMenuItem",gn);var Ji=function(p){function o(s,n){return n.track={player:s,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,p.call(this,s,n)||this}j(o,p);var a=o.prototype;return a.handleTracksChange=function(n){for(var i=this.player().textTracks(),c=!0,m=0,E=i.length;m<E;m++){var O=i[m];if(this.options_.kinds.indexOf(O.kind)>-1&&"showing"===O.mode){c=!1;break}}c!==this.isSelected_&&this.selected(c)},a.handleSelectedLanguageChange=function(n){for(var i=this.player().textTracks(),c=!0,m=0,E=i.length;m<E;m++){var O=i[m];if(["captions","descriptions","subtitles"].indexOf(O.kind)>-1&&"showing"===O.mode){c=!1;break}}c&&(this.player_.cache_.selectedLanguage={enabled:!1})},o}(gn);Ft.registerComponent("OffTextTrackMenuItem",Ji);var Aa=function(p){function o(s,n){return void 0===n&&(n={}),n.tracks=s.textTracks(),p.call(this,s,n)||this}return j(o,p),o.prototype.createItems=function(n,i){var c;void 0===n&&(n=[]),void 0===i&&(i=gn),this.label_&&(c=this.label_+" off"),n.push(new Ji(this.player_,{kinds:this.kinds_,kind:this.kind_,label:c})),this.hideThreshold_+=1;var m=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var E=0;E<m.length;E++){var O=m[E];if(this.kinds_.indexOf(O.kind)>-1){var R=new i(this.player_,{track:O,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});R.addClass("vjs-"+O.kind+"-menu-item"),n.push(R)}}return n},o}(Dl);Ft.registerComponent("TextTrackButton",Aa);var Ec=function(p){function o(s,n){var i,c=n.track,m=n.cue,E=s.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=m.text,n.selected=m.startTime<=E&&E<m.endTime,(i=p.call(this,s,n)||this).track=c,i.cue=m,c.addEventListener("cuechange",I(ue(i),i.update)),i}j(o,p);var a=o.prototype;return a.handleClick=function(n){p.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},a.update=function(n){var i=this.cue,c=this.player_.currentTime();this.selected(i.startTime<=c&&c<i.endTime)},o}(Of);Ft.registerComponent("ChaptersTrackMenuItem",Ec);var lu=function(p){function o(s,n,i){return p.call(this,s,n,i)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-chapters-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-chapters-button "+p.prototype.buildWrapperCSSClass.call(this)},a.update=function(n){(!this.track_||n&&("addtrack"===n.type||"removetrack"===n.type))&&this.setTrack(this.findChaptersTrack()),p.prototype.update.call(this)},a.setTrack=function(n){if(this.track_!==n){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=n,this.track_){this.track_.mode="hidden";var c=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);c&&c.addEventListener("load",this.updateHandler_)}}},a.findChaptersTrack=function(){for(var n=this.player_.textTracks()||[],i=n.length-1;i>=0;i--){var c=n[i];if(c.kind===this.kind_)return c}},a.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(xr(this.kind_))},a.createMenu=function(){return this.options_.title=this.getMenuCaption(),p.prototype.createMenu.call(this)},a.createItems=function(){var n=[];if(!this.track_)return n;var i=this.track_.cues;if(!i)return n;for(var c=0,m=i.length;c<m;c++){var O=new Ec(this.player_,{track:this.track_,cue:i[c]});n.push(O)}return n},o}(Aa);lu.prototype.kind_="chapters",lu.prototype.controlText_="Chapters",Ft.registerComponent("ChaptersButton",lu);var hd=function(p){function o(s,n,i){var c;c=p.call(this,s,n,i)||this;var m=s.textTracks(),E=I(ue(c),c.handleTracksChange);return m.addEventListener("change",E),c.on("dispose",function(){m.removeEventListener("change",E)}),c}j(o,p);var a=o.prototype;return a.handleTracksChange=function(n){for(var i=this.player().textTracks(),c=!1,m=0,E=i.length;m<E;m++){var O=i[m];if(O.kind!==this.kind_&&"showing"===O.mode){c=!0;break}}c?this.disable():this.enable()},a.buildCSSClass=function(){return"vjs-descriptions-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+p.prototype.buildWrapperCSSClass.call(this)},o}(Aa);hd.prototype.kind_="descriptions",hd.prototype.controlText_="Descriptions",Ft.registerComponent("DescriptionsButton",hd);var uu=function(p){function o(s,n,i){return p.call(this,s,n,i)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-subtitles-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+p.prototype.buildWrapperCSSClass.call(this)},o}(Aa);uu.prototype.kind_="subtitles",uu.prototype.controlText_="Subtitles",Ft.registerComponent("SubtitlesButton",uu);var Pn=function(p){function o(s,n){var i;return n.track={player:s,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=p.call(this,s,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return j(o,p),o.prototype.handleClick=function(n){this.player().getChild("textTrackSettings").open()},o}(gn);Ft.registerComponent("CaptionSettingsMenuItem",Pn);var cu=function(p){function o(s,n,i){return p.call(this,s,n,i)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-captions-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-captions-button "+p.prototype.buildWrapperCSSClass.call(this)},a.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Pn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),p.prototype.createItems.call(this,n)},o}(Aa);cu.prototype.kind_="captions",cu.prototype.controlText_="Captions",Ft.registerComponent("CaptionsButton",cu);var pd=function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(n,i,c){var m=p.prototype.createEl.call(this,n,i,c),E=m.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(E.appendChild(lr("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),E.appendChild(lr("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),m},o}(gn);Ft.registerComponent("SubsCapsMenuItem",pd);var ni=function(p){function o(s,n){var i;return void 0===n&&(n={}),(i=p.call(this,s,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(xr(i.label_)),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-subs-caps-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+p.prototype.buildWrapperCSSClass.call(this)},a.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Pn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),p.prototype.createItems.call(this,n,pd)},o}(Aa);ni.prototype.kinds_=["captions","subtitles"],ni.prototype.controlText_="Subtitles",Ft.registerComponent("SubsCapsButton",ni);var Ja=function(p){function o(s,n){var i,c=n.track,m=s.audioTracks();n.label=c.label||c.language||"Unknown",n.selected=c.enabled,(i=p.call(this,s,n)||this).track=c,i.addClass("vjs-"+c.kind+"-menu-item");var E=function(){for(var R=arguments.length,Z=new Array(R),q=0;q<R;q++)Z[q]=arguments[q];i.handleTracksChange.apply(ue(i),Z)};return m.addEventListener("change",E),i.on("dispose",function(){m.removeEventListener("change",E)}),i}j(o,p);var a=o.prototype;return a.createEl=function(n,i,c){var m=p.prototype.createEl.call(this,n,i,c),E=m.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(E.appendChild(p.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),E.appendChild(p.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),m},a.handleClick=function(n){p.prototype.handleClick.call(this,n),this.track.enabled=!0},a.handleTracksChange=function(n){this.selected(this.track.enabled)},o}(Of);Ft.registerComponent("AudioTrackMenuItem",Ja);var gd=function(p){function o(s,n){return void 0===n&&(n={}),n.tracks=s.audioTracks(),p.call(this,s,n)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-audio-button "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-audio-button "+p.prototype.buildWrapperCSSClass.call(this)},a.createItems=function(n){void 0===n&&(n=[]),this.hideThreshold_=1;for(var i=this.player_.audioTracks(),c=0;c<i.length;c++)n.push(new Ja(this.player_,{track:i[c],selectable:!0,multiSelectable:!1}));return n},o}(Dl);gd.prototype.controlText_="Audio Track",Ft.registerComponent("AudioTrackButton",gd);var qu=function(p){function o(s,n){var i,c=n.rate,m=parseFloat(c,10);return n.label=c,n.selected=m===s.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(i=p.call(this,s,n)||this).label=c,i.rate=m,i.on(s,"ratechange",function(E){return i.update(E)}),i}j(o,p);var a=o.prototype;return a.handleClick=function(n){p.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},a.update=function(n){this.selected(this.player().playbackRate()===this.rate)},o}(Of);qu.prototype.contentElType="button",Ft.registerComponent("PlaybackRateMenuItem",qu);var Ia=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).menuButton_.el_.setAttribute("aria-describedby",i.labelElId_),i.updateVisibility(),i.updateLabel(),i.on(s,"loadstart",function(c){return i.updateVisibility(c)}),i.on(s,"ratechange",function(c){return i.updateLabel(c)}),i.on(s,"playbackrateschange",function(c){return i.handlePlaybackRateschange(c)}),i}j(o,p);var a=o.prototype;return a.createEl=function(){var n=p.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=lr("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),n.appendChild(this.labelEl_),n},a.dispose=function(){this.labelEl_=null,p.prototype.dispose.call(this)},a.buildCSSClass=function(){return"vjs-playback-rate "+p.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function(){return"vjs-playback-rate "+p.prototype.buildWrapperCSSClass.call(this)},a.createItems=function(){for(var n=this.playbackRates(),i=[],c=n.length-1;c>=0;c--)i.push(new qu(this.player(),{rate:n[c]+"x"}));return i},a.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},a.handleClick=function(n){for(var i=this.player().playbackRate(),c=this.playbackRates(),m=c[0],E=0;E<c.length;E++)if(c[E]>i){m=c[E];break}this.player().playbackRate(m)},a.handlePlaybackRateschange=function(n){this.update()},a.playbackRates=function(){var n=this.player();return n.playbackRates&&n.playbackRates()||[]},a.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},a.updateVisibility=function(n){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},a.updateLabel=function(n){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},o}(Tc);Ia.prototype.controlText_="Playback Rate",Ft.registerComponent("PlaybackRateMenuButton",Ia);var Kh=function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-spacer "+p.prototype.buildCSSClass.call(this)},a.createEl=function(n,i,c){return void 0===n&&(n="div"),void 0===i&&(i={}),void 0===c&&(c={}),i.className||(i.className=this.buildCSSClass()),p.prototype.createEl.call(this,n,i,c)},o}(Ft);Ft.registerComponent("Spacer",Kh),Ft.registerComponent("CustomControlSpacer",function(p){function o(){return p.apply(this,arguments)||this}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-custom-control-spacer "+p.prototype.buildCSSClass.call(this)},a.createEl=function(){return p.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xa0"})},o}(Kh));var Qu=function(p){function o(){return p.apply(this,arguments)||this}return j(o,p),o.prototype.createEl=function(){return p.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},o}(Ft);Qu.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in ee()&&Qu.prototype.options_.children.splice(Qu.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ft.registerComponent("ControlBar",Qu);var md=function(p){function o(s,n){var i;return(i=p.call(this,s,n)||this).on(s,"error",function(c){return i.open(c)}),i}j(o,p);var a=o.prototype;return a.buildCSSClass=function(){return"vjs-error-display "+p.prototype.buildCSSClass.call(this)},a.content=function(){var n=this.player().error();return n?this.localize(n.message):""},o}(lo);md.prototype.options_=ce({},lo.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ft.registerComponent("ErrorDisplay",md);var hn="vjs-text-track-settings",vd=["#000","Black"],Pf=["#00F","Blue"],du=["#0FF","Cyan"],zi=["#0F0","Green"],xc=["#F0F","Magenta"],wc=["#F00","Red"],yd=["#FFF","White"],ri=["#FF0","Yellow"],fu=["1","Opaque"],Sc=["0.5","Semi-Transparent"],Ku=["0","Transparent"],eo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[vd,yd,wc,zi,Pf,ri,xc,du]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[fu,Sc,Ku]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[yd,vd,wc,zi,Pf,ri,xc,du]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(o){return"1.00"===o?null:Number(o)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[fu,Sc]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Ku,Sc,fu]}};function _d(p,o){if(o&&(p=o(p)),p&&"none"!==p)return p}eo.windowColor.options=eo.backgroundColor.options,Ft.registerComponent("TextTrackSettings",function(p){function o(s,n){var i;return n.temporary=!1,(i=p.call(this,s,n)||this).updateDisplay=i.updateDisplay.bind(ue(i)),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=lr("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),Jr(eo,function(c){i.on(i.$(c.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}j(o,p);var a=o.prototype;return a.dispose=function(){this.endDialog=null,p.prototype.dispose.call(this)},a.createElSelect_=function(n,i,c){var m=this;void 0===i&&(i=""),void 0===c&&(c="label");var E=eo[n],O=E.id.replace("%s",this.id_),R=[i,O].join(" ").trim();return["<"+c+' id="'+O+'" class="'+("label"===c?"vjs-label":"")+'">',this.localize(E.label),"</"+c+">",'<select aria-labelledby="'+R+'">'].concat(E.options.map(function(Z){var q=O+"-"+Z[1].replace(/\W+/g,"");return['<option id="'+q+'" value="'+Z[0]+'" ','aria-labelledby="'+R+" "+q+'">',m.localize(Z[1]),"</option>"].join("")})).concat("</select>").join("")},a.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"</span>","</fieldset>"].join("")},a.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"</span>","</fieldset>"].join("")},a.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"</span>","</fieldset>"].join("")},a.createElColors_=function(){return lr("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},a.createElFont_=function(){return lr("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},a.createElControls_=function(){var n=this.localize("restore all settings to the default values");return lr("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},a.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},a.label=function(){return this.localize("Caption Settings Dialog")},a.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},a.buildCSSClass=function(){return p.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},a.getValues=function(){var n=this;return function(p,o,a){return void 0===a&&(a=0),Xr(p).reduce(function(s,n){return o(s,p[n],n)},a)}(eo,function(i,c,m){var E=function(p,o){return _d(p.options[p.options.selectedIndex].value,o)}(n.$(c.selector),c.parser);return void 0!==E&&(i[m]=E),i},{})},a.setValues=function(n){var i=this;Jr(eo,function(c,m){!function(p,o,a){if(o)for(var s=0;s<p.options.length;s++)if(_d(p.options[s].value,a)===o){p.selectedIndex=s;break}}(i.$(c.selector),n[m],c.parser)})},a.setDefaults=function(){var n=this;Jr(eo,function(i){var c=i.hasOwnProperty("default")?i.default:0;n.$(i.selector).selectedIndex=c})},a.restoreSettings=function(){var n;try{n=JSON.parse($().localStorage.getItem(hn))}catch(i){Rn.warn(i)}n&&this.setValues(n)},a.saveSettings=function(){if(this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?$().localStorage.setItem(hn,JSON.stringify(n)):$().localStorage.removeItem(hn)}catch(i){Rn.warn(i)}}},a.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},a.conditionalBlur_=function(){this.previouslyActiveEl_=null;var n=this.player_.controlBar,i=n&&n.subsCapsButton,c=n&&n.captionsButton;i?i.focus():c&&c.focus()},o}(lo)),Ft.registerComponent("ResizeManager",function(p){function o(s,n){var i,c=n.ResizeObserver||$().ResizeObserver;null===n.ResizeObserver&&(c=!1);var m=ti({createEl:!c,reportTouchActivity:!1},n);return(i=p.call(this,s,m)||this).ResizeObserver=n.ResizeObserver||$().ResizeObserver,i.loadListener_=null,i.resizeObserver_=null,i.debouncedHandler_=function(o,a,s,n){void 0===n&&(n=$());var i,m=function(){var O=this,R=arguments,Z=function(){i=null,Z=null,o.apply(O,R)};n.clearTimeout(i),i=n.setTimeout(Z,100)};return m.cancel=function(){n.clearTimeout(i),i=null},m}(function(){i.resizeHandler()},0,0,ue(i)),c?(i.resizeObserver_=new i.ResizeObserver(i.debouncedHandler_),i.resizeObserver_.observe(s.el())):(i.loadListener_=function(){if(i.el_&&i.el_.contentWindow){var E=i.debouncedHandler_,O=i.unloadListener_=function(){Ei(this,"resize",E),Ei(this,"unload",O),O=null};Os(i.el_.contentWindow,"unload",O),Os(i.el_.contentWindow,"resize",E)}},i.one("load",i.loadListener_)),i}j(o,p);var a=o.prototype;return a.createEl=function(){return p.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},a.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},a.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,p.prototype.dispose.call(this)},o}(Ft));var Xh={trackingThreshold:20,liveTolerance:15};Ft.registerComponent("LiveTracker",function(p){function o(s,n){var i,c=ti(Xh,n,{createEl:!1});return(i=p.call(this,s,c)||this).handleVisibilityChange_=function(m){return i.handleVisibilityChange(m)},i.trackLiveHandler_=function(){return i.trackLive_()},i.handlePlay_=function(m){return i.handlePlay(m)},i.handleFirstTimeupdate_=function(m){return i.handleFirstTimeupdate(m)},i.handleSeeked_=function(m){return i.handleSeeked(m)},i.seekToLiveEdge_=function(m){return i.seekToLiveEdge(m)},i.reset_(),i.on(i.player_,"durationchange",function(m){return i.handleDurationchange(m)}),i.one(i.player_,"canplay",function(){return i.toggleTracking()}),ya&&"hidden"in ee()&&"visibilityState"in ee()&&i.on(ee(),"visibilitychange",i.handleVisibilityChange_),i}j(o,p);var a=o.prototype;return a.handleVisibilityChange=function(){this.player_.duration()===1/0&&(ee().hidden?this.stopTracking():this.startTracking())},a.trackLive_=function(){var n=this.player_.seekable();if(n&&n.length){var i=Number($().performance.now().toFixed(4)),c=-1===this.lastTime_?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+c;var m=this.liveCurrentTime(),E=this.player_.currentTime(),O=this.player_.paused()||this.seekedBehindLive_||Math.abs(m-E)>this.options_.liveTolerance;(!this.timeupdateSeen_||m===1/0)&&(O=!1),O!==this.behindLiveEdge_&&(this.behindLiveEdge_=O,this.trigger("liveedgechange"))}},a.handleDurationchange=function(){this.toggleTracking()},a.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},a.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},a.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},a.handleSeeked=function(){var n=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&n>2,this.nextSeekedFromUser_=!1,this.trackLive_()},a.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},a.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},a.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},a.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},a.seekableEnd=function(){for(var n=this.player_.seekable(),i=[],c=n?n.length:0;c--;)i.push(n.end(c));return i.length?i.sort()[i.length-1]:1/0},a.seekableStart=function(){for(var n=this.player_.seekable(),i=[],c=n?n.length:0;c--;)i.push(n.start(c));return i.length?i.sort()[0]:0},a.liveWindow=function(){var n=this.liveCurrentTime();return n===1/0?0:n-this.seekableStart()},a.isLive=function(){return this.isTracking()},a.atLiveEdge=function(){return!this.behindLiveEdge()},a.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},a.pastSeekEnd=function(){var n=this.seekableEnd();return-1!==this.lastSeekEnd_&&n!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=n,this.pastSeekEnd_},a.behindLiveEdge=function(){return this.behindLiveEdge_},a.isTracking=function(){return"number"==typeof this.trackingInterval_},a.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},a.dispose=function(){this.off(ee(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),p.prototype.dispose.call(this)},o}(Ft));var ka,Df=function(o){var a=o.el();if(a.hasAttribute("src"))return o.triggerSourceset(a.src),!0;var s=o.$$("source"),n=[],i="";if(!s.length)return!1;for(var c=0;c<s.length;c++){var m=s[c].src;m&&-1===n.indexOf(m)&&n.push(m)}return!!n.length&&(1===n.length&&(i=n[0]),o.triggerSourceset(i),!0)},Yu=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(o){var a=ee().createElement(this.nodeName.toLowerCase());a.innerHTML=o;for(var s=ee().createDocumentFragment();a.childNodes.length;)s.appendChild(a.childNodes[0]);return this.innerText="",$().Element.prototype.appendChild.call(this,s),this.innerHTML}}),Oc=function(o,a){for(var s={},n=0;n<o.length&&!((s=Object.getOwnPropertyDescriptor(o[n],a))&&s.set&&s.get);n++);return s.enumerable=!0,s.configurable=!0,s},Mf=function(o){var a=o.el();if(!a.resetSourceWatch_){var s={},n=function(o){return Oc([o.el(),$().HTMLMediaElement.prototype,$().Element.prototype,Yu],"innerHTML")}(o),i=function(m){return function(){for(var E=arguments.length,O=new Array(E),R=0;R<E;R++)O[R]=arguments[R];var Z=m.apply(a,O);return Df(o),Z}};["append","appendChild","insertAdjacentHTML"].forEach(function(c){!a[c]||(s[c]=a[c],a[c]=i(s[c]))}),Object.defineProperty(a,"innerHTML",ti(n,{set:i(n.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(s).forEach(function(c){a[c]=s[c]}),Object.defineProperty(a,"innerHTML",n)},o.one("sourceset",a.resetSourceWatch_)}},yg=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Lh($().Element.prototype.getAttribute.call(this,"src")):""},set:function(o){return $().Element.prototype.setAttribute.call(this,"src",o),o}}),Td=function(o,a,s,n){void 0===n&&(n=!0);var i=function(E){return Object.defineProperty(o,a,{value:E,enumerable:!0,writable:!0})},c={configurable:!0,enumerable:!0,get:function(){var E=s();return i(E),E}};return n&&(c.set=i),Object.defineProperty(o,a,c)},rn=function(p){function o(s,n){var i;i=p.call(this,s,n)||this;var c=s.source,m=!1;if(c&&(i.el_.currentSrc!==c.src||s.tag&&3===s.tag.initNetworkState_)?i.setSource(c):i.handleLateInit_(i.el_),s.enableSourceset&&i.setupSourcesetHandling_(),i.isScrubbing_=!1,i.el_.hasChildNodes()){for(var E=i.el_.childNodes,O=E.length,R=[];O--;){var Z=E[O];"track"===Z.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(Z),i.remoteTextTracks().addTrack(Z.track),i.textTracks().addTrack(Z.track),!m&&!i.el_.hasAttribute("crossorigin")&&Hu(Z.src)&&(m=!0)):R.push(Z))}for(var ve=0;ve<R.length;ve++)i.el_.removeChild(R[ve])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&m&&Rn.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(_a||wo||$o)&&!0===s.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}j(o,p);var a=o.prototype;return a.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),o.disposeMediaElement(this.el_),this.options_=null,p.prototype.dispose.call(this)},a.setupSourcesetHandling_=function(){!function(o){if(o.featuresSourceset){var a=o.el();if(!a.resetSourceset_){var s=function(o){return Oc([o.el(),$().HTMLMediaElement.prototype,yg],"src")}(o),n=a.setAttribute,i=a.load;Object.defineProperty(a,"src",ti(s,{set:function(m){var E=s.set.call(a,m);return o.triggerSourceset(a.src),E}})),a.setAttribute=function(c,m){var E=n.call(a,c,m);return/src/i.test(c)&&o.triggerSourceset(a.src),E},a.load=function(){var c=i.call(a);return Df(o)||(o.triggerSourceset(""),Mf(o)),c},a.currentSrc?o.triggerSourceset(a.currentSrc):Df(o)||Mf(o),a.resetSourceset_=function(){a.resetSourceset_=null,a.load=i,a.setAttribute=n,Object.defineProperty(a,"src",s),a.resetSourceWatch_&&a.resetSourceWatch_()}}}}(this)},a.restoreMetadataTracksInIOSNativePlayer_=function(){var i,n=this.textTracks(),c=function(){i=[];for(var O=0;O<n.length;O++){var R=n[O];"metadata"===R.kind&&i.push({track:R,storedMode:R.mode})}};c(),n.addEventListener("change",c),this.on("dispose",function(){return n.removeEventListener("change",c)});var m=function E(){for(var O=0;O<i.length;O++){var R=i[O];"disabled"===R.track.mode&&R.track.mode!==R.storedMode&&(R.track.mode=R.storedMode)}n.removeEventListener("change",E)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",c),n.removeEventListener("change",m),n.addEventListener("change",m)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",c),n.addEventListener("change",c),n.removeEventListener("change",m)})},a.overrideNative_=function(n,i){var c=this;if(i===this["featuresNative"+n+"Tracks"]){var m=n.toLowerCase();this[m+"TracksListeners_"]&&Object.keys(this[m+"TracksListeners_"]).forEach(function(E){c.el()[m+"Tracks"].removeEventListener(E,c[m+"TracksListeners_"][E])}),this["featuresNative"+n+"Tracks"]=!i,this[m+"TracksListeners_"]=null,this.proxyNativeTracksForType_(m)}},a.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},a.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},a.proxyNativeTracksForType_=function(n){var i=this,c=vs[n],m=this.el()[c.getterName],E=this[c.getterName]();if(this["featuresNative"+c.capitalName+"Tracks"]&&m&&m.addEventListener){var O={change:function(q){var ve={type:"change",target:E,currentTarget:E,srcElement:E};E.trigger(ve),"text"===n&&i[Jo.remoteText.getterName]().trigger(ve)},addtrack:function(q){E.addTrack(q.track)},removetrack:function(q){E.removeTrack(q.track)}},R=function(){for(var q=[],ve=0;ve<E.length;ve++){for(var Me=!1,xe=0;xe<m.length;xe++)if(m[xe]===E[ve]){Me=!0;break}Me||q.push(E[ve])}for(;q.length;)E.removeTrack(q.shift())};this[c.getterName+"Listeners_"]=O,Object.keys(O).forEach(function(Z){var q=O[Z];m.addEventListener(Z,q),i.on("dispose",function(ve){return m.removeEventListener(Z,q)})}),this.on("loadstart",R),this.on("dispose",function(Z){return i.off("loadstart",R)})}},a.proxyNativeTracks_=function(){var n=this;vs.names.forEach(function(i){n.proxyNativeTracksForType_(i)})},a.createEl=function(){var n=this.options_.tag;if(!n||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(n){var i=n.cloneNode(!0);n.parentNode&&n.parentNode.insertBefore(i,n),o.disposeMediaElement(n),n=i}else{n=ee().createElement("video");var m=ti({},this.options_.tag&&Ri(this.options_.tag));(!_a||!0!==this.options_.nativeControlsForTouch)&&delete m.controls,ba(n,Hr(m,{id:this.options_.techId,class:"vjs-tech"}))}n.playerId=this.options_.playerId}void 0!==this.options_.preload&&Ga(n,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var E=["loop","muted","playsinline","autoplay"],O=0;O<E.length;O++){var R=E[O],Z=this.options_[R];void 0!==Z&&(Z?Ga(n,R,R):ao(n,R),n[R]=Z)}return n},a.handleLateInit_=function(n){if(0!==n.networkState&&3!==n.networkState){if(0===n.readyState){var i=!1,c=function(){i=!0};this.on("loadstart",c);var m=function(){i||this.trigger("loadstart")};return this.on("loadedmetadata",m),void this.ready(function(){this.off("loadstart",c),this.off("loadedmetadata",m),i||this.trigger("loadstart")})}var E=["loadstart"];E.push("loadedmetadata"),n.readyState>=2&&E.push("loadeddata"),n.readyState>=3&&E.push("canplay"),n.readyState>=4&&E.push("canplaythrough"),this.ready(function(){E.forEach(function(O){this.trigger(O)},this)})}},a.setScrubbing=function(n){this.isScrubbing_=n},a.scrubbing=function(){return this.isScrubbing_},a.setCurrentTime=function(n){try{this.isScrubbing_&&this.el_.fastSeek&&ku?this.el_.fastSeek(n):this.el_.currentTime=n}catch(i){Rn(i,"Video is not ready. (Video.js)")}},a.duration=function(){var n=this;return this.el_.duration===1/0&&Vi&&oo&&0===this.el_.currentTime?(this.on("timeupdate",function c(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",c))}),NaN):this.el_.duration||NaN},a.width=function(){return this.el_.offsetWidth},a.height=function(){return this.el_.offsetHeight},a.proxyWebkitFullscreen_=function(){var n=this;if("webkitDisplayingFullscreen"in this.el_){var i=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},c=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",i),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",c),this.on("dispose",function(){n.off("webkitbeginfullscreen",c),n.off("webkitendfullscreen",i)})}},a.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var n=$().navigator&&$().navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},a.enterFullScreen=function(){var n=this.el_;if(n.paused&&n.networkState<=n.HAVE_METADATA)Ya(this.el_.play()),this.setTimeout(function(){n.pause();try{n.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{n.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},a.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},a.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},a.src=function(n){if(void 0===n)return this.el_.src;this.setSrc(n)},a.reset=function(){o.resetMediaElement(this.el_)},a.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},a.setControls=function(n){this.el_.controls=!!n},a.addTextTrack=function(n,i,c){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,i,c):p.prototype.addTextTrack.call(this,n,i,c)},a.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return p.prototype.createRemoteTextTrack.call(this,n);var i=ee().createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},a.addRemoteTextTrack=function(n,i){var c=p.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(c),c},a.removeRemoteTextTrack=function(n){if(p.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),c=i.length;c--;)(n===i[c]||n===i[c].track)&&this.el().removeChild(i[c])},a.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var n={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),$().performance&&"function"==typeof $().performance.now?n.creationTime=$().performance.now():$().performance&&$().performance.timing&&"number"==typeof $().performance.timing.navigationStart&&(n.creationTime=$().Date.now()-$().performance.timing.navigationStart),n},o}(Ir);Td(rn,"TEST_VID",function(){if(Ci()){var p=ee().createElement("video"),o=ee().createElement("track");return o.kind="captions",o.srclang="en",o.label="English",p.appendChild(o),p}}),rn.isSupported=function(){try{rn.TEST_VID.volume=.5}catch(p){return!1}return!(!rn.TEST_VID||!rn.TEST_VID.canPlayType)},rn.canPlayType=function(p){return rn.TEST_VID.canPlayType(p)},rn.canPlaySource=function(p,o){return rn.canPlayType(p.type)},rn.canControlVolume=function(){try{var p=rn.TEST_VID.volume;return rn.TEST_VID.volume=p/2+.1,p!==rn.TEST_VID.volume}catch(o){return!1}},rn.canMuteVolume=function(){try{var p=rn.TEST_VID.muted;return rn.TEST_VID.muted=!p,rn.TEST_VID.muted?Ga(rn.TEST_VID,"muted","muted"):ao(rn.TEST_VID,"muted"),p!==rn.TEST_VID.muted}catch(o){return!1}},rn.canControlPlaybackRate=function(){if(Vi&&oo&&Wo<58)return!1;try{var p=rn.TEST_VID.playbackRate;return rn.TEST_VID.playbackRate=p/2+.1,p!==rn.TEST_VID.playbackRate}catch(o){return!1}},rn.canOverrideAttributes=function(){try{var p=function(){};Object.defineProperty(ee().createElement("video"),"src",{get:p,set:p}),Object.defineProperty(ee().createElement("audio"),"src",{get:p,set:p}),Object.defineProperty(ee().createElement("video"),"innerHTML",{get:p,set:p}),Object.defineProperty(ee().createElement("audio"),"innerHTML",{get:p,set:p})}catch(o){return!1}return!0},rn.supportsNativeTextTracks=function(){return ku||bi&&oo},rn.supportsNativeVideoTracks=function(){return!(!rn.TEST_VID||!rn.TEST_VID.videoTracks)},rn.supportsNativeAudioTracks=function(){return!(!rn.TEST_VID||!rn.TEST_VID.audioTracks)},rn.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(p){var a=p[1];Td(rn.prototype,p[0],function(){return rn[a]()},!0)}),rn.prototype.movingMediaElementInDOM=!bi,rn.prototype.featuresFullscreenResize=!0,rn.prototype.featuresProgressEvents=!0,rn.prototype.featuresTimeupdateEvents=!0,rn.patchCanPlayType=function(){Gl>=4&&!Iu&&!oo&&(ka=rn.TEST_VID&&rn.TEST_VID.constructor.prototype.canPlayType,rn.TEST_VID.constructor.prototype.canPlayType=function(p){return p&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(p)?"maybe":ka.call(this,p)})},rn.unpatchCanPlayType=function(){var p=rn.TEST_VID.constructor.prototype.canPlayType;return ka&&(rn.TEST_VID.constructor.prototype.canPlayType=ka),p},rn.patchCanPlayType(),rn.disposeMediaElement=function(p){if(p){for(p.parentNode&&p.parentNode.removeChild(p);p.hasChildNodes();)p.removeChild(p.firstChild);p.removeAttribute("src"),"function"==typeof p.load&&function(){try{p.load()}catch(o){}}()}},rn.resetMediaElement=function(p){if(p){for(var o=p.querySelectorAll("source"),a=o.length;a--;)p.removeChild(o[a]);p.removeAttribute("src"),"function"==typeof p.load&&function(){try{p.load()}catch(s){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(p){rn.prototype[p]=function(){return this.el_[p]||this.el_.hasAttribute(p)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(p){rn.prototype["set"+xr(p)]=function(o){this.el_[p]=o,o?this.el_.setAttribute(p,p):this.el_.removeAttribute(p)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(p){rn.prototype[p]=function(){return this.el_[p]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(p){rn.prototype["set"+xr(p)]=function(o){this.el_[p]=o}}),["pause","load","play"].forEach(function(p){rn.prototype[p]=function(){return this.el_[p]()}}),Ir.withSourceHandlers(rn),rn.nativeSourceHandler={},rn.nativeSourceHandler.canPlayType=function(p){try{return rn.TEST_VID.canPlayType(p)}catch(o){return""}},rn.nativeSourceHandler.canHandleSource=function(p,o){if(p.type)return rn.nativeSourceHandler.canPlayType(p.type);if(p.src){var a=El(p.src);return rn.nativeSourceHandler.canPlayType("video/"+a)}return""},rn.nativeSourceHandler.handleSource=function(p,o,a){o.setSrc(p.src)},rn.nativeSourceHandler.dispose=function(){},rn.registerSourceHandler(rn.nativeSourceHandler),Ir.registerTech("Html5",rn);var Ed=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Af={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},xd=["tiny","xsmall","small","medium","large","xlarge","huge"],Dc={};xd.forEach(function(p){var o="x"===p.charAt(0)?"x-"+p.substring(1):p;Dc[p]="vjs-layout-"+o});var Jh={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},fi=function(p){function o(s,n,i){var c;if(s.id=s.id||n.id||"vjs_video_"+xa(),(n=Hr(o.getTagSettings(s),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof s.closest){var m=s.closest("[lang]");m&&m.getAttribute&&(n.language=m.getAttribute("lang"))}else for(var E=s;E&&1===E.nodeType;){if(Ri(E).hasOwnProperty("lang")){n.language=E.getAttribute("lang");break}E=E.parentNode}if((c=p.call(this,null,n,i)||this).boundDocumentFullscreenChange_=function(q){return c.documentFullscreenChange_(q)},c.boundFullWindowOnEscKey_=function(q){return c.fullWindowOnEscKey(q)},c.boundUpdateStyleEl_=function(q){return c.updateStyleEl_(q)},c.boundApplyInitTime_=function(q){return c.applyInitTime_(q)},c.boundUpdateCurrentBreakpoint_=function(q){return c.updateCurrentBreakpoint_(q)},c.boundHandleTechClick_=function(q){return c.handleTechClick_(q)},c.boundHandleTechDoubleClick_=function(q){return c.handleTechDoubleClick_(q)},c.boundHandleTechTouchStart_=function(q){return c.handleTechTouchStart_(q)},c.boundHandleTechTouchMove_=function(q){return c.handleTechTouchMove_(q)},c.boundHandleTechTouchEnd_=function(q){return c.handleTechTouchEnd_(q)},c.boundHandleTechTap_=function(q){return c.handleTechTap_(q)},c.isFullscreen_=!1,c.log=Ar(c.id_),c.fsApi_=ci,c.isPosterFromTech_=!1,c.queuedCallbacks_=[],c.isReady_=!1,c.hasStarted_=!1,c.userActive_=!1,c.debugEnabled_=!1,!c.options_||!c.options_.techOrder||!c.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(c.tag=s,c.tagAttributes=s&&Ri(s),c.language(c.options_.language),n.languages){var O={};Object.getOwnPropertyNames(n.languages).forEach(function(q){O[q.toLowerCase()]=n.languages[q]}),c.languages_=O}else c.languages_=o.prototype.options_.languages;c.resetCache_(),c.poster_=n.poster||"",c.controls_=!!n.controls,s.controls=!1,s.removeAttribute("controls"),c.changingSrc_=!1,c.playCallbacks_=[],c.playTerminatedQueue_=[],s.hasAttribute("autoplay")?c.autoplay(!0):c.autoplay(c.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(q){if("function"!=typeof c[q])throw new Error('plugin "'+q+'" does not exist')}),c.scrubbing_=!1,c.el_=c.createEl(),Ls(ue(c),{eventBusKey:"el_"}),c.fsApi_.requestFullscreen&&(Os(ee(),c.fsApi_.fullscreenchange,c.boundDocumentFullscreenChange_),c.on(c.fsApi_.fullscreenchange,c.boundDocumentFullscreenChange_)),c.fluid_&&c.on(["playerreset","resize"],c.boundUpdateStyleEl_);var R=ti(c.options_);n.plugins&&Object.keys(n.plugins).forEach(function(q){c[q](n.plugins[q])}),n.debug&&c.debug(!0),c.options_.playerOptions=R,c.middleware_=[],c.playbackRates(n.playbackRates),c.initChildren(),c.isAudio("audio"===s.nodeName.toLowerCase()),c.controls()?c.addClass("vjs-controls-enabled"):c.addClass("vjs-controls-disabled"),c.el_.setAttribute("role","region"),c.isAudio()?c.el_.setAttribute("aria-label",c.localize("Audio Player")):c.el_.setAttribute("aria-label",c.localize("Video Player")),c.isAudio()&&c.addClass("vjs-audio"),c.flexNotSupported_()&&c.addClass("vjs-no-flex"),_a&&c.addClass("vjs-touch-enabled"),bi||c.addClass("vjs-workinghover"),o.players[c.id_]=ue(c);var Z="7.17.0".split(".")[0];return c.addClass("vjs-v"+Z),c.userActive(!0),c.reportUserActivity(),c.one("play",function(q){return c.listenForUserActivity_(q)}),c.on("stageclick",function(q){return c.handleStageClick_(q)}),c.on("keydown",function(q){return c.handleKeyDown(q)}),c.on("languagechange",function(q){return c.handleLanguagechange(q)}),c.breakpoints(c.options_.breakpoints),c.responsive(c.options_.responsive),c}j(o,p);var a=o.prototype;return a.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),Ei(ee(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ei(ee(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),o.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function(p){Oa[p.id()]=null}(this),Us.names.forEach(function(i){var m=n[Us[i].getterName]();m&&m.off&&m.off()}),p.prototype.dispose.call(this)},a.createEl=function(){var i,n=this.tag,c=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),m="video-js"===this.tag.tagName.toLowerCase();c?i=this.el_=n.parentNode:m||(i=this.el_=p.prototype.createEl.call(this,"div"));var E=Ri(n);if(m){for(i=this.el_=n,n=this.tag=ee().createElement("video");i.children.length;)n.appendChild(i.firstChild);So(i,"video-js")||Go(i,"video-js"),i.appendChild(n),c=this.playerElIngest_=i,Object.keys(i).forEach(function(Me){try{n[Me]=i[Me]}catch(xe){}})}if(n.setAttribute("tabindex","-1"),E.tabindex="-1",(ya||oo&&oc)&&(n.setAttribute("role","application"),E.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in E&&delete E.width,"height"in E&&delete E.height,Object.getOwnPropertyNames(E).forEach(function(Me){m&&"class"===Me||i.setAttribute(Me,E[Me]),m&&n.setAttribute(Me,E[Me])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==$().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Uu("vjs-styles-dimensions");var O=Xs(".vjs-styles-defaults"),R=Xs("head");R.insertBefore(this.styleEl_,O?O.nextSibling:R.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var Z=n.getElementsByTagName("a"),q=0;q<Z.length;q++){var ve=Z.item(q);Go(ve,"vjs-hidden"),ve.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!c&&n.parentNode.insertBefore(i,n),Kl(n,i),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i},a.crossOrigin=function(n){if(!n)return this.techGet_("crossOrigin");"anonymous"===n||"use-credentials"===n?this.techCall_("setCrossOrigin",n):Rn.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+n+'"')},a.width=function(n){return this.dimension("width",n)},a.height=function(n){return this.dimension("height",n)},a.dimension=function(n,i){var c=n+"_";if(void 0===i)return this[c]||0;if(""===i||"auto"===i)return this[c]=void 0,void this.updateStyleEl_();var m=parseFloat(i);isNaN(m)?Rn.error('Improper value "'+i+'" supplied for for '+n):(this[c]=m,this.updateStyleEl_())},a.fluid=function(n){var i=this;if(void 0===n)return!!this.fluid_;this.fluid_=!!n,Ve(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),n?(this.addClass("vjs-fluid"),this.fill(!1),function(o,a){Ve(o)?a():(o.eventedCallbacks||(o.eventedCallbacks=[]),o.eventedCallbacks.push(a))}(this,function(){i.on(["playerreset","resize"],i.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(n){if(void 0===n)return!!this.fill_;this.fill_=!!n,n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(n){if(void 0===n)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){if(!0!==$().VIDEOJS_NO_DYNAMIC_STYLE){var m,E,R,Z=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),q=Z[1]/Z[0];m=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/q:this.videoWidth()||300,E=void 0!==this.height_?this.height_:m*q,R=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(R),Do(this.styleEl_,"\n      ."+R+" {\n        width: "+m+"px;\n        height: "+E+"px;\n      }\n\n      ."+R+".vjs-fluid {\n        padding-top: "+100*q+"%;\n      }\n    ")}else{var n="number"==typeof this.width_?this.width_:this.options_.width,i="number"==typeof this.height_?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(n>=0&&(c.width=n),i>=0&&(c.height=i))}},a.loadTech_=function(n,i){var c=this;this.tech_&&this.unloadTech_();var m=xr(n),E=n.charAt(0).toLowerCase()+n.slice(1);"Html5"!==m&&this.tag&&(Ir.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=m,this.isReady_=!1;var O=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(O=!1);var R={source:i,autoplay:O,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+E+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Us.names.forEach(function(q){var ve=Us[q];R[ve.getterName]=c[ve.privateName]}),Hr(R,this.options_[m]),Hr(R,this.options_[E]),Hr(R,this.options_[n.toLowerCase()]),this.tag&&(R.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(R.startTime=this.cache_.currentTime);var Z=Ir.getTech(n);if(!Z)throw new Error("No Tech named '"+m+"' exists! '"+m+"' should be registered using videojs.registerTech()'");this.tech_=new Z(R),this.tech_.ready(I(this,this.handleTechReady_),!0),function(o,a){o.forEach(function(s){var n=a.addRemoteTextTrack(s).track;!s.src&&s.cues&&s.cues.forEach(function(i){return n.addCue(i)})}),a.textTracks()}(this.textTracksJson_||[],this.tech_),Ed.forEach(function(q){c.on(c.tech_,q,function(ve){return c["handleTech"+xr(q)+"_"](ve)})}),Object.keys(Af).forEach(function(q){c.on(c.tech_,q,function(ve){0===c.tech_.playbackRate()&&c.tech_.seeking()?c.queuedCallbacks_.push({callback:c["handleTech"+Af[q]+"_"].bind(c),event:ve}):c["handleTech"+Af[q]+"_"](ve)})}),this.on(this.tech_,"loadstart",function(q){return c.handleTechLoadStart_(q)}),this.on(this.tech_,"sourceset",function(q){return c.handleTechSourceset_(q)}),this.on(this.tech_,"waiting",function(q){return c.handleTechWaiting_(q)}),this.on(this.tech_,"ended",function(q){return c.handleTechEnded_(q)}),this.on(this.tech_,"seeking",function(q){return c.handleTechSeeking_(q)}),this.on(this.tech_,"play",function(q){return c.handleTechPlay_(q)}),this.on(this.tech_,"firstplay",function(q){return c.handleTechFirstPlay_(q)}),this.on(this.tech_,"pause",function(q){return c.handleTechPause_(q)}),this.on(this.tech_,"durationchange",function(q){return c.handleTechDurationChange_(q)}),this.on(this.tech_,"fullscreenchange",function(q,ve){return c.handleTechFullscreenChange_(q,ve)}),this.on(this.tech_,"fullscreenerror",function(q,ve){return c.handleTechFullscreenError_(q,ve)}),this.on(this.tech_,"enterpictureinpicture",function(q){return c.handleTechEnterPictureInPicture_(q)}),this.on(this.tech_,"leavepictureinpicture",function(q){return c.handleTechLeavePictureInPicture_(q)}),this.on(this.tech_,"error",function(q){return c.handleTechError_(q)}),this.on(this.tech_,"posterchange",function(q){return c.handleTechPosterChange_(q)}),this.on(this.tech_,"textdata",function(q){return c.handleTechTextData_(q)}),this.on(this.tech_,"ratechange",function(q){return c.handleTechRateChange_(q)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&("Html5"!==m||!this.tag)&&Kl(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var n=this;Us.names.forEach(function(i){var c=Us[i];n[c.privateName]=n[c.getterName]()}),this.textTracksJson_=function(o){var a=o.$$("track"),s=Array.prototype.map.call(a,function(i){return i.track});return Array.prototype.map.call(a,function(i){var c=Jc(i.track);return i.src&&(c.src=i.src),c}).concat(Array.prototype.filter.call(o.textTracks(),function(i){return-1===s.indexOf(i)}).map(Jc))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(n){return void 0===n&&Rn.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},a.manualAutoplay_=function(n){var i=this;if(this.tech_&&"string"==typeof n){var m,c=function(){var O=i.muted();i.muted(!0);var R=function(){i.muted(O)};i.playTerminatedQueue_.push(R);var Z=i.play();if(Ka(Z))return Z.catch(function(q){throw R(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(q||""))})};if("any"!==n||this.muted()?m="muted"!==n||this.muted()?this.play():c():Ka(m=this.play())&&(m=m.catch(c)),Ka(m))return m.then(function(){i.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){i.trigger({type:"autoplay-failure",autoplay:n})})}},a.updateSourceCaches_=function(n){void 0===n&&(n="");var i=n,c="";"string"!=typeof i&&(i=n.src,c=n.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!c&&(c=function(o,a){if(!a)return"";if(o.cache_.source.src===a&&o.cache_.source.type)return o.cache_.source.type;var s=o.cache_.sources.filter(function(m){return m.src===a});if(s.length)return s[0].type;for(var n=o.$$("source"),i=0;i<n.length;i++){var c=n[i];if(c.type&&c.src&&c.src===a)return c.type}return Xa(a)}(this,i)),this.cache_.source=ti({},n,{src:i,type:c});for(var m=this.cache_.sources.filter(function(ve){return ve.src&&ve.src===i}),E=[],O=this.$$("source"),R=[],Z=0;Z<O.length;Z++){var q=Ri(O[Z]);E.push(q),q.src&&q.src===i&&R.push(q.src)}R.length&&!m.length?this.cache_.sources=E:m.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i},a.handleTechSourceset_=function(n){var i=this;if(!this.changingSrc_){var c=function(R){return i.updateSourceCaches_(R)},m=this.currentSource().src,E=n.src;m&&!/^blob:/.test(m)&&/^blob:/.test(E)&&(!this.lastSource_||this.lastSource_.tech!==E&&this.lastSource_.player!==m)&&(c=function(){}),c(E),n.src||this.tech_.any(["sourceset","loadstart"],function(O){if("sourceset"!==O.type){var R=i.techGet("currentSrc");i.lastSource_.tech=R,i.updateSourceCaches_(R)}})}this.lastSource_={player:this.currentSource().src,tech:n.src},this.trigger({src:n.src,type:"sourceset"})},a.hasStarted=function(n){if(void 0===n)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting"),this.trigger("waiting");var i=this.currentTime();this.on("timeupdate",function m(){i!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",m))})},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(Rn.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(n){!this.controls_||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.click||!1!==this.options_.userActions.click)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,n):this.paused()?Ya(this.play()):this.pause())},a.handleTechDoubleClick_=function(n){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(c){return c.contains(n.target)})||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.doubleClick||!1!==this.options_.userActions.doubleClick)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,n):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(n){n.cancelable&&n.preventDefault()},a.handleStageClick_=function(){this.reportUserActivity()},a.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function(n){var i=n.target.player;if(!i||i===this){var c=this.el(),m=ee()[this.fsApi_.fullscreenElement]===c;!m&&c.matches?m=c.matches(":"+this.fsApi_.fullscreen):!m&&c.msMatchesSelector&&(m=c.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(m)}},a.handleTechFullscreenChange_=function(n,i){i&&(i.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(i.isFullscreen))},a.handleTechFullscreenError_=function(n,i){this.trigger("fullscreenerror",i)},a.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function(n){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function(n){this.isInPictureInPicture(!1)},a.handleTechError_=function(){var n=this.tech_.error();this.error(n)},a.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]),this.trigger("textdata",n)},a.getCache=function(){return this.cache_},a.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},a.techCall_=function(n,i){this.ready(function(){if(n in Sl)return function(p,o,a,s){return o[a](p.reduce(hc(a),s))}(this.middleware_,this.tech_,n,i);if(n in gf)return Pa(this.middleware_,this.tech_,n,i);try{this.tech_&&this.tech_[n](i)}catch(c){throw Rn(c),c}},!0)},a.techGet_=function(n){if(this.tech_&&this.tech_.isReady_){if(n in id)return function(p,o,a){return p.reduceRight(hc(a),o[a]())}(this.middleware_,this.tech_,n);if(n in gf)return Pa(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(i){throw void 0===this.tech_[n]?(Rn("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",i),i):"TypeError"===i.name?(Rn("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",i),this.tech_.isReady_=!1,i):(Rn(i),i)}}},a.play=function(){var n=this,i=this.options_.Promise||$().Promise;return i?new i(function(c){n.play_(c)}):this.play_()},a.play_=function(n){var i=this;void 0===n&&(n=Ya),this.playCallbacks_.push(n);var c=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!c)return this.waitToPlay_=function(E){i.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!c&&(ku||bi)&&this.load());var m=this.techGet_("play");null===m?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(m)},a.runPlayTerminatedQueue_=function(){var n=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],n.forEach(function(i){i()})},a.runPlayCallbacks_=function(n){var i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(c){c(n)})},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||xi(0,0)},a.scrubbing=function(n){if(void 0===n)return this.scrubbing_;this.scrubbing_=!!n,this.techCall_("setScrubbing",this.scrubbing_),n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(n){return void 0!==n?(n<0&&(n=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",n),void(this.cache_.initTime=0)):(this.cache_.initTime=n,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},a.duration=function(n){if(void 0===n)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(n=parseFloat(n))<0&&(n=1/0),n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(n)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var n=this.techGet_("buffered");return(!n||!n.length)&&(n=xi(0,0)),n},a.bufferedPercent=function(){return ju(this.buffered(),this.duration())},a.bufferedEnd=function(){var n=this.buffered(),i=this.duration(),c=n.end(n.length-1);return c>i&&(c=i),c},a.volume=function(n){var i;return void 0!==n?(i=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=i,this.techCall_("setVolume",i),void(i>0&&this.lastVolume_(i))):(i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i)},a.muted=function(n){if(void 0===n)return this.techGet_("muted")||!1;this.techCall_("setMuted",n)},a.defaultMuted=function(n){return void 0!==n?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(n){if(void 0===n||0===n)return this.cache_.lastVolume;this.cache_.lastVolume=n},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(n){if(void 0!==n){var i=this.isFullscreen_;return this.isFullscreen_=Boolean(n),this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},a.requestFullscreen=function(n){var i=this.options_.Promise||$().Promise;if(i){var c=this;return new i(function(m,E){function O(){c.off("fullscreenerror",Z),c.off("fullscreenchange",R)}function R(){O(),m()}function Z(ve,Me){O(),E(Me)}c.one("fullscreenchange",R),c.one("fullscreenerror",Z);var q=c.requestFullscreenHelper_(n);q&&(q.then(O,O),q.then(m,E))})}return this.requestFullscreenHelper_()},a.requestFullscreenHelper_=function(n){var c,i=this;if(this.fsApi_.prefixed||(c=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==n&&(c=n)),this.fsApi_.requestFullscreen){var m=this.el_[this.fsApi_.requestFullscreen](c);return m&&m.then(function(){return i.isFullscreen(!0)},function(){return i.isFullscreen(!1)}),m}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},a.exitFullscreen=function(){var n=this.options_.Promise||$().Promise;if(n){var i=this;return new n(function(c,m){function E(){i.off("fullscreenerror",R),i.off("fullscreenchange",O)}function O(){E(),c()}function R(q,ve){E(),m(ve)}i.one("fullscreenchange",O),i.one("fullscreenerror",R);var Z=i.exitFullscreenHelper_();Z&&(Z.then(E,E),Z.then(c,m))})}return this.exitFullscreenHelper_()},a.exitFullscreenHelper_=function(){var n=this;if(this.fsApi_.requestFullscreen){var i=ee()[this.fsApi_.exitFullscreen]();return i&&Ya(i.then(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},a.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=ee().documentElement.style.overflow,Os(ee(),"keydown",this.boundFullWindowOnEscKey_),ee().documentElement.style.overflow="hidden",Go(ee().body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(n){le().isEventKey(n,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},a.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Ei(ee(),"keydown",this.boundFullWindowOnEscKey_),ee().documentElement.style.overflow=this.docOrigOverflow,Oo(ee().body,"vjs-full-window"),this.trigger("exitFullWindow")},a.disablePictureInPicture=function(n){if(void 0===n)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",n),this.options_.disablePictureInPicture=n,this.trigger("disablepictureinpicturechanged")},a.isInPictureInPicture=function(n){return void 0!==n?(this.isInPictureInPicture_=!!n,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function(){if("pictureInPictureEnabled"in ee()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function(){if("pictureInPictureEnabled"in ee())return ee().exitPictureInPicture()},a.handleKeyDown=function(n){var E,O,i=this.options_.userActions;i&&i.hotkeys&&(O=(E=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),E.isContentEditable||("input"===O?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(E.type):-1!==["textarea"].indexOf(O))||("function"==typeof i.hotkeys?i.hotkeys.call(this,n):this.handleHotkeys(n)))},a.handleHotkeys=function(n){var i=this.options_.userActions?this.options_.userActions.hotkeys:{},c=i.fullscreenKey,E=i.muteKey,O=void 0===E?function(xe){return le().isEventKey(xe,"m")}:E,R=i.playPauseKey,Z=void 0===R?function(xe){return le().isEventKey(xe,"k")||le().isEventKey(xe,"Space")}:R;if((void 0===c?function(xe){return le().isEventKey(xe,"f")}:c).call(this,n)){n.preventDefault(),n.stopPropagation();var q=Ft.getComponent("FullscreenToggle");!1!==ee()[this.fsApi_.fullscreenEnabled]&&q.prototype.handleClick.call(this,n)}else O.call(this,n)?(n.preventDefault(),n.stopPropagation(),Ft.getComponent("MuteToggle").prototype.handleClick.call(this,n)):Z.call(this,n)&&(n.preventDefault(),n.stopPropagation(),Ft.getComponent("PlayToggle").prototype.handleClick.call(this,n))},a.canPlayType=function(n){for(var i,c=0,m=this.options_.techOrder;c<m.length;c++){var E=m[c],O=Ir.getTech(E);if(O||(O=Ft.getComponent(E)),O){if(O.isSupported()&&(i=O.canPlayType(n)))return i}else Rn.error('The "'+E+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(n){var q,i=this,c=this.options_.techOrder.map(function(Z){return[Z,Ir.getTech(Z)]}).filter(function(Z){var q=Z[0],ve=Z[1];return ve?ve.isSupported():(Rn.error('The "'+q+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),m=function(q,ve,Me){var xe;return q.some(function(we){return ve.some(function(st){if(xe=Me(we,st))return!0})}),xe},R=function(q,ve){var Me=q[0];if(q[1].canPlaySource(ve,i.options_[Me.toLowerCase()]))return{source:ve,tech:Me}};return(this.options_.sourceOrder?m(n,c,(q=R,function(ve,Me){return q(Me,ve)})):m(c,n,R))||!1},a.handleSrc_=function(n,i){var c=this;if(void 0===n)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var m=dg(n);if(m.length){if(this.changingSrc_=!0,i||(this.cache_.sources=m),this.updateSourceCaches_(m[0]),Vh(this,m[0],function(R,Z){if(c.middleware_=Z,i||(c.cache_.sources=m),c.updateSourceCaches_(R),c.src_(R))return m.length>1?c.handleSrc_(m.slice(1)):(c.changingSrc_=!1,c.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void c.triggerReady());!function(p,o){p.forEach(function(a){return a.setTech&&a.setTech(o)})}(Z,c.tech_)}),this.options_.retryOnError&&m.length>1){var E=function(){c.error(null),c.handleSrc_(m.slice(1),!0)},O=function(){c.off("error",E)};this.one("error",E),this.one("playing",O),this.resetRetryOnError_=function(){c.off("error",E),c.off("playing",O)}}}else this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},a.src=function(n){return this.handleSrc_(n,!1)},a.src_=function(n){var i=this,c=this.selectSource([n]);return!c||(function(o,a){return xr(o)===xr(a)}(c.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(c.tech,c.source),this.tech_.ready(function(){i.changingSrc_=!1}),!1))},a.load=function(){this.techCall_("load")},a.reset=function(){var n=this,i=this.options_.Promise||$().Promise;this.paused()||!i?this.doReset_():Ya(this.play().then(function(){return n.doReset_()}))},a.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ve(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function(){this.currentTime(0);var n=this.controlBar,i=n.durationDisplay,c=n.remainingTimeDisplay;i&&i.updateContent(),c&&c.updateContent()},a.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},a.currentSources=function(){var n=this.currentSource(),i=[];return 0!==Object.keys(n).length&&i.push(n),this.cache_.sources||i},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(n){return void 0!==n?(this.techCall_("setPreload",n),void(this.options_.preload=n)):this.techGet_("preload")},a.autoplay=function(n){if(void 0===n)return this.options_.autoplay||!1;var i;"string"==typeof n&&/(any|play|muted)/.test(n)||!0===n&&this.options_.normalizeAutoplay?(this.options_.autoplay=n,this.manualAutoplay_("string"==typeof n?n:"play"),i=!1):this.options_.autoplay=!!n,i=void 0===i?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)},a.playsinline=function(n){return void 0!==n?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},a.loop=function(n){return void 0!==n?(this.techCall_("setLoop",n),void(this.options_.loop=n)):this.techGet_("loop")},a.poster=function(n){if(void 0===n)return this.poster_;n||(n=""),n!==this.poster_&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function(n){if(void 0===n)return!!this.controls_;this.controls_!==(n=!!n)&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(n){if(void 0===n)return!!this.usingNativeControls_;this.usingNativeControls_!==(n=!!n)&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(n){var i=this;if(void 0===n)return this.error_||null;if(un("beforeerror").forEach(function(m){var E=m(i,n);Ys(E)&&!Array.isArray(E)||"string"==typeof E||"number"==typeof E||null===E?n=E:i.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&n&&4===n.code){var c=function(){this.error(n)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],c),void this.one("loadstart",function(){this.off(["click","touchstart"],c)})}if(null===n)return this.error_=n,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new vr(n),this.addClass("vjs-error"),Rn.error("(CODE:"+this.error_.code+" "+vr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),un("error").forEach(function(m){return m(i,i.error_)})},a.reportUserActivity=function(n){this.userActivity_=!0},a.userActive=function(n){if(void 0===n)return this.userActive_;if((n=!!n)!==this.userActive_){if(this.userActive_=n,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function(){var n,i,c,m=I(this,this.reportUserActivity),R=function(Me){m(),this.clearInterval(n)};this.on("mousedown",function(){m(),this.clearInterval(n),n=this.setInterval(m,250)}),this.on("mousemove",function(Me){(Me.screenX!==i||Me.screenY!==c)&&(i=Me.screenX,c=Me.screenY,m())}),this.on("mouseup",R),this.on("mouseleave",R);var q,Z=this.getChild("controlBar");Z&&!bi&&!Vi&&(Z.on("mouseenter",function(ve){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),Z.on("mouseleave",function(ve){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",m),this.on("keyup",m),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(q);var ve=this.options_.inactivityTimeout;ve<=0||(q=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},ve))}},250)},a.playbackRate=function(n){if(void 0===n)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",n)},a.defaultPlaybackRate=function(n){return void 0!==n?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(n){if(void 0===n)return!!this.isAudio_;this.isAudio_=!!n},a.addTextTrack=function(n,i,c){if(this.tech_)return this.tech_.addTextTrack(n,i,c)},a.addRemoteTextTrack=function(n,i){if(this.tech_)return this.tech_.addRemoteTextTrack(n,i)},a.removeRemoteTextTrack=function(n){void 0===n&&(n={});var c=n.track;if(c||(c=n),this.tech_)return this.tech_.removeRemoteTextTrack(c)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(n){if(void 0===n)return this.language_;this.language_!==String(n).toLowerCase()&&(this.language_=String(n).toLowerCase(),Ve(this)&&this.trigger("languagechange"))},a.languages=function(){return ti(o.prototype.options_.languages,this.languages_)},a.toJSON=function(){var n=ti(this.options_),i=n.tracks;n.tracks=[];for(var c=0;c<i.length;c++){var m=i[c];(m=ti(m)).player=void 0,n.tracks[c]=m}return n},a.createModal=function(n,i){var c=this;(i=i||{}).content=n||"";var m=new lo(this,i);return this.addChild(m),m.on("dispose",function(){c.removeChild(m)}),m.open(),m},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var n=this.currentBreakpoint(),i=this.currentWidth(),c=0;c<xd.length;c++){var m=xd[c];if(i<=this.breakpoints_[m]){if(n===m)return;n&&this.removeClass(Dc[n]),this.addClass(Dc[m]),this.breakpoint_=m;break}}},a.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="",n&&this.removeClass(n)},a.breakpoints=function(n){return void 0===n||(this.breakpoint_="",this.breakpoints_=Hr({},Jh,n),this.updateCurrentBreakpoint_()),Hr(this.breakpoints_)},a.responsive=function(n){return void 0===n?this.responsive_:(n=Boolean(n))!==this.responsive_?(this.responsive_=n,n?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),n):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return Dc[this.breakpoint_]||""},a.loadMedia=function(n,i){var c=this;if(n&&"object"==typeof n){this.reset(),this.cache_.media=ti(n);var m=this.cache_.media,O=m.poster,R=m.src,Z=m.textTracks;!m.artwork&&O&&(this.cache_.media.artwork=[{src:O,type:Xa(O)}]),R&&this.src(R),O&&this.poster(O),Array.isArray(Z)&&Z.forEach(function(q){return c.addRemoteTextTrack(q,!1)}),this.ready(i)}},a.getMedia=function(){if(!this.cache_.media){var n=this.poster(),m={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(E){return{kind:E.kind,label:E.label,language:E.language,src:E.src}})};return n&&(m.poster=n,m.artwork=[{src:m.poster,type:Xa(m.poster)}]),m}return ti(this.cache_.media)},o.getTagSettings=function(n){var i={sources:[],tracks:[]},c=Ri(n),m=c["data-setup"];if(So(n,"vjs-fill")&&(c.fill=!0),So(n,"vjs-fluid")&&(c.fluid=!0),null!==m){var E=ne()(m||"{}"),O=E[0],R=E[1];O&&Rn.error(O),Hr(c,R)}if(Hr(i,c),n.hasChildNodes())for(var Z=n.childNodes,q=0,ve=Z.length;q<ve;q++){var Me=Z[q],xe=Me.nodeName.toLowerCase();"source"===xe?i.sources.push(Ri(Me)):"track"===xe&&i.tracks.push(Ri(Me))}return i},a.flexNotSupported_=function(){var n=ee().createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},a.debug=function(n){if(void 0===n)return this.debugEnabled_;n?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},a.playbackRates=function(n){if(void 0===n)return this.cache_.playbackRates;!Array.isArray(n)||!n.every(function(i){return"number"==typeof i})||(this.cache_.playbackRates=n,this.trigger("playbackrateschange"))},o}(Ft);Us.names.forEach(function(p){var o=Us[p];fi.prototype[o.getterName]=function(){return this.tech_?this.tech_[o.getterName]():(this[o.privateName]=this[o.privateName]||new o.ListClass,this[o.privateName])}}),fi.prototype.crossorigin=fi.prototype.crossOrigin,fi.players={};var ys=$().navigator;fi.prototype.options_={techOrder:Ir.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:ys&&(ys.languages&&ys.languages[0]||ys.userLanguage||ys.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(p){fi.prototype[p]=function(){return this.techGet_(p)}}),Ed.forEach(function(p){fi.prototype["handleTech"+xr(p)+"_"]=function(){return this.trigger(p)}}),Ft.registerComponent("Player",fi);var hu="plugin",pu="activePlugins_",Ml={},Mc=function(o){return Ml.hasOwnProperty(o)},wd=function(o){return Mc(o)?Ml[o]:void 0},Sd=function(o,a){o[pu]=o[pu]||{},o[pu][a]=!0},gu=function(o,a,s){var n=(s?"before":"")+"pluginsetup";o.trigger(n,a),o.trigger(n+":"+a.name,a)},If=function(o,a){return a.prototype.name=o,function(){gu(this,{name:o,plugin:a,instance:null},!0);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];var c=Ae(a,[this].concat(n));return this[o]=function(){return c},gu(this,c.getEventHash()),c}},Ds=function(){function p(a){if(this.constructor===p)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=a,this.log||(this.log=this.player.log.createLogger(this.name)),Ls(this),delete this.trigger,Sa(this,this.constructor.defaultState),Sd(a,this.name),this.dispose=this.dispose.bind(this),a.on("dispose",this.dispose)}var o=p.prototype;return o.version=function(){return this.constructor.VERSION},o.getEventHash=function(s){return void 0===s&&(s={}),s.name=this.name,s.plugin=this.constructor,s.instance=this,s},o.trigger=function(s,n){return void 0===n&&(n={}),Yo(this.eventBusEl_,s,this.getEventHash(n))},o.handleStateChanged=function(s){},o.dispose=function(){var s=this.name,n=this.player;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[pu][s]=!1,this.player=this.state=null,n[s]=If(s,Ml[s])},p.isBasic=function(s){var n="string"==typeof s?wd(s):s;return"function"==typeof n&&!p.prototype.isPrototypeOf(n.prototype)},p.registerPlugin=function(s,n){if("string"!=typeof s)throw new Error('Illegal plugin name, "'+s+'", must be a string, was '+typeof s+".");if(Mc(s))Rn.warn('A plugin named "'+s+'" already exists. You may want to avoid re-registering plugins!');else if(fi.prototype.hasOwnProperty(s))throw new Error('Illegal plugin name, "'+s+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+s+'", must be a function, was '+typeof n+".");return Ml[s]=n,s!==hu&&(fi.prototype[s]=p.isBasic(n)?function(o,a){var s=function(){gu(this,{name:o,plugin:a,instance:null},!0);var i=a.apply(this,arguments);return Sd(this,o),gu(this,{name:o,plugin:a,instance:i}),i};return Object.keys(a).forEach(function(n){s[n]=a[n]}),s}(s,n):If(s,n)),n},p.deregisterPlugin=function(s){if(s===hu)throw new Error("Cannot de-register base plugin.");Mc(s)&&(delete Ml[s],delete fi.prototype[s])},p.getPlugins=function(s){var n;return void 0===s&&(s=Object.keys(Ml)),s.forEach(function(i){var c=wd(i);c&&((n=n||{})[i]=c)}),n},p.getPluginVersion=function(s){var n=wd(s);return n&&n.VERSION||""},p}();Ds.getPlugin=wd,Ds.BASE_PLUGIN_NAME=hu,Ds.registerPlugin(hu,Ds),fi.prototype.usingPlugin=function(p){return!!this[pu]&&!0===this[pu][p]},fi.prototype.hasPlugin=function(p){return!!Mc(p)};var _g=function(o){return 0===o.indexOf("#")?o.slice(1):o};function et(p,o,a){var s=et.getPlayer(p);if(s)return o&&Rn.warn('Player "'+p+'" is already initialised. Options will not be applied.'),a&&s.ready(a),s;var n="string"==typeof p?Xs("#"+_g(p)):p;if(!ms(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!n.ownerDocument.defaultView||!n.ownerDocument.body.contains(n))&&Rn.warn("The element supplied is not included in the DOM"),o=o||{},un("beforesetup").forEach(function(c){var m=c(n,ti(o));Ys(m)&&!Array.isArray(m)?o=ti(o,m):Rn.error("please return an object in beforesetup hooks")});var i=Ft.getComponent("Player");return s=new i(n,o,a),un("setup").forEach(function(c){return c(s)}),s}if(et.hooks_=en,et.hooks=un,et.hook=function(o,a){un(o,a)},et.hookOnce=function(o,a){un(o,[].concat(a).map(function(s){return function i(){return ar(o,i),s.apply(void 0,arguments)}}))},et.removeHook=ar,!0!==$().VIDEOJS_NO_DYNAMIC_STYLE&&Ci()){var Vs=Xs(".vjs-styles-defaults");if(!Vs){Vs=Uu("vjs-styles-defaults");var ep=Xs("head");ep&&ep.insertBefore(Vs,ep.firstChild),Do(Vs,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Qo(1,et),et.VERSION="7.17.0",et.options=fi.prototype.options_,et.getPlayers=function(){return fi.players},et.getPlayer=function(p){var a,o=fi.players;if("string"==typeof p){var s=_g(p),n=o[s];if(n)return n;a=Xs("#"+s)}else a=p;if(ms(a)){var c=a.player,m=a.playerId;if(c||o[m])return c||o[m]}},et.getAllPlayers=function(){return Object.keys(fi.players).map(function(p){return fi.players[p]}).filter(Boolean)},et.players=fi.players,et.getComponent=Ft.getComponent,et.registerComponent=function(p,o){Ir.isTech(o)&&Rn.warn("The "+p+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ft.registerComponent.call(Ft,p,o)},et.getTech=Ir.getTech,et.registerTech=Ir.registerTech,et.use=function(p,o){Za[p]=Za[p]||[],Za[p].push(o)},Object.defineProperty(et,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(et.middleware,"TERMINATOR",{value:wl,writeable:!1,enumerable:!0}),et.browser=ql,et.TOUCH_ENABLED=_a,et.extend=function(o,a){void 0===a&&(a={});var s=function(){o.apply(this,arguments)},n={};for(var i in"object"==typeof a?(a.constructor!==Object.prototype.constructor&&(s=a.constructor),n=a):"function"==typeof a&&(s=a),function(p,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(o&&o.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),o&&oe(p,o)}(s,o),o&&(s.super_=o),n)n.hasOwnProperty(i)&&(s.prototype[i]=n[i]);return s},et.mergeOptions=ti,et.bind=I,et.registerPlugin=Ds.registerPlugin,et.deregisterPlugin=Ds.deregisterPlugin,et.plugin=function(p,o){return Rn.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Ds.registerPlugin(p,o)},et.getPlugins=Ds.getPlugins,et.getPlugin=Ds.getPlugin,et.getPluginVersion=Ds.getPluginVersion,et.addLanguage=function(p,o){var a;return p=(""+p).toLowerCase(),(et.options.languages=ti(et.options.languages,((a={})[p]=o,a)))[p]},et.log=Rn,et.createLogger=Ar,et.createTimeRange=et.createTimeRanges=xi,et.formatTime=iu,et.setFormatTime=function(p){ld=p},et.resetFormatTime=function(){ld=Pl},et.parseUrl=hf,et.isCrossOrigin=Hu,et.EventTarget=H,et.on=Os,et.one=Xl,et.off=Ei,et.trigger=Yo,et.xhr=ae(),et.TextTrack=tu,et.AudioTrack=nu,et.VideoTrack=Bh,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(p){et[p]=function(){return Rn.warn("videojs."+p+"() is deprecated; use videojs.dom."+p+"() instead"),ac[p].apply(null,arguments)}}),et.computedStyle=Ss,et.dom=ac,et.url=rd,et.defineLazyProperty=Td,et.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var $i=Ye,mu=function(o,a,s){return o&&s&&s.responseURL&&a!==s.responseURL?s.responseURL:a},us=function(o){return et.log.debug?et.log.debug.bind(et,"VHS:",o+" >"):function(){}},Al=1/30,or=.1,_s=function(o,a){var n,s=[];if(o&&o.length)for(n=0;n<o.length;n++)a(o.start(n),o.end(n))&&s.push([o.start(n),o.end(n)]);return et.createTimeRanges(s)},Li=function(o,a){return _s(o,function(s,n){return s-or<=a&&n+or>=a})},es=function(o,a){return _s(o,function(s){return s-Al>=a})},kf=function(o){var a=[];if(!o||!o.length)return"";for(var s=0;s<o.length;s++)a.push(o.start(s)+" => "+o.end(s));return a.join(", ")},Io=function(o){for(var a=[],s=0;s<o.length;s++)a.push({start:o.start(s),end:o.end(s)});return a},Nf=function(o){if(o&&o.length&&o.end)return o.end(o.length-1)},Lf=function(o,a){var s=0;if(!o||!o.length)return s;for(var n=0;n<o.length;n++){var i=o.start(n),c=o.end(n);if(!(a>c)){if(a>i&&a<=c){s+=c-a;continue}s+=c-i}}return s},Ac=et.createTimeRange,Ff=function(o,a){if(!a.preload)return a.duration;var s=0;return(a.parts||[]).forEach(function(n){s+=n.duration}),(a.preloadHints||[]).forEach(function(n){"PART"===n.type&&(s+=o.partTargetDuration)}),s},Bf=function(o){return(o.segments||[]).reduce(function(a,s,n){return s.parts?s.parts.forEach(function(i,c){a.push({duration:i.duration,segmentIndex:n,partIndex:c,part:i,segment:s})}):a.push({duration:s.duration,segmentIndex:n,partIndex:null,segment:s,part:null}),a},[])},tp=function(o){var a=o.segments&&o.segments.length&&o.segments[o.segments.length-1];return a&&a.parts||[]},Uf=function(o){var a=o.preloadSegment;if(a){var s=a.parts;return(a.preloadHints||[]).reduce(function(c,m){return c+("PART"===m.type?1:0)},0)+(s&&s.length?s.length:0)}},np=function(o,a){if(a.endList)return 0;if(o&&o.suggestedPresentationDelay)return o.suggestedPresentationDelay;var s=tp(a).length>0;return s&&a.serverControl&&a.serverControl.partHoldBack?a.serverControl.partHoldBack:s&&a.partTargetDuration?3*a.partTargetDuration:a.serverControl&&a.serverControl.holdBack?a.serverControl.holdBack:a.targetDuration?3*a.targetDuration:0},Pd=function(o,a,s){if(void 0===a&&(a=o.mediaSequence+o.segments.length),a<o.mediaSequence)return 0;var n=function(o,a){var s=0,n=a-o.mediaSequence,i=o.segments[n];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;n--;){if(void 0!==(i=o.segments[n]).end)return{result:s+i.end,precise:!0};if(s+=Ff(o,i),void 0!==i.start)return{result:s+i.start,precise:!0}}return{result:s,precise:!1}}(o,a);if(n.precise)return n.result;var i=function(o,a){for(var n,s=0,i=a-o.mediaSequence;i<o.segments.length;i++){if(void 0!==(n=o.segments[i]).start)return{result:n.start-s,precise:!0};if(s+=Ff(o,n),void 0!==n.end)return{result:n.end-s,precise:!0}}return{result:-1,precise:!1}}(o,a);return i.precise?i.result:n.result+s},Vf=function(o,a,s){if(!o)return 0;if("number"!=typeof s&&(s=0),void 0===a){if(o.totalDuration)return o.totalDuration;if(!o.endList)return $()[1/0]}return Pd(o,a,s)},vu=function(o){var a=o.defaultDuration,s=o.durationList,n=o.startIndex,i=o.endIndex,c=0;if(n>i){var m=[i,n];n=m[0],i=m[1]}if(n<0){for(var E=n;E<Math.min(0,i);E++)c+=a;n=0}for(var O=n;O<i;O++)c+=s[O].duration;return c},ip=function(o,a,s,n){if(!o||!o.segments)return null;if(o.endList)return Vf(o);if(null===a)return null;var i=Pd(o,o.mediaSequence+o.segments.length,a=a||0);return s&&(i-=n="number"==typeof n?n:np(null,o)),Math.max(0,i)},jf=function(o){return o.excludeUntil&&o.excludeUntil>Date.now()},ko=function(o){return o.excludeUntil&&o.excludeUntil===1/0},Ic=function(o){var a=jf(o);return!o.disabled&&!a},el=function(o,a){return a.attributes&&a.attributes[o]},Dd=function(o,a){if(1===o.playlists.length)return!0;var s=a.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===o.playlists.filter(function(n){return!!Ic(n)&&(n.attributes.BANDWIDTH||0)<s}).length},Md=function(o,a){return!(!o&&!a||!o&&a||o&&!a||!(o===a||o.id&&a.id&&o.id===a.id||o.resolvedUri&&a.resolvedUri&&o.resolvedUri===a.resolvedUri||o.uri&&a.uri&&o.uri===a.uri))},Hf=function(o,a){var s=o&&o.mediaGroups&&o.mediaGroups.AUDIO||{},n=!1;for(var i in s){for(var c in s[i])if(n=a(s[i][c]))break;if(n)break}return!!n},yu=function(o){if(!o||!o.playlists||!o.playlists.length)return Hf(o,function(c){return c.playlists&&c.playlists.length||c.uri});for(var s=function(m){var E=o.playlists[m],O=E.attributes&&E.attributes.CODECS;return O&&O.split(",").every(function(Z){return Sr(Z)})||Hf(o,function(Z){return Md(E,Z)})?"continue":{v:!1}},n=0;n<o.playlists.length;n++){var i=s(n);if("continue"!==i&&"object"==typeof i)return i.v}return!0},js={liveEdgeDelay:np,duration:Vf,seekable:function(o,a,s){var i=a||0,c=ip(o,a,!0,s);return null===c?Ac():Ac(i,c)},getMediaInfoForTime:function(o){for(var a=o.playlist,s=o.currentTime,n=o.startingSegmentIndex,i=o.startingPartIndex,c=o.startTime,m=o.experimentalExactManifestTimings,E=s-c,O=Bf(a),R=0,Z=0;Z<O.length;Z++){var q=O[Z];if(n===q.segmentIndex&&("number"!=typeof i||"number"!=typeof q.partIndex||i===q.partIndex)){R=Z;break}}if(E<0){if(R>0)for(var ve=R-1;ve>=0;ve--){var Me=O[ve];if(E+=Me.duration,m){if(E<0)continue}else if(E+Al<=0)continue;return{partIndex:Me.partIndex,segmentIndex:Me.segmentIndex,startTime:c-vu({defaultDuration:a.targetDuration,durationList:O,startIndex:R,endIndex:ve})}}return{partIndex:O[0]&&O[0].partIndex||null,segmentIndex:O[0]&&O[0].segmentIndex||0,startTime:s}}if(R<0){for(var xe=R;xe<0;xe++)if((E-=a.targetDuration)<0)return{partIndex:O[0]&&O[0].partIndex||null,segmentIndex:O[0]&&O[0].segmentIndex||0,startTime:s};R=0}for(var we=R;we<O.length;we++){var st=O[we];if(E-=st.duration,m){if(E>0)continue}else if(E-Al>=0)continue;return{partIndex:st.partIndex,segmentIndex:st.segmentIndex,startTime:c+vu({defaultDuration:a.targetDuration,durationList:O,startIndex:R,endIndex:we})}}return{segmentIndex:O[O.length-1].segmentIndex,partIndex:O[O.length-1].partIndex,startTime:s}},isEnabled:Ic,isDisabled:function(o){return o.disabled},isBlacklisted:jf,isIncompatible:ko,playlistEnd:ip,isAes:function(o){for(var a=0;a<o.segments.length;a++)if(o.segments[a].key)return!0;return!1},hasAttribute:el,estimateSegmentRequestTime:function(o,a,s,n){return void 0===n&&(n=0),el("BANDWIDTH",s)?(o*s.attributes.BANDWIDTH-8*n)/a:NaN},isLowestEnabledRendition:Dd,isAudioOnly:yu,playlistMatch:Md,segmentDurationWithParts:Ff},kc=et.log,Xu=function(o,a){return o+"-"+a},_u=function(o,a){!o.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(s){if(o.mediaGroups[s])for(var n in o.mediaGroups[s])for(var i in o.mediaGroups[s][n])a(o.mediaGroups[s][n][i],s,n,i)})},zf=function(o){var a=o.playlist,s=o.uri;a.id=o.id,a.playlistErrors_=0,s&&(a.uri=s),a.attributes=a.attributes||{}},Wf=function(o,a){o.uri=a;for(var s=0;s<o.playlists.length;s++)o.playlists[s].uri||(o.playlists[s].uri="placeholder-uri-"+s);var i=yu(o);_u(o,function(c,m,E,O){var R="placeholder-uri-"+m+"-"+E+"-"+O;if(!c.playlists||!c.playlists.length){if(i&&"AUDIO"===m&&!c.uri)for(var Z=0;Z<o.playlists.length;Z++){var q=o.playlists[Z];if(q.attributes&&q.attributes.AUDIO&&q.attributes.AUDIO===E)return}c.playlists=[ce({},c)]}c.playlists.forEach(function(ve,Me){var xe=Xu(Me,R);ve.uri?ve.resolvedUri=ve.resolvedUri||$i(o.uri,ve.uri):(ve.uri=0===Me?R:xe,ve.resolvedUri=ve.uri),ve.id=ve.id||xe,ve.attributes=ve.attributes||{},o.playlists[ve.id]=ve,o.playlists[ve.uri]=ve})}),function(o){for(var a=o.playlists.length;a--;){var s=o.playlists[a];zf({playlist:s,id:Xu(a,s.uri)}),s.resolvedUri=$i(o.uri,s.uri),o.playlists[s.id]=s,o.playlists[s.uri]=s,s.attributes.BANDWIDTH||kc.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(o),function(o){_u(o,function(a){a.uri&&(a.resolvedUri=$i(o.uri,a.uri))})}(o)},Ad=et.mergeOptions,Gf=function(o,a){if(!o)return a;var s=Ad(o,a);if(o.preloadHints&&!a.preloadHints&&delete s.preloadHints,o.parts&&!a.parts)delete s.parts;else if(o.parts&&a.parts)for(var n=0;n<a.parts.length;n++)o.parts&&o.parts[n]&&(s.parts[n]=Ad(o.parts[n],a.parts[n]));return!o.skipped&&a.skipped&&(s.skipped=!1),o.preload&&!a.preload&&(s.preload=!1),s},Sg=function(o,a){!o.resolvedUri&&o.uri&&(o.resolvedUri=$i(a,o.uri)),o.key&&!o.key.resolvedUri&&(o.key.resolvedUri=$i(a,o.key.uri)),o.map&&!o.map.resolvedUri&&(o.map.resolvedUri=$i(a,o.map.uri)),o.map&&o.map.key&&!o.map.key.resolvedUri&&(o.map.key.resolvedUri=$i(a,o.map.key.uri)),o.parts&&o.parts.length&&o.parts.forEach(function(s){s.resolvedUri||(s.resolvedUri=$i(a,s.uri))}),o.preloadHints&&o.preloadHints.length&&o.preloadHints.forEach(function(s){s.resolvedUri||(s.resolvedUri=$i(a,s.uri))})},qf=function(o){var a=o.segments||[],s=o.preloadSegment;if(s&&s.parts&&s.parts.length){if(s.preloadHints)for(var n=0;n<s.preloadHints.length;n++)if("MAP"===s.preloadHints[n].type)return a;s.duration=o.targetDuration,s.preload=!0,a.push(s)}return a},cp=function(o,a){return o===a||o.segments&&a.segments&&o.segments.length===a.segments.length&&o.endList===a.endList&&o.mediaSequence===a.mediaSequence&&o.preloadSegment===a.preloadSegment},Id=function(o,a,s){void 0===s&&(s=cp);var n=Ad(o,{}),i=n.playlists[a.id];if(!i||s(i,a))return null;a.segments=qf(a);var c=Ad(i,a);if(c.preloadSegment&&!a.preloadSegment&&delete c.preloadSegment,i.segments){if(a.skip){a.segments=a.segments||[];for(var m=0;m<a.skip.skippedSegments;m++)a.segments.unshift({skipped:!0})}c.segments=function(o,a,s){var n=o.slice(),i=a.slice();s=s||0;for(var m,c=[],E=0;E<i.length;E++){var O=n[E+s],R=i[E];O?(m=O.map||m,c.push(Gf(O,R))):(m&&!R.map&&(R.map=m),c.push(R))}return c}(i.segments,a.segments,a.mediaSequence-i.mediaSequence)}c.segments.forEach(function(O){Sg(O,c.resolvedUri)});for(var E=0;E<n.playlists.length;E++)n.playlists[E].id===a.id&&(n.playlists[E]=c);return n.playlists[a.id]=c,n.playlists[a.uri]=c,_u(o,function(O,R,Z,q){if(O.playlists)for(var ve=0;ve<O.playlists.length;ve++)a.id===O.playlists[ve].id&&(O.playlists[ve]=a)}),n},kd=function(o,a){var s=o.segments||[],n=s[s.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],c=i&&i.duration||n&&n.duration;return a&&c?1e3*c:500*(o.partTargetDuration||o.targetDuration||10)},Ju=function(p){function o(s,n,i){var c;if(void 0===i&&(i={}),c=p.call(this)||this,!s)throw new Error("A non-empty playlist URL or object is required");c.logger_=us("PlaylistLoader");var E=i.withCredentials,O=void 0!==E&&E,R=i.handleManifestRedirects,Z=void 0!==R&&R;c.src=s,c.vhs_=n,c.withCredentials=O,c.handleManifestRedirects=Z;var q=n.options_;return c.customTagParsers=q&&q.customTagParsers||[],c.customTagMappers=q&&q.customTagMappers||[],c.experimentalLLHLS=q&&q.experimentalLLHLS||!1,et.browser.IE_VERSION&&(c.experimentalLLHLS=!1),c.state="HAVE_NOTHING",c.handleMediaupdatetimeout_=c.handleMediaupdatetimeout_.bind(ue(c)),c.on("mediaupdatetimeout",c.handleMediaupdatetimeout_),c}j(o,p);var a=o.prototype;return a.handleMediaupdatetimeout_=function(){var n=this;if("HAVE_METADATA"===this.state){var i=this.media(),c=$i(this.master.uri,i.uri);this.experimentalLLHLS&&(c=function(o,a){if(a.endList||!a.serverControl)return o;var s={};if(a.serverControl.canBlockReload){var n=a.preloadSegment,i=a.mediaSequence+a.segments.length;if(n){var c=n.parts||[],m=Uf(a)-1;m>-1&&m!==c.length-1&&(s._HLS_part=m),(m>-1||c.length)&&i--}s._HLS_msn=i}if(a.serverControl&&a.serverControl.canSkipUntil&&(s._HLS_skip=a.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(s).length){var E=new($().URL)(o);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(O){!s.hasOwnProperty(O)||E.searchParams.set(O,s[O])}),o=E.toString()}return o}(c,i)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:c,withCredentials:this.withCredentials},function(m,E){if(n.request){if(m)return n.playlistRequestError(n.request,n.media(),"HAVE_METADATA");n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}})}},a.playlistRequestError=function(n,i,c){var m=i.uri,E=i.id;this.request=null,c&&(this.state=c),this.error={playlist:this.master.playlists[E],status:n.status,message:"HLS playlist request error at URL: "+m+".",responseText:n.responseText,code:n.status>=500?4:2},this.trigger("error")},a.parseManifest_=function(n){var i=this,c=n.url;return function(o){var a=o.onwarn,s=o.oninfo,n=o.manifestString,i=o.customTagParsers,c=void 0===i?[]:i,m=o.customTagMappers,E=void 0===m?[]:m,O=o.experimentalLLHLS,R=new nt;a&&R.on("warn",a),s&&R.on("info",s),c.forEach(function(xe){return R.addParser(xe)}),E.forEach(function(xe){return R.addTagMapper(xe)}),R.push(n),R.end();var Z=R.manifest;if(O||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(xe){Z.hasOwnProperty(xe)&&delete Z[xe]}),Z.segments&&Z.segments.forEach(function(xe){["parts","preloadHints"].forEach(function(we){xe.hasOwnProperty(we)&&delete xe[we]})})),!Z.targetDuration){var q=10;Z.segments&&Z.segments.length&&(q=Z.segments.reduce(function(xe,we){return Math.max(xe,we.duration)},0)),a&&a("manifest has no targetDuration defaulting to "+q),Z.targetDuration=q}var ve=tp(Z);if(ve.length&&!Z.partTargetDuration){var Me=ve.reduce(function(xe,we){return Math.max(xe,we.duration)},0);a&&(a("manifest has no partTargetDuration defaulting to "+Me),kc.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),Z.partTargetDuration=Me}return Z}({onwarn:function(O){return i.logger_("m3u8-parser warn for "+c+": "+O.message)},oninfo:function(O){return i.logger_("m3u8-parser info for "+c+": "+O.message)},manifestString:n.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},a.haveMetadata=function(n){var i=n.playlistString,c=n.playlistObject,m=n.url,E=n.id;this.request=null,this.state="HAVE_METADATA";var O=c||this.parseManifest_({url:m,manifestString:i});O.lastRequest=Date.now(),zf({playlist:O,uri:m,id:E});var R=Id(this.master,O);this.targetDuration=O.partTargetDuration||O.targetDuration,this.pendingMedia_=null,R?(this.master=R,this.media_=this.master.playlists[E]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(kd(this.media(),!!R)),this.trigger("loadedplaylist")},a.dispose=function(){this.trigger("dispose"),this.stopRequest(),$().clearTimeout(this.mediaUpdateTimeout),$().clearTimeout(this.finalRenditionTimeout),this.off()},a.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},a.media=function(n,i){var c=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if($().clearTimeout(this.finalRenditionTimeout),i){var m=(n.partTargetDuration||n.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=$().setTimeout(this.media.bind(this,n,!1),m)}else{var E=this.state,O=!this.media_||n.id!==this.media_.id,R=this.master.playlists[n.id];if(R&&R.endList||n.endList&&n.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,void(O&&(this.trigger("mediachanging"),this.trigger("HAVE_MASTER"===E?"loadedmetadata":"mediachange")));if(this.updateMediaUpdateTimeout_(kd(n,!0)),O){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=n,this.request=this.vhs_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(Z,q){if(c.request){if(n.lastRequest=Date.now(),n.resolvedUri=mu(c.handleManifestRedirects,n.resolvedUri,q),Z)return c.playlistRequestError(c.request,n,E);c.haveMetadata({playlistString:q.responseText,url:n.uri,id:n.id}),c.trigger("HAVE_MASTER"===E?"loadedmetadata":"mediachange")}})}}},a.pause=function(){this.mediaUpdateTimeout&&($().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},a.load=function(n){var i=this;this.mediaUpdateTimeout&&($().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var c=this.media();if(n){var m=c?(c.partTargetDuration||c.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=$().setTimeout(function(){i.mediaUpdateTimeout=null,i.load()},m)}else this.started?this.trigger(c&&!c.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()},a.updateMediaUpdateTimeout_=function(n){var i=this;this.mediaUpdateTimeout&&($().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=$().setTimeout(function(){i.mediaUpdateTimeout=null,i.trigger("mediaupdatetimeout"),i.updateMediaUpdateTimeout_(n)},n))},a.start=function(){var n=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=$().location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){n.setupInitialPlaylist(n.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(i,c){if(n.request){if(n.request=null,i)return n.error={status:c.status,message:"HLS playlist request error at URL: "+n.src+".",responseText:c.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.src=mu(n.handleManifestRedirects,n.src,c);var m=n.parseManifest_({manifestString:c.responseText,url:n.src});n.setupInitialPlaylist(m)}})},a.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},a.setupInitialPlaylist=function(n){if(this.state="HAVE_MASTER",n.playlists)return this.master=n,Wf(this.master,this.srcUri()),n.playlists.forEach(function(c){c.segments=qf(c),c.segments.forEach(function(m){Sg(m,c.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var i=this.srcUri()||$().location.href;this.master=function(o,a){var s=Xu(0,a),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:$().location.href,resolvedUri:$().location.href,playlists:[{uri:a,id:s,resolvedUri:a,attributes:{}}]};return n.playlists[s]=n.playlists[0],n.playlists[a]=n.playlists[0],n}(0,i),this.haveMetadata({playlistObject:n,url:i,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},o}(et.EventTarget),ta=et.xhr,Og=et.mergeOptions,Rd=function(o,a,s,n){var i="arraybuffer"===o.responseType?o.response:o.responseText;!a&&i&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=i.byteLength||i.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),s.headers&&(o.responseHeaders=s.headers),a&&"ETIMEDOUT"===a.code&&(o.timedout=!0),!a&&!o.aborted&&200!==s.statusCode&&206!==s.statusCode&&0!==s.statusCode&&(a=new Error("XHR Failed with a response of: "+(o&&(i||o.responseText)))),n(a,o)},dp=function(){var o=function a(s,n){s=Og({timeout:45e3},s);var i=a.beforeRequest||et.Vhs.xhr.beforeRequest;if(i&&"function"==typeof i){var c=i(s);c&&(s=c)}var E=(!0===et.Vhs.xhr.original?ta:et.Vhs.xhr)(s,function(R,Z){return Rd(E,R,Z,n)}),O=E.abort;return E.abort=function(){return E.aborted=!0,O.apply(E,arguments)},E.uri=s.uri,E.requestTime=Date.now(),E};return o.original=!0,o},Qf=function(o){var a={};return o.byterange&&(a.Range=function(o){return"bytes="+o.offset+"-"+(o.offset+o.length-1)}(o.byterange)),a},Dg=function(o,a){return o.start(a)+"-"+o.end(a)},fp=function(o,a){var s=o.toString(16);return"00".substring(0,2-s.length)+s+(a%2?" ":"")},Mg=function(o){return o>=32&&o<126?String.fromCharCode(o):"."},hp=function(o){var a={};return Object.keys(o).forEach(function(s){var n=o[s];a[s]=ArrayBuffer.isView(n)?{bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:n}),a},Nd=function(o){var a=o.byterange||{length:1/0,offset:0};return[a.length,a.offset,o.resolvedUri].join(",")},Ln=function(o){return o.resolvedUri},Kf=function(o){for(var a=Array.prototype.slice.call(o),s=16,n="",m=0;m<a.length/s;m++)n+=a.slice(m*s,m*s+s).map(fp).join("")+" "+a.slice(m*s,m*s+s).map(Mg).join("")+"\n";return n},na=Object.freeze({__proto__:null,createTransferableMessage:hp,initSegmentId:Nd,segmentKeyId:Ln,hexDump:Kf,tagDump:function(o){return Kf(o.bytes)},textRanges:function(o){var s,a="";for(s=0;s<o.length;s++)a+=Dg(o,s)+" ";return a}}),vp=function p(o){var a=o.programTime,s=o.playlist,n=o.retryCount,i=void 0===n?2:n,c=o.seekTo,m=o.pauseAfterSeek,E=void 0===m||m,O=o.tech,R=o.callback;if(!R)throw new Error("seekToProgramTime: callback must be provided");if(void 0===a||!s||!c)return R({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!s.endList&&!O.hasStarted_)return R({message:"player must be playing a live stream to start buffering"});if(!function(o){if(!o.segments||0===o.segments.length)return!1;for(var a=0;a<o.segments.length;a++)if(!o.segments[a].dateTimeObject)return!1;return!0}(s))return R({message:"programDateTime tags must be provided in the manifest "+s.resolvedUri});var Z=function(o,a){var s;try{s=new Date(o)}catch(Z){return null}if(!a||!a.segments||0===a.segments.length)return null;var n=a.segments[0];if(s<n.dateTimeObject)return null;for(var i=0;i<a.segments.length-1&&(n=a.segments[i],!(s<a.segments[i+1].dateTimeObject));i++);var m=a.segments[a.segments.length-1],E=m.dateTimeObject,O=m.videoTimingInfo?function(o){return o.transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds}(m.videoTimingInfo):m.duration+.25*m.duration;return s>new Date(E.getTime()+1e3*O)?null:(s>E&&(n=m),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:js.duration(a,a.mediaSequence+a.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})}(a,s);if(!Z)return R({message:a+" was not found in the stream"});var q=Z.segment,ve=function(o,a){var s,n;try{s=new Date(o),n=new Date(a)}catch(m){}var i=s.getTime();return(n.getTime()-i)/1e3}(q.dateTimeObject,a);if("estimate"===Z.type)return 0===i?R({message:a+" is not buffered yet. Try again"}):(c(Z.estimatedStart+ve),void O.one("seeked",function(){p({programTime:a,playlist:s,retryCount:i-1,seekTo:c,pauseAfterSeek:E,tech:O,callback:R})}));var Me=q.start+ve;O.one("seeked",function(){return R(null,O.currentTime())}),E&&O.pause(),c(Me)},yp=function(o,a){if(4===o.readyState)return a()},Nc=et.mergeOptions,v=function(o,a){if(!cp(o,a)||o.sidx&&a.sidx&&(o.sidx.offset!==a.sidx.offset||o.sidx.length!==a.sidx.length))return!1;if(!o.sidx&&a.sidx||o.sidx&&!a.sidx||o.segments&&!a.segments||!o.segments&&a.segments)return!1;if(!o.segments&&!a.segments)return!0;for(var s=0;s<o.segments.length;s++){var n=o.segments[s],i=a.segments[s];if(n.uri!==i.uri)return!1;if(n.byterange||i.byterange){var c=n.byterange,m=i.byterange;if(c&&!m||!c&&m||c.offset!==m.offset||c.length!==m.length)return!1}}return!0},g=function(o,a){return(Boolean(!o.map&&!a.map)||Boolean(o.map&&a.map&&o.map.byterange.offset===a.map.byterange.offset&&o.map.byterange.length===a.map.byterange.length))&&o.uri===a.uri&&o.byterange.offset===a.byterange.offset&&o.byterange.length===a.byterange.length},T=function(o,a){var s={};for(var n in o){var c=o[n].sidx;if(c){var m=Fn(c);if(!a[m])break;g(a[m].sidxInfo,c)&&(s[m]=a[m])}}return s},K=function(p){function o(s,n,i,c){var m;void 0===i&&(i={}),(m=p.call(this)||this).masterPlaylistLoader_=c||ue(m),c||(m.isMaster_=!0);var O=i.withCredentials,R=void 0!==O&&O,Z=i.handleManifestRedirects,q=void 0!==Z&&Z;if(m.vhs_=n,m.withCredentials=R,m.handleManifestRedirects=q,!s)throw new Error("A non-empty playlist URL or object is required");return m.on("minimumUpdatePeriod",function(){m.refreshXml_()}),m.on("mediaupdatetimeout",function(){m.refreshMedia_(m.media().id)}),m.state="HAVE_NOTHING",m.loadedPlaylists_={},m.logger_=us("DashPlaylistLoader"),m.isMaster_?(m.masterPlaylistLoader_.srcUrl=s,m.masterPlaylistLoader_.sidxMapping_={}):m.childPlaylist_=s,m}j(o,p);var a=o.prototype;return a.requestErrored_=function(n,i,c){return!this.request||(this.request=null,n?(this.error="object"!=typeof n||n instanceof Error?{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2}:n,c&&(this.state=c),this.trigger("error"),!0):void 0)},a.addSidxSegments_=function(n,i,c){var m=this,E=n.sidx&&Fn(n.sidx);if(n.sidx&&E&&!this.masterPlaylistLoader_.sidxMapping_[E]){var O=mu(this.handleManifestRedirects,n.sidx.resolvedUri),R=function(q,ve){if(!m.requestErrored_(q,ve,i)){var xe,Me=m.masterPlaylistLoader_.sidxMapping_;try{xe=Qs()(ln(ve.response).subarray(8))}catch(we){return void m.requestErrored_(we,ve,i)}return Me[E]={sidxInfo:n.sidx,sidx:xe},pn(n,xe,n.sidx.resolvedUri),c(!0)}};this.request=function(o,a,s){var i,n=[],c=!1,m=function(q,ve,Me,xe){return ve.abort(),c=!0,s(q,ve,Me,xe)},E=function(q,ve){if(!c){if(q)return m(q,ve,"",n);var Me=ve.responseText.substring(n&&n.byteLength||0,ve.responseText.length);if(n=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if((a=a.filter(function(m){return m&&(m.byteLength||m.length)&&"string"!=typeof m})).length<=1)return ln(a[0]);var n=a.reduce(function(m,E,O){return m+(E.byteLength||E.length)},0),i=new Uint8Array(n),c=0;return a.forEach(function(m){m=ln(m),i.set(m,c),c+=m.byteLength}),i}(n,pa(Me,!0)),i=i||Vo(n),n.length<10||i&&n.length<i+2)return yp(ve,function(){return m(q,ve,"",n)});var xe=It(n);return"ts"===xe&&n.length<188||!xe&&n.length<376?yp(ve,function(){return m(q,ve,"",n)}):m(null,ve,xe,n)}},R=a({uri:o,beforeSend:function(q){q.overrideMimeType("text/plain; charset=x-user-defined"),q.addEventListener("progress",function(ve){return Rd(q,null,{statusCode:q.status},E)})}},function(Z,q){return Rd(R,Z,q,E)});return R}(O,this.vhs_.xhr,function(Z,q,ve,Me){if(Z)return R(Z,q);if(!ve||"mp4"!==ve)return R({status:q.status,message:"Unsupported "+(ve||"unknown")+" container type for sidx segment at URL: "+O,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},q);var xe=n.sidx.byterange,we=xe.offset,st=xe.length;if(Me.length>=st+we)return R(Z,{response:Me.subarray(we,we+st),status:q.status,uri:q.uri});m.request=m.vhs_.xhr({uri:O,responseType:"arraybuffer",headers:Qf({byterange:n.sidx.byterange})},R)})}else this.mediaRequest_=$().setTimeout(function(){return c(!1)},0)},a.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},$().clearTimeout(this.minimumUpdatePeriodTimeout_),$().clearTimeout(this.mediaRequest_),$().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},a.hasPendingRequest=function(){return this.request||this.mediaRequest_},a.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},a.media=function(n){var i=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var c=this.state;if("string"==typeof n){if(!this.masterPlaylistLoader_.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.masterPlaylistLoader_.master.playlists[n]}var m=!this.media_||n.id!==this.media_.id;if(m&&this.loadedPlaylists_[n.id]&&this.loadedPlaylists_[n.id].endList)return this.state="HAVE_METADATA",this.media_=n,void(m&&(this.trigger("mediachanging"),this.trigger("mediachange")));!m||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(n,c,function(E){i.haveMetadata({startingState:c,playlist:n})}))},a.haveMetadata=function(n){var i=n.startingState,c=n.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[c.id]=c,this.mediaRequest_=null,this.refreshMedia_(c.id),this.trigger("HAVE_MASTER"===i?"loadedmetadata":"mediachange")},a.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),$().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&($().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},a.load=function(n){var i=this;$().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var c=this.media();if(n){var m=c?c.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=$().setTimeout(function(){return i.load()},m)}else this.started?c&&!c.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},a.start=function(){var n=this;this.started=!0,this.isMaster_?this.requestMaster_(function(i,c){n.haveMaster_(),!n.hasPendingRequest()&&!n.media_&&n.media(n.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=$().setTimeout(function(){return n.haveMaster_()},0)},a.requestMaster_=function(n){var i=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(c,m){if(!i.requestErrored_(c,m)){var E=m.responseText!==i.masterPlaylistLoader_.masterXml_;return i.masterPlaylistLoader_.masterXml_=m.responseText,i.masterLoaded_=m.responseHeaders&&m.responseHeaders.date?Date.parse(m.responseHeaders.date):Date.now(),i.masterPlaylistLoader_.srcUrl=mu(i.handleManifestRedirects,i.masterPlaylistLoader_.srcUrl,m),E?(i.handleMaster_(),void i.syncClientServerClock_(function(){return n(m,E)})):n(m,E)}"HAVE_NOTHING"===i.state&&(i.started=!1)})},a.syncClientServerClock_=function(n){var i=this,c=function(o){return function(o){var a=yt(o,"UTCTiming")[0];if(!a)return null;var s=Kn(a);switch(s.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":s.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":s.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":s.method="DIRECT",s.value=Date.parse(s.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return s}(ui(o))}(this.masterPlaylistLoader_.masterXml_);return null===c?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===c.method?(this.masterPlaylistLoader_.clientOffset_=c.value-Date.now(),n()):void(this.request=this.vhs_.xhr({uri:$i(this.masterPlaylistLoader_.srcUrl,c.value),method:c.method,withCredentials:this.withCredentials},function(m,E){if(i.request){if(m)return i.masterPlaylistLoader_.clientOffset_=i.masterLoaded_-Date.now(),n();var O;O="HEAD"===c.method?E.responseHeaders&&E.responseHeaders.date?Date.parse(E.responseHeaders.date):i.masterLoaded_:Date.parse(E.responseText),i.masterPlaylistLoader_.clientOffset_=O-Date.now(),n()}}))},a.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},a.handleMaster_=function(){this.mediaRequest_=null;var n=function(o){var s=o.srcUrl,c=ur(o.masterXml,{manifestUri:s,clientOffset:o.clientOffset,sidxMapping:o.sidxMapping});return Wf(c,s),c}({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),i=this.masterPlaylistLoader_.master;i&&(n=function(o,a,s){for(var n=!0,i=Nc(o,{duration:a.duration,minimumUpdatePeriod:a.minimumUpdatePeriod}),c=0;c<a.playlists.length;c++){var m=a.playlists[c];if(m.sidx){var E=Fn(m.sidx);s&&s[E]&&s[E].sidx&&pn(m,s[E].sidx,m.sidx.resolvedUri)}var O=Id(i,m,v);O&&(i=O,n=!1)}return _u(a,function(R,Z,q,ve){if(R.playlists&&R.playlists.length){var Me=R.playlists[0].id,xe=Id(i,R.playlists[0],v);xe&&((i=xe).mediaGroups[Z][q][ve].playlists[0]=i.playlists[Me],n=!1)}}),a.minimumUpdatePeriod!==o.minimumUpdatePeriod&&(n=!1),n?null:i}(i,n,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=n||i;var c=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return c&&c!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=c),(!i||n&&n.minimumUpdatePeriod!==i.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(n)},a.updateMinimumUpdatePeriodTimeout_=function(){var n=this.masterPlaylistLoader_;n.createMupOnMedia_&&(n.off("loadedmetadata",n.createMupOnMedia_),n.createMupOnMedia_=null),n.minimumUpdatePeriodTimeout_&&($().clearTimeout(n.minimumUpdatePeriodTimeout_),n.minimumUpdatePeriodTimeout_=null);var i=n.master&&n.master.minimumUpdatePeriod;0===i&&(n.media()?i=1e3*n.media().targetDuration:(n.createMupOnMedia_=n.updateMinimumUpdatePeriodTimeout_,n.one("loadedmetadata",n.createMupOnMedia_))),"number"!=typeof i||i<=0?i<0&&this.logger_("found invalid minimumUpdatePeriod of "+i+", not setting a timeout"):this.createMUPTimeout_(i)},a.createMUPTimeout_=function(n){var i=this.masterPlaylistLoader_;i.minimumUpdatePeriodTimeout_=$().setTimeout(function(){i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(n)},n)},a.refreshXml_=function(){var n=this;this.requestMaster_(function(i,c){!c||(n.media_&&(n.media_=n.masterPlaylistLoader_.master.playlists[n.media_.id]),n.masterPlaylistLoader_.sidxMapping_=function(o,a){var n=T(o.playlists,a);return _u(o,function(i,c,m,E){i.playlists&&i.playlists.length&&(n=Nc(n,T(i.playlists,a)))}),n}(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.sidxMapping_),n.addSidxSegments_(n.media(),n.state,function(m){n.refreshMedia_(n.media().id)}))})},a.refreshMedia_=function(n){var i=this;if(!n)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var c=this.masterPlaylistLoader_.master.playlists,m=!this.media_||this.media_!==c[n];m?this.media_=c[n]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function O(){i.media().endList||(i.mediaUpdateTimeout=$().setTimeout(function(){i.trigger("mediaupdatetimeout"),O()},kd(i.media(),Boolean(m))))}(),this.trigger("loadedplaylist")},o}(et.EventTarget),de={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Be=function(o){return o.on=o.addEventListener,o.off=o.removeEventListener,o},mt=function(o){return function(){var a=function(o){try{return URL.createObjectURL(new Blob([o],{type:"application/javascript"}))}catch(s){var a=new BlobBuilder;return a.append(o),URL.createObjectURL(a.getBlob())}}(o),s=Be(new Worker(a));s.objURL=a;var n=s.terminate;return s.on=s.addEventListener,s.off=s.removeEventListener,s.terminate=function(){return URL.revokeObjectURL(a),n.call(this)},s}},Tt=function(o){return"var browserWorkerPolyFill = "+Be.toString()+";\nbrowserWorkerPolyFill(self);\n"+o},Ct=function(o){return o.toString().replace(/^function.+?{/,"").slice(0,-1)},Ut=mt(Tt(Ct(function(){var p=function(){this.init=function(){var S={};this.on=function(N,k){S[N]||(S[N]=[]),S[N]=S[N].concat(k)},this.off=function(N,k){var U;return!!S[N]&&(U=S[N].indexOf(k),S[N]=S[N].slice(),S[N].splice(U,1),U>-1)},this.trigger=function(N){var k,U,J,ie;if(k=S[N])if(2===arguments.length)for(J=k.length,U=0;U<J;++U)k[U].call(this,arguments[1]);else{for(ie=[],U=arguments.length,U=1;U<arguments.length;++U)ie.push(arguments[U]);for(J=k.length,U=0;U<J;++U)k[U].apply(this,ie)}},this.dispose=function(){S={}}}};p.prototype.pipe=function(he){return this.on("data",function(S){he.push(S)}),this.on("done",function(S){he.flush(S)}),this.on("partialdone",function(S){he.partialFlush(S)}),this.on("endedtimeline",function(S){he.endTimeline(S)}),this.on("reset",function(S){he.reset(S)}),he},p.prototype.push=function(he){this.trigger("data",he)},p.prototype.flush=function(he){this.trigger("done",he)},p.prototype.partialFlush=function(he){this.trigger("partialdone",he)},p.prototype.endTimeline=function(he){this.trigger("endedtimeline",he)},p.prototype.reset=function(he){this.trigger("reset",he)};var s,n,i,c,m,E,O,R,Z,q,ve,Me,xe,we,st,it,bt,xt,wt,zt,Jt,Lt,kt,Yt,hr,Qr,ii,si,Cr,Bc,La,Ro,ns,aa,Gi,la,he,S,o=p,a=Math.pow(2,32)-1;(function(){var he;if(kt={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(he in kt)kt.hasOwnProperty(he)&&(kt[he]=[he.charCodeAt(0),he.charCodeAt(1),he.charCodeAt(2),he.charCodeAt(3)]);Yt=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Qr=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),hr=new Uint8Array([0,0,0,1]),ii=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),si=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Cr={video:ii,audio:si},Ro=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),La=new Uint8Array([0,0,0,0,0,0,0,0]),ns=new Uint8Array([0,0,0,0,0,0,0,0]),aa=ns,Gi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),la=ns,Bc=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),s=function(S){var U,J,N=[],k=0;for(U=1;U<arguments.length;U++)N.push(arguments[U]);for(U=N.length;U--;)k+=N[U].byteLength;for(J=new Uint8Array(k+8),new DataView(J.buffer,J.byteOffset,J.byteLength).setUint32(0,J.byteLength),J.set(S,4),U=0,k=8;U<N.length;U++)J.set(N[U],k),k+=N[U].byteLength;return J},n=function(){return s(kt.dinf,s(kt.dref,Ro))},i=function(S){return s(kt.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,S.audioobjecttype<<3|S.samplingfrequencyindex>>>1,S.samplingfrequencyindex<<7|S.channelcount<<3,6,1,2]))},c=function(){return s(kt.ftyp,Yt,hr,Yt,Qr)},it=function(S){return s(kt.hdlr,Cr[S])},m=function(S){return s(kt.mdat,S)},st=function(S){var N=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,S.duration>>>24&255,S.duration>>>16&255,S.duration>>>8&255,255&S.duration,85,196,0,0]);return S.samplerate&&(N[12]=S.samplerate>>>24&255,N[13]=S.samplerate>>>16&255,N[14]=S.samplerate>>>8&255,N[15]=255&S.samplerate),s(kt.mdhd,N)},we=function(S){return s(kt.mdia,st(S),it(S.type),O(S))},E=function(S){return s(kt.mfhd,new Uint8Array([0,0,0,0,(4278190080&S)>>24,(16711680&S)>>16,(65280&S)>>8,255&S]))},O=function(S){return s(kt.minf,"video"===S.type?s(kt.vmhd,Bc):s(kt.smhd,La),n(),xt(S))},R=function(S,N){for(var k=[],U=N.length;U--;)k[U]=zt(N[U]);return s.apply(null,[kt.moof,E(S)].concat(k))},Z=function(S){for(var N=S.length,k=[];N--;)k[N]=Me(S[N]);return s.apply(null,[kt.moov,ve(4294967295)].concat(k).concat(q(S)))},q=function(S){for(var N=S.length,k=[];N--;)k[N]=Jt(S[N]);return s.apply(null,[kt.mvex].concat(k))},ve=function(S){var N=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&S)>>24,(16711680&S)>>16,(65280&S)>>8,255&S,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return s(kt.mvhd,N)},bt=function(S){var U,J,N=S.samples||[],k=new Uint8Array(4+N.length);for(J=0;J<N.length;J++)k[J+4]=(U=N[J].flags).dependsOn<<4|U.isDependedOn<<2|U.hasRedundancy;return s(kt.sdtp,k)},xt=function(S){return s(kt.stbl,wt(S),s(kt.stts,la),s(kt.stsc,aa),s(kt.stsz,Gi),s(kt.stco,ns))},wt=function(k){return s(kt.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===k.type?he(k):S(k))},he=function(k){var Ue,qe,U=k.sps||[],J=k.pps||[],ie=[],ke=[];for(Ue=0;Ue<U.length;Ue++)ie.push((65280&U[Ue].byteLength)>>>8),ie.push(255&U[Ue].byteLength),ie=ie.concat(Array.prototype.slice.call(U[Ue]));for(Ue=0;Ue<J.length;Ue++)ke.push((65280&J[Ue].byteLength)>>>8),ke.push(255&J[Ue].byteLength),ke=ke.concat(Array.prototype.slice.call(J[Ue]));if(qe=[kt.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&k.width)>>8,255&k.width,(65280&k.height)>>8,255&k.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s(kt.avcC,new Uint8Array([1,k.profileIdc,k.profileCompatibility,k.levelIdc,255].concat([U.length],ie,[J.length],ke))),s(kt.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],k.sarRatio){var $e=k.sarRatio[0],Xe=k.sarRatio[1];qe.push(s(kt.pasp,new Uint8Array([(4278190080&$e)>>24,(16711680&$e)>>16,(65280&$e)>>8,255&$e,(4278190080&Xe)>>24,(16711680&Xe)>>16,(65280&Xe)>>8,255&Xe])))}return s.apply(null,qe)},S=function(k){return s(kt.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&k.channelcount)>>8,255&k.channelcount,(65280&k.samplesize)>>8,255&k.samplesize,0,0,0,0,(65280&k.samplerate)>>8,255&k.samplerate,0,0]),i(k))},xe=function(S){var N=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&S.id)>>24,(16711680&S.id)>>16,(65280&S.id)>>8,255&S.id,0,0,0,0,(4278190080&S.duration)>>24,(16711680&S.duration)>>16,(65280&S.duration)>>8,255&S.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&S.width)>>8,255&S.width,0,0,(65280&S.height)>>8,255&S.height,0,0]);return s(kt.tkhd,N)},zt=function(S){var N,k,U,J,ke,Ue;return N=s(kt.tfhd,new Uint8Array([0,0,0,58,(4278190080&S.id)>>24,(16711680&S.id)>>16,(65280&S.id)>>8,255&S.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),ke=Math.floor(S.baseMediaDecodeTime/(a+1)),Ue=Math.floor(S.baseMediaDecodeTime%(a+1)),k=s(kt.tfdt,new Uint8Array([1,0,0,0,ke>>>24&255,ke>>>16&255,ke>>>8&255,255&ke,Ue>>>24&255,Ue>>>16&255,Ue>>>8&255,255&Ue])),"audio"===S.type?(U=Lt(S,92),s(kt.traf,N,k,U)):(J=bt(S),U=Lt(S,J.length+92),s(kt.traf,N,k,U,J))},Me=function(S){return S.duration=S.duration||4294967295,s(kt.trak,xe(S),we(S))},Jt=function(S){var N=new Uint8Array([0,0,0,0,(4278190080&S.id)>>24,(16711680&S.id)>>16,(65280&S.id)>>8,255&S.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==S.type&&(N[N.length-1]=0),s(kt.trex,N)},function(){var he,S,N;N=function(U,J){var ie=0,ke=0,Ue=0,qe=0;return U.length&&(void 0!==U[0].duration&&(ie=1),void 0!==U[0].size&&(ke=2),void 0!==U[0].flags&&(Ue=4),void 0!==U[0].compositionTimeOffset&&(qe=8)),[0,0,ie|ke|Ue|qe,1,(4278190080&U.length)>>>24,(16711680&U.length)>>>16,(65280&U.length)>>>8,255&U.length,(4278190080&J)>>>24,(16711680&J)>>>16,(65280&J)>>>8,255&J]},S=function(U,J){var ie,ke,Ue,qe,$e,Xe;for(Ue=N(qe=U.samples||[],J+=20+16*qe.length),(ke=new Uint8Array(Ue.length+16*qe.length)).set(Ue),ie=Ue.length,Xe=0;Xe<qe.length;Xe++)ke[ie++]=(4278190080&($e=qe[Xe]).duration)>>>24,ke[ie++]=(16711680&$e.duration)>>>16,ke[ie++]=(65280&$e.duration)>>>8,ke[ie++]=255&$e.duration,ke[ie++]=(4278190080&$e.size)>>>24,ke[ie++]=(16711680&$e.size)>>>16,ke[ie++]=(65280&$e.size)>>>8,ke[ie++]=255&$e.size,ke[ie++]=$e.flags.isLeading<<2|$e.flags.dependsOn,ke[ie++]=$e.flags.isDependedOn<<6|$e.flags.hasRedundancy<<4|$e.flags.paddingValue<<1|$e.flags.isNonSyncSample,ke[ie++]=61440&$e.flags.degradationPriority,ke[ie++]=15&$e.flags.degradationPriority,ke[ie++]=(4278190080&$e.compositionTimeOffset)>>>24,ke[ie++]=(16711680&$e.compositionTimeOffset)>>>16,ke[ie++]=(65280&$e.compositionTimeOffset)>>>8,ke[ie++]=255&$e.compositionTimeOffset;return s(kt.trun,ke)},he=function(U,J){var ie,ke,Ue,qe,$e,Xe;for(Ue=N(qe=U.samples||[],J+=20+8*qe.length),(ie=new Uint8Array(Ue.length+8*qe.length)).set(Ue),ke=Ue.length,Xe=0;Xe<qe.length;Xe++)ie[ke++]=(4278190080&($e=qe[Xe]).duration)>>>24,ie[ke++]=(16711680&$e.duration)>>>16,ie[ke++]=(65280&$e.duration)>>>8,ie[ke++]=255&$e.duration,ie[ke++]=(4278190080&$e.size)>>>24,ie[ke++]=(16711680&$e.size)>>>16,ie[ke++]=(65280&$e.size)>>>8,ie[ke++]=255&$e.size;return s(kt.trun,ie)},Lt=function(U,J){return"audio"===U.type?he(U,J):S(U,J)}}();var Dp,Ap,Ip,ph,Kg,Yg,Fv,Zg,ua_mdat=m,ua_moof=R,Uc=function(S,N){var k={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return k.dataOffset=N,k.compositionTimeOffset=S.pts-S.dts,k.duration=S.duration,k.size=4*S.length,k.size+=S.byteLength,S.keyFrame&&(k.flags.dependsOn=2,k.flags.isNonSyncSample=0),k},ca=[33,16,5,32,164,27],Pp=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Rr=function(S){for(var N=[];S--;)N.push(0);return N};Yg=function(S,N){return Ap(Kg(S,N))},Fv=function(S,N){return Ip(ph(S),N)},Zg=function(S,N,k){return ph(k?S:S-N)};var wr_secondsToVideoTs=Ap=function(S){return 9e4*S},wr_videoTsToSeconds=(Ip=function(S,N){return S*N},ph=function(S){return S/9e4}),wr_audioTsToVideoTs=(Kg=function(S,N){return S/N},Yg),wr_videoTsToAudioTs=Fv,wr_metadataTsToSeconds=Zg,gh_prefixWithSilence=function(S,N,k,U){var J,$e,Xe,Pt,ie=0,ke=0,Ue=0,qe=0;if(N.length&&(J=wr_audioTsToVideoTs(S.baseMediaDecodeTime,S.samplerate),ie=Math.ceil(9e4/(S.samplerate/1024)),k&&U&&(ke=J-Math.max(k,U),qe=(Ue=Math.floor(ke/ie))*ie),!(Ue<1||qe>45e3))){for(($e=function(){if(!Dp){var S={96e3:[ca,[227,64],Rr(154),[56]],88200:[ca,[231],Rr(170),[56]],64e3:[ca,[248,192],Rr(240),[56]],48e3:[ca,[255,192],Rr(268),[55,148,128],Rr(54),[112]],44100:[ca,[255,192],Rr(268),[55,163,128],Rr(84),[112]],32e3:[ca,[255,192],Rr(268),[55,234],Rr(226),[112]],24e3:[ca,[255,192],Rr(268),[55,255,128],Rr(268),[111,112],Rr(126),[224]],16e3:[ca,[255,192],Rr(268),[55,255,128],Rr(268),[111,255],Rr(269),[223,108],Rr(195),[1,192]],12e3:[Pp,Rr(268),[3,127,248],Rr(268),[6,255,240],Rr(268),[13,255,224],Rr(268),[27,253,128],Rr(259),[56]],11025:[Pp,Rr(268),[3,127,248],Rr(268),[6,255,240],Rr(268),[13,255,224],Rr(268),[27,255,192],Rr(268),[55,175,128],Rr(108),[112]],8e3:[Pp,Rr(268),[3,121,16],Rr(47),[7]]};Dp=function(S){return Object.keys(S).reduce(function(N,k){return N[k]=new Uint8Array(S[k].reduce(function(U,J){return U.concat(J)},[])),N},{})}(S)}return Dp}()[S.samplerate])||($e=N[0].data),Xe=0;Xe<Ue;Xe++)N.splice(0,0,{data:$e,dts:(Pt=N[0]).dts-ie,pts:Pt.pts-ie});return S.baseMediaDecodeTime-=Math.floor(wr_videoTsToAudioTs(qe,S.samplerate)),qe}},Fa_clearDtsInfo=function(S){delete S.minSegmentDts,delete S.maxSegmentDts,delete S.minSegmentPts,delete S.maxSegmentPts},Fa_calculateTrackBaseMediaDecodeTime=function(S,N){var k,J=S.minSegmentDts;return N||(J-=S.timelineStartInfo.dts),k=S.timelineStartInfo.baseMediaDecodeTime,k+=J,k=Math.max(0,k),"audio"===S.type&&(k*=S.samplerate/9e4,k=Math.floor(k)),k},Fa_collectDtsInfo=function(S,N){"number"==typeof N.pts&&(void 0===S.timelineStartInfo.pts&&(S.timelineStartInfo.pts=N.pts),S.minSegmentPts=void 0===S.minSegmentPts?N.pts:Math.min(S.minSegmentPts,N.pts),S.maxSegmentPts=void 0===S.maxSegmentPts?N.pts:Math.max(S.maxSegmentPts,N.pts)),"number"==typeof N.dts&&(void 0===S.timelineStartInfo.dts&&(S.timelineStartInfo.dts=N.dts),S.minSegmentDts=void 0===S.minSegmentDts?N.dts:Math.min(S.minSegmentDts,N.dts),S.maxSegmentDts=void 0===S.maxSegmentDts?N.dts:Math.max(S.maxSegmentDts,N.dts))},po=function he(S){S=S||{},he.prototype.init.call(this),this.parse708captions_="boolean"!=typeof S.parse708captions||S.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Si(0,0),new Si(0,1),new Si(1,0),new Si(1,1)],this.parse708captions_&&(this.cc708Stream_=new oi({captionServices:S.captionServices})),this.reset(),this.ccStreams_.forEach(function(N){N.on("data",this.trigger.bind(this,"data")),N.on("partialdone",this.trigger.bind(this,"partialdone")),N.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(po.prototype=new o).push=function(he){var S,N,k;if("sei_rbsp"===he.nalUnitType&&(S=function(S){for(var N=0,k={payloadType:-1,payloadSize:0},U=0,J=0;N<S.byteLength&&128!==S[N];){for(;255===S[N];)U+=255,N++;for(U+=S[N++];255===S[N];)J+=255,N++;if(J+=S[N++],!k.payload&&4===U){if("GA94"===String.fromCharCode(S[N+3],S[N+4],S[N+5],S[N+6])){k.payloadType=U,k.payloadSize=J,k.payload=S.subarray(N,N+J);break}k.payload=void 0}N+=J,U=0,J=0}return k}(he.escapedRBSP)).payload&&4===S.payloadType&&(N=function(S){return 181!==S.payload[0]||49!=(S.payload[1]<<8|S.payload[2])||"GA94"!==String.fromCharCode(S.payload[3],S.payload[4],S.payload[5],S.payload[6])||3!==S.payload[7]?null:S.payload.subarray(8,S.payload.length-1)}(S))){if(he.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(he.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));k=function(S,N){var U,J,ie,ke,k=[];if(!(64&N[0]))return k;for(J=31&N[0],U=0;U<J;U++)ke={type:3&N[2+(ie=3*U)],pts:S},4&N[ie+2]&&(ke.ccData=N[ie+3]<<8|N[ie+4],k.push(ke));return k}(he.pts,N),this.captionPackets_=this.captionPackets_.concat(k),this.latestDts_!==he.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=he.dts}},po.prototype.flushCCStreams=function(he){this.ccStreams_.forEach(function(S){return"flush"===he?S.flush():S.partialFlush()},this)},po.prototype.flushStream=function(he){this.captionPackets_.length?(this.captionPackets_.forEach(function(S,N){S.presortIndex=N}),this.captionPackets_.sort(function(S,N){return S.pts===N.pts?S.presortIndex-N.presortIndex:S.pts-N.pts}),this.captionPackets_.forEach(function(S){S.type<2?this.dispatchCea608Packet(S):this.dispatchCea708Packet(S)},this),this.captionPackets_.length=0,this.flushCCStreams(he)):this.flushCCStreams(he)},po.prototype.flush=function(){return this.flushStream("flush")},po.prototype.partialFlush=function(){return this.flushStream("partialFlush")},po.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(he){he.reset()})},po.prototype.dispatchCea608Packet=function(he){this.setsTextOrXDSActive(he)?this.activeCea608Channel_[he.type]=null:this.setsChannel1Active(he)?this.activeCea608Channel_[he.type]=0:this.setsChannel2Active(he)&&(this.activeCea608Channel_[he.type]=1),null!==this.activeCea608Channel_[he.type]&&this.ccStreams_[(he.type<<1)+this.activeCea608Channel_[he.type]].push(he)},po.prototype.setsChannel1Active=function(he){return 4096==(30720&he.ccData)},po.prototype.setsChannel2Active=function(he){return 6144==(30720&he.ccData)},po.prototype.setsTextOrXDSActive=function(he){return 256==(28928&he.ccData)||4138==(30974&he.ccData)||6186==(30974&he.ccData)},po.prototype.dispatchCea708Packet=function(he){this.parse708captions_&&this.cc708Stream_.push(he)};var Xg={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Jg=function(S){return 32<=S&&S<=127||160<=S&&S<=255},ec=function(S){this.windowNum=S,this.reset()};ec.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ec.prototype.getText=function(){return this.rows.join("\n")},ec.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ec.prototype.newLine=function(he){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(he),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ec.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},ec.prototype.addText=function(he){this.rows[this.rowIdx]+=he},ec.prototype.backspace=function(){if(!this.isEmpty()){var he=this.rows[this.rowIdx];this.rows[this.rowIdx]=he.substr(0,he.length-1)}};var em=function(S,N,k){this.serviceNum=S,this.text="",this.currentWindow=new ec(-1),this.windows=[],this.stream=k,"string"==typeof N&&this.createTextDecoder(N)};em.prototype.init=function(he,S){this.startPts=he;for(var N=0;N<8;N++)this.windows[N]=new ec(N),"function"==typeof S&&(this.windows[N].beforeRowOverflow=S)},em.prototype.setCurrentWindow=function(he){this.currentWindow=this.windows[he]},em.prototype.createTextDecoder=function(he){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(he)}catch(S){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+he+" encoding. "+S})}};var oi=function he(S){S=S||{},he.prototype.init.call(this);var J,N=this,k=S.captionServices||{},U={};Object.keys(k).forEach(function(ie){J=k[ie],/^SERVICE/.test(ie)&&(U[ie]=J.encoding)}),this.serviceEncodings=U,this.current708Packet=null,this.services={},this.push=function(ie){3===ie.type?(N.new708Packet(),N.add708Bytes(ie)):(null===N.current708Packet&&N.new708Packet(),N.add708Bytes(ie))}};oi.prototype=new o,oi.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},oi.prototype.add708Bytes=function(he){var S=he.ccData,N=S>>>8,k=255&S;this.current708Packet.ptsVals.push(he.pts),this.current708Packet.data.push(N),this.current708Packet.data.push(k)},oi.prototype.push708Packet=function(){var he=this.current708Packet,S=he.data,N=null,k=null,U=0,J=S[U++];for(he.seq=J>>6,he.sizeCode=63&J;U<S.length;U++)k=31&(J=S[U++]),7==(N=J>>5)&&k>0&&(N=J=S[U++]),this.pushServiceBlock(N,U,k),k>0&&(U+=k-1)},oi.prototype.pushServiceBlock=function(he,S,N){var k,U=S,J=this.current708Packet.data,ie=this.services[he];for(ie||(ie=this.initService(he,U));U<S+N&&U<J.length;U++)Jg(k=J[U])?U=this.handleText(U,ie):24===k?U=this.multiByteCharacter(U,ie):16===k?U=this.extendedCommands(U,ie):128<=k&&k<=135?U=this.setCurrentWindow(U,ie):152<=k&&k<=159?U=this.defineWindow(U,ie):136===k?U=this.clearWindows(U,ie):140===k?U=this.deleteWindows(U,ie):137===k?U=this.displayWindows(U,ie):138===k?U=this.hideWindows(U,ie):139===k?U=this.toggleWindows(U,ie):151===k?U=this.setWindowAttributes(U,ie):144===k?U=this.setPenAttributes(U,ie):145===k?U=this.setPenColor(U,ie):146===k?U=this.setPenLocation(U,ie):143===k?ie=this.reset(U,ie):8===k?ie.currentWindow.backspace():12===k?ie.currentWindow.clearText():13===k?ie.currentWindow.pendingNewLine=!0:14===k?ie.currentWindow.clearText():141===k&&U++},oi.prototype.extendedCommands=function(he,S){var k=this.current708Packet.data[++he];return Jg(k)&&(he=this.handleText(he,S,{isExtended:!0})),he},oi.prototype.getPts=function(he){return this.current708Packet.ptsVals[Math.floor(he/2)]},oi.prototype.initService=function(he,S){var N,U,k=this;return(N="SERVICE"+he)in this.serviceEncodings&&(U=this.serviceEncodings[N]),this.services[he]=new em(he,U,k),this.services[he].init(this.getPts(S),function(J){k.flushDisplayed(J,k.services[he])}),this.services[he]},oi.prototype.handleText=function(he,S,N){var $e,Xe,k=N&&N.isExtended,J=this.current708Packet.data,ie=k?4096:0,ke=J[he],qe=S.currentWindow;return S.textDecoder_&&!k?(N&&N.isMultiByte?(Xe=[ke,J[he+1]],he++):Xe=[ke],$e=S.textDecoder_.decode(new Uint8Array(Xe))):$e=function(S){var N=Xg[S]||S;return 4096&S&&S===N?"":String.fromCharCode(N)}(ie|ke),qe.pendingNewLine&&!qe.isEmpty()&&qe.newLine(this.getPts(he)),qe.pendingNewLine=!1,qe.addText($e),he},oi.prototype.multiByteCharacter=function(he,S){var N=this.current708Packet.data,U=N[he+2];return Jg(N[he+1])&&Jg(U)&&(he=this.handleText(++he,S,{isMultiByte:!0})),he},oi.prototype.setCurrentWindow=function(he,S){return S.setCurrentWindow(7&this.current708Packet.data[he]),he},oi.prototype.defineWindow=function(he,S){var N=this.current708Packet.data,k=N[he];S.setCurrentWindow(7&k);var J=S.currentWindow;return k=N[++he],J.visible=(32&k)>>5,J.rowLock=(16&k)>>4,J.columnLock=(8&k)>>3,J.priority=7&k,k=N[++he],J.relativePositioning=(128&k)>>7,J.anchorVertical=127&k,k=N[++he],J.anchorHorizontal=k,k=N[++he],J.anchorPoint=(240&k)>>4,J.rowCount=15&k,k=N[++he],J.columnCount=63&k,k=N[++he],J.windowStyle=(56&k)>>3,J.penStyle=7&k,J.virtualRowCount=J.rowCount+1,he},oi.prototype.setWindowAttributes=function(he,S){var N=this.current708Packet.data,k=N[he],U=S.currentWindow.winAttr;return k=N[++he],U.fillOpacity=(192&k)>>6,U.fillRed=(48&k)>>4,U.fillGreen=(12&k)>>2,U.fillBlue=3&k,k=N[++he],U.borderType=(192&k)>>6,U.borderRed=(48&k)>>4,U.borderGreen=(12&k)>>2,U.borderBlue=3&k,k=N[++he],U.borderType+=(128&k)>>5,U.wordWrap=(64&k)>>6,U.printDirection=(48&k)>>4,U.scrollDirection=(12&k)>>2,U.justify=3&k,k=N[++he],U.effectSpeed=(240&k)>>4,U.effectDirection=(12&k)>>2,U.displayEffect=3&k,he},oi.prototype.flushDisplayed=function(he,S){for(var N=[],k=0;k<8;k++)S.windows[k].visible&&!S.windows[k].isEmpty()&&N.push(S.windows[k].getText());S.endPts=he,S.text=N.join("\n\n"),this.pushCaption(S),S.startPts=he},oi.prototype.pushCaption=function(he){""!==he.text&&(this.trigger("data",{startPts:he.startPts,endPts:he.endPts,text:he.text,stream:"cc708_"+he.serviceNum}),he.text="",he.startPts=he.endPts)},oi.prototype.displayWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&(S.windows[J].visible=1);return he},oi.prototype.hideWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&(S.windows[J].visible=0);return he},oi.prototype.toggleWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&(S.windows[J].visible^=1);return he},oi.prototype.clearWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&S.windows[J].clearText();return he},oi.prototype.deleteWindows=function(he,S){var k=this.current708Packet.data[++he],U=this.getPts(he);this.flushDisplayed(U,S);for(var J=0;J<8;J++)k&1<<J&&S.windows[J].reset();return he},oi.prototype.setPenAttributes=function(he,S){var N=this.current708Packet.data,k=N[he],U=S.currentWindow.penAttr;return k=N[++he],U.textTag=(240&k)>>4,U.offset=(12&k)>>2,U.penSize=3&k,k=N[++he],U.italics=(128&k)>>7,U.underline=(64&k)>>6,U.edgeType=(56&k)>>3,U.fontStyle=7&k,he},oi.prototype.setPenColor=function(he,S){var N=this.current708Packet.data,k=N[he],U=S.currentWindow.penColor;return k=N[++he],U.fgOpacity=(192&k)>>6,U.fgRed=(48&k)>>4,U.fgGreen=(12&k)>>2,U.fgBlue=3&k,k=N[++he],U.bgOpacity=(192&k)>>6,U.bgRed=(48&k)>>4,U.bgGreen=(12&k)>>2,U.bgBlue=3&k,k=N[++he],U.edgeRed=(48&k)>>4,U.edgeGreen=(12&k)>>2,U.edgeBlue=3&k,he},oi.prototype.setPenLocation=function(he,S){var N=this.current708Packet.data,k=N[he],U=S.currentWindow.penLoc;return S.currentWindow.pendingNewLine=!0,k=N[++he],U.row=15&k,k=N[++he],U.column=63&k,he},oi.prototype.reset=function(he,S){var N=this.getPts(he);return this.flushDisplayed(N,S),this.initService(S.serviceNum,he)};var Uv={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},tm=function(S){return null===S?"":(S=Uv[S]||S,String.fromCharCode(S))},Yd=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Vc=function(){for(var S=[],N=15;N--;)S.push("");return S},Si=function he(S,N){he.prototype.init.call(this),this.field_=S||0,this.dataChannel_=N||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(k){var U,J,ie,ke,Ue;if((U=32639&k.ccData)!==this.lastControlCode_){if(4096==(61440&U)?this.lastControlCode_=U:U!==this.PADDING_&&(this.lastControlCode_=null),ie=U>>>8,ke=255&U,U!==this.PADDING_)if(U===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(U===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(k.pts),this.flushDisplayed(k.pts),J=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=J,this.startPts_=k.pts;else if(U===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(k.pts);else if(U===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(k.pts);else if(U===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(k.pts);else if(U===this.CARRIAGE_RETURN_)this.clearFormatting(k.pts),this.flushDisplayed(k.pts),this.shiftRowsUp_(),this.startPts_=k.pts;else if(U===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(U===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(k.pts),this.displayed_=Vc();else if(U===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Vc();else if(U===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(k.pts),this.displayed_=Vc()),this.mode_="paintOn",this.startPts_=k.pts;else if(this.isSpecialCharacter(ie,ke))Ue=tm((ie=(3&ie)<<8)|ke),this[this.mode_](k.pts,Ue),this.column_++;else if(this.isExtCharacter(ie,ke))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),Ue=tm((ie=(3&ie)<<8)|ke),this[this.mode_](k.pts,Ue),this.column_++;else if(this.isMidRowCode(ie,ke))this.clearFormatting(k.pts),this[this.mode_](k.pts," "),this.column_++,14==(14&ke)&&this.addFormatting(k.pts,["i"]),1==(1&ke)&&this.addFormatting(k.pts,["u"]);else if(this.isOffsetControlCode(ie,ke))this.column_+=3&ke;else if(this.isPAC(ie,ke)){var qe=Yd.indexOf(7968&U);"rollUp"===this.mode_&&(qe-this.rollUpRows_+1<0&&(qe=this.rollUpRows_-1),this.setRollUp(k.pts,qe)),qe!==this.row_&&(this.clearFormatting(k.pts),this.row_=qe),1&ke&&-1===this.formatting_.indexOf("u")&&this.addFormatting(k.pts,["u"]),16==(16&U)&&(this.column_=4*((14&U)>>1)),this.isColorPAC(ke)&&14==(14&ke)&&this.addFormatting(k.pts,["i"])}else this.isNormalChar(ie)&&(0===ke&&(ke=null),Ue=tm(ie),Ue+=tm(ke),this[this.mode_](k.pts,Ue),this.column_+=Ue.length)}else this.lastControlCode_=null}};Si.prototype=new o,Si.prototype.flushDisplayed=function(he){var S=this.displayed_.map(function(N,k){try{return N.trim()}catch(U){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+k+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");S.length&&this.trigger("data",{startPts:this.startPts_,endPts:he,text:S,stream:this.name_})},Si.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Vc(),this.nonDisplayed_=Vc(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Si.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Si.prototype.isSpecialCharacter=function(he,S){return he===this.EXT_&&S>=48&&S<=63},Si.prototype.isExtCharacter=function(he,S){return(he===this.EXT_+1||he===this.EXT_+2)&&S>=32&&S<=63},Si.prototype.isMidRowCode=function(he,S){return he===this.EXT_&&S>=32&&S<=47},Si.prototype.isOffsetControlCode=function(he,S){return he===this.OFFSET_&&S>=33&&S<=35},Si.prototype.isPAC=function(he,S){return he>=this.BASE_&&he<this.BASE_+8&&S>=64&&S<=127},Si.prototype.isColorPAC=function(he){return he>=64&&he<=79||he>=96&&he<=127},Si.prototype.isNormalChar=function(he){return he>=32&&he<=127},Si.prototype.setRollUp=function(he,S){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(he),this.nonDisplayed_=Vc(),this.displayed_=Vc()),void 0!==S&&S!==this.row_)for(var N=0;N<this.rollUpRows_;N++)this.displayed_[S-N]=this.displayed_[this.row_-N],this.displayed_[this.row_-N]="";void 0===S&&(S=this.row_),this.topRow_=S-this.rollUpRows_+1},Si.prototype.addFormatting=function(he,S){this.formatting_=this.formatting_.concat(S);var N=S.reduce(function(k,U){return k+"<"+U+">"},"");this[this.mode_](he,N)},Si.prototype.clearFormatting=function(he){if(this.formatting_.length){var S=this.formatting_.reverse().reduce(function(N,k){return N+"</"+k+">"},"");this.formatting_=[],this[this.mode_](he,S)}},Si.prototype.popOn=function(he,S){var N=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=N+=S},Si.prototype.rollUp=function(he,S){var N=this.displayed_[this.row_];this.displayed_[this.row_]=N+=S},Si.prototype.shiftRowsUp_=function(){var he;for(he=0;he<this.topRow_;he++)this.displayed_[he]="";for(he=this.row_+1;he<15;he++)this.displayed_[he]="";for(he=this.topRow_;he<this.row_;he++)this.displayed_[he]=this.displayed_[he+1];this.displayed_[this.row_]=""},Si.prototype.paintOn=function(he,S){var N=this.displayed_[this.row_];this.displayed_[this.row_]=N+=S};var Rp={CaptionStream:po,Cea608Stream:Si,Cea708Stream:oi},Is={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},rm=function(S,N){var k=1;for(S>N&&(k=-1);Math.abs(N-S)>4294967296;)S+=8589934592*k;return S},Vv=function he(S){var N,k;he.prototype.init.call(this),this.type_=S||"shared",this.push=function(U){"shared"!==this.type_&&U.type!==this.type_||(void 0===k&&(k=U.dts),U.dts=rm(U.dts,k),U.pts=rm(U.pts,k),N=U.dts,this.trigger("data",U))},this.flush=function(){k=N,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){k=void 0,N=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Vv.prototype=new o;var vh,jv_TimestampRolloverStream=Vv,jv_handleRollover=rm,Hv=function(S,N,k){var U,J="";for(U=N;U<k;U++)J+="%"+("00"+S[U].toString(16)).slice(-2);return J},Lp=function(S,N,k){return decodeURIComponent(Hv(S,N,k))},zv=function(S,N,k){return unescape(Hv(S,N,k))},Fp=function(S){return S[0]<<21|S[1]<<14|S[2]<<7|S[3]},im={TXXX:function(S){var N;if(3===S.data[0]){for(N=1;N<S.data.length;N++)if(0===S.data[N]){S.description=Lp(S.data,1,N),S.value=Lp(S.data,N+1,S.data.length).replace(/\0*$/,"");break}S.data=S.value}},WXXX:function(S){var N;if(3===S.data[0])for(N=1;N<S.data.length;N++)if(0===S.data[N]){S.description=Lp(S.data,1,N),S.url=Lp(S.data,N+1,S.data.length);break}},PRIV:function(S){var N;for(N=0;N<S.data.length;N++)if(0===S.data[N]){S.owner=zv(S.data,0,N);break}S.privateData=S.data.subarray(N+1),S.data=S.privateData}};(vh=function(S){var ie,N={descriptor:S&&S.descriptor},k=0,U=[],J=0;if(vh.prototype.init.call(this),this.dispatchType=Is.METADATA_STREAM_TYPE.toString(16),N.descriptor)for(ie=0;ie<N.descriptor.length;ie++)this.dispatchType+=("00"+N.descriptor[ie].toString(16)).slice(-2);this.push=function(ke){var Ue,qe,$e,Xe,Pt;if("timed-metadata"===ke.type){if(ke.dataAlignmentIndicator&&(J=0,U.length=0),0===U.length&&(ke.data.length<10||ke.data[0]!=="I".charCodeAt(0)||ke.data[1]!=="D".charCodeAt(0)||ke.data[2]!=="3".charCodeAt(0)))return void this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});if(U.push(ke),J+=ke.data.byteLength,1===U.length&&(k=Fp(ke.data.subarray(6,10)),k+=10),!(J<k)){for(Ue={data:new Uint8Array(k),frames:[],pts:U[0].pts,dts:U[0].dts},Pt=0;Pt<k;)Ue.data.set(U[0].data.subarray(0,k-Pt),Pt),Pt+=U[0].data.byteLength,J-=U[0].data.byteLength,U.shift();qe=10,64&Ue.data[5]&&(qe+=4,qe+=Fp(Ue.data.subarray(10,14)),k-=Fp(Ue.data.subarray(16,20)));do{if(($e=Fp(Ue.data.subarray(qe+4,qe+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((Xe={id:String.fromCharCode(Ue.data[qe],Ue.data[qe+1],Ue.data[qe+2],Ue.data[qe+3]),data:Ue.data.subarray(qe+10,qe+$e+10)}).key=Xe.id,im[Xe.id]&&(im[Xe.id](Xe),"com.apple.streaming.transportStreamTimestamp"===Xe.owner)){var dn=Xe.data,Bt=(1&dn[3])<<30|dn[4]<<22|dn[5]<<14|dn[6]<<6|dn[7]>>>2;Bt*=4,Xe.timeStamp=Bt+=3&dn[7],void 0===Ue.pts&&void 0===Ue.dts&&(Ue.pts=Xe.timeStamp,Ue.dts=Xe.timeStamp),this.trigger("timestamp",Xe)}Ue.frames.push(Xe),qe+=10,qe+=$e}while(qe<k);this.trigger("data",Ue)}}}}).prototype=new o;var Zd,yh,om,sm=vh,Mb=jv_TimestampRolloverStream;(Zd=function(){var S=new Uint8Array(188),N=0;Zd.prototype.init.call(this),this.push=function(k){var ie,U=0,J=188;for(N?((ie=new Uint8Array(k.byteLength+N)).set(S.subarray(0,N)),ie.set(k,N),N=0):ie=k;J<ie.byteLength;)71!==ie[U]||71!==ie[J]?(U++,J++):(this.trigger("data",ie.subarray(U,J)),U+=188,J+=188);U<ie.byteLength&&(S.set(ie.subarray(U),0),N=ie.byteLength-U)},this.flush=function(){188===N&&71===S[0]&&(this.trigger("data",S),N=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){N=0,this.trigger("reset")}}).prototype=new o,(yh=function(){var S,N,k,U;yh.prototype.init.call(this),U=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,S=function(ie,ke){var Ue=0;ke.payloadUnitStartIndicator&&(Ue+=ie[Ue]+1),"pat"===ke.type?N(ie.subarray(Ue),ke):k(ie.subarray(Ue),ke)},N=function(ie,ke){ke.section_number=ie[7],ke.last_section_number=ie[8],U.pmtPid=(31&ie[10])<<8|ie[11],ke.pmtPid=U.pmtPid},k=function(ie,ke){var qe,Xe;if(1&ie[5]){for(U.programMapTable={video:null,audio:null,"timed-metadata":{}},qe=3+((15&ie[1])<<8|ie[2])-4,Xe=12+((15&ie[10])<<8|ie[11]);Xe<qe;){var Pt=ie[Xe],Zt=(31&ie[Xe+1])<<8|ie[Xe+2];Pt===Is.H264_STREAM_TYPE&&null===U.programMapTable.video?U.programMapTable.video=Zt:Pt===Is.ADTS_STREAM_TYPE&&null===U.programMapTable.audio?U.programMapTable.audio=Zt:Pt===Is.METADATA_STREAM_TYPE&&(U.programMapTable["timed-metadata"][Zt]=Pt),Xe+=5+((15&ie[Xe+3])<<8|ie[Xe+4])}ke.programMapTable=U.programMapTable}},this.push=function(J){var ie={},ke=4;if(ie.payloadUnitStartIndicator=!!(64&J[1]),ie.pid=31&J[1],ie.pid<<=8,ie.pid|=J[2],(48&J[3])>>>4>1&&(ke+=J[ke]+1),0===ie.pid)ie.type="pat",S(J.subarray(ke),ie),this.trigger("data",ie);else if(ie.pid===this.pmtPid)for(ie.type="pmt",S(J.subarray(ke),ie),this.trigger("data",ie);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([J,ke,ie]):this.processPes_(J,ke,ie)},this.processPes_=function(J,ie,ke){ke.streamType=ke.pid===this.programMapTable.video?Is.H264_STREAM_TYPE:ke.pid===this.programMapTable.audio?Is.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][ke.pid],ke.type="pes",ke.data=J.subarray(ie),this.trigger("data",ke)}}).prototype=new o,yh.STREAM_TYPES={h264:27,adts:15},(om=function(){var ie,S=this,N=!1,k={data:[],size:0},U={data:[],size:0},J={data:[],size:0},Ue=function($e,Xe,Pt){var ds,Zt=new Uint8Array($e.size),dn={type:Xe},Bt=0,Mn=0,Ts=!1;if($e.data.length&&!($e.size<9)){for(dn.trackId=$e.data[0].pid,Bt=0;Bt<$e.data.length;Bt++)Zt.set((ds=$e.data[Bt]).data,Mn),Mn+=ds.data.byteLength;(function($e,Xe){var Pt,Zt=$e[0]<<16|$e[1]<<8|$e[2];Xe.data=new Uint8Array,1===Zt&&(Xe.packetLength=6+($e[4]<<8|$e[5]),Xe.dataAlignmentIndicator=0!=(4&$e[6]),192&(Pt=$e[7])&&(Xe.pts=(14&$e[9])<<27|(255&$e[10])<<20|(254&$e[11])<<12|(255&$e[12])<<5|(254&$e[13])>>>3,Xe.pts*=4,Xe.pts+=(6&$e[13])>>>1,Xe.dts=Xe.pts,64&Pt&&(Xe.dts=(14&$e[14])<<27|(255&$e[15])<<20|(254&$e[16])<<12|(255&$e[17])<<5|(254&$e[18])>>>3,Xe.dts*=4,Xe.dts+=(6&$e[18])>>>1)),Xe.data=$e.subarray(9+$e[8]))})(Zt,dn),Ts="video"===Xe||dn.packetLength<=$e.size,(Pt||Ts)&&($e.size=0,$e.data.length=0),Ts&&S.trigger("data",dn)}};om.prototype.init.call(this),this.push=function(qe){({pat:function(){},pes:function(){var Xe,Pt;switch(qe.streamType){case Is.H264_STREAM_TYPE:Xe=k,Pt="video";break;case Is.ADTS_STREAM_TYPE:Xe=U,Pt="audio";break;case Is.METADATA_STREAM_TYPE:Xe=J,Pt="timed-metadata";break;default:return}qe.payloadUnitStartIndicator&&Ue(Xe,Pt,!0),Xe.data.push(qe),Xe.size+=qe.data.byteLength},pmt:function(){var Xe={type:"metadata",tracks:[]};null!==(ie=qe.programMapTable).video&&Xe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ie.video,codec:"avc",type:"video"}),null!==ie.audio&&Xe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ie.audio,codec:"adts",type:"audio"}),N=!0,S.trigger("data",Xe)}})[qe.type]()},this.reset=function(){k.size=0,k.data.length=0,U.size=0,U.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Ue(k,"video"),Ue(U,"audio"),Ue(J,"timed-metadata")},this.flush=function(){if(!N&&ie){var qe={type:"metadata",tracks:[]};null!==ie.video&&qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ie.video,codec:"avc",type:"video"}),null!==ie.audio&&qe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+ie.audio,codec:"adts",type:"audio"}),S.trigger("data",qe)}N=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new o;var Bp={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Zd,TransportParseStream:yh,ElementaryStream:om,TimestampRolloverStream:Mb,CaptionStream:Rp.CaptionStream,Cea608Stream:Rp.Cea608Stream,Cea708Stream:Rp.Cea708Stream,MetadataStream:sm};for(var _h in Is)Is.hasOwnProperty(_h)&&(Bp[_h]=Is[_h]);var Xd,Eu=Bp,um=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Xd=function(S){var N,k=0;Xd.prototype.init.call(this),this.skipWarn_=function(U,J){this.trigger("log",{level:"warn",message:"adts skiping bytes "+U+" to "+J+" in frame "+k+" outside syncword"})},this.push=function(U){var ie,ke,Ue,qe,$e,J=0;if(S||(k=0),"audio"===U.type){N&&N.length?(Ue=N,(N=new Uint8Array(Ue.byteLength+U.data.byteLength)).set(Ue),N.set(U.data,Ue.byteLength)):N=U.data;for(var Xe;J+7<N.length;)if(255===N[J]&&240==(246&N[J+1])){if("number"==typeof Xe&&(this.skipWarn_(Xe,J),Xe=null),ke=2*(1&~N[J+1]),$e=9e4*(qe=1024*(1+(3&N[J+6])))/um[(60&N[J+2])>>>2],N.byteLength-J<(ie=(3&N[J+3])<<11|N[J+4]<<3|(224&N[J+5])>>5))break;this.trigger("data",{pts:U.pts+k*$e,dts:U.dts+k*$e,sampleCount:qe,audioobjecttype:1+(N[J+2]>>>6&3),channelcount:(1&N[J+2])<<2|(192&N[J+3])>>>6,samplerate:um[(60&N[J+2])>>>2],samplingfrequencyindex:(60&N[J+2])>>>2,samplesize:16,data:N.subarray(J+7+ke,J+ie)}),k++,J+=ie}else"number"!=typeof Xe&&(Xe=J),J++;"number"==typeof Xe&&(this.skipWarn_(Xe,J),Xe=null),N=N.subarray(J)}},this.flush=function(){k=0,this.trigger("done")},this.reset=function(){N=void 0,this.trigger("reset")},this.endTimeline=function(){N=void 0,this.trigger("endedtimeline")}}).prototype=new o;var Jd,bh,dm,z_=Xd,cm=function(S){var N=S.byteLength,k=0,U=0;this.length=function(){return 8*N},this.bitsAvailable=function(){return 8*N+U},this.loadWord=function(){var J=S.byteLength-N,ie=new Uint8Array(4),ke=Math.min(4,N);if(0===ke)throw new Error("no bytes available");ie.set(S.subarray(J,J+ke)),k=new DataView(ie.buffer).getUint32(0),U=8*ke,N-=ke},this.skipBits=function(J){var ie;U>J?(k<<=J,U-=J):(J-=U,J-=8*(ie=Math.floor(J/8)),N-=ie,this.loadWord(),k<<=J,U-=J)},this.readBits=function(J){var ie=Math.min(U,J),ke=k>>>32-ie;return(U-=ie)>0?k<<=ie:N>0&&this.loadWord(),(ie=J-ie)>0?ke<<ie|this.readBits(ie):ke},this.skipLeadingZeros=function(){var J;for(J=0;J<U;++J)if(0!=(k&2147483648>>>J))return k<<=J,U-=J,J;return this.loadWord(),J+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var J=this.skipLeadingZeros();return this.readBits(J+1)-1},this.readExpGolomb=function(){var J=this.readUnsignedExpGolomb();return 1&J?1+J>>>1:-1*(J>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(bh=function(){var N,k,S=0;bh.prototype.init.call(this),this.push=function(U){var J;k?((J=new Uint8Array(k.byteLength+U.data.byteLength)).set(k),J.set(U.data,k.byteLength),k=J):k=U.data;for(var ie=k.byteLength;S<ie-3;S++)if(1===k[S+2]){N=S+5;break}for(;N<ie;)switch(k[N]){case 0:if(0!==k[N-1]){N+=2;break}if(0!==k[N-2]){N++;break}S+3!==N-2&&this.trigger("data",k.subarray(S+3,N-2));do{N++}while(1!==k[N]&&N<ie);S=N-2,N+=3;break;case 1:if(0!==k[N-1]||0!==k[N-2]){N+=3;break}this.trigger("data",k.subarray(S+3,N-2)),S=N-2,N+=3;break;default:N+=3}k=k.subarray(S),N-=S,S=0},this.reset=function(){k=null,S=0,this.trigger("reset")},this.flush=function(){k&&k.byteLength>3&&this.trigger("data",k.subarray(S+3)),k=null,S=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new o,dm={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Jd=function(){var N,k,U,J,ie,ke,Ue,S=new bh;Jd.prototype.init.call(this),N=this,this.push=function(qe){"video"===qe.type&&(k=qe.trackId,U=qe.pts,J=qe.dts,S.push(qe))},S.on("data",function(qe){var $e={trackId:k,pts:U,dts:J,data:qe,nalUnitTypeCode:31&qe[0]};switch($e.nalUnitTypeCode){case 5:$e.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:$e.nalUnitType="sei_rbsp",$e.escapedRBSP=ie(qe.subarray(1));break;case 7:$e.nalUnitType="seq_parameter_set_rbsp",$e.escapedRBSP=ie(qe.subarray(1)),$e.config=ke($e.escapedRBSP);break;case 8:$e.nalUnitType="pic_parameter_set_rbsp";break;case 9:$e.nalUnitType="access_unit_delimiter_rbsp"}N.trigger("data",$e)}),S.on("done",function(){N.trigger("done")}),S.on("partialdone",function(){N.trigger("partialdone")}),S.on("reset",function(){N.trigger("reset")}),S.on("endedtimeline",function(){N.trigger("endedtimeline")}),this.flush=function(){S.flush()},this.partialFlush=function(){S.partialFlush()},this.reset=function(){S.reset()},this.endTimeline=function(){S.endTimeline()},Ue=function($e,Xe){var dn,Pt=8,Zt=8;for(dn=0;dn<$e;dn++)0!==Zt&&(Zt=(Pt+Xe.readExpGolomb()+256)%256),Pt=0===Zt?Pt:Zt},ie=function($e){for(var dn,Bt,Xe=$e.byteLength,Pt=[],Zt=1;Zt<Xe-2;)0===$e[Zt]&&0===$e[Zt+1]&&3===$e[Zt+2]?(Pt.push(Zt+2),Zt+=2):Zt++;if(0===Pt.length)return $e;dn=Xe-Pt.length,Bt=new Uint8Array(dn);var Mn=0;for(Zt=0;Zt<dn;Mn++,Zt++)Mn===Pt[0]&&(Mn++,Pt.shift()),Bt[Zt]=$e[Mn];return Bt},ke=function($e){var Bt,Mn,Ts,ds,rf,Sh,u0,Em,xm,Cy,wn,$c,Xe=0,Pt=0,Zt=0,dn=0,rs=[1,1];if(Mn=(Bt=new cm($e)).readUnsignedByte(),ds=Bt.readUnsignedByte(),Ts=Bt.readUnsignedByte(),Bt.skipUnsignedExpGolomb(),dm[Mn]&&(3===(rf=Bt.readUnsignedExpGolomb())&&Bt.skipBits(1),Bt.skipUnsignedExpGolomb(),Bt.skipUnsignedExpGolomb(),Bt.skipBits(1),Bt.readBoolean()))for(wn=3!==rf?8:12,$c=0;$c<wn;$c++)Bt.readBoolean()&&Ue($c<6?16:64,Bt);if(Bt.skipUnsignedExpGolomb(),0===(Sh=Bt.readUnsignedExpGolomb()))Bt.readUnsignedExpGolomb();else if(1===Sh)for(Bt.skipBits(1),Bt.skipExpGolomb(),Bt.skipExpGolomb(),u0=Bt.readUnsignedExpGolomb(),$c=0;$c<u0;$c++)Bt.skipExpGolomb();if(Bt.skipUnsignedExpGolomb(),Bt.skipBits(1),Em=Bt.readUnsignedExpGolomb(),xm=Bt.readUnsignedExpGolomb(),0===(Cy=Bt.readBits(1))&&Bt.skipBits(1),Bt.skipBits(1),Bt.readBoolean()&&(Xe=Bt.readUnsignedExpGolomb(),Pt=Bt.readUnsignedExpGolomb(),Zt=Bt.readUnsignedExpGolomb(),dn=Bt.readUnsignedExpGolomb()),Bt.readBoolean()&&Bt.readBoolean())switch(Bt.readUnsignedByte()){case 1:rs=[1,1];break;case 2:rs=[12,11];break;case 3:rs=[10,11];break;case 4:rs=[16,11];break;case 5:rs=[40,33];break;case 6:rs=[24,11];break;case 7:rs=[20,11];break;case 8:rs=[32,11];break;case 9:rs=[80,33];break;case 10:rs=[18,11];break;case 11:rs=[15,11];break;case 12:rs=[64,33];break;case 13:rs=[160,99];break;case 14:rs=[4,3];break;case 15:rs=[3,2];break;case 16:rs=[2,1];break;case 255:rs=[Bt.readUnsignedByte()<<8|Bt.readUnsignedByte(),Bt.readUnsignedByte()<<8|Bt.readUnsignedByte()]}return{profileIdc:Mn,levelIdc:Ts,profileCompatibility:ds,width:16*(Em+1)-2*Xe-2*Pt,height:(2-Cy)*(xm+1)*16-2*Zt-2*dn,sarRatio:rs}}}).prototype=new o;var Th,fm={H264Stream:Jd,NalByteStream:bh},Wv=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Up=function(S,N){var k=S[N+6]<<21|S[N+7]<<14|S[N+8]<<7|S[N+9];return k=k>=0?k:0,(16&S[N+5])>>4?k+20:k+10},hm=function he(S,N){return S.length-N<10||S[N]!=="I".charCodeAt(0)||S[N+1]!=="D".charCodeAt(0)||S[N+2]!=="3".charCodeAt(0)?N:he(S,N+=Up(S,N))},qv=function(S){return S[0]<<21|S[1]<<14|S[2]<<7|S[3]},Kv=function(S,N,k){return unescape(function(S,N,k){var U,J="";for(U=N;U<k;U++)J+="%"+("00"+S[U].toString(16)).slice(-2);return J}(S,N,k))},Ch={isLikelyAacData:function(S){var N=hm(S,0);return S.length>=N+2&&255==(255&S[N])&&240==(240&S[N+1])&&16==(22&S[N+1])},parseId3TagSize:Up,parseAdtsSize:function(S,N){return 6144&S[N+3]|S[N+4]<<3|(224&S[N+5])>>5},parseType:function(S,N){return S[N]==="I".charCodeAt(0)&&S[N+1]==="D".charCodeAt(0)&&S[N+2]==="3".charCodeAt(0)?"timed-metadata":!0&S[N]&&240==(240&S[N+1])?"audio":null},parseSampleRate:function(S){for(var N=0;N+5<S.length;){if(255===S[N]&&240==(246&S[N+1]))return Wv[(60&S[N+2])>>>2];N++}return null},parseAacTimestamp:function(S){var N,k,U;N=10,64&S[5]&&(N+=4,N+=qv(S.subarray(10,14)));do{if((k=qv(S.subarray(N+4,N+8)))<1)return null;if("PRIV"===String.fromCharCode(S[N],S[N+1],S[N+2],S[N+3])){U=S.subarray(N+10,N+k+10);for(var ie=0;ie<U.byteLength;ie++)if(0===U[ie]){if("com.apple.streaming.transportStreamTimestamp"===Kv(U,0,ie)){var Ue=U.subarray(ie+1),qe=(1&Ue[3])<<30|Ue[4]<<22|Ue[5]<<14|Ue[6]<<6|Ue[7]>>>2;return(qe*=4)+(3&Ue[7])}break}}N+=10,N+=k}while(N<S.byteLength);return null}};(Th=function(){var S=new Uint8Array,N=0;Th.prototype.init.call(this),this.setTimestamp=function(k){N=k},this.push=function(k){var ke,Ue,qe,U=0,J=0;for(S.length?(qe=S.length,(S=new Uint8Array(k.byteLength+qe)).set(S.subarray(0,qe)),S.set(k,qe)):S=k;S.length-J>=3;)if(S[J]!=="I".charCodeAt(0)||S[J+1]!=="D".charCodeAt(0)||S[J+2]!=="3".charCodeAt(0))if(255!=(255&S[J])||240!=(240&S[J+1]))J++;else{if(S.length-J<7||J+(U=Ch.parseAdtsSize(S,J))>S.length)break;Ue={type:"audio",data:S.subarray(J,J+U),pts:N,dts:N},this.trigger("data",Ue),J+=U}else{if(S.length-J<10||J+(U=Ch.parseId3TagSize(S,J))>S.length)break;ke={type:"timed-metadata",data:S.subarray(J,J+U)},this.trigger("data",ke),J+=U}S=S.length-J>0?S.subarray(J):new Uint8Array},this.reset=function(){S=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){S=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new o;var ef,Eh,Hp,jc,gm=Th,Vp=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],jp=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ey=fm.H264Stream,ty=Ch.isLikelyAacData,ry=function(S,N){N.stream=S,this.trigger("log",N)},iy=function(S,N){for(var k=Object.keys(N),U=0;U<k.length;U++){var J=k[U];"headOfPipeline"===J||!N[J].on||N[J].on("log",ry.bind(S,J))}},cs=function(S,N){var k;if(S.length!==N.length)return!1;for(k=0;k<S.length;k++)if(S[k]!==N[k])return!1;return!0},zp=function(S,N,k,U,J,ie){return{start:{dts:S,pts:S+(k-N)},end:{dts:S+(U-N),pts:S+(J-k)},prependedContentDuration:ie,baseMediaDecodeTime:S}};(Eh=function(S,N){var U,k=[],J=0,ie=0,ke=1/0;U=(N=N||{}).firstSequenceNumber||0,Eh.prototype.init.call(this),this.push=function(Ue){Fa_collectDtsInfo(S,Ue),S&&Vp.forEach(function(qe){S[qe]=Ue[qe]}),k.push(Ue)},this.setEarliestDts=function(Ue){J=Ue},this.setVideoBaseMediaDecodeTime=function(Ue){ke=Ue},this.setAudioAppendStart=function(Ue){ie=Ue},this.flush=function(){var Ue,qe,$e,Xe,Pt,Zt,dn;0!==k.length?(Ue=function(S,N,k){return N.minSegmentDts>=k?S:(N.minSegmentDts=1/0,S.filter(function(U){return U.dts>=k&&(N.minSegmentDts=Math.min(N.minSegmentDts,U.dts),N.minSegmentPts=N.minSegmentDts,!0)}))}(k,S,J),S.baseMediaDecodeTime=Fa_calculateTrackBaseMediaDecodeTime(S,N.keepOriginalTimestamps),dn=gh_prefixWithSilence(S,Ue,ie,ke),S.samples=function(S){var N,U=[];for(N=0;N<S.length;N++)U.push({size:S[N].data.byteLength,duration:1024});return U}(Ue),$e=ua_mdat(function(S){var N,k,U=0,J=new Uint8Array(function(S){var N,U=0;for(N=0;N<S.length;N++)U+=S[N].data.byteLength;return U}(S));for(N=0;N<S.length;N++)J.set((k=S[N]).data,U),U+=k.data.byteLength;return J}(Ue)),k=[],qe=ua_moof(U,[S]),Xe=new Uint8Array(qe.byteLength+$e.byteLength),U++,Xe.set(qe),Xe.set($e,qe.byteLength),Fa_clearDtsInfo(S),Pt=Math.ceil(9216e4/S.samplerate),Ue.length&&(Zt=Ue.length*Pt,this.trigger("segmentTimingInfo",zp(wr_audioTsToVideoTs(S.baseMediaDecodeTime,S.samplerate),Ue[0].dts,Ue[0].pts,Ue[0].dts+Zt,Ue[0].pts+Zt,dn||0)),this.trigger("timingInfo",{start:Ue[0].pts,end:Ue[0].pts+Zt})),this.trigger("data",{track:S,boxes:Xe}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Fa_clearDtsInfo(S),k=[],this.trigger("reset")}}).prototype=new o,(ef=function(S,N){var k,ie,ke,U=[],J=[];k=(N=N||{}).firstSequenceNumber||0,ef.prototype.init.call(this),delete S.minPTS,this.gopCache_=[],this.push=function(Ue){Fa_collectDtsInfo(S,Ue),"seq_parameter_set_rbsp"===Ue.nalUnitType&&!ie&&(ie=Ue.config,S.sps=[Ue.data],jp.forEach(function(qe){S[qe]=ie[qe]},this)),"pic_parameter_set_rbsp"===Ue.nalUnitType&&!ke&&(ke=Ue.data,S.pps=[Ue.data]),U.push(Ue)},this.flush=function(){for(var qe,$e,Xe,Pt,Zt,Bt,Mn,dn=0;U.length&&"access_unit_delimiter_rbsp"!==U[0].nalUnitType;)U.shift();if(0===U.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(($e=function(S){var N,k,U=[],J=[];for(U.byteLength=0,U.nalCount=0,U.duration=0,U.pts=S[0].pts,U.dts=S[0].dts,J.byteLength=0,J.nalCount=0,J.duration=0,J.pts=S[0].pts,J.dts=S[0].dts,N=0;N<S.length;N++)(k=S[N]).keyFrame?(U.length&&(J.push(U),J.byteLength+=U.byteLength,J.nalCount+=U.nalCount,J.duration+=U.duration),(U=[k]).nalCount=k.length,U.byteLength=k.byteLength,U.pts=k.pts,U.dts=k.dts,U.duration=k.duration):(U.duration+=k.duration,U.nalCount+=k.length,U.byteLength+=k.byteLength,U.push(k));return J.length&&U.duration<=0&&(U.duration=J[J.length-1].duration),J.byteLength+=U.byteLength,J.nalCount+=U.nalCount,J.duration+=U.duration,J.push(U),J}(function(S){var N,k,U=[],J=[];for(J.byteLength=0,J.nalCount=0,J.duration=0,U.byteLength=0,N=0;N<S.length;N++)"access_unit_delimiter_rbsp"===(k=S[N]).nalUnitType?(U.length&&(U.duration=k.dts-U.dts,J.byteLength+=U.byteLength,J.nalCount+=U.length,J.duration+=U.duration,J.push(U)),(U=[k]).byteLength=k.data.byteLength,U.pts=k.pts,U.dts=k.dts):("slice_layer_without_partitioning_rbsp_idr"===k.nalUnitType&&(U.keyFrame=!0),U.duration=k.dts-U.dts,U.byteLength+=k.data.byteLength,U.push(k));return J.length&&(!U.duration||U.duration<=0)&&(U.duration=J[J.length-1].duration),J.byteLength+=U.byteLength,J.nalCount+=U.length,J.duration+=U.duration,J.push(U),J}(U)))[0][0].keyFrame||((qe=this.getGopForFusion_(U[0],S))?(dn=qe.duration,$e.unshift(qe),$e.byteLength+=qe.byteLength,$e.nalCount+=qe.nalCount,$e.pts=qe.pts,$e.dts=qe.dts,$e.duration+=qe.duration):$e=function(S){var N;return!S[0][0].keyFrame&&S.length>1&&(N=S.shift(),S.byteLength-=N.byteLength,S.nalCount-=N.nalCount,S[0][0].dts=N.dts,S[0][0].pts=N.pts,S[0][0].duration+=N.duration),S}($e)),J.length){var Ts;if(!(Ts=N.alignGopsAtEnd?this.alignGopsAtEnd_($e):this.alignGopsAtStart_($e)))return this.gopCache_.unshift({gop:$e.pop(),pps:S.pps,sps:S.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),U=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Fa_clearDtsInfo(S),$e=Ts}Fa_collectDtsInfo(S,$e),S.samples=function(S,N){var k,U,J,ie,Ue=N||0,qe=[];for(k=0;k<S.length;k++)for(ie=S[k],U=0;U<ie.length;U++)Ue+=(J=Uc(ie[U],Ue)).size,qe.push(J);return qe}($e),Pt=ua_mdat(function(S){var N,k,U,J,ie,ke,Ue=0,Pt=new Uint8Array(S.byteLength+4*S.nalCount),Zt=new DataView(Pt.buffer);for(N=0;N<S.length;N++)for(J=S[N],k=0;k<J.length;k++)for(ie=J[k],U=0;U<ie.length;U++)Zt.setUint32(Ue,(ke=ie[U]).data.byteLength),Pt.set(ke.data,Ue+=4),Ue+=ke.data.byteLength;return Pt}($e)),S.baseMediaDecodeTime=Fa_calculateTrackBaseMediaDecodeTime(S,N.keepOriginalTimestamps),this.trigger("processedGopsInfo",$e.map(function(ds){return{pts:ds.pts,dts:ds.dts,byteLength:ds.byteLength}})),this.trigger("segmentTimingInfo",zp(S.baseMediaDecodeTime,(Bt=$e[0]).dts,Bt.pts,(Mn=$e[$e.length-1]).dts+Mn.duration,Mn.pts+Mn.duration,dn)),this.trigger("timingInfo",{start:$e[0].pts,end:$e[$e.length-1].pts+$e[$e.length-1].duration}),this.gopCache_.unshift({gop:$e.pop(),pps:S.pps,sps:S.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),U=[],this.trigger("baseMediaDecodeTime",S.baseMediaDecodeTime),this.trigger("timelineStartInfo",S.timelineStartInfo),Xe=ua_moof(k,[S]),Zt=new Uint8Array(Xe.byteLength+Pt.byteLength),k++,Zt.set(Xe),Zt.set(Pt,Xe.byteLength),this.trigger("data",{track:S,boxes:Zt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),U=[],this.gopCache_.length=0,J.length=0,this.trigger("reset")},this.resetStream_=function(){Fa_clearDtsInfo(S),ie=void 0,ke=void 0},this.getGopForFusion_=function(Ue){var Pt,Zt,dn,Bt,Mn,Xe=1/0;for(Mn=0;Mn<this.gopCache_.length;Mn++)dn=(Bt=this.gopCache_[Mn]).gop,S.pps&&cs(S.pps[0],Bt.pps[0])&&S.sps&&cs(S.sps[0],Bt.sps[0])&&(dn.dts<S.timelineStartInfo.dts||(Pt=Ue.dts-dn.dts-dn.duration)>=-1e4&&Pt<=45e3&&(!Zt||Xe>Pt)&&(Zt=Bt,Xe=Pt));return Zt?Zt.gop:null},this.alignGopsAtStart_=function(Ue){var qe,$e,Xe,Pt,Zt,dn,Bt,Mn;for(Zt=Ue.byteLength,dn=Ue.nalCount,Bt=Ue.duration,qe=$e=0;qe<J.length&&$e<Ue.length&&(Xe=J[qe]).pts!==(Pt=Ue[$e]).pts;)Pt.pts>Xe.pts?qe++:($e++,Zt-=Pt.byteLength,dn-=Pt.nalCount,Bt-=Pt.duration);return 0===$e?Ue:$e===Ue.length?null:((Mn=Ue.slice($e)).byteLength=Zt,Mn.duration=Bt,Mn.nalCount=dn,Mn.pts=Mn[0].pts,Mn.dts=Mn[0].dts,Mn)},this.alignGopsAtEnd_=function(Ue){var qe,$e,Xe,Pt,Zt,dn,Bt;for(qe=J.length-1,$e=Ue.length-1,Zt=null,dn=!1;qe>=0&&$e>=0;){if((Xe=J[qe]).pts===(Pt=Ue[$e]).pts){dn=!0;break}Xe.pts>Pt.pts?qe--:(qe===J.length-1&&(Zt=$e),$e--)}if(!dn&&null===Zt)return null;if(0===(Bt=dn?$e:Zt))return Ue;var Mn=Ue.slice(Bt),Ts=Mn.reduce(function(ds,rf){return ds.byteLength+=rf.byteLength,ds.duration+=rf.duration,ds.nalCount+=rf.nalCount,ds},{byteLength:0,duration:0,nalCount:0});return Mn.byteLength=Ts.byteLength,Mn.duration=Ts.duration,Mn.nalCount=Ts.nalCount,Mn.pts=Mn[0].pts,Mn.dts=Mn[0].dts,Mn},this.alignGopsWith=function(Ue){J=Ue}}).prototype=new o,(jc=function(S,N){this.numberOfTracks=0,this.metadataStream=N,this.remuxTracks=void 0===(S=S||{}).remux||!!S.remux,this.keepOriginalTimestamps="boolean"==typeof S.keepOriginalTimestamps&&S.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,jc.prototype.init.call(this),this.push=function(k){return k.text?this.pendingCaptions.push(k):k.frames?this.pendingMetadata.push(k):(this.pendingTracks.push(k.track),this.pendingBytes+=k.boxes.byteLength,"video"===k.track.type&&(this.videoTrack=k.track,this.pendingBoxes.push(k.boxes)),void("audio"===k.track.type&&(this.audioTrack=k.track,this.pendingBoxes.unshift(k.boxes))))}}).prototype=new o,jc.prototype.flush=function(he){var k,U,J,ke,S=0,N={captions:[],captionStreams:{},metadata:[],info:{}},ie=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==he&&"AudioSegmentStream"!==he)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(ie=this.videoTrack.timelineStartInfo.pts,jp.forEach(function(Ue){N.info[Ue]=this.videoTrack[Ue]},this)):this.audioTrack&&(ie=this.audioTrack.timelineStartInfo.pts,Vp.forEach(function(Ue){N.info[Ue]=this.audioTrack[Ue]},this)),this.videoTrack||this.audioTrack){for(N.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,J=function(S){var U,N=c(),k=Z(S);return(U=new Uint8Array(N.byteLength+k.byteLength)).set(N),U.set(k,N.byteLength),U}(this.pendingTracks),N.initSegment=new Uint8Array(J.byteLength),N.initSegment.set(J),N.data=new Uint8Array(this.pendingBytes),ke=0;ke<this.pendingBoxes.length;ke++)N.data.set(this.pendingBoxes[ke],S),S+=this.pendingBoxes[ke].byteLength;for(ke=0;ke<this.pendingCaptions.length;ke++)(k=this.pendingCaptions[ke]).startTime=wr_metadataTsToSeconds(k.startPts,ie,this.keepOriginalTimestamps),k.endTime=wr_metadataTsToSeconds(k.endPts,ie,this.keepOriginalTimestamps),N.captionStreams[k.stream]=!0,N.captions.push(k);for(ke=0;ke<this.pendingMetadata.length;ke++)(U=this.pendingMetadata[ke]).cueTime=wr_metadataTsToSeconds(U.pts,ie,this.keepOriginalTimestamps),N.metadata.push(U);for(N.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",N),ke=0;ke<N.captions.length;ke++)this.trigger("caption",k=N.captions[ke]);for(ke=0;ke<N.metadata.length;ke++)this.trigger("id3Frame",U=N.metadata[ke])}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},jc.prototype.setRemux=function(he){this.remuxTracks=he},(Hp=function(S){var U,J,N=this,k=!0;Hp.prototype.init.call(this),this.baseMediaDecodeTime=(S=S||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var ie={};this.transmuxPipeline_=ie,ie.type="aac",ie.metadataStream=new Eu.MetadataStream,ie.aacStream=new gm,ie.audioTimestampRolloverStream=new Eu.TimestampRolloverStream("audio"),ie.timedMetadataTimestampRolloverStream=new Eu.TimestampRolloverStream("timed-metadata"),ie.adtsStream=new z_,ie.coalesceStream=new jc(S,ie.metadataStream),ie.headOfPipeline=ie.aacStream,ie.aacStream.pipe(ie.audioTimestampRolloverStream).pipe(ie.adtsStream),ie.aacStream.pipe(ie.timedMetadataTimestampRolloverStream).pipe(ie.metadataStream).pipe(ie.coalesceStream),ie.metadataStream.on("timestamp",function(ke){ie.aacStream.setTimestamp(ke.timeStamp)}),ie.aacStream.on("data",function(ke){"timed-metadata"!==ke.type&&"audio"!==ke.type||ie.audioSegmentStream||(J=J||{timelineStartInfo:{baseMediaDecodeTime:N.baseMediaDecodeTime},codec:"adts",type:"audio"},ie.coalesceStream.numberOfTracks++,ie.audioSegmentStream=new Eh(J,S),ie.audioSegmentStream.on("log",N.getLogTrigger_("audioSegmentStream")),ie.audioSegmentStream.on("timingInfo",N.trigger.bind(N,"audioTimingInfo")),ie.adtsStream.pipe(ie.audioSegmentStream).pipe(ie.coalesceStream),N.trigger("trackinfo",{hasAudio:!!J,hasVideo:!!U}))}),ie.coalesceStream.on("data",this.trigger.bind(this,"data")),ie.coalesceStream.on("done",this.trigger.bind(this,"done")),iy(this,ie)},this.setupTsPipeline=function(){var ie={};this.transmuxPipeline_=ie,ie.type="ts",ie.metadataStream=new Eu.MetadataStream,ie.packetStream=new Eu.TransportPacketStream,ie.parseStream=new Eu.TransportParseStream,ie.elementaryStream=new Eu.ElementaryStream,ie.timestampRolloverStream=new Eu.TimestampRolloverStream,ie.adtsStream=new z_,ie.h264Stream=new ey,ie.captionStream=new Eu.CaptionStream(S),ie.coalesceStream=new jc(S,ie.metadataStream),ie.headOfPipeline=ie.packetStream,ie.packetStream.pipe(ie.parseStream).pipe(ie.elementaryStream).pipe(ie.timestampRolloverStream),ie.timestampRolloverStream.pipe(ie.h264Stream),ie.timestampRolloverStream.pipe(ie.adtsStream),ie.timestampRolloverStream.pipe(ie.metadataStream).pipe(ie.coalesceStream),ie.h264Stream.pipe(ie.captionStream).pipe(ie.coalesceStream),ie.elementaryStream.on("data",function(ke){var Ue;if("metadata"===ke.type){for(Ue=ke.tracks.length;Ue--;)U||"video"!==ke.tracks[Ue].type?!J&&"audio"===ke.tracks[Ue].type&&((J=ke.tracks[Ue]).timelineStartInfo.baseMediaDecodeTime=N.baseMediaDecodeTime):(U=ke.tracks[Ue]).timelineStartInfo.baseMediaDecodeTime=N.baseMediaDecodeTime;U&&!ie.videoSegmentStream&&(ie.coalesceStream.numberOfTracks++,ie.videoSegmentStream=new ef(U,S),ie.videoSegmentStream.on("log",N.getLogTrigger_("videoSegmentStream")),ie.videoSegmentStream.on("timelineStartInfo",function(qe){J&&!S.keepOriginalTimestamps&&(J.timelineStartInfo=qe,ie.audioSegmentStream.setEarliestDts(qe.dts-N.baseMediaDecodeTime))}),ie.videoSegmentStream.on("processedGopsInfo",N.trigger.bind(N,"gopInfo")),ie.videoSegmentStream.on("segmentTimingInfo",N.trigger.bind(N,"videoSegmentTimingInfo")),ie.videoSegmentStream.on("baseMediaDecodeTime",function(qe){J&&ie.audioSegmentStream.setVideoBaseMediaDecodeTime(qe)}),ie.videoSegmentStream.on("timingInfo",N.trigger.bind(N,"videoTimingInfo")),ie.h264Stream.pipe(ie.videoSegmentStream).pipe(ie.coalesceStream)),J&&!ie.audioSegmentStream&&(ie.coalesceStream.numberOfTracks++,ie.audioSegmentStream=new Eh(J,S),ie.audioSegmentStream.on("log",N.getLogTrigger_("audioSegmentStream")),ie.audioSegmentStream.on("timingInfo",N.trigger.bind(N,"audioTimingInfo")),ie.audioSegmentStream.on("segmentTimingInfo",N.trigger.bind(N,"audioSegmentTimingInfo")),ie.adtsStream.pipe(ie.audioSegmentStream).pipe(ie.coalesceStream)),N.trigger("trackinfo",{hasAudio:!!J,hasVideo:!!U})}}),ie.coalesceStream.on("data",this.trigger.bind(this,"data")),ie.coalesceStream.on("id3Frame",function(ke){ke.dispatchType=ie.metadataStream.dispatchType,N.trigger("id3Frame",ke)}),ie.coalesceStream.on("caption",this.trigger.bind(this,"caption")),ie.coalesceStream.on("done",this.trigger.bind(this,"done")),iy(this,ie)},this.setBaseMediaDecodeTime=function(ie){var ke=this.transmuxPipeline_;S.keepOriginalTimestamps||(this.baseMediaDecodeTime=ie),J&&(J.timelineStartInfo.dts=void 0,J.timelineStartInfo.pts=void 0,Fa_clearDtsInfo(J),ke.audioTimestampRolloverStream&&ke.audioTimestampRolloverStream.discontinuity()),U&&(ke.videoSegmentStream&&(ke.videoSegmentStream.gopCache_=[]),U.timelineStartInfo.dts=void 0,U.timelineStartInfo.pts=void 0,Fa_clearDtsInfo(U),ke.captionStream.reset()),ke.timestampRolloverStream&&ke.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(ie){J&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(ie)},this.setRemux=function(ie){var ke=this.transmuxPipeline_;S.remux=ie,ke&&ke.coalesceStream&&ke.coalesceStream.setRemux(ie)},this.alignGopsWith=function(ie){U&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(ie)},this.getLogTrigger_=function(ie){var ke=this;return function(Ue){Ue.stream=ie,ke.trigger("log",Ue)}},this.push=function(ie){if(k){var ke=ty(ie);ke&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():!ke&&"ts"!==this.transmuxPipeline_.type&&this.setupTsPipeline(),k=!1}this.transmuxPipeline_.headOfPipeline.push(ie)},this.flush=function(){k=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new o;var nf,W_={Transmuxer:Hp,VideoSegmentStream:ef,AudioSegmentStream:Eh,AUDIO_PROPERTIES:Vp,VIDEO_PROPERTIES:jp,generateSegmentTimingInfo:zp},$p_toUnsigned=function(S){return S>>>0},tc=function(S){var N="";return N+=String.fromCharCode(S[0]),N+=String.fromCharCode(S[1]),(N+=String.fromCharCode(S[2]))+String.fromCharCode(S[3])},tf=$p_toUnsigned,hi=function he(S,N){var U,J,ie,ke,Ue,k=[];if(!N.length)return null;for(U=0;U<S.byteLength;)J=tf(S[U]<<24|S[U+1]<<16|S[U+2]<<8|S[U+3]),ie=tc(S.subarray(U+4,U+8)),ke=J>1?U+J:S.byteLength,ie===N[0]&&(1===N.length?k.push(S.subarray(U+8,ke)):(Ue=he(S.subarray(U+8,ke),N.slice(1))).length&&(k=k.concat(Ue))),U=ke;return k},mm=$p_toUnsigned,Wp=function(S){return{isLeading:(12&S[0])>>>2,dependsOn:3&S[0],isDependedOn:(192&S[1])>>>6,hasRedundancy:(48&S[1])>>>4,paddingValue:(14&S[1])>>>1,isNonSyncSample:1&S[1],degradationPriority:S[2]<<8|S[3]}},Bl=function(S){for(var J,ie,N=S.byteLength,k=[],U=1;U<N-2;)0===S[U]&&0===S[U+1]&&3===S[U+2]?(k.push(U+2),U+=2):U++;if(0===k.length)return S;J=N-k.length,ie=new Uint8Array(J);var ke=0;for(U=0;U<J;ke++,U++)ke===k[0]&&(ke++,k.shift()),ie[U]=S[ke];return ie},al=Rp.CaptionStream,ll=function(S,N){for(var k=S,U=0;U<N.length;U++){var J=N[U];if(k<J.size)return J;k-=J.size}return null},Y_=function(S,N){var k=hi(S,["moof","traf"]),U=hi(S,["mdat"]),J={},ie=[];return U.forEach(function(ke,Ue){ie.push({mdat:ke,traf:k[Ue]})}),ie.forEach(function(ke){var Mn,Ts,Ue=ke.mdat,qe=ke.traf,Xe=function(S){var Xe,N=new DataView(S.buffer,S.byteOffset,S.byteLength),k={version:S[0],flags:new Uint8Array(S.subarray(1,4)),trackId:N.getUint32(4)},U=1&k.flags[2],J=2&k.flags[2],ie=8&k.flags[2],ke=16&k.flags[2],Ue=32&k.flags[2],qe=65536&k.flags[0],$e=131072&k.flags[0];return Xe=8,U&&(Xe+=4,k.baseDataOffset=N.getUint32(12),Xe+=4),J&&(k.sampleDescriptionIndex=N.getUint32(Xe),Xe+=4),ie&&(k.defaultSampleDuration=N.getUint32(Xe),Xe+=4),ke&&(k.defaultSampleSize=N.getUint32(Xe),Xe+=4),Ue&&(k.defaultSampleFlags=N.getUint32(Xe)),qe&&(k.durationIsEmpty=!0),!U&&$e&&(k.baseDataOffsetIsMoof=!0),k}(hi(qe,["tfhd"])[0]),Pt=Xe.trackId,Zt=hi(qe,["tfdt"]),dn=Zt.length>0?function(S){var N={version:S[0],flags:new Uint8Array(S.subarray(1,4)),baseMediaDecodeTime:mm(S[4]<<24|S[5]<<16|S[6]<<8|S[7])};return 1===N.version&&(N.baseMediaDecodeTime*=Math.pow(2,32),N.baseMediaDecodeTime+=mm(S[8]<<24|S[9]<<16|S[10]<<8|S[11])),N}(Zt[0]).baseMediaDecodeTime:0,Bt=hi(qe,["trun"]);N===Pt&&Bt.length>0&&(Mn=function(S,N,k){var U=N,J=k.defaultSampleDuration||0,ie=k.defaultSampleSize||0,ke=k.trackId,Ue=[];return S.forEach(function(qe){var Xe=function(S){var Pt,N={version:S[0],flags:new Uint8Array(S.subarray(1,4)),samples:[]},k=new DataView(S.buffer,S.byteOffset,S.byteLength),U=1&N.flags[2],J=4&N.flags[2],ie=1&N.flags[1],ke=2&N.flags[1],Ue=4&N.flags[1],qe=8&N.flags[1],$e=k.getUint32(4),Xe=8;for(U&&(N.dataOffset=k.getInt32(Xe),Xe+=4),J&&$e&&(Pt={flags:Wp(S.subarray(Xe,Xe+4))},Xe+=4,ie&&(Pt.duration=k.getUint32(Xe),Xe+=4),ke&&(Pt.size=k.getUint32(Xe),Xe+=4),qe&&(Pt.compositionTimeOffset=1===N.version?k.getInt32(Xe):k.getUint32(Xe),Xe+=4),N.samples.push(Pt),$e--);$e--;)Pt={},ie&&(Pt.duration=k.getUint32(Xe),Xe+=4),ke&&(Pt.size=k.getUint32(Xe),Xe+=4),Ue&&(Pt.flags=Wp(S.subarray(Xe,Xe+4)),Xe+=4),qe&&(Pt.compositionTimeOffset=1===N.version?k.getInt32(Xe):k.getUint32(Xe),Xe+=4),N.samples.push(Pt);return N}(qe).samples;Xe.forEach(function(Pt){void 0===Pt.duration&&(Pt.duration=J),void 0===Pt.size&&(Pt.size=ie),Pt.trackId=ke,Pt.dts=U,void 0===Pt.compositionTimeOffset&&(Pt.compositionTimeOffset=0),Pt.pts=U+Pt.compositionTimeOffset,U+=Pt.duration}),Ue=Ue.concat(Xe)}),Ue}(Bt,dn,Xe),Ts=function(S,N,k){var ie,ke,Ue,qe,U=new DataView(S.buffer,S.byteOffset,S.byteLength),J={logs:[],seiNals:[]};for(ke=0;ke+4<S.length;ke+=Ue)if(Ue=U.getUint32(ke),ke+=4,!(Ue<=0))switch(31&S[ke]){case 6:var $e=S.subarray(ke+1,ke+1+Ue),Xe=ll(ke,N);if(ie={nalUnitType:"sei_rbsp",size:Ue,data:$e,escapedRBSP:Bl($e),trackId:k},Xe)ie.pts=Xe.pts,ie.dts=Xe.dts,qe=Xe;else{if(!qe){J.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+ke+" for trackId "+k+". See mux.js#223."});break}ie.pts=qe.pts,ie.dts=qe.dts}J.seiNals.push(ie)}return J}(Ue,Mn,Pt),J[Pt]||(J[Pt]={seiNals:[],logs:[]}),J[Pt].seiNals=J[Pt].seiNals.concat(Ts.seiNals),J[Pt].logs=J[Pt].logs.concat(Ts.logs))}),J},J_=function(){var N,k,U,J,ie,ke,S=!1;this.isInitialized=function(){return S},this.init=function(Ue){N=new al,S=!0,ke=!!Ue&&Ue.isPartial,N.on("data",function(qe){qe.startTime=qe.startPts/J,qe.endTime=qe.endPts/J,ie.captions.push(qe),ie.captionStreams[qe.stream]=!0}),N.on("log",function(qe){ie.logs.push(qe)})},this.isNewInit=function(Ue,qe){return!(Ue&&0===Ue.length||qe&&"object"==typeof qe&&0===Object.keys(qe).length||U===Ue[0]&&J===qe[U])},this.parse=function(Ue,qe,$e){var Xe;if(!this.isInitialized())return null;if(!qe||!$e)return null;if(this.isNewInit(qe,$e))J=$e[U=qe[0]];else if(null===U||!J)return k.push(Ue),null;for(;k.length>0;){var Pt=k.shift();this.parse(Pt,qe,$e)}return(Xe=function(S,N,k){if(null===N)return null;var J=Y_(S,N)[N]||{};return{seiNals:J.seiNals,logs:J.logs,timescale:k}}(Ue,U,J))&&Xe.logs&&(ie.logs=ie.logs.concat(Xe.logs)),null!==Xe&&Xe.seiNals?(this.pushNals(Xe.seiNals),this.flushStream(),ie):ie.logs.length?{logs:ie.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(Ue){if(!this.isInitialized()||!Ue||0===Ue.length)return null;Ue.forEach(function(qe){N.push(qe)})},this.flushStream=function(){if(!this.isInitialized())return null;ke?N.partialFlush():N.flush()},this.clearParsedCaptions=function(){ie.captions=[],ie.captionStreams={},ie.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;N.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){k=[],U=null,J=null,ie?this.clearParsedCaptions():ie={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},nc=$p_toUnsigned,xu=function(S){return("00"+S.toString(16)).slice(-2)},fy_startTime=function(S,N){var k,U,J;return k=hi(N,["moof","traf"]),U=[].concat.apply([],k.map(function(ie){return hi(ie,["tfhd"]).map(function(ke){var Ue,qe,$e;return Ue=nc(ke[4]<<24|ke[5]<<16|ke[6]<<8|ke[7]),qe=S[Ue]||9e4,($e="number"!=typeof($e=hi(ie,["tfdt"]).map(function(Xe){var Pt,Zt;return Pt=Xe[0],Zt=nc(Xe[4]<<24|Xe[5]<<16|Xe[6]<<8|Xe[7]),1===Pt&&(Zt*=Math.pow(2,32),Zt+=nc(Xe[8]<<24|Xe[9]<<16|Xe[10]<<8|Xe[11])),Zt})[0])||isNaN($e)?1/0:$e)/qe})})),J=Math.min.apply(null,U),isFinite(J)?J:0},fy_tracks=function(S){var N=hi(S,["moov","trak"]),k=[];return N.forEach(function(U){var ke,Ue,J={},ie=hi(U,["tkhd"])[0];ie&&(Ue=(ke=new DataView(ie.buffer,ie.byteOffset,ie.byteLength)).getUint8(0),J.id=ke.getUint32(0===Ue?12:20));var qe=hi(U,["mdia","hdlr"])[0];if(qe){var $e=tc(qe.subarray(8,12));J.type="vide"===$e?"video":"soun"===$e?"audio":$e}var Xe=hi(U,["mdia","minf","stbl","stsd"])[0];if(Xe){var Pt=Xe.subarray(8);J.codec=tc(Pt.subarray(4,8));var dn,Zt=hi(Pt,[J.codec])[0];Zt&&(/^[asm]vc[1-9]$/i.test(J.codec)?(dn=Zt.subarray(78),"avcC"===tc(dn.subarray(4,8))&&dn.length>11?(J.codec+=".",J.codec+=xu(dn[9]),J.codec+=xu(dn[10]),J.codec+=xu(dn[11])):J.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(J.codec)?(dn=Zt.subarray(28),"esds"===tc(dn.subarray(4,8))&&dn.length>20&&0!==dn[19]?(J.codec+="."+xu(dn[19]),J.codec+="."+xu(dn[20]>>>2&63).replace(/^0/,"")):J.codec="mp4a.40.2"):J.codec=J.codec.toLowerCase())}var Mn=hi(U,["mdia","mdhd"])[0];Mn&&(J.timescale=nf(Mn)),k.push(J)}),k},Tm=(nf=function(S){var k=0===S[0]?12:20;return nc(S[k]<<24|S[k+1]<<16|S[k+2]<<8|S[k+3])},function(S){var N=31&S[1];return(N<<=8)|S[2]}),xh=function(S){return!!(64&S[1])},wh=function(S){var N=0;return(48&S[3])>>>4>1&&(N+=S[4]+1),N},qp=function(S){switch(S){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Hc=jv_handleRollover,Nr={};Nr.ts={parseType:function(S,N){var k=Tm(S);return 0===k?"pat":k===N?"pmt":N?"pes":null},parsePat:function(S){var N=xh(S),k=4+wh(S);return N&&(k+=S[k]+1),(31&S[k+10])<<8|S[k+11]},parsePmt:function(S){var N={},k=xh(S),U=4+wh(S);if(k&&(U+=S[U]+1),1&S[U+5]){var ie;ie=3+((15&S[U+1])<<8|S[U+2])-4;for(var Ue=12+((15&S[U+10])<<8|S[U+11]);Ue<ie;){var qe=U+Ue;N[(31&S[qe+1])<<8|S[qe+2]]=S[qe],Ue+=5+((15&S[qe+3])<<8|S[qe+4])}return N}},parsePayloadUnitStartIndicator:xh,parsePesType:function(S,N){switch(N[Tm(S)]){case Is.H264_STREAM_TYPE:return"video";case Is.ADTS_STREAM_TYPE:return"audio";case Is.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(S){if(!xh(S))return null;var k=4+wh(S);if(k>=S.byteLength)return null;var J,U=null;return 192&(J=S[k+7])&&((U={}).pts=(14&S[k+9])<<27|(255&S[k+10])<<20|(254&S[k+11])<<12|(255&S[k+12])<<5|(254&S[k+13])>>>3,U.pts*=4,U.pts+=(6&S[k+13])>>>1,U.dts=U.pts,64&J&&(U.dts=(14&S[k+14])<<27|(255&S[k+15])<<20|(254&S[k+16])<<12|(255&S[k+17])<<5|(254&S[k+18])>>>3,U.dts*=4,U.dts+=(6&S[k+18])>>>1)),U},videoPacketContainsKeyFrame:function(S){for(var N=4+wh(S),k=S.subarray(N),U=0,J=0,ie=!1;J<k.byteLength-3;J++)if(1===k[J+2]){U=J+5;break}for(;U<k.byteLength;)switch(k[U]){case 0:if(0!==k[U-1]){U+=2;break}if(0!==k[U-2]){U++;break}J+3!==U-2&&"slice_layer_without_partitioning_rbsp_idr"===qp(31&k[J+3])&&(ie=!0);do{U++}while(1!==k[U]&&U<k.length);J=U-2,U+=3;break;case 1:if(0!==k[U-1]||0!==k[U-2]){U+=3;break}"slice_layer_without_partitioning_rbsp_idr"===qp(31&k[J+3])&&(ie=!0),J=U-2,U+=3;break;default:U+=3}return k=k.subarray(J),U-=J,J=0,k&&k.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===qp(31&k[J+3])&&(ie=!0),ie}},Nr.aac=Ch;var zc=9e4,go=188,_y=function(S,N,k){for(var ie,Ue,qe,$e,U=0,J=go,Xe=!1;J<=S.byteLength;)if(71!==S[U]||71!==S[J]&&J!==S.byteLength)U++,J++;else{switch(ie=S.subarray(U,J),Nr.ts.parseType(ie,N.pid)){case"pes":Ue=Nr.ts.parsePesType(ie,N.table),qe=Nr.ts.parsePayloadUnitStartIndicator(ie),"audio"===Ue&&qe&&($e=Nr.ts.parsePesTime(ie))&&($e.type="audio",k.audio.push($e),Xe=!0)}if(Xe)break;U+=go,J+=go}for(U=(J=S.byteLength)-go,Xe=!1;U>=0;)if(71!==S[U]||71!==S[J]&&J!==S.byteLength)U--,J--;else{switch(ie=S.subarray(U,J),Nr.ts.parseType(ie,N.pid)){case"pes":Ue=Nr.ts.parsePesType(ie,N.table),qe=Nr.ts.parsePayloadUnitStartIndicator(ie),"audio"===Ue&&qe&&($e=Nr.ts.parsePesTime(ie))&&($e.type="audio",k.audio.push($e),Xe=!0)}if(Xe)break;U-=go,J-=go}},t0=function(S,N,k){for(var ie,Ue,qe,$e,Xe,Pt,Zt,U=0,J=go,dn=!1,Bt={data:[],size:0};J<S.byteLength;)if(71!==S[U]||71!==S[J])U++,J++;else{switch(ie=S.subarray(U,J),Nr.ts.parseType(ie,N.pid)){case"pes":if(Ue=Nr.ts.parsePesType(ie,N.table),qe=Nr.ts.parsePayloadUnitStartIndicator(ie),"video"===Ue&&(qe&&!dn&&($e=Nr.ts.parsePesTime(ie))&&($e.type="video",k.video.push($e),dn=!0),!k.firstKeyFrame)){if(qe&&0!==Bt.size){for(Xe=new Uint8Array(Bt.size),Pt=0;Bt.data.length;)Zt=Bt.data.shift(),Xe.set(Zt,Pt),Pt+=Zt.byteLength;if(Nr.ts.videoPacketContainsKeyFrame(Xe)){var Mn=Nr.ts.parsePesTime(Xe);Mn?(k.firstKeyFrame=Mn,k.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Bt.size=0}Bt.data.push(ie),Bt.size+=ie.byteLength}}if(dn&&k.firstKeyFrame)break;U+=go,J+=go}for(U=(J=S.byteLength)-go,dn=!1;U>=0;)if(71!==S[U]||71!==S[J])U--,J--;else{switch(ie=S.subarray(U,J),Nr.ts.parseType(ie,N.pid)){case"pes":Ue=Nr.ts.parsePesType(ie,N.table),qe=Nr.ts.parsePayloadUnitStartIndicator(ie),"video"===Ue&&qe&&($e=Nr.ts.parsePesTime(ie))&&($e.type="video",k.video.push($e),dn=!0)}if(dn)break;U-=go,J-=go}},a0_inspect=function(S,N){var U;return(U=Nr.aac.isLikelyAacData(S)?function(S){for(var Ue,N=!1,k=0,U=null,J=null,ie=0,ke=0;S.length-ke>=3;){switch(Nr.aac.parseType(S,ke)){case"timed-metadata":if(S.length-ke<10){N=!0;break}if((ie=Nr.aac.parseId3TagSize(S,ke))>S.length){N=!0;break}null===J&&(Ue=S.subarray(ke,ke+ie),J=Nr.aac.parseAacTimestamp(Ue)),ke+=ie;break;case"audio":if(S.length-ke<7){N=!0;break}if((ie=Nr.aac.parseAdtsSize(S,ke))>S.length){N=!0;break}null===U&&(Ue=S.subarray(ke,ke+ie),U=Nr.aac.parseSampleRate(Ue)),k++,ke+=ie;break;default:ke++}if(N)return null}if(null===U||null===J)return null;var $e=zc/U;return{audio:[{type:"audio",dts:J,pts:J},{type:"audio",dts:J+1024*k*$e,pts:J+1024*k*$e}]}}(S):function(S){var N={pid:null,table:null},k={};for(var U in function(S,N){for(var J,k=0,U=go;U<S.byteLength;)if(71!==S[k]||71!==S[U])k++,U++;else{switch(J=S.subarray(k,U),Nr.ts.parseType(J,N.pid)){case"pat":N.pid=Nr.ts.parsePat(J);break;case"pmt":var ke=Nr.ts.parsePmt(J);N.table=N.table||{},Object.keys(ke).forEach(function(Ue){N.table[Ue]=ke[Ue]})}k+=go,U+=go}}(S,N),N.table)if(N.table.hasOwnProperty(U))switch(N.table[U]){case Is.H264_STREAM_TYPE:k.video=[],t0(S,N,k),0===k.video.length&&delete k.video;break;case Is.ADTS_STREAM_TYPE:k.audio=[],_y(S,N,k),0===k.audio.length&&delete k.audio}return k}(S))&&(U.audio||U.video)?(function(S,N){if(S.audio&&S.audio.length){var k=N;(void 0===k||isNaN(k))&&(k=S.audio[0].dts),S.audio.forEach(function(ie){ie.dts=Hc(ie.dts,k),ie.pts=Hc(ie.pts,k),ie.dtsTime=ie.dts/zc,ie.ptsTime=ie.pts/zc})}if(S.video&&S.video.length){var U=N;if((void 0===U||isNaN(U))&&(U=S.video[0].dts),S.video.forEach(function(ie){ie.dts=Hc(ie.dts,U),ie.pts=Hc(ie.pts,U),ie.dtsTime=ie.dts/zc,ie.ptsTime=ie.pts/zc}),S.firstKeyFrame){var J=S.firstKeyFrame;J.dts=Hc(J.dts,U),J.pts=Hc(J.pts,U),J.dtsTime=J.dts/zc,J.ptsTime=J.pts/zc}}}(U,N),U):null},by=function(){function he(N,k){this.options=k||{},this.self=N,this.init()}var S=he.prototype;return S.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new W_.Transmuxer(this.options),function(S,N){N.on("data",function(k){var U=k.initSegment;k.initSegment={data:U.buffer,byteOffset:U.byteOffset,byteLength:U.byteLength};var J=k.data;k.data=J.buffer,S.postMessage({action:"data",segment:k,byteOffset:J.byteOffset,byteLength:J.byteLength},[k.data])}),N.on("done",function(k){S.postMessage({action:"done"})}),N.on("gopInfo",function(k){S.postMessage({action:"gopInfo",gopInfo:k})}),N.on("videoSegmentTimingInfo",function(k){var U={start:{decode:wr_videoTsToSeconds(k.start.dts),presentation:wr_videoTsToSeconds(k.start.pts)},end:{decode:wr_videoTsToSeconds(k.end.dts),presentation:wr_videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:wr_videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(U.prependedContentDuration=wr_videoTsToSeconds(k.prependedContentDuration)),S.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:U})}),N.on("audioSegmentTimingInfo",function(k){var U={start:{decode:wr_videoTsToSeconds(k.start.dts),presentation:wr_videoTsToSeconds(k.start.pts)},end:{decode:wr_videoTsToSeconds(k.end.dts),presentation:wr_videoTsToSeconds(k.end.pts)},baseMediaDecodeTime:wr_videoTsToSeconds(k.baseMediaDecodeTime)};k.prependedContentDuration&&(U.prependedContentDuration=wr_videoTsToSeconds(k.prependedContentDuration)),S.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:U})}),N.on("id3Frame",function(k){S.postMessage({action:"id3Frame",id3Frame:k})}),N.on("caption",function(k){S.postMessage({action:"caption",caption:k})}),N.on("trackinfo",function(k){S.postMessage({action:"trackinfo",trackInfo:k})}),N.on("audioTimingInfo",function(k){S.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:wr_videoTsToSeconds(k.start),end:wr_videoTsToSeconds(k.end)}})}),N.on("videoTimingInfo",function(k){S.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:wr_videoTsToSeconds(k.start),end:wr_videoTsToSeconds(k.end)}})}),N.on("log",function(k){S.postMessage({action:"log",log:k})})}(this.self,this.transmuxer)},S.pushMp4Captions=function(k){this.captionParser||(this.captionParser=new J_,this.captionParser.init());var U=new Uint8Array(k.data,k.byteOffset,k.byteLength),J=this.captionParser.parse(U,k.trackIds,k.timescales);this.self.postMessage({action:"mp4Captions",captions:J&&J.captions||[],logs:J&&J.logs||[],data:U.buffer},[U.buffer])},S.probeMp4StartTime=function(k){var J=k.data,ie=fy_startTime(k.timescales,J);this.self.postMessage({action:"probeMp4StartTime",startTime:ie,data:J},[J.buffer])},S.probeMp4Tracks=function(k){var U=k.data,J=fy_tracks(U);this.self.postMessage({action:"probeMp4Tracks",tracks:J,data:U},[U.buffer])},S.probeTs=function(k){var U=k.data,J=k.baseStartTime,ie="number"!=typeof J||isNaN(J)?void 0:9e4*J,ke=a0_inspect(U,ie),Ue=null;ke&&((Ue={hasVideo:ke.video&&2===ke.video.length||!1,hasAudio:ke.audio&&2===ke.audio.length||!1}).hasVideo&&(Ue.videoStart=ke.video[0].ptsTime),Ue.hasAudio&&(Ue.audioStart=ke.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:Ue,data:U},[U.buffer])},S.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},S.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},S.push=function(k){var U=new Uint8Array(k.data,k.byteOffset,k.byteLength);this.transmuxer.push(U)},S.reset=function(){this.transmuxer.reset()},S.setTimestampOffset=function(k){this.transmuxer.setBaseMediaDecodeTime(Math.round(wr_secondsToVideoTs(k.timestampOffset||0)))},S.setAudioAppendStart=function(k){this.transmuxer.setAudioAppendStart(Math.ceil(wr_secondsToVideoTs(k.appendStart)))},S.setRemux=function(k){this.transmuxer.setRemux(k.remux)},S.flush=function(k){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},S.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},S.alignGopsWith=function(k){this.transmuxer.alignGopsWith(k.gopsToAlignWith.slice())},he}();self.onmessage=function(he){"init"===he.data.action&&he.data.options?this.messageHandlers=new by(self,he.data.options):(this.messageHandlers||(this.messageHandlers=new by(self)),he.data&&he.data.action&&"init"!==he.data.action&&this.messageHandlers[he.data.action]&&this.messageHandlers[he.data.action](he.data))}}))),Dn=function(o){var a=o.transmuxer,s=o.bytes,n=o.audioAppendStart,i=o.gopsToAlignWith,c=o.remux,m=o.onData,E=o.onTrackInfo,O=o.onAudioTimingInfo,R=o.onVideoTimingInfo,Z=o.onVideoSegmentTimingInfo,q=o.onAudioSegmentTimingInfo,ve=o.onId3,Me=o.onCaptions,xe=o.onDone,we=o.onEndedTimeline,st=o.onTransmuxerLog,it=o.isEndOfTimeline,bt={buffer:[]},xt=it;if(a.onmessage=function(kt){a.currentTransmux===o&&("data"===kt.data.action&&function(o,a,s){var n=o.data.segment,i=n.type,c=n.initSegment,R=n.videoFrameDtsTime,Z=n.videoFramePtsTime;a.buffer.push({captions:n.captions,captionStreams:n.captionStreams,metadata:n.metadata});var q=o.data.segment.boxes||{data:o.data.segment.data},ve={type:i,data:new Uint8Array(q.data,q.data.byteOffset,q.data.byteLength),initSegment:new Uint8Array(c.data,c.byteOffset,c.byteLength)};void 0!==R&&(ve.videoFrameDtsTime=R),void 0!==Z&&(ve.videoFramePtsTime=Z),s(ve)}(kt,bt,m),"trackinfo"===kt.data.action&&E(kt.data.trackInfo),"gopInfo"===kt.data.action&&function(o,a){a.gopInfo=o.data.gopInfo}(kt,bt),"audioTimingInfo"===kt.data.action&&O(kt.data.audioTimingInfo),"videoTimingInfo"===kt.data.action&&R(kt.data.videoTimingInfo),"videoSegmentTimingInfo"===kt.data.action&&Z(kt.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===kt.data.action&&q(kt.data.audioSegmentTimingInfo),"id3Frame"===kt.data.action&&ve([kt.data.id3Frame],kt.data.id3Frame.dispatchType),"caption"===kt.data.action&&Me(kt.data.caption),"endedtimeline"===kt.data.action&&(xt=!1,we()),"log"===kt.data.action&&st(kt.data.log),"transmuxed"===kt.data.type&&(xt||(a.onmessage=null,function(o){var a=o.transmuxedData,s=o.callback;a.buffer=[],s(a)}({transmuxedData:bt,callback:xe}),xn(a))))},n&&a.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&a.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),void 0!==c&&a.postMessage({action:"setRemux",remux:c}),s.byteLength){var zt=s instanceof ArrayBuffer?s:s.buffer,Jt=s instanceof ArrayBuffer?0:s.byteOffset;a.postMessage({action:"push",data:zt,byteOffset:Jt,byteLength:s.byteLength},[zt])}it&&a.postMessage({action:"endTimeline"}),a.postMessage({action:"flush"})},xn=function(o){o.currentTransmux=null,o.transmuxQueue.length&&(o.currentTransmux=o.transmuxQueue.shift(),"function"==typeof o.currentTransmux?o.currentTransmux():Dn(o.currentTransmux))},Wi=function(o,a){o.postMessage({action:a}),xn(o)},Il_reset=function(o){!function(o,a){if(!a.currentTransmux)return a.currentTransmux=o,void Wi(a,o);a.transmuxQueue.push(Wi.bind(null,a,o))}("reset",o)},co=function(o){var a=o.transmuxer,s=o.endAction||o.action,n=o.callback,i=ce({},o,{endAction:null,transmuxer:null,callback:null});if(a.addEventListener("message",function O(R){R.data.action===s&&(a.removeEventListener("message",O),R.data.data&&(R.data.data=new Uint8Array(R.data.data,o.byteOffset||0,o.byteLength||R.data.data.byteLength),o.data&&(o.data=R.data.data)),n(R.data))}),o.data){var m=o.data instanceof ArrayBuffer;i.byteOffset=m?0:o.data.byteOffset,i.byteLength=o.data.byteLength,a.postMessage(i,[m?o.data:o.data.buffer])}else a.postMessage(i)},ra=function(o){o.forEach(function(a){a.abort()})},Cn=function(o,a){return a.timedout?{status:a.status,message:"HLS request timed-out at URL: "+a.uri,code:-101,xhr:a}:a.aborted?{status:a.status,message:"HLS request aborted at URL: "+a.uri,code:-102,xhr:a}:o?{status:a.status,message:"HLS request errored at URL: "+a.uri,code:2,xhr:a}:"arraybuffer"===a.responseType&&0===a.response.byteLength?{status:a.status,message:"Empty HLS response at URL: "+a.uri,code:2,xhr:a}:null},In=function(o,a,s){return function(n,i){var c=i.response,m=Cn(n,i);if(m)return s(m,o);if(16!==c.byteLength)return s({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:2,xhr:i},o);for(var E=new DataView(c),O=new Uint32Array([E.getUint32(0),E.getUint32(4),E.getUint32(8),E.getUint32(12)]),R=0;R<a.length;R++)a[R].bytes=O;return s(null,o)}},fr=function(o,a){var s=It(o.map.bytes);if("mp4"!==s)return a({internal:!0,message:"Found unsupported "+(s||"unknown")+" container for initialization segment at URL: "+(o.map.resolvedUri||o.map.uri),code:2});co({action:"probeMp4Tracks",data:o.map.bytes,transmuxer:o.transmuxer,callback:function(c){var m=c.tracks;return o.map.bytes=c.data,m.forEach(function(O){o.map.tracks=o.map.tracks||{},!o.map.tracks[O.type]&&(o.map.tracks[O.type]=O,"number"==typeof O.id&&O.timescale&&(o.map.timescales=o.map.timescales||{},o.map.timescales[O.id]=O.timescale))}),a(null)}})},fo=function(o){var a=o.segment,s=o.bytes,n=o.trackInfoFn,i=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,m=o.audioSegmentTimingInfoFn,E=o.id3Fn,O=o.captionsFn,R=o.isEndOfTimeline,Z=o.endedTimelineFn,q=o.dataFn,ve=o.doneFn,Me=o.onTransmuxerLog,xe=a.map&&a.map.tracks||{},we=Boolean(xe.audio&&xe.video),st=i.bind(null,a,"audio","start"),it=i.bind(null,a,"audio","end"),bt=i.bind(null,a,"video","start"),xt=i.bind(null,a,"video","end");co({action:"probeTs",transmuxer:a.transmuxer,data:s,baseStartTime:a.baseStartTime,callback:function(Jt){a.bytes=s=Jt.data;var Lt=Jt.result;Lt&&(n(a,{hasAudio:Lt.hasAudio,hasVideo:Lt.hasVideo,isMuxed:we}),n=null,Lt.hasAudio&&!we&&st(Lt.audioStart),Lt.hasVideo&&bt(Lt.videoStart),st=null,bt=null),function(o){if(!o.transmuxer.currentTransmux)return o.transmuxer.currentTransmux=o,void Dn(o);o.transmuxer.transmuxQueue.push(o)}({bytes:s,transmuxer:a.transmuxer,audioAppendStart:a.audioAppendStart,gopsToAlignWith:a.gopsToAlignWith,remux:we,onData:function(Lt){Lt.type="combined"===Lt.type?"video":Lt.type,q(a,Lt)},onTrackInfo:function(Lt){n&&(we&&(Lt.isMuxed=!0),n(a,Lt))},onAudioTimingInfo:function(Lt){st&&void 0!==Lt.start&&(st(Lt.start),st=null),it&&void 0!==Lt.end&&it(Lt.end)},onVideoTimingInfo:function(Lt){bt&&void 0!==Lt.start&&(bt(Lt.start),bt=null),xt&&void 0!==Lt.end&&xt(Lt.end)},onVideoSegmentTimingInfo:function(Lt){c(Lt)},onAudioSegmentTimingInfo:function(Lt){m(Lt)},onId3:function(Lt,kt){E(a,Lt,kt)},onCaptions:function(Lt){O(a,[Lt])},isEndOfTimeline:R,onEndedTimeline:function(){Z()},onTransmuxerLog:Me,onDone:function(Lt){!ve||(Lt.type="combined"===Lt.type?"video":Lt.type,ve(null,a,Lt))}})}})},ho=function(o){var a=o.segment,s=o.bytes,n=o.trackInfoFn,i=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,m=o.audioSegmentTimingInfoFn,E=o.id3Fn,O=o.captionsFn,R=o.isEndOfTimeline,Z=o.endedTimelineFn,q=o.dataFn,ve=o.doneFn,Me=o.onTransmuxerLog,xe=new Uint8Array(s);if(function(o){return Bi(o,["moof"]).length>0}(xe)){a.isFmp4=!0;var we=a.map.tracks,st={isFmp4:!0,hasVideo:!!we.video,hasAudio:!!we.audio};we.audio&&we.audio.codec&&"enca"!==we.audio.codec&&(st.audioCodec=we.audio.codec),we.video&&we.video.codec&&"encv"!==we.video.codec&&(st.videoCodec=we.video.codec),we.video&&we.audio&&(st.isMuxed=!0),n(a,st);var it=function(xt){q(a,{data:xe,type:st.hasAudio&&!st.isMuxed?"audio":"video"}),xt&&xt.length&&O(a,xt),ve(null,a,{})};co({action:"probeMp4StartTime",timescales:a.map.timescales,data:xe,transmuxer:a.transmuxer,callback:function(xt){var wt=xt.data,zt=xt.startTime;s=wt.buffer,a.bytes=xe=wt,st.hasAudio&&!st.isMuxed&&i(a,"audio","start",zt),st.hasVideo&&i(a,"video","start",zt),we.video&&wt.byteLength&&a.transmuxer?co({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:a.transmuxer,data:xe,timescales:a.map.timescales,trackIds:[we.video.id],callback:function(Lt){s=Lt.data.buffer,a.bytes=xe=Lt.data,Lt.logs.forEach(function(kt){Me(et.mergeOptions(kt,{stream:"mp4CaptionParser"}))}),it(Lt.captions)}}):it()}})}else{if(a.transmuxer)return void 0===a.container&&(a.container=It(xe)),"ts"!==a.container&&"aac"!==a.container?(n(a,{hasAudio:!1,hasVideo:!1}),void ve(null,a,{})):void fo({segment:a,bytes:s,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:m,id3Fn:E,captionsFn:O,isEndOfTimeline:R,endedTimelineFn:Z,dataFn:q,doneFn:ve,onTransmuxerLog:Me});ve(null,a,{})}},kr=function(o,a){var E,s=o.id,n=o.key,i=o.encryptedBytes,c=o.decryptionWorker;c.addEventListener("message",function O(R){if(R.data.source===s){c.removeEventListener("message",O);var Z=R.data.decrypted;a(new Uint8Array(Z.bytes,Z.byteOffset,Z.byteLength))}}),E=n.bytes.slice?n.bytes.slice():new Uint32Array(Array.prototype.slice.call(n.bytes)),c.postMessage(hp({source:s,encrypted:i,key:E,iv:n.iv}),[i.buffer,E.buffer])},bu=function(o){var a=o.xhr,s=o.xhrOptions,i=o.segment,c=o.abortFn,m=o.progressFn,E=o.trackInfoFn,O=o.timingInfoFn,R=o.videoSegmentTimingInfoFn,Z=o.audioSegmentTimingInfoFn,q=o.id3Fn,ve=o.captionsFn,Me=o.isEndOfTimeline,xe=o.endedTimelineFn,we=o.dataFn,bt=[],xt=function(o){var a=o.activeXhrs,s=o.decryptionWorker,n=o.trackInfoFn,i=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,m=o.audioSegmentTimingInfoFn,E=o.id3Fn,O=o.captionsFn,R=o.isEndOfTimeline,Z=o.endedTimelineFn,q=o.dataFn,ve=o.doneFn,Me=o.onTransmuxerLog,xe=0,we=!1;return function(st,it){if(!we){if(st)return we=!0,ra(a),ve(st,it);if((xe+=1)===a.length){var bt=function(){if(it.encryptedBytes)return function(o){var s=o.segment,n=o.trackInfoFn,i=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,m=o.audioSegmentTimingInfoFn,E=o.id3Fn,O=o.captionsFn,R=o.isEndOfTimeline,Z=o.endedTimelineFn,q=o.dataFn,ve=o.doneFn,Me=o.onTransmuxerLog;kr({id:s.requestId,key:s.key,encryptedBytes:s.encryptedBytes,decryptionWorker:o.decryptionWorker},function(xe){s.bytes=xe,ho({segment:s,bytes:s.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:m,id3Fn:E,captionsFn:O,isEndOfTimeline:R,endedTimelineFn:Z,dataFn:q,doneFn:ve,onTransmuxerLog:Me})})}({decryptionWorker:s,segment:it,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:m,id3Fn:E,captionsFn:O,isEndOfTimeline:R,endedTimelineFn:Z,dataFn:q,doneFn:ve,onTransmuxerLog:Me});ho({segment:it,bytes:it.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:m,id3Fn:E,captionsFn:O,isEndOfTimeline:R,endedTimelineFn:Z,dataFn:q,doneFn:ve,onTransmuxerLog:Me})};if(it.endOfAllRequests=Date.now(),it.map&&it.map.encryptedBytes&&!it.map.bytes)return kr({decryptionWorker:s,id:it.requestId+"-init",encryptedBytes:it.map.encryptedBytes,key:it.map.key},function(xt){it.map.bytes=xt,fr(it,function(wt){if(wt)return ra(a),ve(wt,it);bt()})});bt()}}}}({activeXhrs:bt,decryptionWorker:o.decryptionWorker,trackInfoFn:E,timingInfoFn:O,videoSegmentTimingInfoFn:R,audioSegmentTimingInfoFn:Z,id3Fn:q,captionsFn:ve,isEndOfTimeline:Me,endedTimelineFn:xe,dataFn:we,doneFn:o.doneFn,onTransmuxerLog:o.onTransmuxerLog});if(i.key&&!i.key.bytes){var wt=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&wt.push(i.map.key);var Lt=a(et.mergeOptions(s,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),In(i,wt,xt));bt.push(Lt)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){var Qr=a(et.mergeOptions(s,{uri:i.map.key.resolvedUri,responseType:"arraybuffer"}),In(i,[i.map.key],xt));bt.push(Qr)}var ii=et.mergeOptions(s,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Qf(i.map)}),si=function(o){var a=o.segment,s=o.finishProcessingFn;return function(n,i){var c=Cn(n,i);if(c)return s(c,a);var m=new Uint8Array(i.response);if(a.map.key)return a.map.encryptedBytes=m,s(null,a);a.map.bytes=m,fr(a,function(E){if(E)return E.xhr=i,E.status=i.status,s(E,a);s(null,a)})}}({segment:i,finishProcessingFn:xt}),Cr=a(ii,si);bt.push(Cr)}var Bc=et.mergeOptions(s,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:Qf(i)}),Ro=a(Bc,function(o){var a=o.segment,s=o.finishProcessingFn,n=o.responseType;return function(i,c){var m=Cn(i,c);if(m)return s(m,a);var E="arraybuffer"!==n&&c.responseText?function(o){for(var a=new Uint8Array(new ArrayBuffer(o.length)),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return a.buffer}(c.responseText.substring(a.lastReachedChar||0)):c.response;return a.stats=function(o){return{bandwidth:o.bandwidth,bytesReceived:o.bytesReceived||0,roundTripTime:o.roundTripTime||0}}(c),a.key?a.encryptedBytes=new Uint8Array(E):a.bytes=new Uint8Array(E),s(null,a)}}({segment:i,finishProcessingFn:xt,responseType:Bc.responseType}));Ro.addEventListener("progress",function(o){var a=o.segment,s=o.progressFn;return function(n){if(!n.target.aborted)return a.stats=et.mergeOptions(a.stats,function(o){var a=o.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-a.requestTime||0};return n.bytesReceived=o.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(n)),!a.stats.firstBytesReceivedAt&&a.stats.bytesReceived&&(a.stats.firstBytesReceivedAt=Date.now()),s(n,a)}}({segment:i,progressFn:m,trackInfoFn:E,timingInfoFn:O,videoSegmentTimingInfoFn:R,audioSegmentTimingInfoFn:Z,id3Fn:q,captionsFn:ve,isEndOfTimeline:Me,endedTimelineFn:xe,dataFn:we})),bt.push(Ro);var ns={};return bt.forEach(function(aa){aa.addEventListener("loadend",function(o){var a=o.loadendState,s=o.abortFn;return function(n){n.target.aborted&&s&&!a.calledAbortFn&&(s(),a.calledAbortFn=!0)}}({loadendState:ns,abortFn:c}))}),function(){return ra(bt)}},Bd=us("CodecUtils"),_p=function(o,a){var s=a.attributes||{};return o&&o.mediaGroups&&o.mediaGroups.AUDIO&&s.AUDIO&&o.mediaGroups.AUDIO[s.AUDIO]},th=function(o){var a={};return o.forEach(function(s){var n=s.mediaType,i=s.type,c=s.details;a[n]=a[n]||[],a[n].push(qt(""+i+c))}),Object.keys(a).forEach(function(s){if(a[s].length>1)return Bd("multiple "+s+" codecs found as attributes: "+a[s].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(a[s]=null);a[s]=a[s][0]}),a},nh=function(o){var a=0;return o.audio&&a++,o.video&&a++,a},rh=function(o,a){var s=a.attributes||{},n=th(function(o){var a=o.attributes||{};if(a.CODECS)return fn(a.CODECS)}(a)||[]);if(_p(o,a)&&!n.audio&&!function(o,a){if(!_p(o,a))return!0;var n=o.mediaGroups.AUDIO[(a.attributes||{}).AUDIO];for(var i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1}(o,a)){var i=th(function(o,a){if(!o.mediaGroups.AUDIO||!a)return null;var s=o.mediaGroups.AUDIO[a];if(!s)return null;for(var n in s){var i=s[n];if(i.default&&i.playlists)return fn(i.playlists[0].attributes.CODECS)}return null}(o,s.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},ih=us("PlaylistSelector"),t_=function(o){if(o&&o.playlist){var a=o.playlist;return JSON.stringify({id:a.id,bandwidth:o.bandwidth,width:o.width,height:o.height,codecs:a.attributes&&a.attributes.CODECS||""})}},sh=function(o,a){if(!o)return"";var s=$().getComputedStyle(o);return s?s[a]:""},Lc=function(o,a){var s=o.slice();o.sort(function(n,i){var c=a(n,i);return 0===c?s.indexOf(n)-s.indexOf(i):c})},kg=function(o,a){var s,n;return o.attributes.BANDWIDTH&&(s=o.attributes.BANDWIDTH),s=s||$().Number.MAX_VALUE,a.attributes.BANDWIDTH&&(n=a.attributes.BANDWIDTH),s-(n||$().Number.MAX_VALUE)},uv=function(o,a,s,n,i,c){if(o){var m={bandwidth:a,width:s,height:n,limitRenditionByPlayerDimensions:i},E=o.playlists;js.isAudioOnly(o)&&(E=c.getAudioTrackPlaylists_(),m.audioOnly=!0);var O=E.map(function(Yt){var Qr=Yt.attributes&&Yt.attributes.RESOLUTION&&Yt.attributes.RESOLUTION.width,ii=Yt.attributes&&Yt.attributes.RESOLUTION&&Yt.attributes.RESOLUTION.height;return{bandwidth:Yt.attributes&&Yt.attributes.BANDWIDTH||$().Number.MAX_VALUE,width:Qr,height:ii,playlist:Yt}});Lc(O,function(Yt,hr){return Yt.bandwidth-hr.bandwidth});var R=(O=O.filter(function(Yt){return!js.isIncompatible(Yt.playlist)})).filter(function(Yt){return js.isEnabled(Yt.playlist)});R.length||(R=O.filter(function(Yt){return!js.isDisabled(Yt.playlist)}));var Z=R.filter(function(Yt){return Yt.bandwidth*de.BANDWIDTH_VARIANCE<a}),q=Z[Z.length-1],ve=Z.filter(function(Yt){return Yt.bandwidth===q.bandwidth})[0];if(!1===i){var Me=ve||R[0]||O[0];if(Me&&Me.playlist){var xe="sortedPlaylistReps";return ve&&(xe="bandwidthBestRep"),R[0]&&(xe="enabledPlaylistReps"),ih("choosing "+t_(Me)+" using "+xe+" with options",m),Me.playlist}return ih("could not choose a playlist with options",m),null}var we=Z.filter(function(Yt){return Yt.width&&Yt.height});Lc(we,function(Yt,hr){return Yt.width-hr.width});var st=we.filter(function(Yt){return Yt.width===s&&Yt.height===n});q=st[st.length-1];var bt,xt,wt,zt,it=st.filter(function(Yt){return Yt.bandwidth===q.bandwidth})[0];if(it||(xt=(bt=we.filter(function(Yt){return Yt.width>s||Yt.height>n})).filter(function(Yt){return Yt.width===bt[0].width&&Yt.height===bt[0].height}),q=xt[xt.length-1],wt=xt.filter(function(Yt){return Yt.bandwidth===q.bandwidth})[0]),c.experimentalLeastPixelDiffSelector){var Jt=we.map(function(Yt){return Yt.pixelDiff=Math.abs(Yt.width-s)+Math.abs(Yt.height-n),Yt});Lc(Jt,function(Yt,hr){return Yt.pixelDiff===hr.pixelDiff?hr.bandwidth-Yt.bandwidth:Yt.pixelDiff-hr.pixelDiff}),zt=Jt[0]}var Lt=zt||wt||it||ve||R[0]||O[0];if(Lt&&Lt.playlist){var kt="sortedPlaylistReps";return zt?kt="leastPixelDiffRep":wt?kt="resolutionPlusOneRep":it?kt="resolutionBestRep":ve?kt="bandwidthBestRep":R[0]&&(kt="enabledPlaylistReps"),ih("choosing "+t_(Lt)+" using "+kt+" with options",m),Lt.playlist}return ih("could not choose a playlist with options",m),null}},cv=function(){var o=this.useDevicePixelRatio&&$().devicePixelRatio||1;return uv(this.playlists.master,this.systemBandwidth,parseInt(sh(this.tech_.el(),"width"),10)*o,parseInt(sh(this.tech_.el(),"height"),10)*o,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Ud=function(o,a,s){var n,i;if(s&&s.cues)for(n=s.cues.length;n--;)(i=s.cues[n]).startTime>=o&&i.endTime<=a&&s.removeCue(i)},Lg=function(o){return"number"==typeof o&&isFinite(o)},bp=1/60,Vd=function(o){var a=o.startOfSegment,s=o.duration,n=o.segment,i=o.part,c=o.playlist,m=c.mediaSequence,E=c.id,O=c.segments,Z=o.mediaIndex,q=o.partIndex,ve=o.timeline,Me=(void 0===O?[]:O).length-1,xe="mediaIndex/partIndex increment";o.getMediaInfoForTime?xe="getMediaInfoForTime ("+o.getMediaInfoForTime+")":o.isSyncRequest&&(xe="getSyncSegmentCandidate (isSyncRequest)"),o.independent&&(xe+=" with independent "+o.independent);var we="number"==typeof q,st=o.segment.uri?"segment":"pre-segment",it=we?Uf({preloadSegment:n})-1:0;return st+" ["+(m+Z)+"/"+(m+Me)+"]"+(we?" part ["+q+"/"+it+"]":"")+" segment start/end ["+n.start+" => "+n.end+"]"+(we?" part start/end ["+i.start+" => "+i.end+"]":"")+" startOfSegment ["+a+"] duration ["+s+"] timeline ["+ve+"] selected by ["+xe+"] playlist ["+E+"]"},pv=function(o){return o+"TimingInfo"},Bg=function(o){var a=o.timelineChangeController,n=o.segmentTimeline,i=o.loaderType,c=o.audioDisabled;if(o.currentTimeline===n)return!1;if("audio"===i){var m=a.lastTimelineChange({type:"main"});return!m||m.to!==n}if("main"===i&&c){var E=a.pendingTimelineChange({type:"audio"});return!(E&&E.to===n)}return!1},gv=function(o){var a=o.segmentDuration,s=o.maxDuration;return!!a&&Math.round(a)>s+Al},ah=function(p){function o(s,n){var i;if(i=p.call(this)||this,!s)throw new TypeError("Initialization settings are required");if("function"!=typeof s.currentTime)throw new TypeError("No currentTime getter specified");if(!s.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=s.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.partIndex=null,i.hasPlayed_=s.hasPlayed,i.currentTime_=s.currentTime,i.seekable_=s.seekable,i.seeking_=s.seeking,i.duration_=s.duration,i.mediaSource_=s.mediaSource,i.vhs_=s.vhs,i.loaderType_=s.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=s.segmentMetadataTrack,i.goalBufferLength_=s.goalBufferLength,i.sourceType_=s.sourceType,i.sourceUpdater_=s.sourceUpdater,i.inbandTextTracks_=s.inbandTextTracks,i.state_="INIT",i.timelineChangeController_=s.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.parse708captions_=s.parse708captions,i.captionServices_=s.captionServices,i.experimentalExactManifestTimings=s.experimentalExactManifestTimings,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=et.browser.IE_VERSION>=11,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.waitingOnRemove_=!1,i.quotaExceededErrorRetryTimeout_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=s.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=s.decrypter,i.syncController_=s.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",function(){i.isEndOfStream_()||(i.ended_=!1)}),i.fetchAtBuffer_=!1,i.logger_=us("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(ue(i),"state",{get:function(){return this.state_},set:function(m){m!==this.state_&&(this.logger_(this.state_+" -> "+m),this.state_=m,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()}),i}j(o,p);var a=o.prototype;return a.createTransmuxer_=function(){return function(o){var a=new Ut;a.currentTransmux=null,a.transmuxQueue=[];var s=a.terminate;return a.terminate=function(){return a.currentTransmux=null,a.transmuxQueue.length=0,s.call(a)},a.postMessage({action:"init",options:o}),a}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},a.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},a.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&$().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},a.setAudio=function(n){this.audioDisabled_=!n,n?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},a.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},a.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,$().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},a.checkForAbort_=function(n){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==n:(this.state="READY",!0)},a.error=function(n){return void 0!==n&&(this.logger_("error occurred:",n),this.error_=n),this.pendingSegment_=null,this.error_},a.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Il_reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},a.buffered_=function(){var n=this.getMediaInfo_();if(!this.sourceUpdater_||!n)return et.createTimeRanges();if("main"===this.loaderType_){var c=n.hasVideo;if(c&&n.hasAudio&&!this.audioDisabled_&&!n.isMuxed)return this.sourceUpdater_.buffered();if(c)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},a.initSegmentForMap=function(n,i){if(void 0===i&&(i=!1),!n)return null;var c=Nd(n),m=this.initSegments_[c];return i&&!m&&n.bytes&&(this.initSegments_[c]=m={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,tracks:n.tracks,timescales:n.timescales}),m||n},a.segmentKey=function(n,i){if(void 0===i&&(i=!1),!n)return null;var c=Ln(n),m=this.keyCache_[c];this.cacheEncryptionKeys_&&i&&!m&&n.bytes&&(this.keyCache_[c]=m={resolvedUri:n.resolvedUri,bytes:n.bytes});var E={resolvedUri:(m||n).resolvedUri};return m&&(E.bytes=m.bytes),E},a.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},a.load=function(){if(this.monitorBuffer_(),this.playlist_){if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},a.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},a.playlist=function(n,i){if(void 0===i&&(i={}),n){var c=this.playlist_,m=this.pendingSegment_;this.playlist_=n,this.xhrOptions_=i,"INIT"===this.state&&(n.syncInfo={mediaSequence:n.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(n));var E=null;if(c&&(c.id?E=c.id:c.uri&&(E=c.uri)),this.logger_("playlist update ["+E+" => "+(n.id||n.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!c||c.uri!==n.uri)return null!==this.mediaIndex&&(n.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var O=n.mediaSequence-c.mediaSequence;if(this.logger_("live window shift ["+O+"]"),null!==this.mediaIndex)if(this.mediaIndex-=O,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var R=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!R.parts||!R.parts.length||!R.parts[this.partIndex])){var Z=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=Z}}m&&(m.mediaIndex-=O,m.mediaIndex<0?(m.mediaIndex=null,m.partIndex=null):(m.mediaIndex>=0&&(m.segment=n.segments[m.mediaIndex]),m.partIndex>=0&&m.segment.parts&&(m.part=m.segment.parts[m.partIndex]))),this.syncController_.saveExpiredSegmentInfo(c,n)}},a.pause=function(){this.checkBufferTimeout_&&($().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},a.paused=function(){return null===this.checkBufferTimeout_},a.resetEverything=function(n){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,n),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},a.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},a.resyncLoader=function(){this.transmuxer_&&Il_reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},a.remove=function(n,i,c,m){if(void 0===c&&(c=function(){}),void 0===m&&(m=!1),i===1/0&&(i=this.duration_()),i<=n)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var E=1,O=function(){0==--E&&c()};for(var R in(m||!this.audioDisabled_)&&(E++,this.sourceUpdater_.removeAudio(n,i,O)),(m||"main"===this.loaderType_)&&(this.gopBuffer_=function(o,a,s,n){for(var i=Math.ceil((a-n)*Gt.ONE_SECOND_IN_TS),c=Math.ceil((s-n)*Gt.ONE_SECOND_IN_TS),m=o.slice(),E=o.length;E--&&!(o[E].pts<=c););if(-1===E)return m;for(var O=E+1;O--&&!(o[O].pts<=i););return O=Math.max(O,0),m.splice(O,E-O+1),m}(this.gopBuffer_,n,i,this.timeMapping_),E++,this.sourceUpdater_.removeVideo(n,i,O)),this.inbandTextTracks_)Ud(n,i,this.inbandTextTracks_[R]);Ud(n,i,this.segmentMetadataTrack_),O()}else this.logger_("skipping remove because no source updater or starting media info")},a.monitorBuffer_=function(){this.checkBufferTimeout_&&$().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=$().setTimeout(this.monitorBufferTick_.bind(this),1)},a.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&$().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=$().setTimeout(this.monitorBufferTick_.bind(this),500)},a.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var n=this.chooseNextRequest_();!n||("number"==typeof n.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline})),this.loadSegment_(n))}},a.isEndOfStream_=function(n,i,c){if(void 0===n&&(n=this.mediaIndex),void 0===i&&(i=this.playlist_),void 0===c&&(c=this.partIndex),!i||!this.mediaSource_)return!1;var m="number"==typeof n&&i.segments[n];return i.endList&&"open"===this.mediaSource_.readyState&&n+1===i.segments.length&&(!m||!m.parts||c+1===m.parts.length)},a.chooseNextRequest_=function(){var n=this.buffered_(),i=Nf(n)||0,c=Lf(n,this.currentTime_()),m=!this.hasPlayed_()&&c>=1,E=c>=this.goalBufferLength_(),O=this.playlist_.segments;if(!O.length||m||E)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var R={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(R.isSyncRequest)R.mediaIndex=function(o,a,s){a=a||[];for(var n=[],i=0,c=0;c<a.length;c++){var m=a[c];if(o===m.timeline&&(n.push(c),(i+=m.duration)>s))return c}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,O,i);else if(null!==this.mediaIndex){var Z=O[this.mediaIndex],q="number"==typeof this.partIndex?this.partIndex:-1;R.startOfSegment=Z.end?Z.end:i,Z.parts&&Z.parts[q+1]?(R.mediaIndex=this.mediaIndex,R.partIndex=q+1):R.mediaIndex=this.mediaIndex+1}else{var ve=js.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?i:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),Me=ve.segmentIndex,xe=ve.startTime,we=ve.partIndex;R.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+i:"currentTime "+this.currentTime_(),R.mediaIndex=Me,R.startOfSegment=xe,R.partIndex=we}var st=O[R.mediaIndex],it=st&&"number"==typeof R.partIndex&&st.parts&&st.parts[R.partIndex];if(!st||"number"==typeof R.partIndex&&!it)return null;if("number"!=typeof R.partIndex&&st.parts&&(R.partIndex=0,it=st.parts[0]),!c&&it&&!it.independent)if(0===R.partIndex){var bt=O[R.mediaIndex-1],xt=bt.parts&&bt.parts.length&&bt.parts[bt.parts.length-1];xt&&xt.independent&&(R.mediaIndex-=1,R.partIndex=bt.parts.length-1,R.independent="previous segment")}else st.parts[R.partIndex-1].independent&&(R.partIndex-=1,R.independent="previous part");return R.mediaIndex>=O.length-1&&this.mediaSource_&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?null:this.generateSegmentInfo_(R)},a.generateSegmentInfo_=function(n){var i=n.independent,c=n.playlist,m=n.mediaIndex,E=n.startOfSegment,O=n.isSyncRequest,R=n.partIndex,Z=n.forceTimestampOffset,q=n.getMediaInfoForTime,ve=c.segments[m],Me="number"==typeof R&&ve.parts[R],xe={requestId:"segment-loader-"+Math.random(),uri:Me&&Me.resolvedUri||ve.resolvedUri,mediaIndex:m,partIndex:Me?R:null,isSyncRequest:O,startOfSegment:E,playlist:c,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:ve.timeline,duration:Me&&Me.duration||ve.duration,segment:ve,part:Me,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:q,independent:i},we=void 0!==Z?Z:this.isPendingTimestampOffset_;xe.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:ve.timeline,currentTimeline:this.currentTimeline_,startOfSegment:E,buffered:this.buffered_(),overrideCheck:we});var st=Nf(this.sourceUpdater_.audioBuffered());return"number"==typeof st&&(xe.audioAppendStart=st-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(xe.gopsToAlignWith=function(o,a,s){if(null==a||!o.length)return[];var i,n=Math.ceil((a-s+3)*Gt.ONE_SECOND_IN_TS);for(i=0;i<o.length&&!(o[i].pts>n);i++);return o.slice(i)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),xe},a.timestampOffsetForSegment_=function(n){return function(o){var a=o.segmentTimeline,s=o.currentTimeline,n=o.startOfSegment,i=o.buffered;return o.overrideCheck||a!==s?a<s?n:i.length?i.end(i.length-1):n:null}(n)},a.earlyAbortWhenNeeded_=function(n){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)){var i=this.currentTime_(),c=n.bandwidth,m=this.pendingSegment_.duration,E=js.estimateSegmentRequestTime(m,c,this.playlist_,n.bytesReceived),O=function(o,a,s){return void 0===s&&(s=1),((o.length?o.end(o.length-1):0)-a)/s}(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(!(E<=O)){var R=function(o){var s=o.currentTime,n=o.bandwidth,i=o.duration,c=o.segmentDuration,m=o.timeUntilRebuffer,E=o.currentTimeline,O=o.syncController,R=o.master.playlists.filter(function(xe){return!js.isIncompatible(xe)}),Z=R.filter(js.isEnabled);Z.length||(Z=R.filter(function(xe){return!js.isDisabled(xe)}));var ve=Z.filter(js.hasAttribute.bind(null,"BANDWIDTH")).map(function(xe){var st=O.getSyncPoint(xe,i,E,s)?1:2;return{playlist:xe,rebufferingImpact:js.estimateSegmentRequestTime(c,n,xe)*st-m}}),Me=ve.filter(function(xe){return xe.rebufferingImpact<=0});return Lc(Me,function(xe,we){return kg(we.playlist,xe.playlist)}),Me.length?Me[0]:(Lc(ve,function(xe,we){return xe.rebufferingImpact-we.rebufferingImpact}),ve[0]||null)}({master:this.vhs_.playlists.master,currentTime:i,bandwidth:c,duration:this.duration_(),segmentDuration:m,timeUntilRebuffer:O,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(R){var ve=.5;O<=Al&&(ve=1),R.playlist&&R.playlist.uri!==this.playlist_.uri&&!(E-O-R.rebufferingImpact<ve)&&(this.bandwidth=R.playlist.attributes.BANDWIDTH*de.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},a.handleAbort_=function(n){this.logger_("Aborting "+Vd(n)),this.mediaRequestsAborted+=1},a.handleProgress_=function(n,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")},a.handleTrackInfo_=function(n,i){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&(this.checkForIllegalMediaSwitch(i)||(function(o,a){if(!o&&!a||!o&&a||o&&!a)return!1;if(o===a)return!0;var s=Object.keys(o).sort(),n=Object.keys(a).sort();if(s.length!==n.length)return!1;for(var i=0;i<s.length;i++){var c=s[i];if(c!==n[i]||o[c]!==a[c])return!1}return!0}(this.currentMediaInfo_,i=i||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(n.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},a.handleTimingInfo_=function(n,i,c,m){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var E=this.pendingSegment_,O=pv(i);E[O]=E[O]||{},E[O][c]=m,this.logger_("timinginfo: "+i+" - "+c+" - "+m),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},a.handleCaptions_=function(n,i){var c=this;if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(0===i.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,n,i));var E=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),O={};i.forEach(function(R){O[R.stream]=O[R.stream]||{startTime:1/0,captions:[],endTime:0};var Z=O[R.stream];Z.startTime=Math.min(Z.startTime,R.startTime+E),Z.endTime=Math.max(Z.endTime,R.endTime+E),Z.captions.push(R)}),Object.keys(O).forEach(function(R){var Z=O[R],q=Z.startTime,ve=Z.endTime,Me=Z.captions,xe=c.inbandTextTracks_;c.logger_("adding cues from "+q+" -> "+ve+" for "+R),function(o,a,s){if(!o[s]){a.trigger({type:"usage",name:"vhs-608"}),a.trigger({type:"usage",name:"hls-608"});var n=s;/^cc708_/.test(s)&&(n="SERVICE"+s.split("_")[1]);var i=a.textTracks().getTrackById(n);if(i)o[s]=i;else{var m=s,E=s,O=!1,R=(a.options_.vhs&&a.options_.vhs.captionServices||{})[n];R&&(m=R.label,E=R.language,O=R.default),o[s]=a.addRemoteTextTrack({kind:"captions",id:n,default:O,label:m,language:E},!1).track}}}(xe,c.vhs_.tech_,R),Ud(q,ve,xe[R]),function(o){var a=o.inbandTextTracks,s=o.captionArray,n=o.timestampOffset;if(s){var i=$().WebKitDataCue||$().VTTCue;s.forEach(function(c){a[c.stream].addCue(new i(c.startTime+n,c.endTime+n,c.text))})}}({captionArray:Me,inbandTextTracks:xe,timestampOffset:E})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},a.handleId3_=function(n,i,c){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.id3.push(this.handleId3_.bind(this,n,i,c));var E=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();(function(o,a,s){o.metadataTrack_||(o.metadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,o.metadataTrack_.inBandMetadataTrackDispatchType=a)})(this.inbandTextTracks_,c,this.vhs_.tech_),function(o){var a=o.inbandTextTracks,s=o.metadataArray,n=o.timestampOffset,i=o.videoDuration;if(s){var c=$().WebKitDataCue||$().VTTCue,m=a.metadataTrack_;if(m&&(s.forEach(function(ve){var Me=ve.cueTime+n;"number"!=typeof Me||$().isNaN(Me)||Me<0||!(Me<1/0)||ve.frames.forEach(function(xe){var we=new c(Me,Me,xe.value||xe.url||xe.data||"");we.frame=xe,we.value=xe,function(o){Object.defineProperties(o.frame,{id:{get:function(){return et.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),o.value.key}},value:{get:function(){return et.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),o.value.data}},privateData:{get:function(){return et.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),o.value.data}}})}(we),m.addCue(we)})}),m.cues&&m.cues.length)){for(var E=m.cues,O=[],R=0;R<E.length;R++)E[R]&&O.push(E[R]);var Z=O.reduce(function(ve,Me){var xe=ve[Me.startTime]||[];return xe.push(Me),ve[Me.startTime]=xe,ve},{}),q=Object.keys(Z).sort(function(ve,Me){return Number(ve)-Number(Me)});q.forEach(function(ve,Me){var xe=Z[ve],we=Number(q[Me+1])||i;xe.forEach(function(st){st.endTime=we})})}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:E,videoDuration:this.duration_()})}},a.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(n){return n()}),this.metadataQueue_.caption.forEach(function(n){return n()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},a.processCallQueue_=function(){var n=this.callQueue_;this.callQueue_=[],n.forEach(function(i){return i()})},a.processLoadQueue_=function(){var n=this.loadQueue_;this.loadQueue_=[],n.forEach(function(i){return i()})},a.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var n=this.pendingSegment_;return!(!n||this.getCurrentMediaInfo_()&&Bg({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},a.getCurrentMediaInfo_=function(n){return void 0===n&&(n=this.pendingSegment_),n&&n.trackInfo||this.currentMediaInfo_},a.getMediaInfo_=function(n){return void 0===n&&(n=this.pendingSegment_),this.getCurrentMediaInfo_(n)||this.startingMediaInfo_},a.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var n=this.pendingSegment_,i=this.getCurrentMediaInfo_();return!(!n||!i||i.hasVideo&&!n.videoTimingInfo||i.hasAudio&&!this.audioDisabled_&&!i.isMuxed&&!n.audioTimingInfo||Bg({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},a.handleData_=function(n,i){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,n,i));var c=this.pendingSegment_;if(this.setTimeMapping_(c.timeline),this.updateMediaSecondsLoaded_(c.part||c.segment),"closed"!==this.mediaSource_.readyState){if(n.map&&(n.map=this.initSegmentForMap(n.map,!0),c.segment.map=n.map),n.key&&this.segmentKey(n.key,!0),c.isFmp4=n.isFmp4,c.timingInfo=c.timingInfo||{},c.isFmp4)this.trigger("fmp4"),c.timingInfo.start=c[pv(i.type)].start;else{var O,m=this.getCurrentMediaInfo_(),E="main"===this.loaderType_&&m&&m.hasVideo;E&&(O=c.videoTimingInfo.start),c.timingInfo.start=this.trueSegmentStart_({currentStart:c.timingInfo.start,playlist:c.playlist,mediaIndex:c.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:E,firstVideoFrameTimeForData:O,videoTimingInfo:c.videoTimingInfo,audioTimingInfo:c.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(c,i.type),this.updateSourceBufferTimestampOffset_(c),c.isSyncRequest){this.updateTimingInfoEnd_(c),this.syncController_.saveSegmentTimingInfo({segmentInfo:c,shouldSaveTimelineMapping:"main"===this.loaderType_});var R=this.chooseNextRequest_();if(R.mediaIndex!==c.mediaIndex||R.partIndex!==c.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}c.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(c,i)}}},a.updateAppendInitSegmentStatus=function(n,i){"main"===this.loaderType_&&"number"==typeof n.timestampOffset&&!n.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==n.playlist&&(this.appendInitSegment_[i]=!0)},a.getInitSegmentAndUpdateState_=function(n){var i=n.type,c=n.initSegment,m=n.map,E=n.playlist;if(m){var O=Nd(m);if(this.activeInitSegmentId_===O)return null;c=this.initSegmentForMap(m,!0).bytes,this.activeInitSegmentId_=O}return c&&this.appendInitSegment_[i]?(this.playlistOfLastInitSegment_[i]=E,this.appendInitSegment_[i]=!1,this.activeInitSegmentId_=null,c):null},a.handleQuotaExceededError_=function(n,i){var c=this,m=n.segmentInfo,E=n.type,O=n.bytes,R=this.sourceUpdater_.audioBuffered(),Z=this.sourceUpdater_.videoBuffered();R.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Io(R).join(", ")),Z.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Io(Z).join(", "));var q=R.length?R.start(0):0,ve=R.length?R.end(R.length-1):0,Me=Z.length?Z.start(0):0,xe=Z.length?Z.end(Z.length-1):0;if(ve-q<=1&&xe-Me<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+O.byteLength+", audio buffer: "+Io(R).join(", ")+", video buffer: "+Io(Z).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:m,type:E,bytes:O}));var st=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+st),this.remove(0,st,function(){c.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),c.waitingOnRemove_=!1,c.quotaExceededErrorRetryTimeout_=$().setTimeout(function(){c.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),c.quotaExceededErrorRetryTimeout_=null,c.processCallQueue_()},1e3)},!0)},a.handleAppendError_=function(n,i){var c=n.segmentInfo,m=n.type,E=n.bytes;if(i){if(22===i.code)return void this.handleQuotaExceededError_({segmentInfo:c,type:m,bytes:E});this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error(m+" append of "+E.length+"b failed for segment #"+c.mediaIndex+" in playlist "+c.playlist.id),this.trigger("appenderror")}},a.appendToSourceBuffer_=function(n){var i=n.segmentInfo,c=n.type,m=n.initSegment,E=n.data,O=n.bytes;if(!O){var R=[E],Z=E.byteLength;m&&(R.unshift(m),Z+=m.byteLength),O=function(o){var s,a=0;return o.bytes&&(s=new Uint8Array(o.bytes),o.segments.forEach(function(n){s.set(n,a),a+=n.byteLength})),s}({bytes:Z,segments:R})}this.sourceUpdater_.appendBuffer({segmentInfo:i,type:c,bytes:O},this.handleAppendError_.bind(this,{segmentInfo:i,type:c,bytes:O}))},a.handleSegmentTimingInfo_=function(n,i,c){if(this.pendingSegment_&&i===this.pendingSegment_.requestId){var m=this.pendingSegment_.segment,E=n+"TimingInfo";m[E]||(m[E]={}),m[E].transmuxerPrependedSeconds=c.prependedContentDuration||0,m[E].transmuxedPresentationStart=c.start.presentation,m[E].transmuxedDecodeStart=c.start.decode,m[E].transmuxedPresentationEnd=c.end.presentation,m[E].transmuxedDecodeEnd=c.end.decode,m[E].baseMediaDecodeTime=c.baseMediaDecodeTime}},a.appendData_=function(n,i){var c=i.type,m=i.data;if(m&&m.byteLength&&("audio"!==c||!this.audioDisabled_)){var E=this.getInitSegmentAndUpdateState_({type:c,initSegment:i.initSegment,playlist:n.playlist,map:n.isFmp4?n.segment.map:null});this.appendToSourceBuffer_({segmentInfo:n,type:c,initSegment:E,data:m})}},a.loadSegment_=function(n){var i=this;this.state="WAITING",this.pendingSegment_=n,this.trimBackBuffer_(n),"number"==typeof n.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(n):this.loadQueue_.push(function(){var c=ce({},n,{forceTimestampOffset:!0});ce(n,i.generateSegmentInfo_(c)),i.isPendingTimestampOffset_=!1,i.updateTransmuxerAndRequestSegment_(n)})},a.updateTransmuxerAndRequestSegment_=function(n){var i=this;this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset}));var c=this.createSimplifiedSegmentObj_(n),R=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)||null!==this.mediaIndex&&n.timeline!==this.currentTimeline_&&n.timeline>0;this.logger_("Requesting "+Vd(n)),c.map&&!c.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=bu({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:c,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:R,endedTimelineFn:function(){i.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(q){var ve=q.message,Me=q.level,xe=q.stream;i.logger_(Vd(n)+" logged from transmuxer stream "+xe+" as a "+Me+": "+ve)}})},a.trimBackBuffer_=function(n){var i=function(o,a,s){var n=a-de.BACK_BUFFER_LENGTH;return o.length&&(n=Math.max(n,o.start(0))),Math.min(a-s,n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)},a.createSimplifiedSegmentObj_=function(n){var i=n.segment,c=n.part,m={resolvedUri:c?c.resolvedUri:i.resolvedUri,byterange:c?c.byterange:i.byterange,requestId:n.requestId,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,part:n.part},E=n.playlist.segments[n.mediaIndex-1];if(E&&E.timeline===i.timeline&&(E.videoTimingInfo?m.baseStartTime=E.videoTimingInfo.transmuxedDecodeEnd:E.audioTimingInfo&&(m.baseStartTime=E.audioTimingInfo.transmuxedDecodeEnd)),i.key){var O=i.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]);m.key=this.segmentKey(i.key),m.key.iv=O}return i.map&&(m.map=this.initSegmentForMap(i.map)),m},a.saveTransferStats_=function(n){this.mediaRequests+=1,n&&(this.mediaBytesTransferred+=n.bytesReceived,this.mediaTransferDuration+=n.roundTripTime)},a.saveBandwidthRelatedStats_=function(n,i){this.pendingSegment_.byteLength=i.bytesReceived,n<bp?this.logger_("Ignoring segment's bandwidth because its duration of "+n+" is less than the min to record "+bp):(this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime)},a.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},a.segmentRequestFinished_=function(n,i,c){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,n,i,c));else if(this.saveTransferStats_(i.stats),this.pendingSegment_&&i.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",-102===n.code)return;return this.pause(),-101===n.code?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(n),void this.trigger("error"))}var m=this.pendingSegment_;this.saveBandwidthRelatedStats_(m.duration,i.stats),m.endOfAllRequests=i.endOfAllRequests,c.gopInfo&&(this.gopBuffer_=function(o,a,s){if(!a.length)return o;if(s)return a.slice();for(var n=a[0].pts,i=0;i<o.length&&!(o[i].pts>=n);i++);return o.slice(0,i).concat(a)}(this.gopBuffer_,c.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(m)}},a.setTimeMapping_=function(n){var i=this.syncController_.mappingForTimeline(n);null!==i&&(this.timeMapping_=i)},a.updateMediaSecondsLoaded_=function(n){this.mediaSecondsLoaded+="number"==typeof n.start&&"number"==typeof n.end?n.end-n.start:n.duration},a.shouldUpdateTransmuxerTimestampOffset_=function(n){return null!==n&&("main"===this.loaderType_&&n!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&n!==this.sourceUpdater_.audioTimestampOffset())},a.trueSegmentStart_=function(n){var i=n.currentStart,m=n.mediaIndex,E=n.firstVideoFrameTimeForData;if(void 0!==i)return i;if(!n.useVideoTimingInfo)return n.audioTimingInfo.start;var ve=n.playlist.segments[m-1];return 0!==m&&ve&&void 0!==ve.start&&ve.end===E+n.currentVideoTimestampOffset?n.videoTimingInfo.start:E},a.waitForAppendsToComplete_=function(n){var i=this.getCurrentMediaInfo_(n);if(!i)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var O="main"===this.loaderType_&&i.hasVideo,R=!this.audioDisabled_&&i.hasAudio&&!i.isMuxed;if(n.waitingOnAppends=0,!n.hasAppendedData_)return!n.timingInfo&&"number"==typeof n.timestampOffset&&(this.isPendingTimestampOffset_=!0),n.timingInfo={start:0},n.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(n),this.processMetadataQueue_()),void this.checkAppendsDone_(n);O&&n.waitingOnAppends++,R&&n.waitingOnAppends++,O&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,n)),R&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,n))},a.checkAppendsDone_=function(n){this.checkForAbort_(n.requestId)||(n.waitingOnAppends--,0===n.waitingOnAppends&&this.handleAppendsDone_())},a.checkForIllegalMediaSwitch=function(n){var i=function(o,a,s){return"main"===o&&a&&s?s.hasAudio||s.hasVideo?a.hasVideo&&!s.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!a.hasVideo&&s.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),n);return!!i&&(this.error({message:i,blacklistDuration:1/0}),this.trigger("error"),!0)},a.updateSourceBufferTimestampOffset_=function(n){if(null!==n.timestampOffset&&"number"==typeof n.timingInfo.start&&!n.changedTimestampOffset&&"main"===this.loaderType_){var i=!1;n.timestampOffset-=n.timingInfo.start,n.changedTimestampOffset=!0,n.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(n.timestampOffset),i=!0),n.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(n.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}},a.updateTimingInfoEnd_=function(n){n.timingInfo=n.timingInfo||{};var i=this.getMediaInfo_(),m="main"===this.loaderType_&&i&&i.hasVideo&&n.videoTimingInfo?n.videoTimingInfo:n.audioTimingInfo;!m||(n.timingInfo.end="number"==typeof m.end?m.end:m.start+n.duration)},a.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var n=this.pendingSegment_;this.updateTimingInfoEnd_(n),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var i=function(o,a){if("hls"!==a)return null;var s=function(o,a){return Math.max(o&&"number"==typeof o.start&&"number"==typeof o.end?o.end-o.start:0,a&&"number"==typeof a.start&&"number"==typeof a.end?a.end-a.start:0)}(o.audioTimingInfo,o.videoTimingInfo);if(!s)return null;var n=o.playlist.targetDuration,i=gv({segmentDuration:s,maxDuration:2*n}),c=gv({segmentDuration:s,maxDuration:n});return i||c?{severity:i?"warn":"info",message:"Segment with index "+o.mediaIndex+" from playlist "+o.playlist.id+" has a duration of "+s+" when the reported duration is "+o.duration+" and the target duration is "+n+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1"}:null}(n,this.sourceType_);if(i&&("warn"===i.severity?et.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(n),this.pendingSegment_=null,this.state="READY",!n.isSyncRequest||(this.trigger("syncinfoupdate"),n.hasAppendedData_)){this.logger_("Appended "+Vd(n)),this.addSegmentMetadataCue_(n),this.fetchAtBuffer_=!0,this.currentTimeline_!==n.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline}),"main"===this.loaderType_&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:n.timeline})),this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate");var c=n.segment,m=n.part,E=c.end&&this.currentTime_()-c.end>3*n.playlist.targetDuration,O=m&&m.end&&this.currentTime_()-m.end>3*n.playlist.partTargetDuration;if(E||O)return this.logger_("bad "+(E?"segment":"part")+" "+Vd(n)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=n.mediaIndex,this.partIndex=n.partIndex,this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)&&this.endOfStream(),this.trigger("appended"),n.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+Vd(n))},a.recordThroughput_=function(n){if(n.duration<bp)this.logger_("Ignoring segment's throughput because its duration of "+n.duration+" is less than the min to record "+bp);else{var i=this.throughput.rate,c=Date.now()-n.endOfAllRequests+1,m=Math.floor(n.byteLength/c*8*1e3);this.throughput.rate+=(m-i)/++this.throughput.count}},a.addSegmentMetadataCue_=function(n){if(this.segmentMetadataTrack_){var i=n.segment,c=i.start,m=i.end;if(Lg(c)&&Lg(m)){Ud(c,m,this.segmentMetadataTrack_);var E=$().WebKitDataCue||$().VTTCue,O={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.id,start:c,end:m},Z=new E(c,m,JSON.stringify(O));Z.value=O,this.segmentMetadataTrack_.addCue(Z)}}},o}(et.EventTarget);function Cu(){}var Tu,mv=function(o){return"string"!=typeof o?o:o.replace(/./,function(a){return a.toUpperCase()})},Cp=["video","audio"],lh=function(o,a){var s=a[o+"Buffer"];return s&&s.updating||a.queuePending[o]},uh=function p(o,a){if(0!==a.queue.length){var s=0,n=a.queue[s];if("mediaSource"===n.type)return void(!a.updating()&&"closed"!==a.mediaSource.readyState&&(a.queue.shift(),n.action(a),n.doneFn&&n.doneFn(),p("audio",a),p("video",a)));if("mediaSource"!==o&&a.ready()&&"closed"!==a.mediaSource.readyState&&!lh(o,a)){if(n.type!==o){if(null===(s=function(o,a){for(var s=0;s<a.length;s++){var n=a[s];if("mediaSource"===n.type)return null;if(n.type===o)return s}return null}(o,a.queue)))return;n=a.queue[s]}if(a.queue.splice(s,1),a.queuePending[o]=n,n.action(o,a),!n.doneFn)return a.queuePending[o]=null,void p(o,a)}}},Tp=function(o,a){var s=a[o+"Buffer"],n=mv(o);!s||(s.removeEventListener("updateend",a["on"+n+"UpdateEnd_"]),s.removeEventListener("error",a["on"+n+"Error_"]),a.codecs[o]=null,a[o+"Buffer"]=null)},sl=function(o,a){return o&&a&&-1!==Array.prototype.indexOf.call(o.sourceBuffers,a)},sa_appendBuffer=function(o,a,s){return function(n,i){var c=i[n+"Buffer"];if(sl(i.mediaSource,c)){i.logger_("Appending segment "+a.mediaIndex+"'s "+o.length+" bytes to "+n+"Buffer");try{c.appendBuffer(o)}catch(m){i.logger_("Error with code "+m.code+" "+(22===m.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+a.mediaIndex+" to "+n+"Buffer"),i.queuePending[n]=null,s(m)}}}},sa_remove=function(o,a){return function(s,n){var i=n[s+"Buffer"];if(sl(n.mediaSource,i)){n.logger_("Removing "+o+" to "+a+" from "+s+"Buffer");try{i.remove(o,a)}catch(c){n.logger_("Remove "+o+" to "+a+" from "+s+"Buffer failed")}}}},sa_timestampOffset=function(o){return function(a,s){var n=s[a+"Buffer"];!sl(s.mediaSource,n)||(s.logger_("Setting "+a+"timestampOffset to "+o),n.timestampOffset=o)}},sa_callback=function(o){return function(a,s){o()}},sa_endOfStream=function(o){return function(a){if("open"===a.mediaSource.readyState){a.logger_("Calling mediaSource endOfStream("+(o||"")+")");try{a.mediaSource.endOfStream(o)}catch(s){et.log.warn("Failed to call media source endOfStream",s)}}}},sa_duration=function(o){return function(a){a.logger_("Setting mediaSource duration to "+o);try{a.mediaSource.duration=o}catch(s){et.log.warn("Failed to set media source duration",s)}}},sa_addSourceBuffer=function(o,a){return function(s){var n=mv(o),i=ai(a);s.logger_("Adding "+o+"Buffer with codec "+a+" to mediaSource");var c=s.mediaSource.addSourceBuffer(i);c.addEventListener("updateend",s["on"+n+"UpdateEnd_"]),c.addEventListener("error",s["on"+n+"Error_"]),s.codecs[o]=a,s[o+"Buffer"]=c}},sa_removeSourceBuffer=function(o){return function(a){var s=a[o+"Buffer"];if(Tp(o,a),sl(a.mediaSource,s)){a.logger_("Removing "+o+"Buffer with codec "+a.codecs[o]+" from mediaSource");try{a.mediaSource.removeSourceBuffer(s)}catch(n){et.log.warn("Failed to removeSourceBuffer "+o+"Buffer",n)}}}},sa_changeType=function(o){return function(a,s){var n=s[a+"Buffer"],i=ai(o);!sl(s.mediaSource,n)||s.codecs[a]!==o&&(s.logger_("changing "+a+"Buffer codec from "+s.codecs[a]+" to "+o),n.changeType(i),s.codecs[a]=o)}},oa=function(o){var a=o.type,s=o.sourceUpdater;s.queue.push({type:a,action:o.action,doneFn:o.doneFn,name:o.name}),uh(a,s)},Ep=function(o,a){return function(s){if(a.queuePending[o]){var n=a.queuePending[o].doneFn;a.queuePending[o]=null,n&&n(a[o+"Error_"])}uh(o,a)}},h_=function(p){function o(s){var n;return(n=p.call(this)||this).mediaSource=s,n.sourceopenListener_=function(){return uh("mediaSource",ue(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=us("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Ep("video",ue(n)),n.onAudioUpdateEnd_=Ep("audio",ue(n)),n.onVideoError_=function(i){n.videoError_=i},n.onAudioError_=function(i){n.audioError_=i},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}j(o,p);var a=o.prototype;return a.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},a.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},a.hasInitializedAnyEme=function(){return this.initializedEme_},a.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},a.createSourceBuffers=function(n){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(n),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},a.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},a.addSourceBuffer=function(n,i){oa({type:"mediaSource",sourceUpdater:this,action:sa_addSourceBuffer(n,i),name:"addSourceBuffer"})},a.abort=function(n){oa({type:n,sourceUpdater:this,action:function(o,a){if("open"===a.mediaSource.readyState){var s=a[o+"Buffer"];if(sl(a.mediaSource,s)){a.logger_("calling abort on "+o+"Buffer");try{s.abort()}catch(n){et.log.warn("Failed to abort on "+o+"Buffer",n)}}}},name:"abort"})},a.removeSourceBuffer=function(n){this.canRemoveSourceBuffer()?oa({type:"mediaSource",sourceUpdater:this,action:sa_removeSourceBuffer(n),name:"removeSourceBuffer"}):et.log.error("removeSourceBuffer is not supported!")},a.canRemoveSourceBuffer=function(){return!et.browser.IE_VERSION&&!et.browser.IS_FIREFOX&&$().MediaSource&&$().MediaSource.prototype&&"function"==typeof $().MediaSource.prototype.removeSourceBuffer},o.canChangeType=function(){return $().SourceBuffer&&$().SourceBuffer.prototype&&"function"==typeof $().SourceBuffer.prototype.changeType},a.canChangeType=function(){return this.constructor.canChangeType()},a.changeType=function(n,i){this.canChangeType()?oa({type:n,sourceUpdater:this,action:sa_changeType(i),name:"changeType"}):et.log.error("changeType is not supported!")},a.addOrChangeSourceBuffers=function(n){var i=this;if(!n||"object"!=typeof n||0===Object.keys(n).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(n).forEach(function(c){var m=n[c];if(!i.hasCreatedSourceBuffers())return i.addSourceBuffer(c,m);i.canChangeType()&&i.changeType(c,m)})},a.appendBuffer=function(n,i){var c=this,m=n.segmentInfo,E=n.type,O=n.bytes;if(this.processedAppend_=!0,"audio"===E&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([n,i]),void this.logger_("delayed audio append of "+O.length+" until video append");if(oa({type:E,sourceUpdater:this,action:sa_appendBuffer(O,m||{mediaIndex:-1},i),doneFn:i,name:"appendBuffer"}),"video"===E){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var Z=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+Z.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,Z.forEach(function(q){c.appendBuffer.apply(c,q)})}},a.audioBuffered=function(){return sl(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:et.createTimeRange()},a.videoBuffered=function(){return sl(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:et.createTimeRange()},a.buffered=function(){var n=sl(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=sl(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!n?this.audioBuffered():n&&!i?this.videoBuffered():function(o,a){var s=null,n=null,i=0,c=[],m=[];if(!(o&&o.length&&a&&a.length))return et.createTimeRange();for(var E=o.length;E--;)c.push({time:o.start(E),type:"start"}),c.push({time:o.end(E),type:"end"});for(E=a.length;E--;)c.push({time:a.start(E),type:"start"}),c.push({time:a.end(E),type:"end"});for(c.sort(function(O,R){return O.time-R.time}),E=0;E<c.length;E++)"start"===c[E].type?2==++i&&(s=c[E].time):"end"===c[E].type&&1==--i&&(n=c[E].time),null!==s&&null!==n&&(m.push([s,n]),s=null,n=null);return et.createTimeRanges(m)}(this.audioBuffered(),this.videoBuffered())},a.setDuration=function(n,i){void 0===i&&(i=Cu),oa({type:"mediaSource",sourceUpdater:this,action:sa_duration(n),name:"duration",doneFn:i})},a.endOfStream=function(n,i){void 0===n&&(n=null),void 0===i&&(i=Cu),"string"!=typeof n&&(n=void 0),oa({type:"mediaSource",sourceUpdater:this,action:sa_endOfStream(n),name:"endOfStream",doneFn:i})},a.removeAudio=function(n,i,c){void 0===c&&(c=Cu),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?oa({type:"audio",sourceUpdater:this,action:sa_remove(n,i),doneFn:c,name:"remove"}):c()},a.removeVideo=function(n,i,c){void 0===c&&(c=Cu),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?oa({type:"video",sourceUpdater:this,action:sa_remove(n,i),doneFn:c,name:"remove"}):c()},a.updating=function(){return!(!lh("audio",this)&&!lh("video",this))},a.audioTimestampOffset=function(n){return void 0!==n&&this.audioBuffer&&this.audioTimestampOffset_!==n&&(oa({type:"audio",sourceUpdater:this,action:sa_timestampOffset(n),name:"timestampOffset"}),this.audioTimestampOffset_=n),this.audioTimestampOffset_},a.videoTimestampOffset=function(n){return void 0!==n&&this.videoBuffer&&this.videoTimestampOffset!==n&&(oa({type:"video",sourceUpdater:this,action:sa_timestampOffset(n),name:"timestampOffset"}),this.videoTimestampOffset_=n),this.videoTimestampOffset_},a.audioQueueCallback=function(n){!this.audioBuffer||oa({type:"audio",sourceUpdater:this,action:sa_callback(n),name:"callback"})},a.videoQueueCallback=function(n){!this.videoBuffer||oa({type:"video",sourceUpdater:this,action:sa_callback(n),name:"callback"})},a.dispose=function(){var n=this;this.trigger("dispose"),Cp.forEach(function(i){n.abort(i),n.canRemoveSourceBuffer()?n.removeSourceBuffer(i):n[i+"QueueCallback"](function(){return Tp(i,n)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},o}(et.EventTarget),vv=function(o){return decodeURIComponent(escape(String.fromCharCode.apply(null,o)))},Ug=new Uint8Array("\n\n".split("").map(function(p){return p.charCodeAt(0)})),yv=function(p){function o(s,n){var i;return void 0===n&&(n={}),(i=p.call(this,s,n)||this).mediaSource_=null,i.subtitlesTrack_=null,i.loaderType_="subtitle",i.featuresNativeTextTracks_=s.featuresNativeTextTracks,i.shouldSaveSegmentTimingInfo_=!1,i}j(o,p);var a=o.prototype;return a.createTransmuxer_=function(){return null},a.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return et.createTimeRanges();var n=this.subtitlesTrack_.cues;return et.createTimeRanges([[n[0].startTime,n[n.length-1].startTime]])},a.initSegmentForMap=function(n,i){if(void 0===i&&(i=!1),!n)return null;var c=Nd(n),m=this.initSegments_[c];if(i&&!m&&n.bytes){var O=new Uint8Array(Ug.byteLength+n.bytes.byteLength);O.set(n.bytes),O.set(Ug,n.bytes.byteLength),this.initSegments_[c]=m={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:O}}return m||n},a.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},a.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},a.track=function(n){return void 0===n||(this.subtitlesTrack_=n,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},a.remove=function(n,i){Ud(n,i,this.subtitlesTrack_)},a.fillBuffer_=function(){var n=this,i=this.chooseNextRequest_();if(i){if(null===this.syncController_.timestampOffsetForTimeline(i.timeline))return this.syncController_.one("timestampoffset",function(){n.state="READY",n.paused()||n.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(i)}},a.timestampOffsetForSegment_=function(){return null},a.chooseNextRequest_=function(){return this.skipEmptySegments_(p.prototype.chooseNextRequest_.call(this))},a.skipEmptySegments_=function(n){for(;n&&n.segment.empty;){if(n.mediaIndex+1>=n.playlist.segments.length){n=null;break}n=this.generateSegmentInfo_({playlist:n.playlist,mediaIndex:n.mediaIndex+1,startOfSegment:n.startOfSegment+n.duration,isSyncRequest:n.isSyncRequest})}return n},a.stopForError=function(n){this.error(n),this.state="READY",this.pause(),this.trigger("error")},a.segmentRequestFinished_=function(n,i,c){var m=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(i.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(n)return-101===n.code&&this.handleTimeout_(),-102===n.code?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(n);var E=this.pendingSegment_;this.saveBandwidthRelatedStats_(E.duration,i.stats),this.state="APPENDING",this.trigger("appending");var O=E.segment;if(O.map&&(O.map.bytes=i.map.bytes),E.bytes=i.bytes,"function"!=typeof $().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var R,Z=function(){m.subtitlesTrack_.tech_.off("vttjsloaded",R),m.stopForError({message:"Error loading vtt.js"})};return R=function(){m.subtitlesTrack_.tech_.off("vttjserror",Z),m.segmentRequestFinished_(n,i,c)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",R),void this.subtitlesTrack_.tech_.one("vttjserror",Z)}O.requested=!0;try{this.parseVTTCues_(E)}catch(q){return void this.stopForError({message:q.message})}if(this.updateTimeMapping_(E,this.syncController_.timelines[E.timeline],this.playlist_),E.timingInfo=E.cues.length?{start:E.cues[0].startTime,end:E.cues[E.cues.length-1].endTime}:{start:E.startOfSegment,end:E.startOfSegment+E.duration},E.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");E.byteLength=E.bytes.byteLength,this.mediaSecondsLoaded+=O.duration,E.cues.forEach(function(q){m.subtitlesTrack_.addCue(m.featuresNativeTextTracks_?new($().VTTCue)(q.startTime,q.endTime,q.text):q)}),function(o){var a=o.cues;if(a)for(var s=0;s<a.length;s++){for(var n=[],i=0,c=0;c<a.length;c++)a[s].startTime===a[c].startTime&&a[s].endTime===a[c].endTime&&a[s].text===a[c].text&&++i>1&&n.push(a[c]);n.length&&n.forEach(function(m){return o.removeCue(m)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},a.handleData_=function(){},a.updateTimingInfoEnd_=function(){},a.parseVTTCues_=function(n){var i,c=!1;"function"==typeof $().TextDecoder?i=new($().TextDecoder)("utf8"):(i=$().WebVTT.StringDecoder(),c=!0);var m=new($().WebVTT.Parser)($(),$().vttjs,i);if(n.cues=[],n.timestampmap={MPEGTS:0,LOCAL:0},m.oncue=n.cues.push.bind(n.cues),m.ontimestampmap=function(R){n.timestampmap=R},m.onparsingerror=function(R){et.log.warn("Error encountered when parsing cues: "+R.message)},n.segment.map){var E=n.segment.map.bytes;c&&(E=vv(E)),m.parse(E)}var O=n.bytes;c&&(O=vv(O)),m.parse(O),m.flush()},a.updateTimeMapping_=function(n,i,c){var m=n.segment;if(i){if(!n.cues.length)return void(m.empty=!0);var E=n.timestampmap,O=E.MPEGTS/Gt.ONE_SECOND_IN_TS-E.LOCAL+i.mapping;n.cues.forEach(function(q){q.startTime+=O,q.endTime+=O}),c.syncInfo||(c.syncInfo={mediaSequence:c.mediaSequence+n.mediaIndex,time:Math.min(n.cues[0].startTime,n.cues[n.cues.length-1].startTime-m.duration)})}},o}(ah),_v=function(o,a){for(var s=o.cues,n=0;n<s.length;n++){var i=s[n];if(a>=i.adStartTime&&a<=i.adEndTime)return i}return null},Rl=[{name:"VOD",run:function(o,a,s,n,i){return s!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:"ProgramDateTime",run:function(o,a,s,n,i){if(!Object.keys(o.timelineToDatetimeMappings).length)return null;var c=null,m=null,E=Bf(a);i=i||0;for(var O=0;O<E.length;O++){var Z=E[a.endList||0===i?O:E.length-(O+1)],q=Z.segment,ve=o.timelineToDatetimeMappings[q.timeline];if(ve&&q.dateTimeObject){var xe=q.dateTimeObject.getTime()/1e3+ve;if(q.parts&&"number"==typeof Z.partIndex)for(var we=0;we<Z.partIndex;we++)xe+=q.parts[we].duration;var st=Math.abs(i-xe);if(null!==m&&(0===st||m<st))break;m=st,c={time:xe,segmentIndex:Z.segmentIndex,partIndex:Z.partIndex}}}return c}},{name:"Segment",run:function(o,a,s,n,i){var c=null,m=null;i=i||0;for(var E=Bf(a),O=0;O<E.length;O++){var Z=E[a.endList||0===i?O:E.length-(O+1)],q=Z.segment,ve=Z.part&&Z.part.start||q&&q.start;if(q.timeline===n&&void 0!==ve){var Me=Math.abs(i-ve);if(null!==m&&m<Me)break;(!c||null===m||m>=Me)&&(m=Me,c={time:ve,segmentIndex:Z.segmentIndex,partIndex:Z.partIndex})}}return c}},{name:"Discontinuity",run:function(o,a,s,n,i){var c=null;if(i=i||0,a.discontinuityStarts&&a.discontinuityStarts.length)for(var m=null,E=0;E<a.discontinuityStarts.length;E++){var O=a.discontinuityStarts[E],Z=o.discontinuities[a.discontinuitySequence+E+1];if(Z){var q=Math.abs(i-Z.time);if(null!==m&&m<q)break;(!c||null===m||m>=q)&&(m=q,c={time:Z.time,segmentIndex:O,partIndex:null})}}return c}},{name:"Playlist",run:function(o,a,s,n,i){return a.syncInfo?{time:a.syncInfo.time,segmentIndex:a.syncInfo.mediaSequence-a.mediaSequence,partIndex:null}:null}}],xp=function(p){function o(s){var n;return(n=p.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=us("SyncController"),n}j(o,p);var a=o.prototype;return a.getSyncPoint=function(n,i,c,m){var E=this.runStrategies_(n,i,c,m);return E.length?this.selectSyncPoint_(E,{key:"time",value:m}):null},a.getExpiredTime=function(n,i){if(!n||!n.segments)return null;var c=this.runStrategies_(n,i,n.discontinuitySequence,0);if(!c.length)return null;var m=this.selectSyncPoint_(c,{key:"segmentIndex",value:0});return m.segmentIndex>0&&(m.time*=-1),Math.abs(m.time+vu({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:m.segmentIndex,endIndex:0}))},a.runStrategies_=function(n,i,c,m){for(var E=[],O=0;O<Rl.length;O++){var R=Rl[O],Z=R.run(this,n,i,c,m);Z&&(Z.strategy=R.name,E.push({strategy:R.name,syncPoint:Z}))}return E},a.selectSyncPoint_=function(n,i){for(var c=n[0].syncPoint,m=Math.abs(n[0].syncPoint[i.key]-i.value),E=n[0].strategy,O=1;O<n.length;O++){var R=Math.abs(n[O].syncPoint[i.key]-i.value);R<m&&(m=R,c=n[O].syncPoint,E=n[O].strategy)}return this.logger_("syncPoint for ["+i.key+": "+i.value+"] chosen with strategy ["+E+"]: [time:"+c.time+", segmentIndex:"+c.segmentIndex+("number"==typeof c.partIndex?",partIndex:"+c.partIndex:"")+"]"),c},a.saveExpiredSegmentInfo=function(n,i){var c=i.mediaSequence-n.mediaSequence;if(c>86400)et.log.warn("Not saving expired segment info. Media sequence gap "+c+" is too large.");else for(var m=c-1;m>=0;m--){var E=n.segments[m];if(E&&void 0!==E.start){i.syncInfo={mediaSequence:n.mediaSequence+m,time:E.start},this.logger_("playlist refresh sync: [time:"+i.syncInfo.time+", mediaSequence: "+i.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},a.setDateTimeMappingForStart=function(n){if(this.timelineToDatetimeMappings={},n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var i=n.segments[0],c=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-c}},a.saveSegmentTimingInfo=function(n){var i=n.segmentInfo,c=n.shouldSaveTimelineMapping,m=this.calculateSegmentTimeMapping_(i,i.timingInfo,c),E=i.segment;m&&(this.saveDiscontinuitySyncInfo_(i),i.playlist.syncInfo||(i.playlist.syncInfo={mediaSequence:i.playlist.mediaSequence+i.mediaIndex,time:E.start}));var O=E.dateTimeObject;E.discontinuity&&c&&O&&(this.timelineToDatetimeMappings[E.timeline]=-O.getTime()/1e3)},a.timestampOffsetForTimeline=function(n){return void 0===this.timelines[n]?null:this.timelines[n].time},a.mappingForTimeline=function(n){return void 0===this.timelines[n]?null:this.timelines[n].mapping},a.calculateSegmentTimeMapping_=function(n,i,c){var R,Z,m=n.segment,E=n.part,O=this.timelines[n.timeline];if("number"==typeof n.timestampOffset)O={time:n.startOfSegment,mapping:n.startOfSegment-i.start},c&&(this.timelines[n.timeline]=O,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": [time: "+O.time+"] [mapping: "+O.mapping+"]")),R=n.startOfSegment,Z=i.end+O.mapping;else{if(!O)return!1;R=i.start+O.mapping,Z=i.end+O.mapping}return E&&(E.start=R,E.end=Z),(!m.start||R<m.start)&&(m.start=R),m.end=Z,!0},a.saveDiscontinuitySyncInfo_=function(n){var i=n.playlist,c=n.segment;if(c.discontinuity)this.discontinuities[c.timeline]={time:c.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(var m=0;m<i.discontinuityStarts.length;m++){var E=i.discontinuityStarts[m],O=i.discontinuitySequence+m+1,R=E-n.mediaIndex,Z=Math.abs(R);if(!this.discontinuities[O]||this.discontinuities[O].accuracy>Z){var q;q=R<0?c.start-vu({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:n.mediaIndex,endIndex:E}):c.end+vu({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:n.mediaIndex+1,endIndex:E}),this.discontinuities[O]={time:q,accuracy:Z}}}},a.dispose=function(){this.trigger("dispose"),this.off()},o}(et.EventTarget),p_=function(p){function o(){var s;return(s=p.call(this)||this).pendingTimelineChanges_={},s.lastTimelineChanges_={},s}j(o,p);var a=o.prototype;return a.clearPendingTimelineChange=function(n){this.pendingTimelineChanges_[n]=null,this.trigger("pendingtimelinechange")},a.pendingTimelineChange=function(n){var i=n.type,c=n.from,m=n.to;return"number"==typeof c&&"number"==typeof m&&(this.pendingTimelineChanges_[i]={type:i,from:c,to:m},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[i]},a.lastTimelineChange=function(n){var i=n.type,c=n.from,m=n.to;return"number"==typeof c&&"number"==typeof m&&(this.lastTimelineChanges_[i]={type:i,from:c,to:m},delete this.pendingTimelineChanges_[i],this.trigger("timelinechange")),this.lastTimelineChanges_[i]},a.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},o}(et.EventTarget),Cb=mt(Tt(Ct(function(){function p(xe,we,st){return xe(st={path:we,exports:{},require:function(bt,xt){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},st.exports),st.exports}var a=p(function(xe){function we(it,bt){for(var xt=0;xt<bt.length;xt++){var wt=bt[xt];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(it,wt.key,wt)}}xe.exports=function(it,bt,xt){return bt&&we(it.prototype,bt),xt&&we(it,xt),it},xe.exports.default=xe.exports,xe.exports.__esModule=!0}),s=p(function(xe){function we(st,it){return xe.exports=we=Object.setPrototypeOf||function(xt,wt){return xt.__proto__=wt,xt},xe.exports.default=xe.exports,xe.exports.__esModule=!0,we(st,it)}xe.exports=we,xe.exports.default=xe.exports,xe.exports.__esModule=!0}),n=p(function(xe){xe.exports=function(st,it){st.prototype=Object.create(it.prototype),st.prototype.constructor=st,s(st,it)},xe.exports.default=xe.exports,xe.exports.__esModule=!0}),i=function(){function xe(){this.listeners={}}var we=xe.prototype;return we.on=function(it,bt){this.listeners[it]||(this.listeners[it]=[]),this.listeners[it].push(bt)},we.off=function(it,bt){if(!this.listeners[it])return!1;var xt=this.listeners[it].indexOf(bt);return this.listeners[it]=this.listeners[it].slice(0),this.listeners[it].splice(xt,1),xt>-1},we.trigger=function(it){var bt=this.listeners[it];if(bt)if(2===arguments.length)for(var xt=bt.length,wt=0;wt<xt;++wt)bt[wt].call(this,arguments[1]);else for(var zt=Array.prototype.slice.call(arguments,1),Jt=bt.length,Lt=0;Lt<Jt;++Lt)bt[Lt].apply(this,zt)},we.dispose=function(){this.listeners={}},we.pipe=function(it){this.on("data",function(bt){it.push(bt)})},xe}(),E=null,O=function(){function xe(st){E||(E=function(){var wt,zt,Jt,Yt,hr,ii,si,Cr,we=[[[],[],[],[],[]],[[],[],[],[],[]]],st=we[0],it=we[1],bt=st[4],xt=it[4],Lt=[],kt=[];for(wt=0;wt<256;wt++)kt[(Lt[wt]=wt<<1^283*(wt>>7))^wt]=wt;for(zt=Jt=0;!bt[zt];zt^=Yt||1,Jt=kt[Jt]||1)for(bt[zt]=ii=(ii=Jt^Jt<<1^Jt<<2^Jt<<3^Jt<<4)>>8^255&ii^99,xt[ii]=zt,Cr=16843009*Lt[hr=Lt[Yt=Lt[zt]]]^65537*hr^257*Yt^16843008*zt,si=257*Lt[ii]^16843008*ii,wt=0;wt<4;wt++)st[wt][zt]=si=si<<24^si>>>8,it[wt][ii]=Cr=Cr<<24^Cr>>>8;for(wt=0;wt<5;wt++)st[wt]=st[wt].slice(0),it[wt]=it[wt].slice(0);return we}()),this._tables=[[E[0][0].slice(),E[0][1].slice(),E[0][2].slice(),E[0][3].slice(),E[0][4].slice()],[E[1][0].slice(),E[1][1].slice(),E[1][2].slice(),E[1][3].slice(),E[1][4].slice()]];var it,bt,xt,wt=this._tables[0][4],zt=this._tables[1],Jt=st.length,Lt=1;if(4!==Jt&&6!==Jt&&8!==Jt)throw new Error("Invalid aes key size");var kt=st.slice(0),Yt=[];for(this._key=[kt,Yt],it=Jt;it<4*Jt+28;it++)xt=kt[it-1],(it%Jt==0||8===Jt&&it%Jt==4)&&(xt=wt[xt>>>24]<<24^wt[xt>>16&255]<<16^wt[xt>>8&255]<<8^wt[255&xt],it%Jt==0&&(xt=xt<<8^xt>>>24^Lt<<24,Lt=Lt<<1^283*(Lt>>7))),kt[it]=kt[it-Jt]^xt;for(bt=0;it;bt++,it--)xt=kt[3&bt?it:it-4],Yt[bt]=it<=4||bt<4?xt:zt[0][wt[xt>>>24]]^zt[1][wt[xt>>16&255]]^zt[2][wt[xt>>8&255]]^zt[3][wt[255&xt]]}return xe.prototype.decrypt=function(it,bt,xt,wt,zt,Jt){var ii,si,Cr,La,Lt=this._key[1],kt=it^Lt[0],Yt=wt^Lt[1],hr=xt^Lt[2],Qr=bt^Lt[3],Bc=Lt.length/4-2,Ro=4,ns=this._tables[1],aa=ns[0],Gi=ns[1],la=ns[2],ua=ns[3],$s=ns[4];for(La=0;La<Bc;La++)ii=aa[kt>>>24]^Gi[Yt>>16&255]^la[hr>>8&255]^ua[255&Qr]^Lt[Ro],si=aa[Yt>>>24]^Gi[hr>>16&255]^la[Qr>>8&255]^ua[255&kt]^Lt[Ro+1],Cr=aa[hr>>>24]^Gi[Qr>>16&255]^la[kt>>8&255]^ua[255&Yt]^Lt[Ro+2],Qr=aa[Qr>>>24]^Gi[kt>>16&255]^la[Yt>>8&255]^ua[255&hr]^Lt[Ro+3],Ro+=4,kt=ii,Yt=si,hr=Cr;for(La=0;La<4;La++)zt[(3&-La)+Jt]=$s[kt>>>24]<<24^$s[Yt>>16&255]<<16^$s[hr>>8&255]<<8^$s[255&Qr]^Lt[Ro++],ii=kt,kt=Yt,Yt=hr,hr=Qr,Qr=ii},xe}(),R=function(xe){function we(){var it;return(it=xe.call(this,i)||this).jobs=[],it.delay=1,it.timeout_=null,it}n(we,xe);var st=we.prototype;return st.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},st.push=function(bt){this.jobs.push(bt),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},we}(i),Z=function(we){return we<<24|(65280&we)<<8|(16711680&we)>>8|we>>>24},ve=function(){function xe(st,it,bt,xt){var wt=xe.STEP,zt=new Int32Array(st.buffer),Jt=new Uint8Array(st.byteLength),Lt=0;for(this.asyncStream_=new R,this.asyncStream_.push(this.decryptChunk_(zt.subarray(Lt,Lt+wt),it,bt,Jt)),Lt=wt;Lt<zt.length;Lt+=wt)bt=new Uint32Array([Z(zt[Lt-4]),Z(zt[Lt-3]),Z(zt[Lt-2]),Z(zt[Lt-1])]),this.asyncStream_.push(this.decryptChunk_(zt.subarray(Lt,Lt+wt),it,bt,Jt));this.asyncStream_.push(function(){xt(null,function(xe){return xe.subarray(0,xe.byteLength-xe[xe.byteLength-1])}(Jt))})}return xe.prototype.decryptChunk_=function(it,bt,xt,wt){return function(){var zt=function(we,st,it){var Jt,Lt,kt,Yt,hr,Qr,ii,si,Cr,bt=new Int32Array(we.buffer,we.byteOffset,we.byteLength>>2),xt=new O(Array.prototype.slice.call(st)),wt=new Uint8Array(we.byteLength),zt=new Int32Array(wt.buffer);for(Jt=it[0],Lt=it[1],kt=it[2],Yt=it[3],Cr=0;Cr<bt.length;Cr+=4)hr=Z(bt[Cr]),Qr=Z(bt[Cr+1]),ii=Z(bt[Cr+2]),si=Z(bt[Cr+3]),xt.decrypt(hr,Qr,ii,si,zt,Cr),zt[Cr]=Z(zt[Cr]^Jt),zt[Cr+1]=Z(zt[Cr+1]^Lt),zt[Cr+2]=Z(zt[Cr+2]^kt),zt[Cr+3]=Z(zt[Cr+3]^Yt),Jt=hr,Lt=Qr,kt=ii,Yt=si;return wt}(it,bt,xt);wt.set(zt,it.byteOffset)}},a(xe,null,[{key:"STEP",get:function(){return 32e3}}]),xe}();self.onmessage=function(xe){var we=xe.data,st=new Uint8Array(we.encrypted.bytes,we.encrypted.byteOffset,we.encrypted.byteLength),it=new Uint32Array(we.key.bytes,we.key.byteOffset,we.key.byteLength/4),bt=new Uint32Array(we.iv.bytes,we.iv.byteOffset,we.iv.byteLength/4);new ve(st,it,bt,function(xt,wt){self.postMessage(function(we){var st={};return Object.keys(we).forEach(function(it){var bt=we[it];st[it]=ArrayBuffer.isView(bt)?{bytes:bt.buffer,byteOffset:bt.byteOffset,byteLength:bt.byteLength}:bt}),st}({source:we.source,decrypted:wt}),[wt.buffer])})}}))),jd=function(o){var a=o.default?"main":"alternative";return o.characteristics&&o.characteristics.indexOf("public.accessibility.describes-video")>=0&&(a="main-desc"),a},ch=function(o,a){o.abort(),o.pause(),a&&a.activePlaylistLoader&&(a.activePlaylistLoader.pause(),a.activePlaylistLoader=null)},Fc=function(o,a){a.activePlaylistLoader=o,o.load()},fh={AUDIO:function(o,a){return function(){var n=a.mediaTypes[o],i=a.blacklistCurrentPlaylist;ch(a.segmentLoaders[o],n);var c=n.activeTrack(),m=n.activeGroup(),E=(m.filter(function(Z){return Z.default})[0]||m[0]).id,O=n.tracks[E];if(c!==O){for(var R in et.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[R].enabled=n.tracks[R]===O;n.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(o,a){return function(){var s=a.segmentLoaders[o],n=a.mediaTypes[o];et.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ch(s,n);var i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}}},Tv={AUDIO:function(o,a,s){if(a){var n=s.tech,i=s.requestOptions,c=s.segmentLoaders[o];a.on("loadedmetadata",function(){var m=a.media();c.playlist(m,i),(!n.paused()||m.endList&&"none"!==n.preload())&&c.load()}),a.on("loadedplaylist",function(){c.playlist(a.media(),i),n.paused()||c.load()}),a.on("error",fh[o](o,s))}},SUBTITLES:function(o,a,s){var n=s.tech,i=s.requestOptions,c=s.segmentLoaders[o],m=s.mediaTypes[o];a.on("loadedmetadata",function(){var E=a.media();c.playlist(E,i),c.track(m.activeTrack()),(!n.paused()||E.endList&&"none"!==n.preload())&&c.load()}),a.on("loadedplaylist",function(){c.playlist(a.media(),i),n.paused()||c.load()}),a.on("error",fh[o](o,s))}},Ev={AUDIO:function(o,a){var s=a.vhs,n=a.sourceType,i=a.segmentLoaders[o],c=a.requestOptions,m=a.master.mediaGroups,E=a.mediaTypes[o],O=E.groups,R=E.tracks,Z=E.logger_,q=a.masterPlaylistLoader,ve=yu(q.master);for(var Me in(!m[o]||0===Object.keys(m[o]).length)&&(m[o]={main:{default:{default:!0}}},ve&&(m[o].main.default.playlists=q.master.playlists)),m[o])for(var xe in O[Me]||(O[Me]=[]),m[o][Me]){var we=m[o][Me][xe],st=void 0;if(ve?(Z("AUDIO group '"+Me+"' label '"+xe+"' is a master playlist"),we.isMasterPlaylist=!0,st=null):st="vhs-json"===n&&we.playlists?new Ju(we.playlists[0],s,c):we.resolvedUri?new Ju(we.resolvedUri,s,c):we.playlists&&"dash"===n?new K(we.playlists[0],s,c,q):null,we=et.mergeOptions({id:xe,playlistLoader:st},we),Tv[o](o,we.playlistLoader,a),O[Me].push(we),void 0===R[xe]){var it=new et.AudioTrack({id:xe,kind:jd(we),enabled:!1,language:we.language,default:we.default,label:xe});R[xe]=it}}i.on("error",fh[o](o,a))},SUBTITLES:function(o,a){var s=a.tech,n=a.vhs,i=a.sourceType,c=a.segmentLoaders[o],m=a.requestOptions,E=a.master.mediaGroups,O=a.mediaTypes[o],R=O.groups,Z=O.tracks,q=a.masterPlaylistLoader;for(var ve in E[o])for(var Me in R[ve]||(R[ve]=[]),E[o][ve])if(!E[o][ve][Me].forced){var xe=E[o][ve][Me],we=void 0;if("hls"===i)we=new Ju(xe.resolvedUri,n,m);else if("dash"===i){if(!xe.playlists.filter(function(bt){return bt.excludeUntil!==1/0}).length)return;we=new K(xe.playlists[0],n,m,q)}else"vhs-json"===i&&(we=new Ju(xe.playlists?xe.playlists[0]:xe.resolvedUri,n,m));if(xe=et.mergeOptions({id:Me,playlistLoader:we},xe),Tv[o](o,xe.playlistLoader,a),R[ve].push(xe),void 0===Z[Me]){var it=s.addRemoteTextTrack({id:Me,kind:"subtitles",default:xe.default&&xe.autoselect,language:xe.language,label:Me},!1).track;Z[Me]=it}}c.on("error",fh[o](o,a))},"CLOSED-CAPTIONS":function(o,a){var s=a.tech,n=a.master.mediaGroups,i=a.mediaTypes[o],c=i.groups,m=i.tracks;for(var E in n[o])for(var O in c[E]||(c[E]=[]),n[o][E]){var R=n[o][E][O];if(/^(?:CC|SERVICE)/.test(R.instreamId)){var Z=s.options_.vhs&&s.options_.vhs.captionServices||{},q={label:O,language:R.language,instreamId:R.instreamId,default:R.default&&R.autoselect};if(Z[q.instreamId]&&(q=et.mergeOptions(q,Z[q.instreamId])),void 0===q.default&&delete q.default,c[E].push(et.mergeOptions({id:O},R)),void 0===m[O]){var ve=s.addRemoteTextTrack({id:q.instreamId,kind:"captions",default:q.default,language:q.language,label:q.label},!1).track;m[O]=ve}}}}},v_=function p(o,a){for(var s=0;s<o.length;s++)if(Md(a,o[s])||o[s].playlists&&p(o[s].playlists,a))return!0;return!1},y_={AUDIO:function(o,a){return function(){var s=a.mediaTypes[o].tracks;for(var n in s)if(s[n].enabled)return s[n];return null}},SUBTITLES:function(o,a){return function(){var s=a.mediaTypes[o].tracks;for(var n in s)if("showing"===s[n].mode||"hidden"===s[n].mode)return s[n];return null}}},b_=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],zd=function(o){return this.audioSegmentLoader_[o]+this.mainSegmentLoader_[o]},T_=function(p){function o(s){var n;n=p.call(this)||this;var i=s.src,c=s.handleManifestRedirects,m=s.withCredentials,E=s.tech,O=s.bandwidth,R=s.externVhs,Z=s.useCueTags,q=s.blacklistDuration,ve=s.enableLowInitialPlaylist,Me=s.sourceType,xe=s.cacheEncryptionKeys,we=s.experimentalBufferBasedABR,st=s.experimentalLeastPixelDiffSelector,it=s.captionServices;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");var bt=s.maxPlaylistRetries;null==bt&&(bt=1/0),Tu=R,n.experimentalBufferBasedABR=Boolean(we),n.experimentalLeastPixelDiffSelector=Boolean(st),n.withCredentials=m,n.tech_=E,n.vhs_=E.vhs,n.sourceType_=Me,n.useCueTags_=Z,n.blacklistDuration=q,n.maxPlaylistRetries=bt,n.enableLowInitialPlaylist=ve,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:m,handleManifestRedirects:c,maxPlaylistRetries:bt,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=function(){var o={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(a){o[a]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Cu,activeTrack:Cu,getActiveGroup:Cu,onGroupChanged:Cu,onTrackChanged:Cu,lastTrack_:null,logger_:us("MediaGroups["+a+"]")}}),o}(),n.mediaSource=new($().MediaSource),n.handleDurationChange_=n.handleDurationChange_.bind(ue(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(ue(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(ue(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=et.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new xp(s),n.segmentMetadataTrack_=E.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new Cb,n.sourceUpdater_=new h_(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new p_;var xt={vhs:n.vhs_,parse708captions:s.parse708captions,captionServices:it,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:O,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:xe,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:s.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new K(i,n.vhs_,n.requestOptions_):new Ju(i,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new ah(et.mergeOptions(xt,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),s),n.audioSegmentLoader_=new ah(et.mergeOptions(xt,{loaderType:"audio"}),s),n.subtitleSegmentLoader_=new yv(et.mergeOptions(xt,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),s),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),b_.forEach(function(zt){n[zt+"_"]=zd.bind(ue(n),zt)}),n.logger_=us("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var wt="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(wt,function(){var zt=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-zt,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}j(o,p);var a=o.prototype;return a.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},a.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},a.appendsToLoadedData_=function(){var n=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return-1===n||-1===i?-1:n+i},a.timeToLoadedData_=function(){return this.timeToLoadedData__},a.checkABR_=function(){var n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,"abr")},a.switchMedia_=function(n,i,c){var m=this.media(),E=m&&(m.id||m.uri),O=n.id||n.uri;E&&E!==O&&(this.logger_("switch media "+E+" -> "+O+" from "+i),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+i})),this.masterPlaylistLoader_.media(n,c)},a.startABRTimer_=function(){var n=this;this.stopABRTimer_(),this.abrTimer_=$().setInterval(function(){return n.checkABR_()},250)},a.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||($().clearInterval(this.abrTimer_),this.abrTimer_=null)},a.getAudioTrackPlaylists_=function(){var n=this.master(),i=n&&n.playlists||[];if(!n||!n.mediaGroups||!n.mediaGroups.AUDIO)return i;var E,c=n.mediaGroups.AUDIO,m=Object.keys(c);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)E=this.mediaTypes_.AUDIO.activeTrack();else{var O=c.main||m.length&&c[m[0]];for(var R in O)if(O[R].default){E={label:R};break}}if(!E)return i;var Z=[];for(var q in c)if(c[q][E.label]){var ve=c[q][E.label];if(ve.playlists&&ve.playlists.length)Z.push.apply(Z,ve.playlists);else if(ve.uri)Z.push(ve);else if(n.playlists.length)for(var Me=0;Me<n.playlists.length;Me++){var xe=n.playlists[Me];xe.attributes&&xe.attributes.AUDIO&&xe.attributes.AUDIO===q&&Z.push(xe)}}return Z.length?Z:i},a.setupMasterPlaylistLoaderListeners_=function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var i=n.masterPlaylistLoader_.media(),c=1.5*i.targetDuration*1e3;n.requestOptions_.timeout=Dd(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:c,i.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(i,n.requestOptions_),n.mainSegmentLoader_.load()),function(o){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(Me){Ev[Me](Me,o)});var a=o.mediaTypes,s=o.masterPlaylistLoader,n=o.tech,i=o.vhs,c=o.segmentLoaders,m=c.AUDIO,E=c.main;["AUDIO","SUBTITLES"].forEach(function(Me){a[Me].activeGroup=function(o,a){return function(s){var i=a.mediaTypes[o].groups,c=a.masterPlaylistLoader.media();if(!c)return null;var m=null;c.attributes[o]&&(m=i[c.attributes[o]]);var E=Object.keys(i);if(!m)if("AUDIO"===o&&E.length>1&&yu(a.master))for(var O=0;O<E.length;O++){var R=i[E[O]];if(v_(R,c)){m=R;break}}else i.main?m=i.main:1===E.length&&(m=i[E[0]]);return void 0===s?m:null!==s&&m&&m.filter(function(Z){return Z.id===s.id})[0]||null}}(Me,o),a[Me].activeTrack=y_[Me](Me,o),a[Me].onGroupChanged=function(o,a){return function(){var s=a.segmentLoaders,n=s[o],i=s.main,c=a.mediaTypes[o],m=c.activeTrack(),E=c.getActiveGroup(),O=c.activePlaylistLoader,R=c.lastGroup_;if((!E||!R||E.id!==R.id)&&(c.lastGroup_=E,c.lastTrack_=m,ch(n,c),E&&!E.isMasterPlaylist)){if(!E.playlistLoader)return void(O&&i.resetEverything());n.resyncLoader(),Fc(E.playlistLoader,c)}}}(Me,o),a[Me].onGroupChanging=function(o,a){return function(){var s=a.segmentLoaders[o];a.mediaTypes[o].lastGroup_=null,s.abort(),s.pause()}}(Me,o),a[Me].onTrackChanged=function(o,a){return function(){var s=a.masterPlaylistLoader,n=a.segmentLoaders,i=n[o],c=n.main,m=a.mediaTypes[o],E=m.activeTrack(),O=m.getActiveGroup(),R=m.activePlaylistLoader,Z=m.lastTrack_;if((!Z||!E||Z.id!==E.id)&&(m.lastGroup_=O,m.lastTrack_=E,ch(i,m),O)){if(O.isMasterPlaylist){if(!E||!Z||E.id===Z.id)return;var q=a.vhs.masterPlaylistController_,ve=q.selectPlaylist();if(q.media()===ve)return;return m.logger_("track change. Switching master audio from "+Z.id+" to "+E.id),s.pause(),c.resetEverything(),void q.fastQualityChange_(ve)}if("AUDIO"===o){if(!O.playlistLoader)return c.setAudio(!0),void c.resetEverything();i.setAudio(!0),c.setAudio(!1)}if(R===O.playlistLoader)return void Fc(O.playlistLoader,m);i.track&&i.track(E),i.resetEverything(),Fc(O.playlistLoader,m)}}}(Me,o),a[Me].getActiveGroup=function(o,a){var s=a.mediaTypes;return function(){var n=s[o].activeTrack();return n?s[o].activeGroup(n):null}}(Me,o)});var O=a.AUDIO.activeGroup();if(O){var R=(O.filter(function(Me){return Me.default})[0]||O[0]).id;a.AUDIO.tracks[R].enabled=!0,a.AUDIO.onGroupChanged(),a.AUDIO.onTrackChanged(),a.AUDIO.getActiveGroup().playlistLoader?(E.setAudio(!1),m.setAudio(!0)):E.setAudio(!0)}s.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(Me){return a[Me].onGroupChanged()})}),s.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(Me){return a[Me].onGroupChanging()})});var q=function(){a.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};for(var ve in n.audioTracks().addEventListener("change",q),n.remoteTextTracks().addEventListener("change",a.SUBTITLES.onTrackChanged),i.on("dispose",function(){n.audioTracks().removeEventListener("change",q),n.remoteTextTracks().removeEventListener("change",a.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),a.AUDIO.tracks)n.audioTracks().addTrack(a.AUDIO.tracks[ve])}({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,vhs:n.vhs_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),i),n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){n.loadOnPlay_&&n.tech_.off("play",n.loadOnPlay_);var i=n.masterPlaylistLoader_.media();if(!i){var c;if(n.excludeUnsupportedVariants_(),n.enableLowInitialPlaylist&&(c=n.selectInitialPlaylist()),c||(c=n.selectPlaylist()),!c||!n.shouldSwitchToMedia_(c))return;if(n.initialMedia_=c,n.switchMedia_(n.initialMedia_,"initial"),"vhs-json"!==n.sourceType_||!n.initialMedia_.segments)return;i=n.initialMedia_}n.handleUpdatedMediaPlaylist(i)}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var i=n.masterPlaylistLoader_.media(),c=1.5*i.targetDuration*1e3;n.requestOptions_.timeout=Dd(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:c,n.mainSegmentLoader_.playlist(i,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var i=n.masterPlaylistLoader_.media();"playlist-unchanged"!==i.lastExcludeReason_&&n.stuckAtPlaylistEnd_(i)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},a.handleUpdatedMediaPlaylist=function(n){this.useCueTags_&&this.updateAdCues_(n),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.updateDuration(!n.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},a.triggerPresenceUsage_=function(n,i){var c=n.mediaGroups||{},m=!0,E=Object.keys(c.AUDIO);for(var O in c.AUDIO)for(var R in c.AUDIO[O])c.AUDIO[O][R].uri||(m=!1);m&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(c.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Tu.Playlist.isAes(i)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),E.length&&Object.keys(c.AUDIO[E[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},a.shouldSwitchToMedia_=function(n){var i=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,c=this.tech_.currentTime(),m=this.bufferLowWaterLine(),E=this.bufferHighWaterLine();return function(o){var a=o.currentPlaylist,s=o.buffered,n=o.currentTime,i=o.nextPlaylist,c=o.bufferLowWaterLine,m=o.bufferHighWaterLine,E=o.duration,O=o.experimentalBufferBasedABR,R=o.log;if(!i)return et.log.warn("We received no playlist to switch to. Please check your stream."),!1;var Z="allowing switch "+(a&&a.id||"null")+" -> "+i.id;if(!a)return R(Z+" as current playlist is not set"),!0;if(i.id===a.id)return!1;var q=Boolean(Li(s,n).length);if(!a.endList)return q||"number"!=typeof a.partTargetDuration?(R(Z+" as current playlist is live"),!0):(R("not "+Z+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var ve=Lf(s,n),Me=O?de.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:de.MAX_BUFFER_LOW_WATER_LINE;if(E<Me)return R(Z+" as duration < max low water line ("+E+" < "+Me+")"),!0;var xe=i.attributes.BANDWIDTH,we=a.attributes.BANDWIDTH;if(xe<we&&(!O||ve<m)){var st=Z+" as next bandwidth < current bandwidth ("+xe+" < "+we+")";return O&&(st+=" and forwardBuffer < bufferHighWaterLine ("+ve+" < "+m+")"),R(st),!0}if((!O||xe>we)&&ve>=c){var it=Z+" as forwardBuffer >= bufferLowWaterLine ("+ve+" >= "+c+")";return O&&(it+=" and next bandwidth > current bandwidth ("+xe+" > "+we+")"),R(it),!0}return R("not "+Z+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:c,currentPlaylist:i,nextPlaylist:n,bufferLowWaterLine:m,bufferHighWaterLine:E,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},a.setupSegmentLoaderListeners_=function(){var n=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var c=n.selectPlaylist();n.shouldSwitchToMedia_(c)&&n.switchMedia_(c,"bandwidthupdate"),n.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){n.error=n.mainSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){n.error=n.audioSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){n.logger_("main segment loader ended"),n.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(c){n.experimentalBufferBasedABR||(n.delegateLoaders_("all",["abort"]),n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))});var i=function(){if(!n.sourceUpdater_.hasCreatedSourceBuffers())return n.tryToCreateSourceBuffers_();var m=n.getCodecsOrExclude_();!m||n.sourceUpdater_.addOrChangeSourceBuffers(m)};this.mainSegmentLoader_.on("trackinfo",i),this.audioSegmentLoader_.on("trackinfo",i),this.mainSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){n.logger_("audioSegmentLoader ended"),n.onEndOfStream()})},a.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},a.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},a.smoothQualityChange_=function(n){void 0===n&&(n=this.selectPlaylist()),this.fastQualityChange_(n)},a.fastQualityChange_=function(n){var i=this;void 0===n&&(n=this.selectPlaylist()),n!==this.masterPlaylistLoader_.media()?(this.switchMedia_(n,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){i.tech_.setCurrentTime(et.browser.IE_VERSION||et.browser.IS_EDGE?i.tech_.currentTime()+.04:i.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},a.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<n.start(0))return this.tech_.setCurrentTime(n.end(n.length-1))}},a.setupFirstPlay=function(){var n=this,i=this.masterPlaylistLoader_.media();if(!i||this.tech_.paused()||this.hasPlayed_)return!1;if(!i.endList){var c=this.seekable();if(!c.length)return!1;if(et.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){n.trigger("firstplay"),n.tech_.setCurrentTime(c.end(0)),n.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(c.end(0))}return this.hasPlayed_=!0,this.load(),!0},a.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var n=this.tech_.play();void 0!==n&&"function"==typeof n.then&&n.then(null,function(i){})}this.trigger("sourceopen")},a.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var n=this.inbandTextTracks_.metadataTrack_.cues;if(n&&n.length){var i=this.duration();n[n.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}}},a.handleDurationChange_=function(){this.tech_.trigger("durationchange")},a.onEndOfStream=function(){var n=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var i=this.mainSegmentLoader_.getCurrentMediaInfo_();n=!i||i.hasVideo?n&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}!n||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},a.stuckAtPlaylistEnd_=function(n){if(!this.seekable().length)return!1;var c=this.syncController_.getExpiredTime(n,this.duration());if(null===c)return!1;var m=Tu.Playlist.playlistEnd(n,c),E=this.tech_.currentTime(),O=this.tech_.buffered();if(!O.length)return m-E<=or;var R=O.end(O.length-1);return R-E<=or&&m-R<=or},a.blacklistCurrentPlaylist=function(n,i){void 0===n&&(n={});var c=n.playlist||this.masterPlaylistLoader_.media();if(i=i||n.blacklistDuration||this.blacklistDuration,!c)return this.error=n,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));c.playlistErrors_++;var Z,m=this.masterPlaylistLoader_.master.playlists,E=m.filter(Ic),O=1===E.length&&E[0]===c;if(1===m.length&&i!==1/0)return et.log.warn("Problem encountered with playlist "+c.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(O);if(O){var R=!1;m.forEach(function(st){if(st!==c){var it=st.excludeUntil;void 0!==it&&it!==1/0&&(R=!0,delete st.excludeUntil)}}),R&&(et.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}Z=c.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*i,c.excludeUntil=Z,n.reason&&(c.lastExcludeReason_=n.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var q=this.selectPlaylist();if(!q)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");(n.internal?this.logger_:et.log.warn)((n.internal?"Internal problem":"Problem")+" encountered with playlist "+c.id+"."+(n.message?" "+n.message:"")+" Switching to playlist "+q.id+"."),q.attributes.AUDIO!==c.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),q.attributes.SUBTITLES!==c.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var xe=q.targetDuration/2*1e3||5e3,we="number"==typeof q.lastRequest&&Date.now()-q.lastRequest<=xe;return this.switchMedia_(q,"exclude",O||we)},a.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},a.delegateLoaders_=function(n,i){var c=this,m=[],E="all"===n;(E||"main"===n)&&m.push(this.masterPlaylistLoader_);var O=[];(E||"audio"===n)&&O.push("AUDIO"),(E||"subtitle"===n)&&(O.push("CLOSED-CAPTIONS"),O.push("SUBTITLES")),O.forEach(function(R){var Z=c.mediaTypes_[R]&&c.mediaTypes_[R].activePlaylistLoader;Z&&m.push(Z)}),["main","audio","subtitle"].forEach(function(R){var Z=c[R+"SegmentLoader_"];Z&&(n===R||"all"===n)&&m.push(Z)}),m.forEach(function(R){return i.forEach(function(Z){"function"==typeof R[Z]&&R[Z]()})})},a.setCurrentTime=function(n){var i=Li(this.tech_.buffered(),n);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?i&&i.length?n:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},a.duration=function(){if(!this.masterPlaylistLoader_)return 0;var n=this.masterPlaylistLoader_.media();return n?n.endList?this.mediaSource?this.mediaSource.duration:Tu.Playlist.duration(n):1/0:0},a.seekable=function(){return this.seekable_},a.onSyncInfoUpdate_=function(){var n;if(this.masterPlaylistLoader_&&!this.sourceUpdater_.hasCreatedSourceBuffers()){var i=this.masterPlaylistLoader_.media();if(i){var c=this.syncController_.getExpiredTime(i,this.duration());if(null!==c){var O,R,m=this.masterPlaylistLoader_.master,E=Tu.Playlist.seekable(i,c,Tu.Playlist.liveEdgeDelay(m,i));0===E.length||this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(c=this.syncController_.getExpiredTime(i,this.duration()))||0===(n=Tu.Playlist.seekable(i,c,Tu.Playlist.liveEdgeDelay(m,i))).length)||(this.seekable_&&this.seekable_.length&&(O=this.seekable_.end(0),R=this.seekable_.start(0)),this.seekable_=n?n.start(0)>E.end(0)||E.start(0)>n.end(0)?E:et.createTimeRanges([[n.start(0)>E.start(0)?n.start(0):E.start(0),n.end(0)<E.end(0)?n.end(0):E.end(0)]]):E,(!this.seekable_||!this.seekable_.length||this.seekable_.end(0)!==O||this.seekable_.start(0)!==R)&&(this.logger_("seekable updated ["+kf(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")))}}}},a.updateDuration=function(n){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,n),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(n){var i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1))}else{var c=this.tech_.buffered(),m=Tu.Playlist.duration(this.masterPlaylistLoader_.media());c.length>0&&(m=Math.max(m,c.end(c.length-1))),this.mediaSource.duration!==m&&this.sourceUpdater_.setDuration(m)}},a.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(i){var c=n.mediaTypes_[i].groups;for(var m in c)c[m].forEach(function(E){E.playlistLoader&&E.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},a.master=function(){return this.masterPlaylistLoader_.master},a.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},a.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),c=!n||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!i||!c)},a.getCodecsOrExclude_=function(){var n=this,i={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};i.video=i.main;var c=rh(this.master(),this.media()),m={},E=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(i.main.hasVideo&&(m.video=c.video||i.main.videoCodec||"avc1.4d400d"),i.main.isMuxed&&(m.video+=","+(c.audio||i.main.audioCodec||Oi)),(i.main.hasAudio&&!i.main.isMuxed||i.audio.hasAudio||E)&&(m.audio=c.audio||i.main.audioCodec||i.audio.audioCodec||Oi,i.audio.isFmp4=i.main.hasAudio&&!i.main.isMuxed?i.main.isFmp4:i.audio.isFmp4),m.audio||m.video){var Z,R={};if(["video","audio"].forEach(function(xe){if(m.hasOwnProperty(xe)&&!function(we,st){return we?Kr(st):nr(st)}(i[xe].isFmp4,m[xe])){var we=i[xe].isFmp4?"browser":"muxer";R[we]=R[we]||[],R[we].push(m[xe]),"audio"===xe&&(Z=we)}}),E&&Z&&this.media().attributes.AUDIO){var q=this.media().attributes.AUDIO;this.master().playlists.forEach(function(xe){(xe.attributes&&xe.attributes.AUDIO)===q&&xe!==n.media()&&(xe.excludeUntil=1/0)}),this.logger_("excluding audio group "+q+" as "+Z+' does not support codec(s): "'+m.audio+'"')}if(!Object.keys(R).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var Me=[];if(["video","audio"].forEach(function(xe){var we=(fn(n.sourceUpdater_.codecs[xe]||"")[0]||{}).type,st=(fn(m[xe]||"")[0]||{}).type;we&&st&&we.toLowerCase()!==st.toLowerCase()&&Me.push('"'+n.sourceUpdater_.codecs[xe]+'" -> "'+m[xe]+'"')}),Me.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+Me.join(", ")+".",blacklistDuration:1/0,internal:!0})}return m}var ve=Object.keys(R).reduce(function(xe,we){return xe&&(xe+=", "),xe+(we+' does not support codec(s): "')+R[we].join(",")+'"'},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:ve,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},a.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var n=this.getCodecsOrExclude_();if(n){this.sourceUpdater_.createSourceBuffers(n);var i=[n.video,n.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}}},a.excludeUnsupportedVariants_=function(){var n=this,i=this.master().playlists,c=[];Object.keys(i).forEach(function(m){var E=i[m];if(-1===c.indexOf(E.id)){c.push(E.id);var O=rh(n.master,E),R=[];O.audio&&!nr(O.audio)&&!Kr(O.audio)&&R.push("audio codec "+O.audio),O.video&&!nr(O.video)&&!Kr(O.video)&&R.push("video codec "+O.video),O.text&&"stpp.ttml.im1t"===O.text&&R.push("text codec "+O.text),R.length&&(E.excludeUntil=1/0,n.logger_("excluding "+E.id+" for unsupported: "+R.join(", ")))}})},a.excludeIncompatibleVariants_=function(n){var i=this,c=[],m=this.master().playlists,E=th(fn(n)),O=nh(E),R=E.video&&fn(E.video)[0]||null,Z=E.audio&&fn(E.audio)[0]||null;Object.keys(m).forEach(function(q){var ve=m[q];if(-1===c.indexOf(ve.id)&&ve.excludeUntil!==1/0){c.push(ve.id);var Me=[],xe=rh(i.masterPlaylistLoader_.master,ve),we=nh(xe);if(xe.audio||xe.video){if(we!==O&&Me.push('codec count "'+we+'" !== "'+O+'"'),!i.sourceUpdater_.canChangeType()){var st=xe.video&&fn(xe.video)[0]||null,it=xe.audio&&fn(xe.audio)[0]||null;st&&R&&st.type.toLowerCase()!==R.type.toLowerCase()&&Me.push('video codec "'+st.type+'" !== "'+R.type+'"'),it&&Z&&it.type.toLowerCase()!==Z.type.toLowerCase()&&Me.push('audio codec "'+it.type+'" !== "'+Z.type+'"')}Me.length&&(ve.excludeUntil=1/0,i.logger_("blacklisting "+ve.id+": "+Me.join(" && ")))}}})},a.updateAdCues_=function(n){var i=0,c=this.seekable();c.length&&(i=c.start(0)),function(o,a,s){if(void 0===s&&(s=0),o.segments)for(var i,n=s,c=0;c<o.segments.length;c++){var m=o.segments[c];if(i||(i=_v(a,n+m.duration/2)),i){if("cueIn"in m){i.endTime=n,i.adEndTime=n,n+=m.duration,i=null;continue}if(n<i.endTime){n+=m.duration;continue}i.endTime+=m.duration}else if("cueOut"in m&&((i=new($().VTTCue)(n,n+m.duration,m.cueOut)).adStartTime=n,i.adEndTime=n+parseFloat(m.cueOut),a.addCue(i)),"cueOutCont"in m){var E=m.cueOutCont.split("/").map(parseFloat),O=E[0],R=E[1];(i=new($().VTTCue)(n,n+m.duration,"")).adStartTime=n-O,i.adEndTime=i.adStartTime+R,a.addCue(i)}n+=m.duration}}(n,this.cueTagsTrack_,i)},a.goalBufferLength=function(){var n=this.tech_.currentTime(),i=de.GOAL_BUFFER_LENGTH,c=de.GOAL_BUFFER_LENGTH_RATE,m=Math.max(i,de.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+n*c,m)},a.bufferLowWaterLine=function(){var n=this.tech_.currentTime(),i=de.BUFFER_LOW_WATER_LINE,c=de.BUFFER_LOW_WATER_LINE_RATE,m=Math.max(i,de.MAX_BUFFER_LOW_WATER_LINE),E=Math.max(i,de.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+n*c,this.experimentalBufferBasedABR?E:m)},a.bufferHighWaterLine=function(){return de.BUFFER_HIGH_WATER_LINE},o}(et.EventTarget),x_=function(o,a,s){var n=o.masterPlaylistController_,m=n[(o.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(n);if(a.attributes){var E=a.attributes.RESOLUTION;this.width=E&&E.width,this.height=E&&E.height,this.bandwidth=a.attributes.BANDWIDTH}this.codecs=rh(n.master(),a),this.playlist=a,this.id=s,this.enabled=function(o,a,s){return function(n){var i=o.master.playlists[a],c=ko(i),m=Ic(i);return void 0===n?m:(n?delete i.disabled:i.disabled=!0,n!==m&&!c&&(s(),o.trigger(n?"renditionenabled":"renditiondisabled")),n)}}(o.playlists,a.id,m)},Sv=["seeking","seeked","pause","playing","error"],Ov=function(){function p(a){var s=this;this.masterPlaylistController_=a.masterPlaylistController,this.tech_=a.tech,this.seekable=a.seekable,this.allowSeeksWithinUnsafeLiveWindow=a.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=a.liveRangeSafeTimeDelta,this.media=a.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=us("PlaybackWatcher"),this.logger_("initialize");var n=function(){return s.monitorCurrentTime_()},i=function(){return s.monitorCurrentTime_()},c=function(){return s.techWaiting_()},m=function(){return s.cancelTimer_()},E=this.masterPlaylistController_,O=["main","subtitle","audio"],R={};O.forEach(function(q){R[q]={reset:function(){return s.resetSegmentDownloads_(q)},updateend:function(){return s.checkSegmentDownloads_(q)}},E[q+"SegmentLoader_"].on("appendsdone",R[q].updateend),E[q+"SegmentLoader_"].on("playlistupdate",R[q].reset),s.tech_.on(["seeked","seeking"],R[q].reset)});var Z=function(ve){["main","audio"].forEach(function(Me){E[Me+"SegmentLoader_"][ve]("appended",s.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){s.fixesBadSeeks_()&&(s.consecutiveUpdates=0,s.lastRecordedTime=s.tech_.currentTime(),Z("off"))},this.clearSeekingAppendCheck_=function(){return Z("off")},this.watchForBadSeeking_=function(){s.clearSeekingAppendCheck_(),Z("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",c),this.tech_.on(Sv,m),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=function(){s.clearSeekingAppendCheck_(),s.logger_("dispose"),s.tech_.off("waiting",c),s.tech_.off(Sv,m),s.tech_.off("canplay",i),s.tech_.off("play",n),s.tech_.off("seeking",s.watchForBadSeeking_),s.tech_.off("seeked",s.clearSeekingAppendCheck_),O.forEach(function(q){E[q+"SegmentLoader_"].off("appendsdone",R[q].updateend),E[q+"SegmentLoader_"].off("playlistupdate",R[q].reset),s.tech_.off(["seeked","seeking"],R[q].reset)}),s.checkCurrentTimeTimeout_&&$().clearTimeout(s.checkCurrentTimeTimeout_),s.cancelTimer_()}}var o=p.prototype;return o.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&$().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=$().setTimeout(this.monitorCurrentTime_.bind(this),250)},o.resetSegmentDownloads_=function(s){var n=this.masterPlaylistController_[s+"SegmentLoader_"];this[s+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+s+" loader"),this[s+"StalledDownloads_"]=0,this[s+"Buffered_"]=n.buffered_()},o.checkSegmentDownloads_=function(s){var n=this.masterPlaylistController_,i=n[s+"SegmentLoader_"],c=i.buffered_(),m=function(o,a){if(o===a)return!1;if(!o&&a||!a&&o||o.length!==a.length)return!0;for(var s=0;s<o.length;s++)if(o.start(s)!==a.start(s)||o.end(s)!==a.end(s))return!0;return!1}(this[s+"Buffered_"],c);this[s+"Buffered_"]=c,m?this.resetSegmentDownloads_(s):(this[s+"StalledDownloads_"]++,this.logger_("found #"+this[s+"StalledDownloads_"]+" "+s+" appends that did not increase buffer (possible stalled download)",{playlistId:i.playlist_&&i.playlist_.id,buffered:Io(c)}),!(this[s+"StalledDownloads_"]<10)&&(this.logger_(s+" loader stalled download exclusion"),this.resetSegmentDownloads_(s),this.tech_.trigger({type:"usage",name:"vhs-"+s+"-download-exclusion"}),"subtitle"!==s&&n.blacklistCurrentPlaylist({message:"Excessive "+s+" segment downloading detected."},1/0)))},o.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var s=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===s&&(!n.length||s+or>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&s===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):s===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=s)}},o.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},o.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var m,n=this.seekable(),i=this.tech_.currentTime();if(this.afterSeekableWindow_(n,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(m=n.end(n.length-1)),this.beforeSeekableWindow_(n,i)){var O=n.start(0);m=O+(O===n.end(0)?0:or)}if(void 0!==m)return this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+kf(n)+". Seeking to "+m+"."),this.tech_.setCurrentTime(m),!0;for(var R=this.masterPlaylistController_.sourceUpdater_,Z=this.tech_.buffered(),q=R.audioBuffer?R.audioBuffered():null,ve=R.videoBuffer?R.videoBuffered():null,Me=this.media(),xe=Me.partTargetDuration?Me.partTargetDuration:2*(Me.targetDuration-Al),we=[q,ve],st=0;st<we.length;st++)if(we[st]&&Lf(we[st],i)<xe)return!1;var bt=es(Z,i);return 0!==bt.length&&(m=bt.start(0)+or,this.logger_("Buffered region starts ("+bt.start(0)+")  just beyond seek point ("+i+"). Seeking to "+m+"."),this.tech_.setCurrentTime(m),!0)},o.waiting_=function(){if(!this.techWaiting_()){var s=this.tech_.currentTime(),n=this.tech_.buffered(),i=Li(n,s);if(i.length&&s+3<=i.end(0))return this.cancelTimer_(),this.tech_.setCurrentTime(s),this.logger_("Stopped at "+s+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})}},o.techWaiting_=function(){var s=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(s,n)){var i=s.end(s.length-1);return this.logger_("Fell out of live window at time "+n+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var c=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,m=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:c.audioBuffered(),videoBuffered:c.videoBuffered(),currentTime:n}))return this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var O=es(m,n);if(O.length>0){var R=O.start(0)-n;return this.logger_("Stopped at "+n+", setting timer for "+R+", seeking to "+O.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*R,n),!0}return!1},o.afterSeekableWindow_=function(s,n,i,c){if(void 0===c&&(c=!1),!s.length)return!1;var m=s.end(s.length-1)+or;return!i.endList&&c&&(m=s.end(s.length-1)+3*i.targetDuration),n>m},o.beforeSeekableWindow_=function(s,n){return!!(s.length&&s.start(0)>0&&n<s.start(0)-this.liveRangeSafeTimeDelta)},o.videoUnderflow_=function(s){var n=s.videoBuffered,i=s.audioBuffered,c=s.currentTime;if(n){var m;if(n.length&&i.length){var E=Li(n,c-3),O=Li(n,c),R=Li(i,c);R.length&&!O.length&&E.length&&(m={start:E.end(0),end:R.end(0)})}else es(n,c).length||(m=this.gapFromVideoUnderflow_(n,c));return!!m&&(this.logger_("Encountered a gap in video from "+m.start+" to "+m.end+". Seeking to current time "+c),!0)}},o.skipTheGap_=function(s){var n=this.tech_.buffered(),i=this.tech_.currentTime(),c=es(n,i);this.cancelTimer_(),0!==c.length&&i===s&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",s,"nextRange start:",c.start(0)),this.tech_.setCurrentTime(c.start(0)+Al),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},o.gapFromVideoUnderflow_=function(s,n){for(var i=function(o){if(o.length<2)return et.createTimeRanges();for(var a=[],s=1;s<o.length;s++){var n=o.end(s-1),i=o.start(s);a.push([n,i])}return et.createTimeRanges(a)}(s),c=0;c<i.length;c++){var m=i.start(c),E=i.end(c);if(n-m<4&&n-m>2)return{start:m,end:E}}return null},p}(),wi={errorInterval:30,getSource:function(o){return o(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Hg=function p(o,a){var s=0,n=0,i=et.mergeOptions(wi,a);o.ready(function(){o.trigger({type:"usage",name:"vhs-error-reload-initialized"}),o.trigger({type:"usage",name:"hls-error-reload-initialized"})});var c=function(){n&&o.currentTime(n)},m=function(q){null!=q&&(n=o.duration()!==1/0&&o.currentTime()||0,o.one("loadedmetadata",c),o.src(q),o.trigger({type:"usage",name:"vhs-error-reload"}),o.trigger({type:"usage",name:"hls-error-reload"}),o.play())},E=function(){return Date.now()-s<1e3*i.errorInterval?(o.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void o.trigger({type:"usage",name:"hls-error-reload-canceled"})):i.getSource&&"function"==typeof i.getSource?(s=Date.now(),i.getSource.call(o,m)):void et.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},O=function Z(){o.off("loadedmetadata",c),o.off("error",E),o.off("dispose",Z)};o.on("error",E),o.on("dispose",O),o.reloadSourceOnError=function(q){O(),p(o,q)}},zs={PlaylistLoader:Ju,Playlist:js,utils:na,STANDARD_PLAYLIST_SELECTOR:cv,INITIAL_PLAYLIST_SELECTOR:function(){var o=this,a=this.playlists.master.playlists.filter(js.isEnabled);return Lc(a,function(n,i){return kg(n,i)}),a.filter(function(n){return!!rh(o.playlists.master,n).video})[0]||null},lastBandwidthSelector:cv,movingAverageBandwidthSelector:function(o){var a=-1,s=-1;if(o<0||o>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&$().devicePixelRatio||1;return a<0&&(a=this.systemBandwidth,s=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==s&&(a=o*this.systemBandwidth+(1-o)*a,s=this.systemBandwidth),uv(this.playlists.master,a,parseInt(sh(this.tech_.el(),"width"),10)*n,parseInt(sh(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:kg,comparePlaylistResolution:function(o,a){var s,n;return o.attributes.RESOLUTION&&o.attributes.RESOLUTION.width&&(s=o.attributes.RESOLUTION.width),s=s||$().Number.MAX_VALUE,a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width&&(n=a.attributes.RESOLUTION.width),s===(n=n||$().Number.MAX_VALUE)&&o.attributes.BANDWIDTH&&a.attributes.BANDWIDTH?o.attributes.BANDWIDTH-a.attributes.BANDWIDTH:s-n},xhr:dp()};Object.keys(de).forEach(function(p){Object.defineProperty(zs,p,{get:function(){return et.log.warn("using Vhs."+p+" is UNSAFE be sure you know what you are doing"),de[p]},set:function(a){et.log.warn("using Vhs."+p+" is UNSAFE be sure you know what you are doing"),"number"!=typeof a||a<0?et.log.warn("value of Vhs."+p+" must be greater than or equal to 0"):de[p]=a}})});var Wg="videojs-vhs",Gg=function(o,a){for(var s=a.media(),n=-1,i=0;i<o.length;i++)if(o[i].id===s.id){n=i;break}o.selectedIndex_=n,o.trigger({selectedIndex:n,type:"change"})};zs.canPlaySource=function(){return et.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var wp=function(){if(!$().localStorage)return null;var o=$().localStorage.getItem(Wg);if(!o)return null;try{return JSON.parse(o)}catch(a){return null}};zs.supportsNativeHls=function(){if(!ee()||!ee().createElement)return!1;var p=ee().createElement("video");return!!et.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(a){return/maybe|probably/i.test(p.canPlayType(a))})}(),zs.supportsNativeDash=!!(ee()&&ee().createElement&&et.getTech("Html5").isSupported())&&/maybe|probably/i.test(ee().createElement("video").canPlayType("application/dash+xml")),zs.supportsTypeNatively=function(p){return"hls"===p?zs.supportsNativeHls:"dash"===p&&zs.supportsNativeDash},zs.isSupported=function(){return et.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Sp=function(p){function o(s,n,i){var c;if(c=p.call(this,n,et.mergeOptions(i.hls,i.vhs))||this,i.hls&&Object.keys(i.hls).length&&et.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof i.initialBandwidth&&(c.options_.bandwidth=i.initialBandwidth),c.logger_=us("VhsHandler"),n.options_&&n.options_.playerId){var m=et(n.options_.playerId);m.hasOwnProperty("hls")||Object.defineProperty(m,"hls",{get:function(){return et.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),ue(c)},configurable:!0}),m.hasOwnProperty("vhs")||Object.defineProperty(m,"vhs",{get:function(){return et.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),ue(c)},configurable:!0}),m.hasOwnProperty("dash")||Object.defineProperty(m,"dash",{get:function(){return et.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),ue(c)},configurable:!0}),c.player_=m}if(c.tech_=n,c.source_=s,c.stats={},c.ignoreNextSeekingEvent_=!1,c.setOptions_(),c.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(c.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return c.on(ee(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(E){var O=ee().fullscreenElement||ee().webkitFullscreenElement||ee().mozFullScreenElement||ee().msFullscreenElement;O&&O.contains(c.tech_.el())?c.masterPlaylistController_.fastQualityChange_():c.masterPlaylistController_.checkABR_()}),c.on(c.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),c.on(c.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),c.on(c.tech_,"play",c.play),c}j(o,p);var a=o.prototype;return a.setOptions_=function(){var n=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var i=wp();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=de.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===de.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(c){void 0!==n.source_[c]&&(n.options_[c]=n.source_[c])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},a.src=function(n,i){var c=this;if(n){this.setOptions_(),this.options_.src=function(o){return 0===o.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(o.substring(o.indexOf(",")+1)):o}(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=zs,this.options_.sourceType=an(i),this.options_.seekTo=function(O){c.tech_.setCurrentTime(O)},this.options_.smoothQualityChange&&et.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new T_(this.options_);var m=et.mergeOptions({liveRangeSafeTimeDelta:or},this.options_,{seekable:function(){return c.seekable()},media:function(){return c.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Ov(m),this.masterPlaylistController_.on("error",function(){var O=et.players[c.tech_.options_.playerId],R=c.masterPlaylistController_.error;"object"!=typeof R||R.code?"string"==typeof R&&(R={message:R,code:3}):R.code=3,O.error(R)});var E=this.options_.experimentalBufferBasedABR?zs.movingAverageBandwidthSelector(.55):zs.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):E.bind(this),this.masterPlaylistController_.selectInitialPlaylist=zs.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(R){this.masterPlaylistController_.selectPlaylist=R.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(R){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=R,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var R=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,Z=$().navigator.connection||$().navigator.mozConnection||$().navigator.webkitConnection,q=1e7;if(this.options_.useNetworkInformationApi&&Z){var ve=1e3*Z.downlink*1e3;R=ve>=q&&R>=q?Math.max(R,ve):ve}return R},set:function(R){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=R,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(this.throughput>0?1/this.throughput:0)))},set:function(){et.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return c.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return c.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return c.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return c.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return c.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return c.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return c.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return c.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return c.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return c.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return c.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return c.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return c.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Io(c.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return c.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return c.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return c.tech_.name_},enumerable:!0},duration:{get:function(){return c.tech_.duration()},enumerable:!0},master:{get:function(){return c.playlists.master},enumerable:!0},playerDimensions:{get:function(){return c.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Io(c.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return c.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){c.options_.useBandwidthFromLocalStorage&&function(o){if(!$().localStorage)return!1;var a=wp();a=a?et.mergeOptions(a,o):o;try{$().localStorage.setItem(Wg,JSON.stringify(a))}catch(s){return!1}}({bandwidth:c.bandwidth,throughput:Math.round(c.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(o){o.representations=function(){var a=o.masterPlaylistController_.master(),s=yu(a)?o.masterPlaylistController_.getAudioTrackPlaylists_():a.playlists;return s?s.filter(function(n){return!ko(n)}).map(function(n,i){return new x_(o,n,n.id)}):[]}}(c)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){c.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=$().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},a.setupEme_=function(){var n=this,i=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,c=function(o){var a=o.player,c=function(o,a,s){if(!o)return o;var n={};a&&a.attributes&&a.attributes.CODECS&&(n=th(fn(a.attributes.CODECS))),s&&s.attributes&&s.attributes.CODECS&&(n.audio=s.attributes.CODECS);var i=ai(n.video),c=ai(n.audio),m={};for(var E in o)m[E]={},c&&(m[E].audioContentType=c),i&&(m[E].videoContentType=i),a.contentProtection&&a.contentProtection[E]&&a.contentProtection[E].pssh&&(m[E].pssh=a.contentProtection[E].pssh),"string"==typeof o[E]&&(m[E].url=o[E]);return et.mergeOptions(o,m)}(o.sourceKeySystems,o.media,o.audioMedia);return!(!c||(a.currentSource().keySystems=c,c&&!a.eme&&(et.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))}({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:i&&i.media()});this.player_.tech_.on("keystatuschange",function(m){"output-restricted"===m.status&&n.masterPlaylistController_.blacklistCurrentPlaylist({playlist:n.masterPlaylistController_.media(),message:"DRM keystatus changed to "+m.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),11!==et.browser.IE_VERSION&&c?(this.logger_("waiting for EME key session creation"),function(o){var a=o.player,s=o.sourceKeySystems,n=o.audioMedia,i=o.mainPlaylists;if(!a.eme.initializeMediaKeys)return Promise.resolve();var m=function(o,a){return o.reduce(function(s,n){if(!n.contentProtection)return s;var i=a.reduce(function(c,m){var E=n.contentProtection[m];return E&&E.pssh&&(c[m]={pssh:E.pssh}),c},{});return Object.keys(i).length&&s.push(i),s},[])}(n?i.concat([n]):i,Object.keys(s)),E=[],O=[];return m.forEach(function(R){O.push(new Promise(function(Z,q){a.tech_.one("keysessioncreated",Z)})),E.push(new Promise(function(Z,q){a.eme.initializeMediaKeys({keySystems:R},function(ve){ve?q(ve):Z()})}))}),Promise.race([Promise.all(E),Promise.race(O)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:i&&i.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){n.logger_("created EME key session"),n.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(m){n.logger_("error while creating EME key session",m),n.player_.error({message:"Failed to initialize media keys for EME",code:3})})):this.masterPlaylistController_.sourceUpdater_.initializedEme()},a.setupQualityLevels_=function(){var n=this,i=et.players[this.tech_.options_.playerId];!i||!i.qualityLevels||this.qualityLevels_||(this.qualityLevels_=i.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(o,a){a.representations().forEach(function(s){o.addQualityLevel(s)}),Gg(o,a.playlists)}(n.qualityLevels_,n)}),this.playlists.on("mediachange",function(){Gg(n.qualityLevels_,n.playlists)}))},o.version=function(){return{"@videojs/http-streaming":"2.12.0","mux.js":"5.14.1","mpd-parser":"0.19.2","m3u8-parser":"4.7.0","aes-decrypter":"3.1.2"}},a.version=function(){return this.constructor.version()},a.canChangeType=function(){return h_.canChangeType()},a.play=function(){this.masterPlaylistController_.play()},a.setCurrentTime=function(n){this.masterPlaylistController_.setCurrentTime(n)},a.duration=function(){return this.masterPlaylistController_.duration()},a.seekable=function(){return this.masterPlaylistController_.seekable()},a.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&$().URL.revokeObjectURL&&($().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),p.prototype.dispose.call(this)},a.convertToProgramTime=function(n,i){return function(o){var a=o.playlist,s=o.time,n=void 0===s?void 0:s,i=o.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!a||void 0===n)return i({message:"getProgramTime: playlist and time must be provided"});var c=function(o,a){if(!a||!a.segments||0===a.segments.length)return null;for(var n,s=0,i=0;i<a.segments.length&&!(o<=(s=(n=a.segments[i]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:s+n.duration));i++);var c=a.segments[a.segments.length-1];if(c.videoTimingInfo&&c.videoTimingInfo.transmuxedPresentationEnd<o)return null;if(o>s){if(o>s+.25*c.duration)return null;n=c}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:s-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(n,a);if(!c)return i({message:"valid programTime was not found"});if("estimate"===c.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:c.estimatedStart});var m={mediaSeconds:n},E=function(o,a){if(!a.dateTimeObject)return null;var c=o-(a.videoTimingInfo.transmuxedPresentationStart+a.videoTimingInfo.transmuxerPrependedSeconds);return new Date(a.dateTimeObject.getTime()+1e3*c)}(n,c.segment);return E&&(m.programDateTime=E.toISOString()),i(null,m)}({playlist:this.masterPlaylistController_.media(),time:n,callback:i})},a.seekToProgramTime=function(n,i,c,m){return void 0===c&&(c=!0),void 0===m&&(m=2),vp({programTime:n,playlist:this.masterPlaylistController_.media(),retryCount:m,pauseAfterSeek:c,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})},o}(et.getComponent("Component")),Op={name:"videojs-http-streaming",VERSION:"2.12.0",canHandleSource:function(o,a){void 0===a&&(a={});var s=et.mergeOptions(et.options,a);return Op.canPlayType(o.type,s)},handleSource:function(o,a,s){void 0===s&&(s={});var n=et.mergeOptions(et.options,s);return a.vhs=new Sp(o,a,n),et.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return et.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),a.vhs},configurable:!0}),a.vhs.xhr=dp(),a.vhs.src(o.src,o.type),a.vhs},canPlayType:function(o,a){void 0===a&&(a={});var n=et.mergeOptions(et.options,a).vhs.overrideNative,i=void 0===n?!et.browser.IS_ANY_SAFARI:n,c=an(o);return!c||zs.supportsTypeNatively(c)&&!i?"":"maybe"}};Kr("avc1.4d400d,mp4a.40.2")&&et.getTech("Html5").registerSourceHandler(Op,0),et.VhsHandler=Sp,Object.defineProperty(et,"HlsHandler",{get:function(){return et.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Sp},configurable:!0}),et.VhsSourceHandler=Op,Object.defineProperty(et,"HlsSourceHandler",{get:function(){return et.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Op},configurable:!0}),et.Vhs=zs,Object.defineProperty(et,"Hls",{get:function(){return et.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),zs},configurable:!0}),et.use||(et.registerComponent("Hls",zs),et.registerComponent("Vhs",zs)),et.options.vhs=et.options.vhs||{},et.options.hls=et.options.hls||{},et.getPlugin&&et.getPlugin("reloadSourceOnError")||(et.registerPlugin||et.plugin)("reloadSourceOnError",function(o){Hg(this,o)});const M_=et;var kv=F(8629),qg=F(8720);const Rv=["videoElement"];let A_=(()=>{class p{constructor(){this.isPlaying=!0}ngOnInit(){void 0!==this.videoElement&&(this.player=M_(this.videoElement.nativeElement,this.options,function(){this.load()}))}createOptions(a,s){return{controlsList:"nodownload",autoplay:s,controls:!1,preload:"auto",loadingSpinner:!1,sources:[{src:a,type:"video/webm"}]}}play(a=0){var s=this;return(0,A.Z)(function*(){yield(0,kv.Vs)(a);const n=s.player.play();void 0!==n&&n.then(i=>Promise.resolve()).catch(i=>{console.log("~ error",i)})})()}pause(){return this.player.pause()}get currentTime(){return this.player.currentTime()}set currentTime(a){this.player.currentTime(a)}ngOnDestroy(){this.player&&this.player.dispose()}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275cmp=qg.Xpm({type:p,selectors:[["app-video-player"]],viewQuery:function(a,s){if(1&a&&qg.Gf(Rv,7),2&a){let n;qg.iGM(n=qg.CRH())&&(s.videoElement=n.first)}},decls:0,vars:0,template:function(a,s){},styles:[""],encapsulation:2}),p})()},3557:(ct,Le,F)=>{"use strict";F.d(Le,{W:()=>j});const A="assets/animations/layout/",y="assets/animations/views/",$="assets/animations/views/config/features/",fe=$+"balances/",ee=$+"regions/",ue=$+"usages/",oe=$+"carriers/",j={background:A+"Background.mp4",introFrame:A+"IntroFrame.webm",soundSequence:A+"SoundSequence.webm",reactor:A+"Reactor.webm",mainFrame:A+"MainFrame.webm",display:A+"Display.webm",selectionInfo:A+"SelectionInfo.webm",buttonCube:A+"ButtonCube.webm",buttonConfig:A+"ButtonConfig.webm",buttonChart:A+"ButtonChart.webm",buttonMute:A+"ButtonMute.webm",logo:A+"Logo.webm",initDescription:y+"Description.webm",configInfo:y+"ConfigInfo.webm",balances:fe+"Balances.webm",buttonEB:fe+"ButtonEB.webm",buttonUA:fe+"ButtonUA.webm",buttonRES:fe+"ButtonRES.webm",region_0:ee+"Wien.webm",region_1:ee+"Nieder\xf6sterreich.webm",region_2:ee+"Ober\xf6sterreich.webm",region_3:ee+"Burgenland.webm",region_4:ee+"K\xe4rnten.webm",region_5:ee+"Salzburg.webm",region_6:ee+"Steiermark.webm",region_7:ee+"Vorarlberg.webm",region_8:ee+"Tirol.webm",region_9:ee+"Austria.webm",carriersButton:oe+"CarriersButton.webm",carriersModal:oe+"CarriersModal.webm",usagesBackground:ue+"UsagesBackground.webm",usageSwitch_0:ue+"UsageSwitch_0.webm",usageSwitch_1:ue+"UsageSwitch_1.webm",usageSwitch_2:ue+"UsageSwitch_2.webm",usageSwitch_3:ue+"UsageSwitch_3.webm",usageSwitch_4:ue+"UsageSwitch_4.webm",usageSwitch_5:ue+"UsageSwitch_5.webm",usageSwitch_6:ue+"UsageSwitch_6.webm",usageSwitch_7:ue+"UsageSwitch_7.webm"}},3357:(ct,Le,F)=>{"use strict";var A=F(8583),y=F(8720);class $ extends A.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends ${static makeCurrent(){(0,A.HT)(new fe)}onAndCancel(d,u,g){return d.addEventListener(u,g,!1),()=>{d.removeEventListener(u,g,!1)}}dispatchEvent(d,u){d.dispatchEvent(u)}remove(d){d.parentNode&&d.parentNode.removeChild(d)}createElement(d,u){return(u=u||this.getDefaultDocument()).createElement(d)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(d){return d.nodeType===Node.ELEMENT_NODE}isShadowRoot(d){return d instanceof DocumentFragment}getGlobalEventTarget(d,u){return"window"===u?window:"document"===u?d:"body"===u?d.body:null}getBaseHref(d){const u=(ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null);return null==u?null:function(v){ue=ue||document.createElement("a"),ue.setAttribute("href",v);const d=ue.pathname;return"/"===d.charAt(0)?d:`/${d}`}(u)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(d){return(0,A.Mx)(document.cookie,d)}}let ue,ee=null;const j=new y.OlP("TRANSITION_ID"),ne=[{provide:y.ip1,useFactory:function(v,d,u){return()=>{u.get(y.CZH).donePromise.then(()=>{const g=(0,A.q)(),T=d.querySelectorAll(`style[ng-transition="${v}"]`);for(let L=0;L<T.length;L++)g.remove(T[L])})}},deps:[j,A.K0,y.zs3],multi:!0}];class G{static init(){(0,y.VLi)(new G)}addToWindow(d){y.dqk.getAngularTestability=(g,T=!0)=>{const L=d.findTestabilityInTree(g,T);if(null==L)throw new Error("Could not find testability for element.");return L},y.dqk.getAllAngularTestabilities=()=>d.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>d.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(g=>{const T=y.dqk.getAllAngularTestabilities();let L=T.length,K=!1;const de=function(Se){K=K||Se,L--,0==L&&g(K)};T.forEach(function(Se){Se.whenStable(de)})})}findTestabilityInTree(d,u,g){if(null==u)return null;const T=d.getTestability(u);return null!=T?T:g?(0,A.q)().isShadowRoot(u)?this.findTestabilityInTree(d,u.host,!0):this.findTestabilityInTree(d,u.parentElement,!0):null}}let le=(()=>{class v{build(){return new XMLHttpRequest}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();const pe=new y.OlP("EventManagerPlugins");let Ee=(()=>{class v{constructor(u,g){this._zone=g,this._eventNameToPlugin=new Map,u.forEach(T=>T.manager=this),this._plugins=u.slice().reverse()}addEventListener(u,g,T){return this._findPluginFor(g).addEventListener(u,g,T)}addGlobalEventListener(u,g,T){return this._findPluginFor(g).addGlobalEventListener(u,g,T)}getZone(){return this._zone}_findPluginFor(u){const g=this._eventNameToPlugin.get(u);if(g)return g;const T=this._plugins;for(let L=0;L<T.length;L++){const K=T[L];if(K.supports(u))return this._eventNameToPlugin.set(u,K),K}throw new Error(`No event manager plugin found for event ${u}`)}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(pe),y.LFG(y.R0b))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();class Fe{constructor(d){this._doc=d}addGlobalEventListener(d,u,g){const T=(0,A.q)().getGlobalEventTarget(this._doc,d);if(!T)throw new Error(`Unsupported event target ${T} for event ${u}`);return this.addEventListener(T,u,g)}}let Re=(()=>{class v{constructor(){this._stylesSet=new Set}addStyles(u){const g=new Set;u.forEach(T=>{this._stylesSet.has(T)||(this._stylesSet.add(T),g.add(T))}),this.onStylesAdded(g)}onStylesAdded(u){}getAllStyles(){return Array.from(this._stylesSet)}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})(),Je=(()=>{class v extends Re{constructor(u){super(),this._doc=u,this._hostNodes=new Map,this._hostNodes.set(u.head,[])}_addStylesToHost(u,g,T){u.forEach(L=>{const K=this._doc.createElement("style");K.textContent=L,T.push(g.appendChild(K))})}addHost(u){const g=[];this._addStylesToHost(this._stylesSet,u,g),this._hostNodes.set(u,g)}removeHost(u){const g=this._hostNodes.get(u);g&&g.forEach(ft),this._hostNodes.delete(u)}onStylesAdded(u){this._hostNodes.forEach((g,T)=>{this._addStylesToHost(u,T,g)})}ngOnDestroy(){this._hostNodes.forEach(u=>u.forEach(ft))}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(A.K0))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();function ft(v){(0,A.q)().remove(v)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g;function Un(v,d,u){for(let g=0;g<d.length;g++){let T=d[g];Array.isArray(T)?Un(v,T,u):(T=T.replace(lt,v),u.push(T))}return u}function Sn(v){return d=>{if("__ngUnwrap__"===d)return v;!1===v(d)&&(d.preventDefault(),d.returnValue=!1)}}let An=(()=>{class v{constructor(u,g,T){this.eventManager=u,this.sharedStylesHost=g,this.appId=T,this.rendererByCompId=new Map,this.defaultRenderer=new Nn(u)}createRenderer(u,g){if(!u||!g)return this.defaultRenderer;switch(g.encapsulation){case y.ifc.Emulated:{let T=this.rendererByCompId.get(g.id);return T||(T=new Kr(this.eventManager,this.sharedStylesHost,g,this.appId),this.rendererByCompId.set(g.id,T)),T.applyToHost(u),T}case 1:case y.ifc.ShadowDom:return new nr(this.eventManager,this.sharedStylesHost,u,g);default:if(!this.rendererByCompId.has(g.id)){const T=Un(g.id,g.styles,[]);this.sharedStylesHost.addStyles(T),this.rendererByCompId.set(g.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(Ee),y.LFG(Je),y.LFG(y.AFp))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();class Nn{constructor(d){this.eventManager=d,this.data=Object.create(null)}destroy(){}createElement(d,u){return u?document.createElementNS(vt[u]||u,d):document.createElement(d)}createComment(d){return document.createComment(d)}createText(d){return document.createTextNode(d)}appendChild(d,u){d.appendChild(u)}insertBefore(d,u,g){d&&d.insertBefore(u,g)}removeChild(d,u){d&&d.removeChild(u)}selectRootElement(d,u){let g="string"==typeof d?document.querySelector(d):d;if(!g)throw new Error(`The selector "${d}" did not match any elements`);return u||(g.textContent=""),g}parentNode(d){return d.parentNode}nextSibling(d){return d.nextSibling}setAttribute(d,u,g,T){if(T){u=T+":"+u;const L=vt[T];L?d.setAttributeNS(L,u,g):d.setAttribute(u,g)}else d.setAttribute(u,g)}removeAttribute(d,u,g){if(g){const T=vt[g];T?d.removeAttributeNS(T,u):d.removeAttribute(`${g}:${u}`)}else d.removeAttribute(u)}addClass(d,u){d.classList.add(u)}removeClass(d,u){d.classList.remove(u)}setStyle(d,u,g,T){T&(y.JOm.DashCase|y.JOm.Important)?d.style.setProperty(u,g,T&y.JOm.Important?"important":""):d.style[u]=g}removeStyle(d,u,g){g&y.JOm.DashCase?d.style.removeProperty(u):d.style[u]=""}setProperty(d,u,g){d[u]=g}setValue(d,u){d.nodeValue=u}listen(d,u,g){return"string"==typeof d?this.eventManager.addGlobalEventListener(d,u,Sn(g)):this.eventManager.addEventListener(d,u,Sn(g))}}class Kr extends Nn{constructor(d,u,g,T){super(d),this.component=g;const L=Un(T+"-"+g.id,g.styles,[]);u.addStyles(L),this.contentAttr="_ngcontent-%COMP%".replace(lt,T+"-"+g.id),this.hostAttr=function(v){return"_nghost-%COMP%".replace(lt,v)}(T+"-"+g.id)}applyToHost(d){super.setAttribute(d,this.hostAttr,"")}createElement(d,u){const g=super.createElement(d,u);return super.setAttribute(g,this.contentAttr,""),g}}class nr extends Nn{constructor(d,u,g,T){super(d),this.sharedStylesHost=u,this.hostEl=g,this.shadowRoot=g.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const L=Un(T.id,T.styles,[]);for(let K=0;K<L.length;K++){const de=document.createElement("style");de.textContent=L[K],this.shadowRoot.appendChild(de)}}nodeOrShadowRoot(d){return d===this.hostEl?this.shadowRoot:d}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(d,u){return super.appendChild(this.nodeOrShadowRoot(d),u)}insertBefore(d,u,g){return super.insertBefore(this.nodeOrShadowRoot(d),u,g)}removeChild(d,u){return super.removeChild(this.nodeOrShadowRoot(d),u)}parentNode(d){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(d)))}}let Oi=(()=>{class v extends Fe{constructor(u){super(u)}supports(u){return!0}addEventListener(u,g,T){return u.addEventListener(g,T,!1),()=>this.removeEventListener(u,g,T)}removeEventListener(u,g,T){return u.removeEventListener(g,T)}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(A.K0))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();const Jn=["alt","control","meta","shift"],yn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ha={alt:v=>v.altKey,control:v=>v.ctrlKey,meta:v=>v.metaKey,shift:v=>v.shiftKey};let En=(()=>{class v extends Fe{constructor(u){super(u)}supports(u){return null!=v.parseEventName(u)}addEventListener(u,g,T){const L=v.parseEventName(g),K=v.eventCallback(L.fullKey,T,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,A.q)().onAndCancel(u,L.domEventName,K))}static parseEventName(u){const g=u.toLowerCase().split("."),T=g.shift();if(0===g.length||"keydown"!==T&&"keyup"!==T)return null;const L=v._normalizeKey(g.pop());let K="";if(Jn.forEach(Se=>{const Be=g.indexOf(Se);Be>-1&&(g.splice(Be,1),K+=Se+".")}),K+=L,0!=g.length||0===L.length)return null;const de={};return de.domEventName=T,de.fullKey=K,de}static getEventFullKey(u){let g="",T=function(v){let d=v.key;if(null==d){if(d=v.keyIdentifier,null==d)return"Unidentified";d.startsWith("U+")&&(d=String.fromCharCode(parseInt(d.substring(2),16)),3===v.location&&Fo.hasOwnProperty(d)&&(d=Fo[d]))}return yn[d]||d}(u);return T=T.toLowerCase()," "===T?T="space":"."===T&&(T="dot"),Jn.forEach(L=>{L!=T&&ha[L](u)&&(g+=L+".")}),g+=T,g}static eventCallback(u,g,T){return L=>{v.getEventFullKey(L)===u&&T.runGuarded(()=>g(L))}}static _normalizeKey(u){switch(u){case"esc":return"escape";default:return u}}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(A.K0))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();const Vn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:A.bD},{provide:y.g9A,useValue:function(){fe.makeCurrent(),G.init()},multi:!0},{provide:A.K0,useFactory:function(){return(0,y.RDi)(document),document},deps:[]}]),jn=[[],{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function(){return new y.qLn},deps:[]},{provide:pe,useClass:Oi,multi:!0,deps:[A.K0,y.R0b,y.Lbi]},{provide:pe,useClass:En,multi:!0,deps:[A.K0]},[],{provide:An,useClass:An,deps:[Ee,Je,y.AFp]},{provide:y.FYo,useExisting:An},{provide:Re,useExisting:Je},{provide:Je,useClass:Je,deps:[A.K0]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:Ee,useClass:Ee,deps:[pe,y.R0b]},{provide:A.JF,useClass:le,deps:[]},[]];let ir=(()=>{class v{constructor(u){if(u)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(u){return{ngModule:v,providers:[{provide:y.AFp,useValue:u.appId},{provide:j,useExisting:y.AFp},ne]}}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(v,12))},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({providers:jn,imports:[A.ez,y.hGG]}),v})();"undefined"!=typeof window&&window;let sr=(()=>{class v{constructor(){this.store={},this.onSerializeCallbacks={}}static init(u){const g=new v;return g.store=u,g}get(u,g){return void 0!==this.store[u]?this.store[u]:g}set(u,g){this.store[u]=g}remove(u){delete this.store[u]}hasKey(u){return this.store.hasOwnProperty(u)}onSerialize(u,g){this.onSerializeCallbacks[u]=g}toJson(){for(const u in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(u))try{this.store[u]=this.onSerializeCallbacks[u]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store)}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();function Pr(v,d){const u=v.getElementById(d+"-state");let g={};if(u&&u.textContent)try{g=JSON.parse(function(v){const d={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return v.replace(/&[^;]+;/g,u=>d[u])}(u.textContent))}catch(T){console.warn("Exception while restoring TransferState for app "+d,T)}return sr.init(g)}let Gs=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({providers:[{provide:sr,useFactory:Pr,deps:[A.K0,y.AFp]}]}),v})();var Zr=F(6465),Fi=F(5917),_n=F(7574),yo=F(4612),os=F(5435),mi=F(8002);class Rs{}class Mi{}class ui{constructor(d){this.normalizedNames=new Map,this.lazyUpdate=null,d?this.lazyInit="string"==typeof d?()=>{this.headers=new Map,d.split("\n").forEach(u=>{const g=u.indexOf(":");if(g>0){const T=u.slice(0,g),L=T.toLowerCase(),K=u.slice(g+1).trim();this.maybeSetNormalizedName(T,L),this.headers.has(L)?this.headers.get(L).push(K):this.headers.set(L,[K])}})}:()=>{this.headers=new Map,Object.keys(d).forEach(u=>{let g=d[u];const T=u.toLowerCase();"string"==typeof g&&(g=[g]),g.length>0&&(this.headers.set(T,g),this.maybeSetNormalizedName(u,T))})}:this.headers=new Map}has(d){return this.init(),this.headers.has(d.toLowerCase())}get(d){this.init();const u=this.headers.get(d.toLowerCase());return u&&u.length>0?u[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(d){return this.init(),this.headers.get(d.toLowerCase())||null}append(d,u){return this.clone({name:d,value:u,op:"a"})}set(d,u){return this.clone({name:d,value:u,op:"s"})}delete(d,u){return this.clone({name:d,value:u,op:"d"})}maybeSetNormalizedName(d,u){this.normalizedNames.has(u)||this.normalizedNames.set(u,d)}init(){this.lazyInit&&(this.lazyInit instanceof ui?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(d=>this.applyUpdate(d)),this.lazyUpdate=null))}copyFrom(d){d.init(),Array.from(d.headers.keys()).forEach(u=>{this.headers.set(u,d.headers.get(u)),this.normalizedNames.set(u,d.normalizedNames.get(u))})}clone(d){const u=new ui;return u.lazyInit=this.lazyInit&&this.lazyInit instanceof ui?this.lazyInit:this,u.lazyUpdate=(this.lazyUpdate||[]).concat([d]),u}applyUpdate(d){const u=d.name.toLowerCase();switch(d.op){case"a":case"s":let g=d.value;if("string"==typeof g&&(g=[g]),0===g.length)return;this.maybeSetNormalizedName(d.name,u);const T=("a"===d.op?this.headers.get(u):void 0)||[];T.push(...g),this.headers.set(u,T);break;case"d":const L=d.value;if(L){let K=this.headers.get(u);if(!K)return;K=K.filter(de=>-1===L.indexOf(de)),0===K.length?(this.headers.delete(u),this.normalizedNames.delete(u)):this.headers.set(u,K)}else this.headers.delete(u),this.normalizedNames.delete(u)}}forEach(d){this.init(),Array.from(this.normalizedNames.keys()).forEach(u=>d(this.normalizedNames.get(u),this.headers.get(u)))}}class Es{encodeKey(d){return Bo(d)}encodeValue(d){return Bo(d)}decodeKey(d){return decodeURIComponent(d)}decodeValue(d){return decodeURIComponent(d)}}const ur=/%(\d[a-f0-9])/gi,io={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Bo(v){return encodeURIComponent(v).replace(ur,(d,u)=>{var g;return null!==(g=io[u])&&void 0!==g?g:d})}function Qs(v){return`${v}`}class vi{constructor(d={}){if(this.updates=null,this.cloneFrom=null,this.encoder=d.encoder||new Es,d.fromString){if(d.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(v,d){const u=new Map;return v.length>0&&v.replace(/^\?/,"").split("&").forEach(T=>{const L=T.indexOf("="),[K,de]=-1==L?[d.decodeKey(T),""]:[d.decodeKey(T.slice(0,L)),d.decodeValue(T.slice(L+1))],Se=u.get(K)||[];Se.push(de),u.set(K,Se)}),u}(d.fromString,this.encoder)}else d.fromObject?(this.map=new Map,Object.keys(d.fromObject).forEach(u=>{const g=d.fromObject[u];this.map.set(u,Array.isArray(g)?g:[g])})):this.map=null}has(d){return this.init(),this.map.has(d)}get(d){this.init();const u=this.map.get(d);return u?u[0]:null}getAll(d){return this.init(),this.map.get(d)||null}keys(){return this.init(),Array.from(this.map.keys())}append(d,u){return this.clone({param:d,value:u,op:"a"})}appendAll(d){const u=[];return Object.keys(d).forEach(g=>{const T=d[g];Array.isArray(T)?T.forEach(L=>{u.push({param:g,value:L,op:"a"})}):u.push({param:g,value:T,op:"a"})}),this.clone(u)}set(d,u){return this.clone({param:d,value:u,op:"s"})}delete(d,u){return this.clone({param:d,value:u,op:"d"})}toString(){return this.init(),this.keys().map(d=>{const u=this.encoder.encodeKey(d);return this.map.get(d).map(g=>u+"="+this.encoder.encodeValue(g)).join("&")}).filter(d=>""!==d).join("&")}clone(d){const u=new vi({encoder:this.encoder});return u.cloneFrom=this.cloneFrom||this,u.updates=(this.updates||[]).concat(d),u}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(d=>this.map.set(d,this.cloneFrom.map.get(d))),this.updates.forEach(d=>{switch(d.op){case"a":case"s":const u=("a"===d.op?this.map.get(d.param):void 0)||[];u.push(Qs(d.value)),this.map.set(d.param,u);break;case"d":if(void 0===d.value){this.map.delete(d.param);break}{let g=this.map.get(d.param)||[];const T=g.indexOf(Qs(d.value));-1!==T&&g.splice(T,1),g.length>0?this.map.set(d.param,g):this.map.delete(d.param)}}}),this.cloneFrom=this.updates=null)}}class Uo{constructor(){this.map=new Map}set(d,u){return this.map.set(d,u),this}get(d){return this.map.has(d)||this.map.set(d,d.defaultValue()),this.map.get(d)}delete(d){return this.map.delete(d),this}keys(){return this.map.keys()}}function jr(v){return"undefined"!=typeof ArrayBuffer&&v instanceof ArrayBuffer}function ln(v){return"undefined"!=typeof Blob&&v instanceof Blob}function Tr(v){return"undefined"!=typeof FormData&&v instanceof FormData}class Dr{constructor(d,u,g,T){let L;if(this.url=u,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=d.toUpperCase(),function(v){switch(v){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||T?(this.body=void 0!==g?g:null,L=T):L=g,L&&(this.reportProgress=!!L.reportProgress,this.withCredentials=!!L.withCredentials,L.responseType&&(this.responseType=L.responseType),L.headers&&(this.headers=L.headers),L.context&&(this.context=L.context),L.params&&(this.params=L.params)),this.headers||(this.headers=new ui),this.context||(this.context=new Uo),this.params){const K=this.params.toString();if(0===K.length)this.urlWithParams=u;else{const de=u.indexOf("?");this.urlWithParams=u+(-1===de?"?":de<u.length-1?"&":"")+K}}else this.params=new vi,this.urlWithParams=u}serializeBody(){return null===this.body?null:jr(this.body)||ln(this.body)||Tr(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof vi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tr(this.body)?null:ln(this.body)?this.body.type||null:jr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(d={}){var u;const g=d.method||this.method,T=d.url||this.url,L=d.responseType||this.responseType,K=void 0!==d.body?d.body:this.body,de=void 0!==d.withCredentials?d.withCredentials:this.withCredentials,Se=void 0!==d.reportProgress?d.reportProgress:this.reportProgress;let Be=d.headers||this.headers,tt=d.params||this.params;const mt=null!==(u=d.context)&&void 0!==u?u:this.context;return void 0!==d.setHeaders&&(Be=Object.keys(d.setHeaders).reduce((Tt,Ct)=>Tt.set(Ct,d.setHeaders[Ct]),Be)),d.setParams&&(tt=Object.keys(d.setParams).reduce((Tt,Ct)=>Tt.set(Ct,d.setParams[Ct]),tt)),new Dr(g,T,K,{params:tt,headers:Be,context:mt,reportProgress:Se,responseType:L,withCredentials:de})}}var zn=(()=>((zn=zn||{})[zn.Sent=0]="Sent",zn[zn.UploadProgress=1]="UploadProgress",zn[zn.ResponseHeader=2]="ResponseHeader",zn[zn.DownloadProgress=3]="DownloadProgress",zn[zn.Response=4]="Response",zn[zn.User=5]="User",zn))();class so{constructor(d,u=200,g="OK"){this.headers=d.headers||new ui,this.status=void 0!==d.status?d.status:u,this.statusText=d.statusText||g,this.url=d.url||null,this.ok=this.status>=200&&this.status<300}}class Ur extends so{constructor(d={}){super(d),this.type=zn.ResponseHeader}clone(d={}){return new Ur({headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class Ua extends so{constructor(d={}){super(d),this.type=zn.Response,this.body=void 0!==d.body?d.body:null}clone(d={}){return new Ua({body:void 0!==d.body?d.body:this.body,headers:d.headers||this.headers,status:void 0!==d.status?d.status:this.status,statusText:d.statusText||this.statusText,url:d.url||this.url||void 0})}}class zl extends so{constructor(d){super(d,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${d.url||"(unknown url)"}`:`Http failure response for ${d.url||"(unknown url)"}: ${d.status} ${d.statusText}`,this.error=d.error||null}}function bo(v,d){return{body:d,headers:v.headers,context:v.context,observe:v.observe,params:v.params,reportProgress:v.reportProgress,responseType:v.responseType,withCredentials:v.withCredentials}}let Va=(()=>{class v{constructor(u){this.handler=u}request(u,g,T={}){let L;if(u instanceof Dr)L=u;else{let Se,Be;Se=T.headers instanceof ui?T.headers:new ui(T.headers),T.params&&(Be=T.params instanceof vi?T.params:new vi({fromObject:T.params})),L=new Dr(u,g,void 0!==T.body?T.body:null,{headers:Se,context:T.context,params:Be,reportProgress:T.reportProgress,responseType:T.responseType||"json",withCredentials:T.withCredentials})}const K=(0,Fi.of)(L).pipe((0,yo.b)(Se=>this.handler.handle(Se)));if(u instanceof Dr||"events"===T.observe)return K;const de=K.pipe((0,os.h)(Se=>Se instanceof Ua));switch(T.observe||"body"){case"body":switch(L.responseType){case"arraybuffer":return de.pipe((0,mi.U)(Se=>{if(null!==Se.body&&!(Se.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Se.body}));case"blob":return de.pipe((0,mi.U)(Se=>{if(null!==Se.body&&!(Se.body instanceof Blob))throw new Error("Response is not a Blob.");return Se.body}));case"text":return de.pipe((0,mi.U)(Se=>{if(null!==Se.body&&"string"!=typeof Se.body)throw new Error("Response is not a string.");return Se.body}));case"json":default:return de.pipe((0,mi.U)(Se=>Se.body))}case"response":return de;default:throw new Error(`Unreachable: unhandled observe type ${T.observe}}`)}}delete(u,g={}){return this.request("DELETE",u,g)}get(u,g={}){return this.request("GET",u,g)}head(u,g={}){return this.request("HEAD",u,g)}jsonp(u,g){return this.request("JSONP",u,{params:(new vi).append(g,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(u,g={}){return this.request("OPTIONS",u,g)}patch(u,g,T={}){return this.request("PATCH",u,bo(T,g))}post(u,g,T={}){return this.request("POST",u,bo(T,g))}put(u,g,T={}){return this.request("PUT",u,bo(T,g))}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(Rs))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();class pa{constructor(d,u){this.next=d,this.interceptor=u}handle(d){return this.interceptor.intercept(d,this.next)}}const cl=new y.OlP("HTTP_INTERCEPTORS");let Er=(()=>{class v{intercept(u,g){return g.handle(u)}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();const jo=/^\)\]\}',?\n/;let za=(()=>{class v{constructor(u){this.xhrFactory=u}handle(u){if("JSONP"===u.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _n.y(g=>{const T=this.xhrFactory.build();if(T.open(u.method,u.urlWithParams),u.withCredentials&&(T.withCredentials=!0),u.headers.forEach((Ct,Mt)=>T.setRequestHeader(Ct,Mt.join(","))),u.headers.has("Accept")||T.setRequestHeader("Accept","application/json, text/plain, */*"),!u.headers.has("Content-Type")){const Ct=u.detectContentTypeHeader();null!==Ct&&T.setRequestHeader("Content-Type",Ct)}if(u.responseType){const Ct=u.responseType.toLowerCase();T.responseType="json"!==Ct?Ct:"text"}const L=u.serializeBody();let K=null;const de=()=>{if(null!==K)return K;const Ct=1223===T.status?204:T.status,Mt=T.statusText||"OK",Ut=new ui(T.getAllResponseHeaders()),sn=function(v){return"responseURL"in v&&v.responseURL?v.responseURL:/^X-Request-URL:/m.test(v.getAllResponseHeaders())?v.getResponseHeader("X-Request-URL"):null}(T)||u.url;return K=new Ur({headers:Ut,status:Ct,statusText:Mt,url:sn}),K},Se=()=>{let{headers:Ct,status:Mt,statusText:Ut,url:sn}=de(),on=null;204!==Mt&&(on=void 0===T.response?T.responseText:T.response),0===Mt&&(Mt=on?200:0);let bn=Mt>=200&&Mt<300;if("json"===u.responseType&&"string"==typeof on){const Dn=on;on=on.replace(jo,"");try{on=""!==on?JSON.parse(on):null}catch(xn){on=Dn,bn&&(bn=!1,on={error:xn,text:on})}}bn?(g.next(new Ua({body:on,headers:Ct,status:Mt,statusText:Ut,url:sn||void 0})),g.complete()):g.error(new zl({error:on,headers:Ct,status:Mt,statusText:Ut,url:sn||void 0}))},Be=Ct=>{const{url:Mt}=de(),Ut=new zl({error:Ct,status:T.status||0,statusText:T.statusText||"Unknown Error",url:Mt||void 0});g.error(Ut)};let tt=!1;const mt=Ct=>{tt||(g.next(de()),tt=!0);let Mt={type:zn.DownloadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(Mt.total=Ct.total),"text"===u.responseType&&!!T.responseText&&(Mt.partialText=T.responseText),g.next(Mt)},Tt=Ct=>{let Mt={type:zn.UploadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(Mt.total=Ct.total),g.next(Mt)};return T.addEventListener("load",Se),T.addEventListener("error",Be),T.addEventListener("timeout",Be),T.addEventListener("abort",Be),u.reportProgress&&(T.addEventListener("progress",mt),null!==L&&T.upload&&T.upload.addEventListener("progress",Tt)),T.send(L),g.next({type:zn.Sent}),()=>{T.removeEventListener("error",Be),T.removeEventListener("abort",Be),T.removeEventListener("load",Se),T.removeEventListener("timeout",Be),u.reportProgress&&(T.removeEventListener("progress",mt),null!==L&&T.upload&&T.upload.removeEventListener("progress",Tt)),T.readyState!==T.DONE&&T.abort()}})}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(A.JF))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();const dl=new y.OlP("XSRF_COOKIE_NAME"),xs=new y.OlP("XSRF_HEADER_NAME");class Co{}let ga=(()=>{class v{constructor(u,g,T){this.doc=u,this.platform=g,this.cookieName=T,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const u=this.doc.cookie||"";return u!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,A.Mx)(u,this.cookieName),this.lastCookieString=u),this.lastToken}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(A.K0),y.LFG(y.Lbi),y.LFG(dl))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})(),ma=(()=>{class v{constructor(u,g){this.tokenService=u,this.headerName=g}intercept(u,g){const T=u.url.toLowerCase();if("GET"===u.method||"HEAD"===u.method||T.startsWith("http://")||T.startsWith("https://"))return g.handle(u);const L=this.tokenService.getToken();return null!==L&&!u.headers.has(this.headerName)&&(u=u.clone({headers:u.headers.set(this.headerName,L)})),g.handle(u)}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(Co),y.LFG(xs))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})(),Bi=(()=>{class v{constructor(u,g){this.backend=u,this.injector=g,this.chain=null}handle(u){if(null===this.chain){const g=this.injector.get(cl,[]);this.chain=g.reduceRight((T,L)=>new pa(T,L),this.backend)}return this.chain.handle(u)}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(Mi),y.LFG(y.zs3))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})(),Eo=(()=>{class v{static disable(){return{ngModule:v,providers:[{provide:ma,useClass:Er}]}}static withOptions(u={}){return{ngModule:v,providers:[u.cookieName?{provide:dl,useValue:u.cookieName}:[],u.headerName?{provide:xs,useValue:u.headerName}:[]]}}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({providers:[ma,{provide:cl,useExisting:ma,multi:!0},{provide:Co,useClass:ga},{provide:dl,useValue:"XSRF-TOKEN"},{provide:xs,useValue:"X-XSRF-TOKEN"}]}),v})(),fl=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({providers:[Va,{provide:Rs,useClass:Bi},za,{provide:Mi,useExisting:za}],imports:[[Eo.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),v})();class cr{}const ws="*";function yi(v,d){return{type:7,name:v,definitions:d,options:{}}}function Ii(v,d=null){return{type:4,styles:d,timings:v}}function xo(v,d=null){return{type:2,steps:v,options:d}}function Xt(v){return{type:6,styles:v,offset:null}}function as(v,d,u){return{type:0,name:v,styles:d,options:u}}function Q(v){return{type:5,steps:v}}function me(v,d,u=null){return{type:1,expr:v,animation:d,options:u}}function V(v,d,u=null){return{type:11,selector:v,animation:d,options:u}}function be(v){Promise.resolve(null).then(v)}class We{constructor(d=0,u=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=d+u}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){be(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(d=>d()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(d){this._position=this.totalTime?d*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(d){const u="start"==d?this._onStartFns:this._onDoneFns;u.forEach(g=>g()),u.length=0}}class ot{constructor(d){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=d;let u=0,g=0,T=0;const L=this.players.length;0==L?be(()=>this._onFinish()):this.players.forEach(K=>{K.onDone(()=>{++u==L&&this._onFinish()}),K.onDestroy(()=>{++g==L&&this._onDestroy()}),K.onStart(()=>{++T==L&&this._onStart()})}),this.totalTime=this.players.reduce((K,de)=>Math.max(K,de.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this.players.forEach(d=>d.init())}onStart(d){this._onStartFns.push(d)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(d=>d()),this._onStartFns=[])}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(d=>d.play())}pause(){this.players.forEach(d=>d.pause())}restart(){this.players.forEach(d=>d.restart())}finish(){this._onFinish(),this.players.forEach(d=>d.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(d=>d.destroy()),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}reset(){this.players.forEach(d=>d.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(d){const u=d*this.totalTime;this.players.forEach(g=>{const T=g.totalTime?Math.min(1,u/g.totalTime):1;g.setPosition(T)})}getPosition(){const d=this.players.reduce((u,g)=>null===u||g.totalTime>u.totalTime?g:u,null);return null!=d?d.getPosition():0}beforeDestroy(){this.players.forEach(d=>{d.beforeDestroy&&d.beforeDestroy()})}triggerCallback(d){const u="start"==d?this._onStartFns:this._onDoneFns;u.forEach(g=>g()),u.length=0}}function ut(){return"undefined"!=typeof window&&void 0!==window.document}function Ot(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function St(v){switch(v.length){case 0:return new We;case 1:return v[0];default:return new ot(v)}}function It(v,d,u,g,T={},L={}){const K=[],de=[];let Se=-1,Be=null;if(g.forEach(tt=>{const mt=tt.offset,Tt=mt==Se,Ct=Tt&&Be||{};Object.keys(tt).forEach(Mt=>{let Ut=Mt,sn=tt[Mt];if("offset"!==Mt)switch(Ut=d.normalizePropertyName(Ut,K),sn){case"!":sn=T[Mt];break;case ws:sn=L[Mt];break;default:sn=d.normalizeStyleValue(Mt,Ut,sn,K)}Ct[Ut]=sn}),Tt||de.push(Ct),Be=Ct,Se=mt}),K.length){const tt="\n - ";throw new Error(`Unable to animate due to the following errors:${tt}${K.join(tt)}`)}return de}function $t(v,d,u,g){switch(d){case"start":v.onStart(()=>g(u&&Gt(u,"start",v)));break;case"done":v.onDone(()=>g(u&&Gt(u,"done",v)));break;case"destroy":v.onDestroy(()=>g(u&&Gt(u,"destroy",v)))}}function Gt(v,d,u){const g=u.totalTime,L=Wt(v.element,v.triggerName,v.fromState,v.toState,d||v.phaseName,null==g?v.totalTime:g,!!u.disabled),K=v._data;return null!=K&&(L._data=K),L}function Wt(v,d,u,g,T="",L=0,K){return{element:v,triggerName:d,fromState:u,toState:g,phaseName:T,totalTime:L,disabled:!!K}}function en(v,d,u){let g;return v instanceof Map?(g=v.get(d),g||v.set(d,g=u)):(g=v[d],g||(g=v[d]=u)),g}function un(v){const d=v.indexOf(":");return[v.substring(1,d),v.substr(d+1)]}let Wn=(v,d)=>!1,tn=(v,d)=>!1,Vr=(v,d,u)=>[];const mr=Ot();(mr||"undefined"!=typeof Element)&&(Wn=ut()?(v,d)=>{for(;d&&d!==document.documentElement;){if(d===v)return!0;d=d.parentNode||d.host}return!1}:(v,d)=>v.contains(d),tn=(()=>{if(mr||Element.prototype.matches)return(v,d)=>v.matches(d);{const v=Element.prototype,d=v.matchesSelector||v.mozMatchesSelector||v.msMatchesSelector||v.oMatchesSelector||v.webkitMatchesSelector;return d?(u,g)=>d.apply(u,[g]):tn}})(),Vr=(v,d,u)=>{let g=[];if(u){const T=v.querySelectorAll(d);for(let L=0;L<T.length;L++)g.push(T[L])}else{const T=v.querySelector(d);T&&g.push(T)}return g});let Ui=null,Xi=!1;function Nt(v){Ui||(Ui=("undefined"!=typeof document?document.body:null)||{},Xi=!!Ui.style&&"WebkitAppearance"in Ui.style);let d=!0;return Ui.style&&!function(v){return"ebkit"==v.substring(1,6)}(v)&&(d=v in Ui.style,!d&&Xi&&(d="Webkit"+v.charAt(0).toUpperCase()+v.substr(1)in Ui.style)),d}const Rn=tn,Ar=Wn,$a=Vr;function Xr(v){const d={};return Object.keys(v).forEach(u=>{const g=u.replace(/([a-z])([A-Z])/g,"$1-$2");d[g]=v[u]}),d}let Jr=(()=>{class v{validateStyleProperty(u){return Nt(u)}matchesElement(u,g){return Rn(u,g)}containsElement(u,g){return Ar(u,g)}query(u,g,T){return $a(u,g,T)}computeStyle(u,g,T){return T||""}animate(u,g,T,L,K,de=[],Se){return new We(T,L)}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})(),di=(()=>{class v{}return v.NOOP=new Jr,v})();const Ss="ng-enter",zr="ng-leave",pl="ng-trigger",zo=".ng-trigger",Vi="ng-animating",Gl=".ng-animating";function $o(v){if("number"==typeof v)return v;const d=v.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:Iu(parseFloat(d[1]),d[2])}function Iu(v,d){switch(d){case"s":return 1e3*v;default:return v}}function va(v,d,u){return v.hasOwnProperty("duration")?v:function(v,d,u){let T,L=0,K="";if("string"==typeof v){const de=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===de)return d.push(`The provided timing value "${v}" is invalid.`),{duration:0,delay:0,easing:""};T=Iu(parseFloat(de[1]),de[2]);const Se=de[3];null!=Se&&(L=Iu(parseFloat(Se),de[4]));const Be=de[5];Be&&(K=Be)}else T=v;if(!u){let de=!1,Se=d.length;T<0&&(d.push("Duration values below 0 are not allowed for this animation step."),de=!0),L<0&&(d.push("Delay values below 0 are not allowed for this animation step."),de=!0),de&&d.splice(Se,0,`The provided timing value "${v}" is invalid.`)}return{duration:T,delay:L,easing:K}}(v,d,u)}function Wo(v,d={}){return Object.keys(v).forEach(u=>{d[u]=v[u]}),d}function Zs(v,d,u={}){if(d)for(let g in v)u[g]=v[g];else Wo(v,u);return u}function oc(v,d,u){return u?d+":"+u+";":""}function _a(v){let d="";for(let u=0;u<v.style.length;u++){const g=v.style.item(u);d+=oc(0,g,v.style.getPropertyValue(g))}for(const u in v.style)v.style.hasOwnProperty(u)&&!u.startsWith("_")&&(d+=oc(0,qr(u),v.style[u]));v.setAttribute("style",d)}function gs(v,d,u){v.style&&(Object.keys(d).forEach(g=>{const T=ms(g);u&&!u.hasOwnProperty(g)&&(u[g]=v.style[T]),v.style[T]=d[g]}),Ot()&&_a(v))}function wo(v,d){v.style&&(Object.keys(d).forEach(u=>{const g=ms(u);v.style[g]=""}),Ot()&&_a(v))}function bi(v){return Array.isArray(v)?1==v.length?v[0]:xo(v):v}const ql=new RegExp("{{\\s*(.+?)\\s*}}","g");function Wa(v){let d=[];if("string"==typeof v){let u;for(;u=ql.exec(v);)d.push(u[1]);ql.lastIndex=0}return d}function gl(v,d,u){const g=v.toString(),T=g.replace(ql,(L,K)=>{let de=d[K];return d.hasOwnProperty(K)||(u.push(`Please provide a value for the animation param ${K}`),de=""),de.toString()});return T==g?v:T}function Ql(v){const d=[];let u=v.next();for(;!u.done;)d.push(u.value),u=v.next();return d}const Ci=/-+([a-z0-9])/g;function ms(v){return v.replace(Ci,(...d)=>d[1].toUpperCase())}function qr(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ru(v,d){return 0===v||0===d}function lr(v,d,u){const g=Object.keys(u);if(g.length&&d.length){let L=d[0],K=[];if(g.forEach(de=>{L.hasOwnProperty(de)||K.push(de),L[de]=u[de]}),K.length)for(var T=1;T<d.length;T++){let de=d[T];K.forEach(function(Se){de[Se]=Kl(v,Se)})}}return d}function ei(v,d,u){switch(d.type){case 7:return v.visitTrigger(d,u);case 0:return v.visitState(d,u);case 1:return v.visitTransition(d,u);case 2:return v.visitSequence(d,u);case 3:return v.visitGroup(d,u);case 4:return v.visitAnimate(d,u);case 5:return v.visitKeyframes(d,u);case 6:return v.visitStyle(d,u);case 8:return v.visitReference(d,u);case 9:return v.visitAnimateChild(d,u);case 10:return v.visitAnimateRef(d,u);case 11:return v.visitQuery(d,u);case 12:return v.visitStagger(d,u);default:throw new Error(`Unable to resolve animation metadata node #${d.type}`)}}function Kl(v,d){return window.getComputedStyle(v)[d]}function Go(v,d){const u=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(g=>function(v,d,u){if(":"==v[0]){const Se=function(v,d){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(u,g)=>parseFloat(g)>parseFloat(u);case":decrement":return(u,g)=>parseFloat(g)<parseFloat(u);default:return d.push(`The transition alias value "${v}" is not supported`),"* => *"}}(v,u);if("function"==typeof Se)return void d.push(Se);v=Se}const g=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return u.push(`The provided transition expression "${v}" is not supported`),d;const T=g[1],L=g[2],K=g[3];d.push(Nu(T,K));"<"==L[0]&&!("*"==T&&"*"==K)&&d.push(Nu(K,T))}(g,u,d)):u.push(v),u}const ba=new Set(["true","1"]),Ri=new Set(["false","0"]);function Nu(v,d){const u=ba.has(v)||Ri.has(v),g=ba.has(d)||Ri.has(d);return(T,L)=>{let K="*"==v||v==T,de="*"==d||d==L;return!K&&u&&"boolean"==typeof T&&(K=T?ba.has(v):Ri.has(v)),!de&&g&&"boolean"==typeof L&&(de=L?ba.has(d):Ri.has(d)),K&&de}}const ao=new RegExp("s*:selfs*,?","g");function Ca(v,d,u){return new vl(v).build(d,u)}class vl{constructor(d){this._driver=d}build(d,u){const g=new Kc(u);return this._resetContextStyleTimingState(g),ei(this,bi(d),g)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles={},d.collectedStyles[""]={},d.currentTime=0}visitTrigger(d,u){let g=u.queryCount=0,T=u.depCount=0;const L=[],K=[];return"@"==d.name.charAt(0)&&u.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),d.definitions.forEach(de=>{if(this._resetContextStyleTimingState(u),0==de.type){const Se=de,Be=Se.name;Be.toString().split(/\s*,\s*/).forEach(tt=>{Se.name=tt,L.push(this.visitState(Se,u))}),Se.name=Be}else if(1==de.type){const Se=this.visitTransition(de,u);g+=Se.queryCount,T+=Se.depCount,K.push(Se)}else u.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:d.name,states:L,transitions:K,queryCount:g,depCount:T,options:null}}visitState(d,u){const g=this.visitStyle(d.styles,u),T=d.options&&d.options.params||null;if(g.containsDynamicStyles){const L=new Set,K=T||{};if(g.styles.forEach(de=>{if(_l(de)){const Se=de;Object.keys(Se).forEach(Be=>{Wa(Se[Be]).forEach(tt=>{K.hasOwnProperty(tt)||L.add(tt)})})}}),L.size){const de=Ql(L.values());u.errors.push(`state("${d.name}", ...) must define default values for all the following style substitutions: ${de.join(", ")}`)}}return{type:0,name:d.name,style:g,options:T?{params:T}:null}}visitTransition(d,u){u.queryCount=0,u.depCount=0;const g=ei(this,bi(d.animation),u);return{type:1,matchers:Go(d.expr,u.errors),animation:g,queryCount:u.queryCount,depCount:u.depCount,options:ls(d.options)}}visitSequence(d,u){return{type:2,steps:d.steps.map(g=>ei(this,g,u)),options:ls(d.options)}}visitGroup(d,u){const g=u.currentTime;let T=0;const L=d.steps.map(K=>{u.currentTime=g;const de=ei(this,K,u);return T=Math.max(T,u.currentTime),de});return u.currentTime=T,{type:3,steps:L,options:ls(d.options)}}visitAnimate(d,u){const g=function(v,d){let u=null;if(v.hasOwnProperty("duration"))u=v;else if("number"==typeof v)return Ta(va(v,d).duration,0,"");const g=v;if(g.split(/\s+/).some(L=>"{"==L.charAt(0)&&"{"==L.charAt(1))){const L=Ta(0,0,"");return L.dynamic=!0,L.strValue=g,L}return u=u||va(g,d),Ta(u.duration,u.delay,u.easing)}(d.timings,u.errors);u.currentAnimateTimings=g;let T,L=d.styles?d.styles:Xt({});if(5==L.type)T=this.visitKeyframes(L,u);else{let K=d.styles,de=!1;if(!K){de=!0;const Be={};g.easing&&(Be.easing=g.easing),K=Xt(Be)}u.currentTime+=g.duration+g.delay;const Se=this.visitStyle(K,u);Se.isEmptyStep=de,T=Se}return u.currentAnimateTimings=null,{type:4,timings:g,style:T,options:null}}visitStyle(d,u){const g=this._makeStyleAst(d,u);return this._validateStyleAst(g,u),g}_makeStyleAst(d,u){const g=[];Array.isArray(d.styles)?d.styles.forEach(K=>{"string"==typeof K?K==ws?g.push(K):u.errors.push(`The provided style string value ${K} is not allowed.`):g.push(K)}):g.push(d.styles);let T=!1,L=null;return g.forEach(K=>{if(_l(K)){const de=K,Se=de.easing;if(Se&&(L=Se,delete de.easing),!T)for(let Be in de)if(de[Be].toString().indexOf("{{")>=0){T=!0;break}}}),{type:6,styles:g,easing:L,offset:d.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(d,u){const g=u.currentAnimateTimings;let T=u.currentTime,L=u.currentTime;g&&L>0&&(L-=g.duration+g.delay),d.styles.forEach(K=>{"string"!=typeof K&&Object.keys(K).forEach(de=>{if(!this._driver.validateStyleProperty(de))return void u.errors.push(`The provided animation property "${de}" is not a supported CSS property for animations`);const Se=u.collectedStyles[u.currentQuerySelector],Be=Se[de];let tt=!0;Be&&(L!=T&&L>=Be.startTime&&T<=Be.endTime&&(u.errors.push(`The CSS property "${de}" that exists between the times of "${Be.startTime}ms" and "${Be.endTime}ms" is also being animated in a parallel animation between the times of "${L}ms" and "${T}ms"`),tt=!1),L=Be.startTime),tt&&(Se[de]={startTime:L,endTime:T}),u.options&&function(v,d,u){const g=d.params||{},T=Wa(v);T.length&&T.forEach(L=>{g.hasOwnProperty(L)||u.push(`Unable to resolve the local animation param ${L} in the given list of values`)})}(K[de],u.options,u.errors)})})}visitKeyframes(d,u){const g={type:5,styles:[],options:null};if(!u.currentAnimateTimings)return u.errors.push("keyframes() must be placed inside of a call to animate()"),g;let L=0;const K=[];let de=!1,Se=!1,Be=0;const tt=d.steps.map(on=>{const bn=this._makeStyleAst(on,u);let Dn=null!=bn.offset?bn.offset:function(v){if("string"==typeof v)return null;let d=null;if(Array.isArray(v))v.forEach(u=>{if(_l(u)&&u.hasOwnProperty("offset")){const g=u;d=parseFloat(g.offset),delete g.offset}});else if(_l(v)&&v.hasOwnProperty("offset")){const u=v;d=parseFloat(u.offset),delete u.offset}return d}(bn.styles),xn=0;return null!=Dn&&(L++,xn=bn.offset=Dn),Se=Se||xn<0||xn>1,de=de||xn<Be,Be=xn,K.push(xn),bn});Se&&u.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),de&&u.errors.push("Please ensure that all keyframe offsets are in order");const mt=d.steps.length;let Tt=0;L>0&&L<mt?u.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==L&&(Tt=1/(mt-1));const Ct=mt-1,Mt=u.currentTime,Ut=u.currentAnimateTimings,sn=Ut.duration;return tt.forEach((on,bn)=>{const Dn=Tt>0?bn==Ct?1:Tt*bn:K[bn],xn=Dn*sn;u.currentTime=Mt+Ut.delay+xn,Ut.duration=xn,this._validateStyleAst(on,u),on.offset=Dn,g.styles.push(on)}),g}visitReference(d,u){return{type:8,animation:ei(this,bi(d.animation),u),options:ls(d.options)}}visitAnimateChild(d,u){return u.depCount++,{type:9,options:ls(d.options)}}visitAnimateRef(d,u){return{type:10,animation:this.visitReference(d.animation,u),options:ls(d.options)}}visitQuery(d,u){const g=u.currentQuerySelector,T=d.options||{};u.queryCount++,u.currentQuery=d;const[L,K]=function(v){const d=!!v.split(/\s*,\s*/).find(u=>":self"==u);return d&&(v=v.replace(ao,"")),[v=v.replace(/@\*/g,zo).replace(/@\w+/g,u=>zo+"-"+u.substr(1)).replace(/:animating/g,Gl),d]}(d.selector);u.currentQuerySelector=g.length?g+" "+L:L,en(u.collectedStyles,u.currentQuerySelector,{});const de=ei(this,bi(d.animation),u);return u.currentQuery=null,u.currentQuerySelector=g,{type:11,selector:L,limit:T.limit||0,optional:!!T.optional,includeSelf:K,animation:de,originalSelector:d.selector,options:ls(d.options)}}visitStagger(d,u){u.currentQuery||u.errors.push("stagger() can only be used inside of query()");const g="full"===d.timings?{duration:0,delay:0,easing:"full"}:va(d.timings,u.errors,!0);return{type:12,animation:ei(this,bi(d.animation),u),timings:g,options:null}}}class Kc{constructor(d){this.errors=d,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function _l(v){return!Array.isArray(v)&&"object"==typeof v}function ls(v){return v?(v=Wo(v)).params&&(v.params=function(v){return v?Wo(v):null}(v.params)):v={},v}function Ta(v,d,u){return{duration:v,delay:d,easing:u}}function Xs(v,d,u,g,T,L,K=null,de=!1){return{type:1,element:v,keyframes:d,preStyleProps:u,postStyleProps:g,duration:T,delay:L,totalTime:T+L,easing:K,subTimeline:de}}class Po{constructor(){this._map=new Map}consume(d){let u=this._map.get(d);return u?this._map.delete(d):u=[],u}append(d,u){let g=this._map.get(d);g||this._map.set(d,g=[]),g.push(...u)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const Ea=new RegExp(":enter","g"),Qo=new RegExp(":leave","g");function Ko(v,d,u,g,T,L={},K={},de,Se,Be=[]){return(new Uu).buildKeyframes(v,d,u,g,T,L,K,de,Se,Be)}class Uu{buildKeyframes(d,u,g,T,L,K,de,Se,Be,tt=[]){Be=Be||new Po;const mt=new Yl(d,u,Be,T,L,tt,[]);mt.options=Se,mt.currentTimeline.setStyles([K],null,mt.errors,Se),ei(this,g,mt);const Tt=mt.timelines.filter(Ct=>Ct.containsAnimation());if(Tt.length&&Object.keys(de).length){const Ct=Tt[Tt.length-1];Ct.allowOnlyTimelineStyles()||Ct.setStyles([de],null,mt.errors,Se)}return Tt.length?Tt.map(Ct=>Ct.buildKeyframes()):[Xs(u,[],[],[],0,0,"",!1)]}visitTrigger(d,u){}visitState(d,u){}visitTransition(d,u){}visitAnimateChild(d,u){const g=u.subInstructions.consume(u.element);if(g){const T=u.createSubContext(d.options),L=u.currentTimeline.currentTime,K=this._visitSubInstructions(g,T,T.options);L!=K&&u.transformIntoNewTimeline(K)}u.previousNode=d}visitAnimateRef(d,u){const g=u.createSubContext(d.options);g.transformIntoNewTimeline(),this.visitReference(d.animation,g),u.transformIntoNewTimeline(g.currentTimeline.currentTime),u.previousNode=d}_visitSubInstructions(d,u,g){let L=u.currentTimeline.currentTime;const K=null!=g.duration?$o(g.duration):null,de=null!=g.delay?$o(g.delay):null;return 0!==K&&d.forEach(Se=>{const Be=u.appendInstructionToTimeline(Se,K,de);L=Math.max(L,Be.duration+Be.delay)}),L}visitReference(d,u){u.updateOptions(d.options,!0),ei(this,d.animation,u),u.previousNode=d}visitSequence(d,u){const g=u.subContextCount;let T=u;const L=d.options;if(L&&(L.params||L.delay)&&(T=u.createSubContext(L),T.transformIntoNewTimeline(),null!=L.delay)){6==T.previousNode.type&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=Do);const K=$o(L.delay);T.delayNextStep(K)}d.steps.length&&(d.steps.forEach(K=>ei(this,K,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>g&&T.transformIntoNewTimeline()),u.previousNode=d}visitGroup(d,u){const g=[];let T=u.currentTimeline.currentTime;const L=d.options&&d.options.delay?$o(d.options.delay):0;d.steps.forEach(K=>{const de=u.createSubContext(d.options);L&&de.delayNextStep(L),ei(this,K,de),T=Math.max(T,de.currentTimeline.currentTime),g.push(de.currentTimeline)}),g.forEach(K=>u.currentTimeline.mergeTimelineCollectedStyles(K)),u.transformIntoNewTimeline(T),u.previousNode=d}_visitTiming(d,u){if(d.dynamic){const g=d.strValue;return va(u.params?gl(g,u.params,u.errors):g,u.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,u){const g=u.currentAnimateTimings=this._visitTiming(d.timings,u),T=u.currentTimeline;g.delay&&(u.incrementTime(g.delay),T.snapshotCurrentStyles());const L=d.style;5==L.type?this.visitKeyframes(L,u):(u.incrementTime(g.duration),this.visitStyle(L,u),T.applyStylesToKeyframe()),u.currentAnimateTimings=null,u.previousNode=d}visitStyle(d,u){const g=u.currentTimeline,T=u.currentAnimateTimings;!T&&g.getCurrentStyleProperties().length&&g.forwardFrame();const L=T&&T.easing||d.easing;d.isEmptyStep?g.applyEmptyStep(L):g.setStyles(d.styles,L,u.errors,u.options),u.previousNode=d}visitKeyframes(d,u){const g=u.currentAnimateTimings,T=u.currentTimeline.duration,L=g.duration,de=u.createSubContext().currentTimeline;de.easing=g.easing,d.styles.forEach(Se=>{de.forwardTime((Se.offset||0)*L),de.setStyles(Se.styles,Se.easing,u.errors,u.options),de.applyStylesToKeyframe()}),u.currentTimeline.mergeTimelineCollectedStyles(de),u.transformIntoNewTimeline(T+L),u.previousNode=d}visitQuery(d,u){const g=u.currentTimeline.currentTime,T=d.options||{},L=T.delay?$o(T.delay):0;L&&(6===u.previousNode.type||0==g&&u.currentTimeline.getCurrentStyleProperties().length)&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=Do);let K=g;const de=u.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!T.optional,u.errors);u.currentQueryTotal=de.length;let Se=null;de.forEach((Be,tt)=>{u.currentQueryIndex=tt;const mt=u.createSubContext(d.options,Be);L&&mt.delayNextStep(L),Be===u.element&&(Se=mt.currentTimeline),ei(this,d.animation,mt),mt.currentTimeline.applyStylesToKeyframe(),K=Math.max(K,mt.currentTimeline.currentTime)}),u.currentQueryIndex=0,u.currentQueryTotal=0,u.transformIntoNewTimeline(K),Se&&(u.currentTimeline.mergeTimelineCollectedStyles(Se),u.currentTimeline.snapshotCurrentStyles()),u.previousNode=d}visitStagger(d,u){const g=u.parentContext,T=u.currentTimeline,L=d.timings,K=Math.abs(L.duration),de=K*(u.currentQueryTotal-1);let Se=K*u.currentQueryIndex;switch(L.duration<0?"reverse":L.easing){case"reverse":Se=de-Se;break;case"full":Se=g.currentStaggerTime}const tt=u.currentTimeline;Se&&tt.delayNextStep(Se);const mt=tt.currentTime;ei(this,d.animation,u),u.previousNode=d,g.currentStaggerTime=T.currentTime-mt+(T.startTime-g.currentTimeline.startTime)}}const Do={};class Yl{constructor(d,u,g,T,L,K,de,Se){this._driver=d,this.element=u,this.subInstructions=g,this._enterClassName=T,this._leaveClassName=L,this.errors=K,this.timelines=de,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Do,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Se||new Zl(this._driver,u,0),de.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,u){if(!d)return;const g=d;let T=this.options;null!=g.duration&&(T.duration=$o(g.duration)),null!=g.delay&&(T.delay=$o(g.delay));const L=g.params;if(L){let K=T.params;K||(K=this.options.params={}),Object.keys(L).forEach(de=>{(!u||!K.hasOwnProperty(de))&&(K[de]=gl(L[de],K,this.errors))})}}_copyOptions(){const d={};if(this.options){const u=this.options.params;if(u){const g=d.params={};Object.keys(u).forEach(T=>{g[T]=u[T]})}}return d}createSubContext(d=null,u,g){const T=u||this.element,L=new Yl(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,g||0));return L.previousNode=this.previousNode,L.currentAnimateTimings=this.currentAnimateTimings,L.options=this._copyOptions(),L.updateOptions(d),L.currentQueryIndex=this.currentQueryIndex,L.currentQueryTotal=this.currentQueryTotal,L.parentContext=this,this.subContextCount++,L}transformIntoNewTimeline(d){return this.previousNode=Do,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,u,g){const T={duration:null!=u?u:d.duration,delay:this.currentTimeline.currentTime+(null!=g?g:0)+d.delay,easing:""},L=new xa(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,T,d.stretchStartingKeyframe);return this.timelines.push(L),T}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,u,g,T,L,K){let de=[];if(T&&de.push(this.element),d.length>0){d=(d=d.replace(Ea,"."+this._enterClassName)).replace(Qo,"."+this._leaveClassName);let Be=this._driver.query(this.element,d,1!=g);0!==g&&(Be=g<0?Be.slice(Be.length+g,Be.length):Be.slice(0,g)),de.push(...Be)}return!L&&0==de.length&&K.push(`\`query("${u}")\` returned zero elements. (Use \`query("${u}", { optional: true })\` if you wish to allow this.)`),de}}class Zl{constructor(d,u,g,T){this._driver=d,this.element=u,this.startTime=g,this._elementTimelineStylesLookup=T,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(u),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(u,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const u=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||u?(this.forwardTime(this.currentTime+d),u&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,u){return this.applyStylesToKeyframe(),new Zl(this._driver,d,u||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,u){this._localTimelineStyles[d]=u,this._globalTimelineStyles[d]=u,this._styleSummary[d]={time:this.currentTime,value:u}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&(this._previousKeyframe.easing=d),Object.keys(this._globalTimelineStyles).forEach(u=>{this._backFill[u]=this._globalTimelineStyles[u]||ws,this._currentKeyframe[u]=ws}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,u,g,T){u&&(this._previousKeyframe.easing=u);const L=T&&T.params||{},K=function(v,d){const u={};let g;return v.forEach(T=>{"*"===T?(g=g||Object.keys(d),g.forEach(L=>{u[L]=ws})):Zs(T,!1,u)}),u}(d,this._globalTimelineStyles);Object.keys(K).forEach(de=>{const Se=gl(K[de],L,g);this._pendingStyles[de]=Se,this._localTimelineStyles.hasOwnProperty(de)||(this._backFill[de]=this._globalTimelineStyles.hasOwnProperty(de)?this._globalTimelineStyles[de]:ws),this._updateStyle(de,Se)})}applyStylesToKeyframe(){const d=this._pendingStyles,u=Object.keys(d);0!=u.length&&(this._pendingStyles={},u.forEach(g=>{this._currentKeyframe[g]=d[g]}),Object.keys(this._localTimelineStyles).forEach(g=>{this._currentKeyframe.hasOwnProperty(g)||(this._currentKeyframe[g]=this._localTimelineStyles[g])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(d=>{const u=this._localTimelineStyles[d];this._pendingStyles[d]=u,this._updateStyle(d,u)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let u in this._currentKeyframe)d.push(u);return d}mergeTimelineCollectedStyles(d){Object.keys(d._styleSummary).forEach(u=>{const g=this._styleSummary[u],T=d._styleSummary[u];(!g||T.time>g.time)&&this._updateStyle(u,T.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,u=new Set,g=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((de,Se)=>{const Be=Zs(de,!0);Object.keys(Be).forEach(tt=>{const mt=Be[tt];"!"==mt?d.add(tt):mt==ws&&u.add(tt)}),g||(Be.offset=Se/this.duration),T.push(Be)});const L=d.size?Ql(d.values()):[],K=u.size?Ql(u.values()):[];if(g){const de=T[0],Se=Wo(de);de.offset=0,Se.offset=1,T=[de,Se]}return Xs(this.element,T,L,K,this.duration,this.startTime,this.easing,!1)}}class xa extends Zl{constructor(d,u,g,T,L,K,de=!1){super(d,u,K.delay),this.keyframes=g,this.preStyleProps=T,this.postStyleProps=L,this._stretchStartingKeyframe=de,this.timings={duration:K.duration,delay:K.delay,easing:K.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:u,duration:g,easing:T}=this.timings;if(this._stretchStartingKeyframe&&u){const L=[],K=g+u,de=u/K,Se=Zs(d[0],!1);Se.offset=0,L.push(Se);const Be=Zs(d[0],!1);Be.offset=lc(de),L.push(Be);const tt=d.length-1;for(let mt=1;mt<=tt;mt++){let Tt=Zs(d[mt],!1);Tt.offset=lc((u+Tt.offset*g)/K),L.push(Tt)}g=K,u=0,T="",d=L}return Xs(this.element,d,this.preStyleProps,this.postStyleProps,g,u,T,!0)}}function lc(v,d=3){const u=Math.pow(10,d-1);return Math.round(v*u)/u}class qa{}class wa extends qa{normalizePropertyName(d,u){return ms(d)}normalizeStyleValue(d,u,g,T){let L="";const K=g.toString().trim();if(Zc[u]&&0!==g&&"0"!==g)if("number"==typeof g)L="px";else{const de=g.match(/^[+-]?[\d\.]+([a-z]*)$/);de&&0==de[1].length&&T.push(`Please provide a CSS unit value for ${d}:${g}`)}return K+L}}const Zc=(()=>function(v){const d={};return v.forEach(u=>d[u]=!0),d}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ei(v,d,u,g,T,L,K,de,Se,Be,tt,mt,Tt){return{type:0,element:v,triggerName:d,isRemovalTransition:T,fromState:u,fromStyles:L,toState:g,toStyles:K,timelines:de,queriedElements:Se,preStyleProps:Be,postStyleProps:tt,totalTime:mt,errors:Tt}}const Yo={};class Xl{constructor(d,u,g){this._triggerName=d,this.ast=u,this._stateStyles=g}match(d,u,g,T){return function(v,d,u,g,T){return v.some(L=>L(d,u,g,T))}(this.ast.matchers,d,u,g,T)}buildStyles(d,u,g){const T=this._stateStyles["*"],L=this._stateStyles[d],K=T?T.buildStyles(u,g):{};return L?L.buildStyles(u,g):K}build(d,u,g,T,L,K,de,Se,Be,tt){const mt=[],Tt=this.ast.options&&this.ast.options.params||Yo,Mt=this.buildStyles(g,de&&de.params||Yo,mt),Ut=Se&&Se.params||Yo,sn=this.buildStyles(T,Ut,mt),on=new Set,bn=new Map,Dn=new Map,xn="void"===T,Wi={params:Object.assign(Object.assign({},Tt),Ut)},$r=tt?[]:Ko(d,u,this.ast.animation,L,K,Mt,sn,Wi,Be,mt);let br=0;if($r.forEach(to=>{br=Math.max(to.duration+to.delay,br)}),mt.length)return Ei(u,this._triggerName,g,T,xn,Mt,sn,[],[],bn,Dn,br,mt);$r.forEach(to=>{const Ms=to.element,Il=en(bn,Ms,{});to.preStyleProps.forEach(As=>Il[As]=!0);const co=en(Dn,Ms,{});to.postStyleProps.forEach(As=>co[As]=!0),Ms!==u&&on.add(Ms)});const Cs=Ql(on.values());return Ei(u,this._triggerName,g,T,xn,Mt,sn,$r,Cs,bn,Dn,br)}}class Vu{constructor(d,u,g){this.styles=d,this.defaultParams=u,this.normalizer=g}buildStyles(d,u){const g={},T=Wo(this.defaultParams);return Object.keys(d).forEach(L=>{const K=d[L];null!=K&&(T[L]=K)}),this.styles.styles.forEach(L=>{if("string"!=typeof L){const K=L;Object.keys(K).forEach(de=>{let Se=K[de];Se.length>1&&(Se=gl(Se,T,u));const Be=this.normalizer.normalizePropertyName(de,u);Se=this.normalizer.normalizeStyleValue(de,Be,Se,u),g[Be]=Se})}}),g}}class I{constructor(d,u,g){this.name=d,this.ast=u,this._normalizer=g,this.transitionFactories=[],this.states={},u.states.forEach(T=>{this.states[T.name]=new Vu(T.style,T.options&&T.options.params||{},g)}),P(this.states,"true","1"),P(this.states,"false","0"),u.transitions.forEach(T=>{this.transitionFactories.push(new Xl(d,T,this.states))}),this.fallbackTransition=function(v,d,u){return new Xl(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(K,de)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,u,g,T){return this.transitionFactories.find(K=>K.match(d,u,g,T))||null}matchStyles(d,u,g){return this.fallbackTransition.buildStyles(d,u,g)}}function P(v,d,u){v.hasOwnProperty(d)?v.hasOwnProperty(u)||(v[u]=v[d]):v.hasOwnProperty(u)&&(v[d]=v[u])}const H=new Po;class te{constructor(d,u,g){this.bodyNode=d,this._driver=u,this._normalizer=g,this._animations={},this._playersById={},this.players=[]}register(d,u){const g=[],T=Ca(this._driver,u,g);if(g.length)throw new Error(`Unable to build the animation due to the following errors: ${g.join("\n")}`);this._animations[d]=T}_buildPlayer(d,u,g){const T=d.element,L=It(0,this._normalizer,0,d.keyframes,u,g);return this._driver.animate(T,L,d.duration,d.delay,d.easing,[],!0)}create(d,u,g={}){const T=[],L=this._animations[d];let K;const de=new Map;if(L?(K=Ko(this._driver,u,L,Ss,zr,{},{},g,H,T),K.forEach(tt=>{const mt=en(de,tt.element,{});tt.postStyleProps.forEach(Tt=>mt[Tt]=null)})):(T.push("The requested animation doesn't exist or has already been destroyed"),K=[]),T.length)throw new Error(`Unable to create the animation due to the following errors: ${T.join("\n")}`);de.forEach((tt,mt)=>{Object.keys(tt).forEach(Tt=>{tt[Tt]=this._driver.computeStyle(mt,Tt,ws)})});const Be=St(K.map(tt=>{const mt=de.get(tt.element);return this._buildPlayer(tt,{},mt)}));return this._playersById[d]=Be,Be.onDestroy(()=>this.destroy(d)),this.players.push(Be),Be}destroy(d){const u=this._getPlayer(d);u.destroy(),delete this._playersById[d];const g=this.players.indexOf(u);g>=0&&this.players.splice(g,1)}_getPlayer(d){const u=this._playersById[d];if(!u)throw new Error(`Unable to find the timeline player referenced by ${d}`);return u}listen(d,u,g,T){const L=Wt(u,"","","");return $t(this._getPlayer(d),g,L,T),()=>{}}command(d,u,g,T){if("register"==g)return void this.register(d,T[0]);if("create"==g)return void this.create(d,u,T[0]||{});const L=this._getPlayer(d);switch(g){case"play":L.play();break;case"pause":L.pause();break;case"reset":L.reset();break;case"restart":L.restart();break;case"finish":L.finish();break;case"init":L.init();break;case"setPosition":L.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(d)}}}const ye="ng-animate-queued",Ge="ng-animate-disabled",_t=".ng-animate-disabled",mn=[],tr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ji="__ng_removed";class Ls{constructor(d,u=""){this.namespaceId=u;const g=d&&d.hasOwnProperty("value");if(this.value=null!=(v=g?d.value:d)?v:null,g){const L=Wo(d);delete L.value,this.options=L}else this.options={};var v;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(d){const u=d.params;if(u){const g=this.options.params;Object.keys(u).forEach(T=>{null==g[T]&&(g[T]=u[T])})}}}const Fs="void",Sa=new Ls(Fs);class dr{constructor(d,u,g){this.id=d,this.hostElement=u,this._engine=g,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+d,xi(u,this._hostClassName)}listen(d,u,g,T){if(!this._triggers.hasOwnProperty(u))throw new Error(`Unable to listen on the animation trigger event "${g}" because the animation trigger "${u}" doesn't exist!`);if(null==g||0==g.length)throw new Error(`Unable to listen on the animation trigger "${u}" because the provided event is undefined!`);if("start"!=(v=g)&&"done"!=v)throw new Error(`The provided animation trigger event "${g}" for the animation trigger "${u}" is not supported!`);var v;const L=en(this._elementListeners,d,[]),K={name:u,phase:g,callback:T};L.push(K);const de=en(this._engine.statesByElement,d,{});return de.hasOwnProperty(u)||(xi(d,pl),xi(d,pl+"-"+u),de[u]=Sa),()=>{this._engine.afterFlush(()=>{const Se=L.indexOf(K);Se>=0&&L.splice(Se,1),this._triggers[u]||delete de[u]})}}register(d,u){return!this._triggers[d]&&(this._triggers[d]=u,!0)}_getTrigger(d){const u=this._triggers[d];if(!u)throw new Error(`The provided animation trigger "${d}" has not been registered!`);return u}trigger(d,u,g,T=!0){const L=this._getTrigger(u),K=new Cl(this.id,u,d);let de=this._engine.statesByElement.get(d);de||(xi(d,pl),xi(d,pl+"-"+u),this._engine.statesByElement.set(d,de={}));let Se=de[u];const Be=new Ls(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&Se&&Be.absorbOptions(Se.options),de[u]=Be,Se||(Se=Sa),Be.value!==Fs&&Se.value===Be.value){if(!function(v,d){const u=Object.keys(v),g=Object.keys(d);if(u.length!=g.length)return!1;for(let T=0;T<u.length;T++){const L=u[T];if(!d.hasOwnProperty(L)||v[L]!==d[L])return!1}return!0}(Se.params,Be.params)){const Ut=[],sn=L.matchStyles(Se.value,Se.params,Ut),on=L.matchStyles(Be.value,Be.params,Ut);Ut.length?this._engine.reportError(Ut):this._engine.afterFlush(()=>{wo(d,sn),gs(d,on)})}return}const Tt=en(this._engine.playersByElement,d,[]);Tt.forEach(Ut=>{Ut.namespaceId==this.id&&Ut.triggerName==u&&Ut.queued&&Ut.destroy()});let Ct=L.matchTransition(Se.value,Be.value,d,Be.params),Mt=!1;if(!Ct){if(!T)return;Ct=L.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:u,transition:Ct,fromState:Se,toState:Be,player:K,isFallbackTransition:Mt}),Mt||(xi(d,ye),K.onStart(()=>{ju(d,ye)})),K.onDone(()=>{let Ut=this.players.indexOf(K);Ut>=0&&this.players.splice(Ut,1);const sn=this._engine.playersByElement.get(d);if(sn){let on=sn.indexOf(K);on>=0&&sn.splice(on,1)}}),this.players.push(K),Tt.push(K),K}deregister(d){delete this._triggers[d],this._engine.statesByElement.forEach((u,g)=>{delete u[d]}),this._elementListeners.forEach((u,g)=>{this._elementListeners.set(g,u.filter(T=>T.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const u=this._engine.playersByElement.get(d);u&&(u.forEach(g=>g.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,u){const g=this._engine.driver.query(d,zo,!0);g.forEach(T=>{if(T[ji])return;const L=this._engine.fetchNamespacesByElement(T);L.size?L.forEach(K=>K.triggerLeaveAnimation(T,u,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(d,u,g,T){const L=this._engine.statesByElement.get(d);if(L){const K=[];if(Object.keys(L).forEach(de=>{if(this._triggers[de]){const Se=this.trigger(d,de,Fs,T);Se&&K.push(Se)}}),K.length)return this._engine.markElementAsRemoved(this.id,d,!0,u),g&&St(K).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const u=this._elementListeners.get(d),g=this._engine.statesByElement.get(d);if(u&&g){const T=new Set;u.forEach(L=>{const K=L.name;if(T.has(K))return;T.add(K);const Se=this._triggers[K].fallbackTransition,Be=g[K]||Sa,tt=new Ls(Fs),mt=new Cl(this.id,K,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:K,transition:Se,fromState:Be,toState:tt,player:mt,isFallbackTransition:!0})})}}removeNode(d,u){const g=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,u),this.triggerLeaveAnimation(d,u,!0))return;let T=!1;if(g.totalAnimations){const L=g.players.length?g.playersByQueriedElement.get(d):[];if(L&&L.length)T=!0;else{let K=d;for(;K=K.parentNode;)if(g.statesByElement.get(K)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(d),T)g.markElementAsRemoved(this.id,d,!1,u);else{const L=d[ji];(!L||L===tr)&&(g.afterFlush(()=>this.clearElementCache(d)),g.destroyInnerAnimations(d),g._onRemovalComplete(d,u))}}insertNode(d,u){xi(d,this._hostClassName)}drainQueuedTransitions(d){const u=[];return this._queue.forEach(g=>{const T=g.player;if(T.destroyed)return;const L=g.element,K=this._elementListeners.get(L);K&&K.forEach(de=>{if(de.name==g.triggerName){const Se=Wt(L,g.triggerName,g.fromState.value,g.toState.value);Se._data=d,$t(g.player,de.phase,Se,de.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):u.push(g)}),this._queue=[],u.sort((g,T)=>{const L=g.transition.ast.depCount,K=T.transition.ast.depCount;return 0==L||0==K?L-K:this._engine.driver.containsElement(g.element,T.element)?1:-1})}destroy(d){this.players.forEach(u=>u.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}elementContainsData(d){let u=!1;return this._elementListeners.has(d)&&(u=!0),u=!!this._queue.find(g=>g.element===d)||u,u}}class xr{constructor(d,u,g){this.bodyNode=d,this.driver=u,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,L)=>{}}_onRemovalComplete(d,u){this.onRemovalComplete(d,u)}get queuedPlayers(){const d=[];return this._namespaceList.forEach(u=>{u.players.forEach(g=>{g.queued&&d.push(g)})}),d}createNamespace(d,u){const g=new dr(d,u,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,u)?this._balanceNamespaceList(g,u):(this.newHostElements.set(u,g),this.collectEnterElement(u)),this._namespaceLookup[d]=g}_balanceNamespaceList(d,u){const g=this._namespaceList.length-1;if(g>=0){let T=!1;for(let L=g;L>=0;L--)if(this.driver.containsElement(this._namespaceList[L].hostElement,u)){this._namespaceList.splice(L+1,0,d),T=!0;break}T||this._namespaceList.splice(0,0,d)}else this._namespaceList.push(d);return this.namespacesByHostElement.set(u,d),d}register(d,u){let g=this._namespaceLookup[d];return g||(g=this.createNamespace(d,u)),g}registerTrigger(d,u,g){let T=this._namespaceLookup[d];T&&T.register(u,g)&&this.totalAnimations++}destroy(d,u){if(!d)return;const g=this._fetchNamespace(d);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[d];const T=this._namespaceList.indexOf(g);T>=0&&this._namespaceList.splice(T,1)}),this.afterFlushAnimationsDone(()=>g.destroy(u))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const u=new Set,g=this.statesByElement.get(d);if(g){const T=Object.keys(g);for(let L=0;L<T.length;L++){const K=g[T[L]].namespaceId;if(K){const de=this._fetchNamespace(K);de&&u.add(de)}}}return u}trigger(d,u,g,T){if(af(u)){const L=this._fetchNamespace(d);if(L)return L.trigger(u,g,T),!0}return!1}insertNode(d,u,g,T){if(!af(u))return;const L=u[ji];if(L&&L.setForRemoval){L.setForRemoval=!1,L.setForMove=!0;const K=this.collectedLeaveElements.indexOf(u);K>=0&&this.collectedLeaveElements.splice(K,1)}if(d){const K=this._fetchNamespace(d);K&&K.insertNode(u,g)}T&&this.collectEnterElement(u)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,u){u?this.disabledNodes.has(d)||(this.disabledNodes.add(d),xi(d,Ge)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),ju(d,Ge))}removeNode(d,u,g,T){if(af(u)){const L=d?this._fetchNamespace(d):null;if(L?L.removeNode(u,T):this.markElementAsRemoved(d,u,!1,T),g){const K=this.namespacesByHostElement.get(u);K&&K.id!==d&&K.removeNode(u,T)}}else this._onRemovalComplete(u,T)}markElementAsRemoved(d,u,g,T){this.collectedLeaveElements.push(u),u[ji]={namespaceId:d,setForRemoval:T,hasAnimation:g,removedBeforeQueried:!1}}listen(d,u,g,T,L){return af(u)?this._fetchNamespace(d).listen(u,g,T,L):()=>{}}_buildInstruction(d,u,g,T,L){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,g,T,d.fromState.options,d.toState.options,u,L)}destroyInnerAnimations(d){let u=this.driver.query(d,zo,!0);u.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(u=this.driver.query(d,Gl,!0),u.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(d){const u=this.playersByElement.get(d);u&&u.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(d){const u=this.playersByQueriedElement.get(d);u&&u.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return St(this.players).onDone(()=>d());d()})}processLeaveNode(d){const u=d[ji];if(u&&u.setForRemoval){if(d[ji]=tr,u.namespaceId){this.destroyInnerAnimations(d);const g=this._fetchNamespace(u.namespaceId);g&&g.clearElementCache(d)}this._onRemovalComplete(d,u.setForRemoval)}this.driver.matchesElement(d,_t)&&this.markElementAsDisabled(d,!1),this.driver.query(d,_t,!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(d=-1){let u=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,T)=>this._balanceNamespaceList(g,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)xi(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{u=this._flushAnimations(g,d)}finally{for(let T=0;T<g.length;T++)g[T]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],u.length?St(u).onDone(()=>{g.forEach(T=>T())}):g.forEach(T=>T())}}reportError(d){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${d.join("\n")}`)}_flushAnimations(d,u){const g=new Po,T=[],L=new Map,K=[],de=new Map,Se=new Map,Be=new Map,tt=new Set;this.disabledNodes.forEach(cn=>{tt.add(cn);const Cn=this.driver.query(cn,".ng-animate-queued",!0);for(let In=0;In<Cn.length;In++)tt.add(Cn[In])});const mt=this.bodyNode,Tt=Array.from(this.statesByElement.keys()),Ct=ug(Tt,this.collectedEnterElements),Mt=new Map;let Ut=0;Ct.forEach((cn,Cn)=>{const In=Ss+Ut++;Mt.set(Cn,In),cn.forEach(fr=>xi(fr,In))});const sn=[],on=new Set,bn=new Set;for(let cn=0;cn<this.collectedLeaveElements.length;cn++){const Cn=this.collectedLeaveElements[cn],In=Cn[ji];In&&In.setForRemoval&&(sn.push(Cn),on.add(Cn),In.hasAnimation?this.driver.query(Cn,".ng-star-inserted",!0).forEach(fr=>on.add(fr)):bn.add(Cn))}const Dn=new Map,xn=ug(Tt,Array.from(on));xn.forEach((cn,Cn)=>{const In=zr+Ut++;Dn.set(Cn,In),cn.forEach(fr=>xi(fr,In))}),d.push(()=>{Ct.forEach((cn,Cn)=>{const In=Mt.get(Cn);cn.forEach(fr=>ju(fr,In))}),xn.forEach((cn,Cn)=>{const In=Dn.get(Cn);cn.forEach(fr=>ju(fr,In))}),sn.forEach(cn=>{this.processLeaveNode(cn)})});const Wi=[],$r=[];for(let cn=this._namespaceList.length-1;cn>=0;cn--)this._namespaceList[cn].drainQueuedTransitions(u).forEach(In=>{const fr=In.player,ts=In.element;if(Wi.push(fr),this.collectedEnterElements.length){const Hs=ts[ji];if(Hs&&Hs.setForMove)return void fr.destroy()}const Na=!mt||!this.driver.containsElement(mt,ts),fo=Dn.get(ts),ho=Mt.get(ts),kr=this._buildInstruction(In,g,ho,fo,Na);if(kr.errors&&kr.errors.length)$r.push(kr);else{if(Na)return fr.onStart(()=>wo(ts,kr.fromStyles)),fr.onDestroy(()=>gs(ts,kr.toStyles)),void T.push(fr);if(In.isFallbackTransition)return fr.onStart(()=>wo(ts,kr.fromStyles)),fr.onDestroy(()=>gs(ts,kr.toStyles)),void T.push(fr);kr.timelines.forEach(Hs=>Hs.stretchStartingKeyframe=!0),g.append(ts,kr.timelines),K.push({instruction:kr,player:fr,element:ts}),kr.queriedElements.forEach(Hs=>en(de,Hs,[]).push(fr)),kr.preStyleProps.forEach((Hs,rl)=>{const il=Object.keys(Hs);if(il.length){let bu=Se.get(rl);bu||Se.set(rl,bu=new Set),il.forEach(Bd=>bu.add(Bd))}}),kr.postStyleProps.forEach((Hs,rl)=>{const il=Object.keys(Hs);let bu=Be.get(rl);bu||Be.set(rl,bu=new Set),il.forEach(Bd=>bu.add(Bd))})}});if($r.length){const cn=[];$r.forEach(Cn=>{cn.push(`@${Cn.triggerName} has failed due to:\n`),Cn.errors.forEach(In=>cn.push(`- ${In}\n`))}),Wi.forEach(Cn=>Cn.destroy()),this.reportError(cn)}const br=new Map,Cs=new Map;K.forEach(cn=>{const Cn=cn.element;g.has(Cn)&&(Cs.set(Cn,Cn),this._beforeAnimationBuild(cn.player.namespaceId,cn.instruction,br))}),T.forEach(cn=>{const Cn=cn.element;this._getPreviousPlayers(Cn,!1,cn.namespaceId,cn.triggerName,null).forEach(fr=>{en(br,Cn,[]).push(fr),fr.destroy()})});const to=sn.filter(cn=>Jc(cn,Se,Be)),Ms=new Map;Ft(Ms,this.driver,bn,Be,ws).forEach(cn=>{Jc(cn,Se,Be)&&to.push(cn)});const co=new Map;Ct.forEach((cn,Cn)=>{Ft(co,this.driver,new Set(cn),Se,"!")}),to.forEach(cn=>{const Cn=Ms.get(cn),In=co.get(cn);Ms.set(cn,Object.assign(Object.assign({},Cn),In))});const As=[],ra=[],Jf={};K.forEach(cn=>{const{element:Cn,player:In,instruction:fr}=cn;if(g.has(Cn)){if(tt.has(Cn))return In.onDestroy(()=>gs(Cn,fr.toStyles)),In.disabled=!0,In.overrideTotalTime(fr.totalTime),void T.push(In);let ts=Jf;if(Cs.size>1){let fo=Cn;const ho=[];for(;fo=fo.parentNode;){const kr=Cs.get(fo);if(kr){ts=kr;break}ho.push(fo)}ho.forEach(kr=>Cs.set(kr,ts))}const Na=this._buildAnimation(In.namespaceId,fr,br,L,co,Ms);if(In.setRealPlayer(Na),ts===Jf)As.push(In);else{const fo=this.playersByElement.get(ts);fo&&fo.length&&(In.parentPlayer=St(fo)),T.push(In)}}else wo(Cn,fr.fromStyles),In.onDestroy(()=>gs(Cn,fr.toStyles)),ra.push(In),tt.has(Cn)&&T.push(In)}),ra.forEach(cn=>{const Cn=L.get(cn.element);if(Cn&&Cn.length){const In=St(Cn);cn.setRealPlayer(In)}}),T.forEach(cn=>{cn.parentPlayer?cn.syncPlayerEvents(cn.parentPlayer):cn.destroy()});for(let cn=0;cn<sn.length;cn++){const Cn=sn[cn],In=Cn[ji];if(ju(Cn,zr),In&&In.hasAnimation)continue;let fr=[];if(de.size){let Na=de.get(Cn);Na&&Na.length&&fr.push(...Na);let fo=this.driver.query(Cn,Gl,!0);for(let ho=0;ho<fo.length;ho++){let kr=de.get(fo[ho]);kr&&kr.length&&fr.push(...kr)}}const ts=fr.filter(Na=>!Na.destroyed);ts.length?vr(this,Cn,ts):this.processLeaveNode(Cn)}return sn.length=0,As.forEach(cn=>{this.players.push(cn),cn.onDone(()=>{cn.destroy();const Cn=this.players.indexOf(cn);this.players.splice(Cn,1)}),cn.play()}),As}elementContainsData(d,u){let g=!1;const T=u[ji];return T&&T.setForRemoval&&(g=!0),this.playersByElement.has(u)&&(g=!0),this.playersByQueriedElement.has(u)&&(g=!0),this.statesByElement.has(u)&&(g=!0),this._fetchNamespace(d).elementContainsData(u)||g}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,u,g,T,L){let K=[];if(u){const de=this.playersByQueriedElement.get(d);de&&(K=de)}else{const de=this.playersByElement.get(d);if(de){const Se=!L||L==Fs;de.forEach(Be=>{Be.queued||!Se&&Be.triggerName!=T||K.push(Be)})}}return(g||T)&&(K=K.filter(de=>!(g&&g!=de.namespaceId||T&&T!=de.triggerName))),K}_beforeAnimationBuild(d,u,g){const L=u.element,K=u.isRemovalTransition?void 0:d,de=u.isRemovalTransition?void 0:u.triggerName;for(const Se of u.timelines){const Be=Se.element,tt=Be!==L,mt=en(g,Be,[]);this._getPreviousPlayers(Be,tt,K,de,u.toState).forEach(Ct=>{const Mt=Ct.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),Ct.destroy(),mt.push(Ct)})}wo(L,u.fromStyles)}_buildAnimation(d,u,g,T,L,K){const de=u.triggerName,Se=u.element,Be=[],tt=new Set,mt=new Set,Tt=u.timelines.map(Mt=>{const Ut=Mt.element;tt.add(Ut);const sn=Ut[ji];if(sn&&sn.removedBeforeQueried)return new We(Mt.duration,Mt.delay);const on=Ut!==Se,bn=function(v){const d=[];return Ka(v,d),d}((g.get(Ut)||mn).map(br=>br.getRealPlayer())).filter(br=>!!br.element&&br.element===Ut),Dn=L.get(Ut),xn=K.get(Ut),Wi=It(0,this._normalizer,0,Mt.keyframes,Dn,xn),$r=this._buildPlayer(Mt,Wi,bn);if(Mt.subTimeline&&T&&mt.add(Ut),on){const br=new Cl(d,de,Ut);br.setRealPlayer($r),Be.push(br)}return $r});Be.forEach(Mt=>{en(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function(v,d,u){let g;if(v instanceof Map){if(g=v.get(d),g){if(g.length){const T=g.indexOf(u);g.splice(T,1)}0==g.length&&v.delete(d)}}else if(g=v[d],g){if(g.length){const T=g.indexOf(u);g.splice(T,1)}0==g.length&&delete v[d]}return g}(this.playersByQueriedElement,Mt.element,Mt))}),tt.forEach(Mt=>xi(Mt,Vi));const Ct=St(Tt);return Ct.onDestroy(()=>{tt.forEach(Mt=>ju(Mt,Vi)),gs(Se,u.toStyles)}),mt.forEach(Mt=>{en(T,Mt,[]).push(Ct)}),Ct}_buildPlayer(d,u,g){return u.length>0?this.driver.animate(d.element,u,d.duration,d.delay,d.easing,g):new We(d.duration,d.delay)}}class Cl{constructor(d,u,g){this.namespaceId=d,this.triggerName=u,this.element=g,this._player=new We,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(d){this._containsRealPlayer||(this._player=d,Object.keys(this._queuedCallbacks).forEach(u=>{this._queuedCallbacks[u].forEach(g=>$t(d,u,void 0,g))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const u=this._player;u.triggerCallback&&d.onStart(()=>u.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,u){en(this._queuedCallbacks,d,[]).push(u)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const u=this._player;u.triggerCallback&&u.triggerCallback(d)}}function af(v){return v&&1===v.nodeType}function lf(v,d){const u=v.style.display;return v.style.display=null!=d?d:"none",u}function Ft(v,d,u,g,T){const L=[];u.forEach(Se=>L.push(lf(Se)));const K=[];g.forEach((Se,Be)=>{const tt={};Se.forEach(mt=>{const Tt=tt[mt]=d.computeStyle(Be,mt,T);(!Tt||0==Tt.length)&&(Be[ji]=Gn,K.push(Be))}),v.set(Be,tt)});let de=0;return u.forEach(Se=>lf(Se,L[de++])),K}function ug(v,d){const u=new Map;if(v.forEach(de=>u.set(de,[])),0==d.length)return u;const T=new Set(d),L=new Map;function K(de){if(!de)return 1;let Se=L.get(de);if(Se)return Se;const Be=de.parentNode;return Se=u.has(Be)?Be:T.has(Be)?1:K(Be),L.set(de,Se),Se}return d.forEach(de=>{const Se=K(de);1!==Se&&u.get(Se).push(de)}),u}const Xc="$$classes";function xi(v,d){if(v.classList)v.classList.add(d);else{let u=v[Xc];u||(u=v[Xc]={}),u[d]=!0}}function ju(v,d){if(v.classList)v.classList.remove(d);else{let u=v[Xc];u&&delete u[d]}}function vr(v,d,u){St(u).onDone(()=>v.processLeaveNode(d))}function Ka(v,d){for(let u=0;u<v.length;u++){const g=v[u];g instanceof ot?Ka(g.players,d):d.push(g)}}function Jc(v,d,u){const g=u.get(v);if(!g)return!1;let T=d.get(v);return T?g.forEach(L=>T.add(L)):d.set(v,g),u.delete(v),!0}class Bs{constructor(d,u,g){this.bodyNode=d,this._driver=u,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(T,L)=>{},this._transitionEngine=new xr(d,u,g),this._timelineEngine=new te(d,u,g),this._transitionEngine.onRemovalComplete=(T,L)=>this.onRemovalComplete(T,L)}registerTrigger(d,u,g,T,L){const K=d+"-"+T;let de=this._triggerCache[K];if(!de){const Se=[],Be=Ca(this._driver,L,Se);if(Se.length)throw new Error(`The animation trigger "${T}" has failed to build due to the following errors:\n - ${Se.join("\n - ")}`);de=function(v,d,u){return new I(v,d,u)}(T,Be,this._normalizer),this._triggerCache[K]=de}this._transitionEngine.registerTrigger(u,T,de)}register(d,u){this._transitionEngine.register(d,u)}destroy(d,u){this._transitionEngine.destroy(d,u)}onInsert(d,u,g,T){this._transitionEngine.insertNode(d,u,g,T)}onRemove(d,u,g,T){this._transitionEngine.removeNode(d,u,T||!1,g)}disableAnimations(d,u){this._transitionEngine.markElementAsDisabled(d,u)}process(d,u,g,T){if("@"==g.charAt(0)){const[L,K]=un(g);this._timelineEngine.command(L,u,K,T)}else this._transitionEngine.trigger(d,u,g,T)}listen(d,u,g,T,L){if("@"==g.charAt(0)){const[K,de]=un(g);return this._timelineEngine.listen(K,u,de,L)}return this._transitionEngine.listen(d,u,g,T,L)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Zo(v,d){let u=null,g=null;return Array.isArray(d)&&d.length?(u=Xo(d[0]),d.length>1&&(g=Xo(d[d.length-1]))):d&&(u=Xo(d)),u||g?new dc(v,u,g):null}let dc=(()=>{class v{constructor(u,g,T){this._element=u,this._startStyles=g,this._endStyles=T,this._state=0;let L=v.initialStylesByElement.get(u);L||v.initialStylesByElement.set(u,L={}),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&gs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gs(this._element,this._initialStyles),this._endStyles&&(gs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(wo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wo(this._element,this._endStyles),this._endStyles=null),gs(this._element,this._initialStyles),this._state=3)}}return v.initialStylesByElement=new WeakMap,v})();function Xo(v){let d=null;const u=Object.keys(v);for(let g=0;g<u.length;g++){const T=u[g];lo(T)&&(d=d||{},d[T]=v[T])}return d}function lo(v){return"display"===v||"position"===v}const kh="animation",ed="animationend";class Rh{constructor(d,u,g,T,L,K,de){this._element=d,this._name=u,this._duration=g,this._delay=T,this._easing=L,this._fillMode=K,this._onDoneFn=de,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Se=>this._handleCallback(Se)}apply(){(function(v,d){const u=nd(v,"").trim();let g=0;u.length&&(function(v,d){let u=0;for(let g=0;g<v.length;g++)","===v.charAt(g)&&u++;return u}(u)+1,d=`${u}, ${d}`),td(v,"",d)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),df(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){uf(this._element,this._name,"paused")}resume(){uf(this._element,this._name,"running")}setPosition(d){const u=Tl(this._element,this._name);this._position=d*this._duration,td(this._element,"Delay",`-${this._position}ms`,u)}getPosition(){return this._position}_handleCallback(d){const u=d._ngTestManualTimestamp||Date.now(),g=1e3*parseFloat(d.elapsedTime.toFixed(3));d.animationName==this._name&&Math.max(u-this._startTime,0)>=this._delay&&g>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),df(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(v,d){const g=nd(v,"").split(","),T=Nh(g,d);T>=0&&(g.splice(T,1),td(v,"",g.join(",")))}(this._element,this._name))}}function uf(v,d,u){td(v,"PlayState",u,Tl(v,d))}function Tl(v,d){const u=nd(v,"");return u.indexOf(",")>0?Nh(u.split(","),d):Nh([u],d)}function Nh(v,d){for(let u=0;u<v.length;u++)if(v[u].indexOf(d)>=0)return u;return-1}function df(v,d,u){u?v.removeEventListener(ed,d):v.addEventListener(ed,d)}function td(v,d,u,g){const T=kh+d;if(null!=g){const L=v.style[T];if(L.length){const K=L.split(",");K[g]=u,u=K.join(",")}}v.style[T]=u}function nd(v,d){return v.style[kh+d]||""}class El{constructor(d,u,g,T,L,K,de,Se){this.element=d,this.keyframes=u,this.animationName=g,this._duration=T,this._delay=L,this._finalStyles=de,this._specialStyles=Se,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=K||"linear",this.totalTime=T+L,this._buildStyler()}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(d=>d()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(d=>d()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(d){this._styler.setPosition(d)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Rh(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(d){const u="start"==d?this._onStartFns:this._onDoneFns;u.forEach(g=>g()),u.length=0}beforeDestroy(){this.init();const d={};if(this.hasStarted()){const u=this._state>=3;Object.keys(this._finalStyles).forEach(g=>{"offset"!=g&&(d[g]=u?this._finalStyles[g]:Kl(this.element,g))})}this.currentSnapshot=d}}class Hu extends We{constructor(d,u){super(),this.element=d,this._startingStyles={},this.__initialized=!1,this._styles=Xr(u)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(d=>{this._startingStyles[d]=this.element.style[d]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(d=>this.element.style.setProperty(d,this._styles[d])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(d=>{const u=this._startingStyles[d];u?this.element.style.setProperty(d,u):this.element.style.removeProperty(d)}),this._startingStyles=null,super.destroy())}}class eu{constructor(){this._count=0}validateStyleProperty(d){return Nt(d)}matchesElement(d,u){return Rn(d,u)}containsElement(d,u){return Ar(d,u)}query(d,u,g){return $a(d,u,g)}computeStyle(d,u,g){return window.getComputedStyle(d)[u]}buildKeyframeElement(d,u,g){g=g.map(de=>Xr(de));let T=`@keyframes ${u} {\n`,L="";g.forEach(de=>{L=" ";const Se=parseFloat(de.offset);T+=`${L}${100*Se}% {\n`,L+=" ",Object.keys(de).forEach(Be=>{const tt=de[Be];switch(Be){case"offset":return;case"easing":return void(tt&&(T+=`${L}animation-timing-function: ${tt};\n`));default:return void(T+=`${L}${Be}: ${tt};\n`)}}),T+=`${L}}\n`}),T+="}\n";const K=document.createElement("style");return K.textContent=T,K}animate(d,u,g,T,L,K=[],de){const Se=K.filter(sn=>sn instanceof El),Be={};Ru(g,T)&&Se.forEach(sn=>{let on=sn.currentSnapshot;Object.keys(on).forEach(bn=>Be[bn]=on[bn])});const tt=function(v){let d={};return v&&(Array.isArray(v)?v:[v]).forEach(g=>{Object.keys(g).forEach(T=>{"offset"==T||"easing"==T||(d[T]=g[T])})}),d}(u=lr(d,u,Be));if(0==g)return new Hu(d,tt);const mt="gen_css_kf_"+this._count++,Tt=this.buildKeyframeElement(d,mt,u);(function(v){var d;const u=null===(d=v.getRootNode)||void 0===d?void 0:d.call(v);return"undefined"!=typeof ShadowRoot&&u instanceof ShadowRoot?u:document.head})(d).appendChild(Tt);const Mt=Zo(d,u),Ut=new El(d,u,mt,g,T,L,tt,Mt);return Ut.onDestroy(()=>{var v;(v=Tt).parentNode.removeChild(v)}),Ut}}class fc{constructor(d,u,g,T){this.element=d,this.keyframes=u,this.options=g,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(d,u,g){return d.animate(u,g)}onStart(d){this._onStartFns.push(d)}onDone(d){this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(u=>{"offset"!=u&&(d[u]=this._finished?this._finalKeyframe[u]:Kl(this.element,u))}),this.currentSnapshot=d}triggerCallback(d){const u="start"==d?this._onStartFns:this._onDoneFns;u.forEach(g=>g()),u.length=0}}class Jm{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vs().toString()),this._cssKeyframesDriver=new eu}validateStyleProperty(d){return Nt(d)}matchesElement(d,u){return Rn(d,u)}containsElement(d,u){return Ar(d,u)}query(d,u,g){return $a(d,u,g)}computeStyle(d,u,g){return window.getComputedStyle(d)[u]}overrideWebAnimationsSupport(d){this._isNativeImpl=d}animate(d,u,g,T,L,K=[],de){if(!de&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(d,u,g,T,L,K);const tt={duration:g,delay:T,fill:0==T?"both":"forwards"};L&&(tt.easing=L);const mt={},Tt=K.filter(Mt=>Mt instanceof fc);Ru(g,T)&&Tt.forEach(Mt=>{let Ut=Mt.currentSnapshot;Object.keys(Ut).forEach(sn=>mt[sn]=Ut[sn])});const Ct=Zo(d,u=lr(d,u=u.map(Mt=>Zs(Mt,!1)),mt));return new fc(d,u,tt,Ct)}}function vs(){return ut()&&Element.prototype.animate||{}}let Jo=(()=>{class v extends cr{constructor(u,g){super(),this._nextAnimationId=0,this._renderer=u.createRenderer(g.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(u){const g=this._nextAnimationId.toString();this._nextAnimationId++;const T=Array.isArray(u)?xo(u):u;return Ir(this._renderer,null,g,"register",[T]),new Us(g,this._renderer)}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(y.FYo),y.LFG(A.K0))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();class Us extends class{}{constructor(d,u){super(),this._id=d,this._renderer=u}create(d,u){return new Hi(this._id,d,u||{},this._renderer)}}class Hi{constructor(d,u,g,T){this.id=d,this.element=u,this._renderer=T,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(d,u){return this._renderer.listen(this.element,`@@${this.id}:${d}`,u)}_command(d,...u){return Ir(this._renderer,this.element,this.id,d,u)}onDone(d){this._listen("done",d)}onStart(d){this._listen("start",d)}onDestroy(d){this._listen("destroy",d)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(d){this._command("setPosition",d)}getPosition(){var d,u;return null!==(u=null===(d=this._renderer.engine.players[+this.id])||void 0===d?void 0:d.getPosition())&&void 0!==u?u:0}}function Ir(v,d,u,g,T){return v.setProperty(d,`@@${u}:${g}`,T)}const Oa="@.disabled";let wl=(()=>{class v{constructor(u,g,T){this.delegate=u,this.engine=g,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),g.onRemovalComplete=(L,K)=>{K&&K.parentNode(L)&&K.removeChild(L.parentNode,L)}}createRenderer(u,g){const L=this.delegate.createRenderer(u,g);if(!(u&&g&&g.data&&g.data.animation)){let tt=this._rendererCache.get(L);return tt||(tt=new Uh("",L,this.engine),this._rendererCache.set(L,tt)),tt}const K=g.id,de=g.id+"-"+this._currentId;this._currentId++,this.engine.register(de,u);const Se=tt=>{Array.isArray(tt)?tt.forEach(Se):this.engine.registerTrigger(K,de,u,tt.name,tt)};return g.data.animation.forEach(Se),new Vh(this,de,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(u,g,T){u>=0&&u<this._microtaskId?this._zone.run(()=>g(T)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(L=>{const[K,de]=L;K(de)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,T]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(y.FYo),y.LFG(Bs),y.LFG(y.R0b))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();class Uh{constructor(d,u,g){this.namespaceId=d,this.delegate=u,this.engine=g,this.destroyNode=this.delegate.destroyNode?T=>u.destroyNode(T):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(d,u){return this.delegate.createElement(d,u)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,u){this.delegate.appendChild(d,u),this.engine.onInsert(this.namespaceId,u,d,!1)}insertBefore(d,u,g,T=!0){this.delegate.insertBefore(d,u,g),this.engine.onInsert(this.namespaceId,u,d,T)}removeChild(d,u,g){this.engine.onRemove(this.namespaceId,u,this.delegate,g)}selectRootElement(d,u){return this.delegate.selectRootElement(d,u)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,u,g,T){this.delegate.setAttribute(d,u,g,T)}removeAttribute(d,u,g){this.delegate.removeAttribute(d,u,g)}addClass(d,u){this.delegate.addClass(d,u)}removeClass(d,u){this.delegate.removeClass(d,u)}setStyle(d,u,g,T){this.delegate.setStyle(d,u,g,T)}removeStyle(d,u,g){this.delegate.removeStyle(d,u,g)}setProperty(d,u,g){"@"==u.charAt(0)&&u==Oa?this.disableAnimations(d,!!g):this.delegate.setProperty(d,u,g)}setValue(d,u){this.delegate.setValue(d,u)}listen(d,u,g){return this.delegate.listen(d,u,g)}disableAnimations(d,u){this.engine.disableAnimations(d,u)}}class Vh extends Uh{constructor(d,u,g,T){super(u,g,T),this.factory=d,this.namespaceId=u}setProperty(d,u,g){"@"==u.charAt(0)?"."==u.charAt(1)&&u==Oa?this.disableAnimations(d,g=void 0===g||!!g):this.engine.process(this.namespaceId,d,u.substr(1),g):this.delegate.setProperty(d,u,g)}listen(d,u,g){if("@"==u.charAt(0)){const T=function(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(d);let L=u.substr(1),K="";return"@"!=L.charAt(0)&&([L,K]=function(v){const d=v.indexOf(".");return[v.substring(0,d),v.substr(d+1)]}(L)),this.engine.listen(this.namespaceId,T,L,K,de=>{this.factory.scheduleListenerCallback(de._data||-1,g,de)})}return this.delegate.listen(d,u,g)}}let zu=(()=>{class v extends Bs{constructor(u,g,T){super(u.body,g,T)}ngOnDestroy(){this.flush()}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(A.K0),y.LFG(di),y.LFG(qa))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();const gf=new y.OlP("AnimationModuleType"),hc=[{provide:cr,useClass:Jo},{provide:qa,useFactory:function(){return new wa}},{provide:Bs,useClass:zu},{provide:y.FYo,useFactory:function(v,d,u){return new wl(v,d,u)},deps:[An,Bs,y.R0b]}],sd=[{provide:di,useFactory:function(){return"function"==typeof vs()?new Jm:new eu}},{provide:gf,useValue:"BrowserAnimations"},...hc],pc=[{provide:di,useClass:Jr},{provide:gf,useValue:"NoopAnimations"},...hc];let Hh=(()=>{class v{static withConfig(u){return{ngModule:v,providers:u.disableAnimations?pc:sd}}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({providers:sd,imports:[ir]}),v})();var zh=F(1439),Xa=F(205),gc=F(9796),dg=F(9105);function Wu(v,d,u,g){return(0,dg.m)(u)&&(g=u,u=void 0),g?Wu(v,d,u).pipe((0,mi.U)(T=>(0,gc.k)(T)?g(...T):g(T))):new _n.y(T=>{mc(v,d,function(K){T.next(arguments.length>1?Array.prototype.slice.call(arguments):K)},T,u)})}function mc(v,d,u,g,T){let L;if(function(v){return v&&"function"==typeof v.addEventListener&&"function"==typeof v.removeEventListener}(v)){const K=v;v.addEventListener(d,u,T),L=()=>K.removeEventListener(d,u,T)}else if(function(v){return v&&"function"==typeof v.on&&"function"==typeof v.off}(v)){const K=v;v.on(d,u),L=()=>K.off(d,u)}else if(function(v){return v&&"function"==typeof v.addListener&&"function"==typeof v.removeListener}(v)){const K=v;v.addListener(d,u),L=()=>K.removeListener(d,u)}else{if(!v||!v.length)throw new TypeError("Invalid event target");for(let K=0,de=v.length;K<de;K++)mc(v[K],d,u,g,T)}g.add(L)}var fg=F(8071),Ol=F(7709),vc=F(8640);const Ao=new _n.y(vc.Z);var uo=F(6682),od=F(3190),yc=F(4458),Pl=F(5257),ld=F(8307),mf=F(3637),iu=F(7393),su=F(3098);class yf{constructor(d,u){this.delay=d,this.scheduler=u}call(d,u){return u.subscribe(new _f(d,this.delay,this.scheduler))}}class _f extends iu.L{constructor(d,u,g){super(d),this.delay=u,this.scheduler=g,this.queue=[],this.active=!1,this.errored=!1}static dispatch(d){const u=d.source,g=u.queue,T=d.scheduler,L=d.destination;for(;g.length>0&&g[0].time-T.now()<=0;)g.shift().notification.observe(L);if(g.length>0){const K=Math.max(0,g[0].time-T.now());this.schedule(d,K)}else this.unsubscribe(),u.active=!1}_schedule(d){this.active=!0,this.destination.add(d.schedule(_f.dispatch,this.delay,{source:this,destination:this.destination,scheduler:d}))}scheduleNotification(d){if(!0===this.errored)return;const u=this.scheduler,g=new ea(u.now()+this.delay,d);this.queue.push(g),!1===this.active&&this._schedule(u)}_next(d){this.scheduleNotification(su.P.createNext(d))}_error(d){this.errored=!0,this.queue=[],this.destination.error(d),this.unsubscribe()}_complete(){this.scheduleNotification(su.P.createComplete()),this.unsubscribe()}}class ea{constructor(d,u){this.time=d,this.notification=u}}const Da="Service workers are disabled or not supported by this browser";class ou{constructor(d){if(this.serviceWorker=d,d){const g=Wu(d,"controllerchange").pipe((0,mi.U)(()=>d.controller)),T=(0,zh.P)(()=>(0,Fi.of)(d.controller)),L=(0,fg.z)(T,g);this.worker=L.pipe((0,os.h)(tt=>!!tt)),this.registration=this.worker.pipe((0,od.w)(()=>d.getRegistration()));const Be=Wu(d,"message").pipe((0,mi.U)(tt=>tt.data)).pipe((0,os.h)(tt=>tt&&tt.type)).pipe((0,yc.O)(new Ol.xQ));Be.connect(),this.events=Be}else this.worker=this.events=this.registration=(Da,(0,zh.P)(()=>(0,Xa._)(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(d,u){return this.worker.pipe((0,Pl.q)(1),(0,ld.b)(g=>{g.postMessage(Object.assign({action:d},u))})).toPromise().then(()=>{})}postMessageWithStatus(d,u,g){const T=this.waitForStatus(g),L=this.postMessage(d,u);return Promise.all([T,L]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(d){return this.events.pipe((0,os.h)(g=>g.type===d))}nextEventOfType(d){return this.eventsOfType(d).pipe((0,Pl.q)(1))}waitForStatus(d){return this.eventsOfType("STATUS").pipe((0,os.h)(u=>u.nonce===d),(0,Pl.q)(1),(0,mi.U)(u=>{if(!u.status)throw new Error(u.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Cf=(()=>{class v{constructor(u){if(this.sw=u,this.subscriptionChanges=new Ol.xQ,!u.isEnabled)return this.messages=Ao,this.notificationClicks=Ao,void(this.subscription=Ao);this.messages=this.sw.eventsOfType("PUSH").pipe((0,mi.U)(T=>T.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,mi.U)(T=>T.data)),this.pushManager=this.sw.registration.pipe((0,mi.U)(T=>T.pushManager));const g=this.pushManager.pipe((0,od.w)(T=>T.getSubscription()));this.subscription=(0,uo.T)(g,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(u){if(!this.sw.isEnabled)return Promise.reject(new Error(Da));const g={userVisibleOnly:!0};let T=this.decodeBase64(u.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),L=new Uint8Array(new ArrayBuffer(T.length));for(let K=0;K<T.length;K++)L[K]=T.charCodeAt(K);return g.applicationServerKey=L,this.pushManager.pipe((0,od.w)(K=>K.subscribe(g)),(0,Pl.q)(1)).toPromise().then(K=>(this.subscriptionChanges.next(K),K))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Pl.q)(1),(0,od.w)(g=>{if(null===g)throw new Error("Not subscribed to push notifications.");return g.unsubscribe().then(T=>{if(!T)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Da))}decodeBase64(u){return atob(u)}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(ou))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})(),Tf=(()=>{class v{constructor(u){if(this.sw=u,!u.isEnabled)return this.available=Ao,this.activated=Ao,void(this.unrecoverable=Ao);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Da));const u=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:u},u)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Da));const u=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:u},u)}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(ou))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac}),v})();class Ef{}const Wh=new y.OlP("NGSW_REGISTER_SCRIPT");function ud(v,d,u,g){return()=>{if(!(0,A.NF)(g)||!("serviceWorker"in navigator)||!1===u.enabled)return;let L;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof u.registrationStrategy)L=u.registrationStrategy();else{const[de,...Se]=(u.registrationStrategy||"registerWhenStable:30000").split(":");switch(de){case"registerImmediately":L=(0,Fi.of)(null);break;case"registerWithDelay":L=xf(+Se[0]||0);break;case"registerWhenStable":L=Se[0]?(0,uo.T)(_c(v),xf(+Se[0])):_c(v);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${u.registrationStrategy}`)}}v.get(y.R0b).runOutsideAngular(()=>L.pipe((0,Pl.q)(1)).subscribe(()=>navigator.serviceWorker.register(d,{scope:u.scope}).catch(de=>console.error("Service worker registration failed with:",de))))}}function xf(v){return(0,Fi.of)(null).pipe(function(v,d=mf.P){const g=function(v){return v instanceof Date&&!isNaN(+v)}(v)?+v-d.now():Math.abs(v);return T=>T.lift(new yf(g,d))}(v))}function _c(v){return v.get(y.z2F).isStable.pipe((0,os.h)(u=>u))}function Gh(v,d){return new ou((0,A.NF)(d)&&!1!==v.enabled?navigator.serviceWorker:void 0)}let wf=(()=>{class v{static register(u,g={}){return{ngModule:v,providers:[{provide:Wh,useValue:u},{provide:Ef,useValue:g},{provide:ou,useFactory:Gh,deps:[Ef,y.Lbi]},{provide:y.ip1,useFactory:ud,deps:[y.zs3,Wh,Ef,y.Lbi],multi:!0}]}}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({providers:[Cf,Tf]}),v})();function Gu(){return()=>!0}function qh(){return()=>{}}let Ma=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({providers:[{provide:y.ip1,useFactory:Gu,deps:[],multi:!0},{provide:y.ip1,useFactory:qh,deps:[],multi:!0}]}),v})();var bc=F(884),Sf=F(4854),Cc=F(6339);class fd extends bc.i{constructor(d,u){super(),this.httpClient=d,this.options=u,this.print=Cc.S,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=g=>new Sf.y(T=>{const L=g.getContext(),K=(bn,Dn)=>function(...v){const d=v.find(u=>void 0!==u);return void 0===d?v[v.length-1]:d}(L[bn],this.options[bn],Dn);let de=K("method","POST");const Se=K("includeQuery",!0),Be=K("includeExtensions",!1),tt=K("uri","graphql"),mt=K("withCredentials"),Tt=K("useMultipart"),Ct=!0===this.options.useGETForQueries,Mt=g.query.definitions.some(bn=>"OperationDefinition"===bn.kind&&"query"===bn.operation);Ct&&Mt&&(de="GET");const Ut={method:de,url:"function"==typeof tt?tt(g):tt,body:{operationName:g.operationName,variables:g.variables},options:{withCredentials:mt,useMultipart:Tt,headers:this.options.headers}};Be&&(Ut.body.extensions=g.extensions),Se&&(Ut.body.query=this.print(g.query));const sn=function(v){let d=v.headers&&v.headers instanceof ui?v.headers:new ui(v.headers);if(v.clientAwareness){const{name:u,version:g}=v.clientAwareness;u&&!d.has("apollographql-client-name")&&(d=d.set("apollographql-client-name",u)),g&&!d.has("apollographql-client-version")&&(d=d.set("apollographql-client-version",g))}return d}(L);Ut.options.headers=((v,d)=>v&&d?d.keys().reduce((g,T)=>g.set(T,d.getAll(T)),v):d||v)(Ut.options.headers,sn);const on=((v,d,u)=>{const g=-1!==["POST","PUT","PATCH"].indexOf(v.method.toUpperCase()),L=v.body.length;let de,K=v.options&&v.options.useMultipart;if(K){if(L)return new _n.y(Be=>Be.error(new Error("File upload is not available when combined with Batching")));if(!g)return new _n.y(Be=>Be.error(new Error("File upload is not available when GET is used")));if(!u)return new _n.y(Be=>Be.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));de=u(v.body),K=!!de.files.size}let Se={};if(L){if(!g)return new _n.y(Be=>Be.error(new Error("Batching is not available for GET requests")));Se={body:v.body}}else{const Be=K?de.clone:v.body;Se=g?{body:Be}:{params:Object.keys(v.body).reduce((mt,Tt)=>{const Ct=v.body[Tt];return mt[Tt]=(Be=>-1!==["variables","extensions"].indexOf(Be.toLowerCase()))(Tt)?JSON.stringify(Ct):Ct,mt},{})}}if(K&&g){const Be=new FormData;Be.append("operations",JSON.stringify(Se.body));const tt={},mt=de.files;let Tt=0;mt.forEach(Ct=>{tt[++Tt]=Ct}),Be.append("map",JSON.stringify(tt)),Tt=0,mt.forEach((Ct,Mt)=>{Be.append(++Tt+"",Mt,Mt.name)}),Se.body=Be}return d.request(v.method,v.url,Mu(Mu({observe:"response",responseType:"json",reportProgress:!1},Se),v.options))})(Ut,this.httpClient,this.options.extractFiles).subscribe({next:bn=>{g.setContext({response:bn}),T.next(bn.body)},error:bn=>T.error(bn),complete:()=>T.complete()});return()=>{on.closed||on.unsubscribe()}})}request(d){return this.requester(d)}}let Tc=(()=>{class v{constructor(u){this.httpClient=u}create(u){return new fd(this.httpClient,u)}}return v.\u0275fac=function(u){return new(u||v)(y.LFG(Va))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var gn=F(4762),Ji=F(9591),Aa=F(1747),Ec=F(1913),lu=F(1598),hd=function(){function v(){this.getFragmentDoc=(0,Aa.re)(lu.Yk)}return v.prototype.batch=function(d){var T,u=this;return this.performTransaction(function(){return T=d.update(u)},"string"==typeof d.optimistic?d.optimistic:!1===d.optimistic?null:void 0),T},v.prototype.recordOptimisticTransaction=function(d,u){this.performTransaction(d,u)},v.prototype.transformDocument=function(d){return d},v.prototype.identify=function(d){},v.prototype.gc=function(){return[]},v.prototype.modify=function(d){return!1},v.prototype.transformForLink=function(d){return d},v.prototype.readQuery=function(d,u){return void 0===u&&(u=!!d.optimistic),this.read((0,gn.pi)((0,gn.pi)({},d),{rootId:d.id||"ROOT_QUERY",optimistic:u}))},v.prototype.readFragment=function(d,u){return void 0===u&&(u=!!d.optimistic),this.read((0,gn.pi)((0,gn.pi)({},d),{query:this.getFragmentDoc(d.fragment,d.fragmentName),rootId:d.id,optimistic:u}))},v.prototype.writeQuery=function(d){var u=d.id,g=d.data,T=(0,gn._T)(d,["id","data"]);return this.write(Object.assign(T,{dataId:u||"ROOT_QUERY",result:g}))},v.prototype.writeFragment=function(d){var u=d.id,g=d.data,T=d.fragment,L=d.fragmentName,K=(0,gn._T)(d,["id","data","fragment","fragmentName"]);return this.write(Object.assign(K,{query:this.getFragmentDoc(T,L),dataId:u,result:g}))},v.prototype.updateQuery=function(d,u){return this.batch({update:function(g){var T=g.readQuery(d),L=u(T);return null==L?T:(g.writeQuery((0,gn.pi)((0,gn.pi)({},d),{data:L})),L)}})},v.prototype.updateFragment=function(d,u){return this.batch({update:function(g){var T=g.readFragment(d),L=u(T);return null==L?T:(g.writeFragment((0,gn.pi)((0,gn.pi)({},d),{data:L})),L)}})},v}(),uu=function(d,u,g,T){this.message=d,this.path=u,this.query=g,this.variables=T},Pn=F(9737),cu=F(7125),pd=F(7289),ni=F(4155),Ja=F(1144),gd=F(6216),qu=F(443),Ia=F(9231);function Qu(v){return __DEV__&&function(v){var d=new Set([v]);d.forEach(function(u){(0,Ia.s)(u)&&function(v){if(__DEV__&&!Object.isFrozen(v))try{Object.freeze(v)}catch(d){if(d instanceof TypeError)return null;throw d}return v}(u)===u&&Object.getOwnPropertyNames(u).forEach(function(g){(0,Ia.s)(u[g])&&d.add(u[g])})})}(v),v}var v,d,md=F(2844),hn=F(460),vd=Object.create(null),Pf=function(){return vd},du=Object.create(null),zi=function(){function v(d,u){var g=this;this.policies=d,this.group=u,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(T,L){return Qu((0,Pn.Yk)(T)?g.get(T.__ref,L):T&&T[L])},this.canRead=function(T){return(0,Pn.Yk)(T)?g.has(T.__ref):"object"==typeof T},this.toReference=function(T,L){if("string"==typeof T)return(0,Pn.kQ)(T);if((0,Pn.Yk)(T))return T;var K=g.policies.identify(T)[0];if(K){var de=(0,Pn.kQ)(K);return L&&g.merge(K,T),de}}}return v.prototype.toObject=function(){return(0,gn.pi)({},this.data)},v.prototype.has=function(d){return void 0!==this.lookup(d,!0)},v.prototype.get=function(d,u){if(this.group.depend(d,u),hn.RI.call(this.data,d)){var g=this.data[d];if(g&&hn.RI.call(g,u))return g[u]}return"__typename"===u&&hn.RI.call(this.policies.rootTypenamesById,d)?this.policies.rootTypenamesById[d]:this instanceof ri?this.parent.get(d,u):void 0},v.prototype.lookup=function(d,u){return u&&this.group.depend(d,"__exists"),hn.RI.call(this.data,d)?this.data[d]:this instanceof ri?this.parent.lookup(d,u):this.policies.rootTypenamesById[d]?Object.create(null):void 0},v.prototype.merge=function(d,u){var T,g=this;(0,Pn.Yk)(d)&&(d=d.__ref),(0,Pn.Yk)(u)&&(u=u.__ref);var L="string"==typeof d?this.lookup(T=d):d,K="string"==typeof u?this.lookup(T=u):u;if(K){__DEV__?(0,Ji.kG)("string"==typeof T,"store.merge expects a string ID"):(0,Ji.kG)("string"==typeof T,1);var de=new gd.w0(Sc).merge(L,K);if(this.data[T]=de,de!==L&&(delete this.refs[T],this.group.caching)){var Se=Object.create(null);L||(Se.__exists=1),Object.keys(K).forEach(function(Be){if(!L||L[Be]!==de[Be]){Se[Be]=1;var tt=(0,hn.E_)(Be);tt!==Be&&!g.policies.hasKeyArgs(de.__typename,tt)&&(Se[tt]=1),void 0===de[Be]&&!(g instanceof ri)&&delete de[Be]}}),Se.__typename&&!(L&&L.__typename)&&this.policies.rootTypenamesById[T]===de.__typename&&delete Se.__typename,Object.keys(Se).forEach(function(Be){return g.group.dirty(T,Be)})}}},v.prototype.modify=function(d,u){var g=this,T=this.lookup(d);if(T){var L=Object.create(null),K=!1,de=!0,Se={DELETE:vd,INVALIDATE:du,isReference:Pn.Yk,toReference:this.toReference,canRead:this.canRead,readField:function(Be,tt){return g.policies.readField("string"==typeof Be?{fieldName:Be,from:tt||(0,Pn.kQ)(d)}:Be,{store:g})}};if(Object.keys(T).forEach(function(Be){var tt=(0,hn.E_)(Be),mt=T[Be];if(void 0!==mt){var Tt="function"==typeof u?u:u[Be]||u[tt];if(Tt){var Ct=Tt===Pf?vd:Tt(Qu(mt),(0,gn.pi)((0,gn.pi)({},Se),{fieldName:tt,storeFieldName:Be,storage:g.getStorage(d,Be)}));Ct===du?g.group.dirty(d,Be):(Ct===vd&&(Ct=void 0),Ct!==mt&&(L[Be]=Ct,K=!0,mt=Ct))}void 0!==mt&&(de=!1)}}),K)return this.merge(d,L),de&&(this instanceof ri?this.data[d]=void 0:delete this.data[d],this.group.dirty(d,"__exists")),!0}return!1},v.prototype.delete=function(d,u,g){var T,L=this.lookup(d);if(L){var K=this.getFieldValue(L,"__typename"),de=u&&g?this.policies.getStoreFieldName({typename:K,fieldName:u,args:g}):u;return this.modify(d,de?((T={})[de]=Pf,T):Pf)}return!1},v.prototype.evict=function(d,u){var g=!1;return d.id&&(hn.RI.call(this.data,d.id)&&(g=this.delete(d.id,d.fieldName,d.args)),this instanceof ri&&this!==u&&(g=this.parent.evict(d,u)||g),(d.fieldName||g)&&this.group.dirty(d.id,d.fieldName||"__exists")),g},v.prototype.clear=function(){this.replace(null)},v.prototype.extract=function(){var d=this,u=this.toObject(),g=[];return this.getRootIdSet().forEach(function(T){hn.RI.call(d.policies.rootTypenamesById,T)||g.push(T)}),g.length&&(u.__META={extraRootIds:g.sort()}),u},v.prototype.replace=function(d){var u=this;if(Object.keys(this.data).forEach(function(L){d&&hn.RI.call(d,L)||u.delete(L)}),d){var g=d.__META,T=(0,gn._T)(d,["__META"]);Object.keys(T).forEach(function(L){u.merge(L,T[L])}),g&&g.extraRootIds.forEach(this.retain,this)}},v.prototype.retain=function(d){return this.rootIds[d]=(this.rootIds[d]||0)+1},v.prototype.release=function(d){if(this.rootIds[d]>0){var u=--this.rootIds[d];return u||delete this.rootIds[d],u}return 0},v.prototype.getRootIdSet=function(d){return void 0===d&&(d=new Set),Object.keys(this.rootIds).forEach(d.add,d),this instanceof ri?this.parent.getRootIdSet(d):Object.keys(this.policies.rootTypenamesById).forEach(d.add,d),d},v.prototype.gc=function(){var d=this,u=this.getRootIdSet(),g=this.toObject();u.forEach(function(K){hn.RI.call(g,K)&&(Object.keys(d.findChildRefIds(K)).forEach(u.add,u),delete g[K])});var T=Object.keys(g);if(T.length){for(var L=this;L instanceof ri;)L=L.parent;T.forEach(function(K){return L.delete(K)})}return T},v.prototype.findChildRefIds=function(d){if(!hn.RI.call(this.refs,d)){var u=this.refs[d]=Object.create(null),g=this.data[d];if(!g)return u;var T=new Set([g]);T.forEach(function(L){(0,Pn.Yk)(L)&&(u[L.__ref]=!0),(0,Ia.s)(L)&&Object.keys(L).forEach(function(K){var de=L[K];(0,Ia.s)(de)&&T.add(de)})})}return this.refs[d]},v.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},v}(),xc=function(){function v(d,u){void 0===u&&(u=null),this.caching=d,this.parent=u,this.d=null,this.resetCaching()}return v.prototype.resetCaching=function(){this.d=this.caching?(0,Aa.dP)():null,this.keyMaker=new md.B(pd.mr)},v.prototype.depend=function(d,u){if(this.d){this.d(wc(d,u));var g=(0,hn.E_)(u);g!==u&&this.d(wc(d,g)),this.parent&&this.parent.depend(d,u)}},v.prototype.dirty=function(d,u){this.d&&this.d.dirty(wc(d,u),"__exists"===u?"forget":"setDirty")},v}();function wc(v,d){return d+"#"+v}function yd(v,d){Ku(v)&&v.group.depend(d,"__exists")}d=function(u){function g(T){var K=T.resultCaching,Se=T.seed,Be=u.call(this,T.policies,new xc(void 0===K||K))||this;return Be.stump=new fu(Be),Be.storageTrie=new md.B(pd.mr),Se&&Be.replace(Se),Be}return(0,gn.ZT)(g,u),g.prototype.addLayer=function(T,L){return this.stump.addLayer(T,L)},g.prototype.removeLayer=function(){return this},g.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},g}(v=zi||(zi={})),v.Root=d;var ri=function(v){function d(u,g,T,L){var K=v.call(this,g.policies,L)||this;return K.id=u,K.parent=g,K.replay=T,K.group=L,T(K),K}return(0,gn.ZT)(d,v),d.prototype.addLayer=function(u,g){return new d(u,this,g,this.group)},d.prototype.removeLayer=function(u){var g=this,T=this.parent.removeLayer(u);return u===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(L){var K=g.data[L],de=T.lookup(L);de?K?K!==de&&Object.keys(K).forEach(function(Se){(0,Ec.D)(K[Se],de[Se])||g.group.dirty(L,Se)}):(g.group.dirty(L,"__exists"),Object.keys(de).forEach(function(Se){g.group.dirty(L,Se)})):g.delete(L)}),T):T===this.parent?this:T.addLayer(this.id,this.replay)},d.prototype.toObject=function(){return(0,gn.pi)((0,gn.pi)({},this.parent.toObject()),this.data)},d.prototype.findChildRefIds=function(u){var g=this.parent.findChildRefIds(u);return hn.RI.call(this.data,u)?(0,gn.pi)((0,gn.pi)({},g),v.prototype.findChildRefIds.call(this,u)):g},d.prototype.getStorage=function(){for(var u=this.parent;u.parent;)u=u.parent;return u.getStorage.apply(u,arguments)},d}(zi),fu=function(v){function d(u){return v.call(this,"EntityStore.Stump",u,function(){},new xc(u.group.caching,u.group))||this}return(0,gn.ZT)(d,v),d.prototype.removeLayer=function(){return this},d.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},d}(ri);function Sc(v,d,u){var g=v[u],T=d[u];return(0,Ec.D)(g,T)?g:T}function Ku(v){return!!(v instanceof zi&&v.group.caching)}var eo=F(7149);function _d(v){return[v.selectionSet,v.objectOrReference,v.context,v.context.canonizeResults]}var gg=function(){function v(d){var u=this;this.knownResults=new(pd.mr?WeakMap:Map),this.config=(0,ni.o)(d,{addTypename:!1!==d.addTypename,canonizeResults:(0,hn.lg)(d)}),this.canon=d.canon||new eo.h,this.executeSelectionSet=(0,Aa.re)(function(g){var T,L=g.context.canonizeResults,K=_d(g);K[3]=!L;var de=(T=u.executeSelectionSet).peek.apply(T,K);return de?L?(0,gn.pi)((0,gn.pi)({},de),{result:u.canon.admit(de.result)}):de:(yd(g.context.store,g.enclosingRef.__ref),u.execSelectionSetImpl(g))},{max:this.config.resultCacheMaxSize,keyArgs:_d,makeCacheKey:function(g,T,L,K){if(Ku(L.store))return L.store.makeCacheKey(g,(0,Pn.Yk)(T)?T.__ref:T,L.varString,K)}}),this.executeSubSelectedArray=(0,Aa.re)(function(g){return yd(g.context.store,g.enclosingRef.__ref),u.execSubSelectedArrayImpl(g)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(g){var T=g.field,L=g.array,K=g.context;if(Ku(K.store))return K.store.makeCacheKey(T,L,K.varString)}})}return v.prototype.resetCanon=function(){this.canon=new eo.h},v.prototype.diffQueryAgainstStore=function(d){var u=d.store,g=d.query,T=d.rootId,L=void 0===T?"ROOT_QUERY":T,K=d.variables,de=d.returnPartialData,Se=void 0===de||de,Be=d.canonizeResults,tt=void 0===Be?this.config.canonizeResults:Be,mt=this.config.cache.policies;K=(0,gn.pi)((0,gn.pi)({},(0,Ja.O4)((0,Ja.iW)(g))),K);var Ut,Tt=(0,Pn.kQ)(L),Ct=new gd.w0,Mt=this.executeSelectionSet({selectionSet:(0,Ja.p$)(g).selectionSet,objectOrReference:Tt,enclosingRef:Tt,context:{store:u,query:g,policies:mt,variables:K,varString:(0,eo.B)(K),canonizeResults:tt,fragmentMap:(0,lu.F)((0,Ja.kU)(g)),merge:function(sn,on){return Ct.merge(sn,on)}}});if(Mt.missing&&(Ut=[new uu(Yh(Mt.missing),Mt.missing,g,K)],!Se))throw Ut[0];return{result:Mt.result,complete:!Ut,missing:Ut}},v.prototype.isFresh=function(d,u,g,T){if(Ku(T.store)&&this.knownResults.get(d)===g){var L=this.executeSelectionSet.peek(g,u,T,this.canon.isKnown(d));if(L&&d===L.result)return!0}return!1},v.prototype.execSelectionSetImpl=function(d){var u=this,g=d.selectionSet,T=d.objectOrReference,L=d.enclosingRef,K=d.context;if((0,Pn.Yk)(T)&&!K.policies.rootTypenamesById[T.__ref]&&!K.store.has(T.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(T.__ref," object")};var Tt,de=K.variables,Se=K.policies,tt=K.store.getFieldValue(T,"__typename"),mt={};function Ct(on,bn){var Dn;return on.missing&&(Tt=K.merge(Tt,((Dn={})[bn]=on.missing,Dn))),on.result}this.config.addTypename&&"string"==typeof tt&&!Se.rootIdsByTypename[tt]&&(mt={__typename:tt});var Mt=new Set(g.selections);Mt.forEach(function(on){var bn,Dn;if((0,qu.LZ)(on,de))if((0,Pn.My)(on)){var xn=Se.readField({fieldName:on.name.value,field:on,variables:K.variables,from:T},K),Wi=(0,Pn.u2)(on);void 0===xn?cu.Gw.added(on)||(Tt=K.merge(Tt,((bn={})[Wi]="Can't find field '".concat(on.name.value,"' on ").concat((0,Pn.Yk)(T)?T.__ref+" object":"object "+JSON.stringify(T,null,2)),bn))):(0,hn.kJ)(xn)?xn=Ct(u.executeSubSelectedArray({field:on,array:xn,enclosingRef:L,context:K}),Wi):on.selectionSet?null!=xn&&(xn=Ct(u.executeSelectionSet({selectionSet:on.selectionSet,objectOrReference:xn,enclosingRef:(0,Pn.Yk)(xn)?xn:L,context:K}),Wi)):K.canonizeResults&&(xn=u.canon.pass(xn)),void 0!==xn&&(mt=K.merge(mt,((Dn={})[Wi]=xn,Dn)))}else{var $r=(0,lu.hi)(on,K.fragmentMap);$r&&Se.fragmentMatches($r,tt)&&$r.selectionSet.selections.forEach(Mt.add,Mt)}});var Ut={result:mt,missing:Tt},sn=K.canonizeResults?this.canon.admit(Ut):Qu(Ut);return sn.result&&this.knownResults.set(sn.result,g),sn},v.prototype.execSubSelectedArrayImpl=function(d){var de,u=this,g=d.field,T=d.array,L=d.enclosingRef,K=d.context;function Se(Be,tt){var mt;return Be.missing&&(de=K.merge(de,((mt={})[tt]=Be.missing,mt))),Be.result}return g.selectionSet&&(T=T.filter(K.store.canRead)),T=T.map(function(Be,tt){return null===Be?null:(0,hn.kJ)(Be)?Se(u.executeSubSelectedArray({field:g,array:Be,enclosingRef:L,context:K}),tt):g.selectionSet?Se(u.executeSelectionSet({selectionSet:g.selectionSet,objectOrReference:Be,enclosingRef:(0,Pn.Yk)(Be)?Be:L,context:K}),tt):(__DEV__&&function(v,d,u){if(!d.selectionSet){var g=new Set([u]);g.forEach(function(T){(0,Ia.s)(T)&&(__DEV__?(0,Ji.kG)(!(0,Pn.Yk)(T),"Missing selection set for object of type ".concat((0,hn.jp)(v,T)," returned for query field ").concat(d.name.value)):(0,Ji.kG)(!(0,Pn.Yk)(T),5),Object.values(T).forEach(g.add,g))})}}(K.store,g,Be),Be)}),{result:K.canonizeResults?this.canon.admit(T):T,missing:de}},v}();function Yh(v){try{JSON.stringify(v,function(d,u){if("string"==typeof u)throw u;return u})}catch(d){return d}}var Zh=F(3107),Xh=F(8779),vg=F(5801),Yu=F(4350),Oc=Object.create(null);function bd(v){var d=JSON.stringify(v);return Oc[d]||(Oc[d]=Object.create(null))}function Mf(v){var d=bd(v);return d.keyFieldsFn||(d.keyFieldsFn=function(u,g){var T=function(K,de){return g.readField(de,K)},L=g.keyObject=Cd(v,function(K){var de=rn(g.storeObject,K,T);return void 0===de&&u!==g.storeObject&&hn.RI.call(u,K[0])&&(de=rn(u,K,Td)),__DEV__?(0,Ji.kG)(void 0!==de,"Missing field '".concat(K.join("."),"' while extracting keyFields from ").concat(JSON.stringify(u))):(0,Ji.kG)(void 0!==de,2),de});return"".concat(g.typename,":").concat(JSON.stringify(L))})}function yg(v){var d=bd(v);return d.keyArgsFn||(d.keyArgsFn=function(u,g){var T=g.field,L=g.variables,K=g.fieldName,de=Cd(v,function(Be){var tt=Be[0],mt=tt.charAt(0);if("@"!==mt)if("$"!==mt){if(u)return rn(u,Be)}else{var Ut=tt.slice(1);if(L&&hn.RI.call(L,Ut)){var sn=Be.slice(0);return sn[0]=Ut,rn(L,sn)}}else if(T&&(0,Xh.O)(T.directives)){var Tt=tt.slice(1),Ct=T.directives.find(function(on){return on.name.value===Tt}),Mt=Ct&&(0,Pn.NC)(Ct,L);return Mt&&rn(Mt,Be.slice(1))}}),Se=JSON.stringify(de);return(u||"{}"!==Se)&&(K+=":"+Se),K})}function Cd(v,d){var u=new gd.w0;return Pc(v).reduce(function(g,T){var L,K=d(T);if(void 0!==K){for(var de=T.length-1;de>=0;--de)(L={})[T[de]]=K,K=L;g=u.merge(g,K)}return g},Object.create(null))}function Pc(v){var d=bd(v);if(!d.paths){var u=d.paths=[],g=[];v.forEach(function(T,L){(0,hn.kJ)(T)?(Pc(T).forEach(function(K){return u.push(g.concat(K))}),g.length=0):(g.push(T),(0,hn.kJ)(v[L+1])||(u.push(g.slice(0)),g.length=0))})}return d.paths}function Td(v,d){return v[d]}function rn(v,d,u){return u=u||Td,ka(d.reduce(function g(T,L){return(0,hn.kJ)(T)?T.map(function(K){return g(K,L)}):T&&u(T,L)},v))}function ka(v){return(0,Ia.s)(v)?(0,hn.kJ)(v)?v.map(ka):Cd(Object.keys(v).sort(),function(d){return rn(v,d)}):v}function Ed(v){return void 0!==v.args?v.args:v.field?(0,Pn.NC)(v.field,v.variables):null}Pn.PT.setStringify(eo.B);var Af=function(){},xd=function(v,d){return d.fieldName},Dc=function(v,d,u){return(0,u.mergeObjects)(v,d)},Jh=function(v,d){return d},fi=function(){function v(d){this.config=d,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,gn.pi)({dataIdFromObject:hn.uG},d),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),d.possibleTypes&&this.addPossibleTypes(d.possibleTypes),d.typePolicies&&this.addTypePolicies(d.typePolicies)}return v.prototype.identify=function(d,u){var g,T=this,L=u&&(u.typename||(null===(g=u.storeObject)||void 0===g?void 0:g.__typename))||d.__typename;if(L===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var Se,K=u&&u.storeObject||d,de=(0,gn.pi)((0,gn.pi)({},u),{typename:L,storeObject:K,readField:u&&u.readField||function(){var Tt=hu(arguments,K);return T.readField(Tt,{store:T.cache.data,variables:Tt.variables})}}),Be=L&&this.getTypePolicy(L),tt=Be&&Be.keyFn||this.config.dataIdFromObject;tt;){var mt=tt(d,de);if(!(0,hn.kJ)(mt)){Se=mt;break}tt=Mf(mt)}return Se=Se?String(Se):void 0,de.keyObject?[Se,de.keyObject]:[Se]},v.prototype.addTypePolicies=function(d){var u=this;Object.keys(d).forEach(function(g){var T=d[g],L=T.queryType,K=T.mutationType,de=T.subscriptionType,Se=(0,gn._T)(T,["queryType","mutationType","subscriptionType"]);L&&u.setRootTypename("Query",g),K&&u.setRootTypename("Mutation",g),de&&u.setRootTypename("Subscription",g),hn.RI.call(u.toBeAdded,g)?u.toBeAdded[g].push(Se):u.toBeAdded[g]=[Se]})},v.prototype.updateTypePolicy=function(d,u){var g=this,T=this.getTypePolicy(d),L=u.keyFields,K=u.fields;function de(Se,Be){Se.merge="function"==typeof Be?Be:!0===Be?Dc:!1===Be?Jh:Se.merge}de(T,u.merge),T.keyFn=!1===L?Af:(0,hn.kJ)(L)?Mf(L):"function"==typeof L?L:T.keyFn,K&&Object.keys(K).forEach(function(Se){var Be=g.getFieldPolicy(d,Se,!0),tt=K[Se];if("function"==typeof tt)Be.read=tt;else{var mt=tt.keyArgs,Tt=tt.read,Ct=tt.merge;Be.keyFn=!1===mt?xd:(0,hn.kJ)(mt)?yg(mt):"function"==typeof mt?mt:Be.keyFn,"function"==typeof Tt&&(Be.read=Tt),de(Be,Ct)}Be.read&&Be.merge&&(Be.keyFn=Be.keyFn||xd)})},v.prototype.setRootTypename=function(d,u){void 0===u&&(u=d);var g="ROOT_"+d.toUpperCase(),T=this.rootTypenamesById[g];u!==T&&(__DEV__?(0,Ji.kG)(!T||T===d,"Cannot change root ".concat(d," __typename more than once")):(0,Ji.kG)(!T||T===d,3),T&&delete this.rootIdsByTypename[T],this.rootIdsByTypename[u]=g,this.rootTypenamesById[g]=u)},v.prototype.addPossibleTypes=function(d){var u=this;this.usingPossibleTypes=!0,Object.keys(d).forEach(function(g){u.getSupertypeSet(g,!0),d[g].forEach(function(T){u.getSupertypeSet(T,!0).add(g);var L=T.match(hn.$O);(!L||L[0]!==T)&&u.fuzzySubtypes.set(T,new RegExp(T))})})},v.prototype.getTypePolicy=function(d){var u=this;if(!hn.RI.call(this.typePolicies,d)){var g=this.typePolicies[d]=Object.create(null);g.fields=Object.create(null);var T=this.supertypeMap.get(d);T&&T.size&&T.forEach(function(K){var de=u.getTypePolicy(K),Se=de.fields,Be=(0,gn._T)(de,["fields"]);Object.assign(g,Be),Object.assign(g.fields,Se)})}var L=this.toBeAdded[d];return L&&L.length&&L.splice(0).forEach(function(K){u.updateTypePolicy(d,K)}),this.typePolicies[d]},v.prototype.getFieldPolicy=function(d,u,g){if(d){var T=this.getTypePolicy(d).fields;return T[u]||g&&(T[u]=Object.create(null))}},v.prototype.getSupertypeSet=function(d,u){var g=this.supertypeMap.get(d);return!g&&u&&this.supertypeMap.set(d,g=new Set),g},v.prototype.fragmentMatches=function(d,u,g,T){var L=this;if(!d.typeCondition)return!0;if(!u)return!1;var K=d.typeCondition.name.value;if(u===K)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(K))for(var de=this.getSupertypeSet(u,!0),Se=[de],Be=function(Mt){var Ut=L.getSupertypeSet(Mt,!1);Ut&&Ut.size&&Se.indexOf(Ut)<0&&Se.push(Ut)},tt=!(!g||!this.fuzzySubtypes.size),mt=!1,Tt=0;Tt<Se.length;++Tt){var Ct=Se[Tt];if(Ct.has(K))return de.has(K)||(mt&&__DEV__&&Ji.kG.warn("Inferring subtype ".concat(u," of supertype ").concat(K)),de.add(K)),!0;Ct.forEach(Be),tt&&Tt===Se.length-1&&(0,hn.RC)(d.selectionSet,g,T)&&(tt=!1,mt=!0,this.fuzzySubtypes.forEach(function(Mt,Ut){var sn=u.match(Mt);sn&&sn[0]===u&&Be(Ut)}))}return!1},v.prototype.hasKeyArgs=function(d,u){var g=this.getFieldPolicy(d,u,!1);return!(!g||!g.keyFn)},v.prototype.getStoreFieldName=function(d){var L,u=d.typename,g=d.fieldName,T=this.getFieldPolicy(u,g,!1),K=T&&T.keyFn;if(K&&u)for(var de={typename:u,fieldName:g,field:d.field||null,variables:d.variables},Se=Ed(d);K;){var Be=K(Se,de);if(!(0,hn.kJ)(Be)){L=Be||g;break}K=yg(Be)}return void 0===L&&(L=d.field?(0,Pn.vf)(d.field,d.variables):(0,Pn.PT)(g,Ed(d))),!1===L?g:g===(0,hn.E_)(L)?L:g+":"+L},v.prototype.readField=function(d,u){var g=d.from;if(g&&(d.field||d.fieldName)){if(void 0===d.typename){var L=u.store.getFieldValue(g,"__typename");L&&(d.typename=L)}var K=this.getStoreFieldName(d),de=(0,hn.E_)(K),Se=u.store.getFieldValue(g,K),Be=this.getFieldPolicy(d.typename,de,!1),tt=Be&&Be.read;if(tt){var mt=ys(this,g,d,u,u.store.getStorage((0,Pn.Yk)(g)?g.__ref:g,K));return Yu.ab.withValue(this.cache,tt,[Se,mt])}return Se}},v.prototype.getReadFunction=function(d,u){var g=this.getFieldPolicy(d,u,!1);return g&&g.read},v.prototype.getMergeFunction=function(d,u,g){var T=this.getFieldPolicy(d,u,!1),L=T&&T.merge;return!L&&g&&(L=(T=this.getTypePolicy(g))&&T.merge),L},v.prototype.runMergeFunction=function(d,u,g,T,L){var K=g.field,de=g.typename,Se=g.merge;return Se===Dc?pu(T.store)(d,u):Se===Jh?u:(T.overwrite&&(d=void 0),Se(d,u,ys(this,void 0,{typename:de,fieldName:K.name.value,field:K,variables:T.variables},T,L||Object.create(null))))},v}();function ys(v,d,u,g,T){var L=v.getStoreFieldName(u),K=(0,hn.E_)(L),de=u.variables||g.variables,Se=g.store,Be=Se.toReference,tt=Se.canRead;return{args:Ed(u),field:u.field||null,fieldName:K,storeFieldName:L,variables:de,isReference:Pn.Yk,toReference:Be,storage:T,cache:v.cache,canRead:tt,readField:function(){return v.readField(hu(arguments,d,g),g)},mergeObjects:pu(g.store)}}function hu(v,d,u){var K,g=v[0];return"string"==typeof g?K={fieldName:g,from:v.length>1?v[1]:d}:(K=(0,gn.pi)({},g),hn.RI.call(K,"from")||(K.from=d)),__DEV__&&void 0===K.from&&__DEV__&&Ji.kG.warn("Undefined 'from' passed to readField with arguments ".concat(function(v){var d=(0,vg.X)("stringifyForDisplay");return JSON.stringify(v,function(u,g){return void 0===g?d:g}).split(JSON.stringify(d)).join("<undefined>")}(Array.from(v)))),void 0===K.variables&&(K.variables=u),K}function pu(v){return function(u,g){if((0,hn.kJ)(u)||(0,hn.kJ)(g))throw __DEV__?new Ji.ej("Cannot automatically merge arrays"):new Ji.ej(4);if((0,Ia.s)(u)&&(0,Ia.s)(g)){var T=v.getFieldValue(u,"__typename"),L=v.getFieldValue(g,"__typename");if(T&&L&&T!==L)return g;if((0,Pn.Yk)(u)&&(0,hn.j)(g))return v.merge(u.__ref,g),u;if((0,hn.j)(u)&&(0,Pn.Yk)(g))return v.merge(u,g.__ref),g;if((0,hn.j)(u)&&(0,hn.j)(g))return(0,gn.pi)((0,gn.pi)({},u),g)}return g}}function Ml(v,d,u){var g="".concat(d).concat(u),T=v.flavors.get(g);return T||v.flavors.set(g,T=v.clientOnly===d&&v.deferred===u?v:(0,gn.pi)((0,gn.pi)({},v),{clientOnly:d,deferred:u})),T}var Mc=function(){function v(d,u){this.cache=d,this.reader=u}return v.prototype.writeToStore=function(d,u){var g=this,T=u.query,L=u.result,K=u.dataId,de=u.variables,Se=u.overwrite,Be=(0,Ja.$H)(T),tt=(0,hn.ig)();de=(0,gn.pi)((0,gn.pi)({},(0,Ja.O4)(Be)),de);var mt={store:d,written:Object.create(null),merge:function(Ct,Mt){return tt.merge(Ct,Mt)},variables:de,varString:(0,eo.B)(de),fragmentMap:(0,lu.F)((0,Ja.kU)(T)),overwrite:!!Se,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},Tt=this.processSelectionSet({result:L||Object.create(null),dataId:K,selectionSet:Be.selectionSet,mergeTree:{map:new Map},context:mt});if(!(0,Pn.Yk)(Tt))throw __DEV__?new Ji.ej("Could not identify object ".concat(JSON.stringify(L))):new Ji.ej(6);return mt.incomingById.forEach(function(Ct,Mt){var Ut=Ct.storeObject,sn=Ct.mergeTree,on=Ct.fieldNodeSet,bn=(0,Pn.kQ)(Mt);if(sn&&sn.map.size){var Dn=g.applyMerges(sn,bn,Ut,mt);if((0,Pn.Yk)(Dn))return;Ut=Dn}if(__DEV__&&!mt.overwrite){var xn=Object.create(null);on.forEach(function(br){br.selectionSet&&(xn[br.name.value]=!0)}),Object.keys(Ut).forEach(function(br){(function(br){return!0===xn[(0,hn.E_)(br)]})(br)&&!function(br){var Cs=sn&&sn.map.get(br);return Boolean(Cs&&Cs.info&&Cs.info.merge)}(br)&&function(v,d,u,g){var T=function(mt){var Tt=g.getFieldValue(mt,u);return"object"==typeof Tt&&Tt},L=T(v);if(L){var K=T(d);if(K&&!(0,Pn.Yk)(L)&&!(0,Ec.D)(L,K)&&!Object.keys(L).every(function(mt){return void 0!==g.getFieldValue(K,mt)})){var de=g.getFieldValue(v,"__typename")||g.getFieldValue(d,"__typename"),Se=(0,hn.E_)(u),Be="".concat(de,".").concat(Se);if(!Ds.has(Be)){Ds.add(Be);var tt=[];!(0,hn.kJ)(L)&&!(0,hn.kJ)(K)&&[L,K].forEach(function(mt){var Tt=g.getFieldValue(mt,"__typename");"string"==typeof Tt&&!tt.includes(Tt)&&tt.push(Tt)}),__DEV__&&Ji.kG.warn("Cache data may be lost when replacing the ".concat(Se," field of a ").concat(de," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(tt.length?"either ensure all objects of type "+tt.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(Be," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(L).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(K).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(bn,Ut,br,mt.store)})}d.merge(Mt,Ut)}),d.retain(Tt.__ref),Tt},v.prototype.processSelectionSet=function(d){var u=this,g=d.dataId,T=d.result,L=d.selectionSet,K=d.context,de=d.mergeTree,Se=this.cache.policies,Be=Object.create(null),tt=g&&Se.rootTypenamesById[g]||(0,Pn.qw)(T,L,K.fragmentMap)||g&&K.store.get(g,"__typename");"string"==typeof tt&&(Be.__typename=tt);var mt=function(){var Dn=hu(arguments,Be,K.variables);if((0,Pn.Yk)(Dn.from)){var xn=K.incomingById.get(Dn.from.__ref);if(xn){var Wi=Se.readField((0,gn.pi)((0,gn.pi)({},Dn),{from:xn.storeObject}),K);if(void 0!==Wi)return Wi}}return Se.readField(Dn,K)},Tt=new Set;this.flattenFields(L,T,K,tt).forEach(function(Dn,xn){var Wi,$r=(0,Pn.u2)(xn),br=T[$r];if(Tt.add(xn),void 0!==br){var Cs=Se.getStoreFieldName({typename:tt,fieldName:xn.name.value,field:xn,variables:Dn.variables}),to=Sd(de,Cs),Ms=u.processFieldValue(br,xn,xn.selectionSet?Ml(Dn,!1,!1):Dn,to),Il=void 0;xn.selectionSet&&((0,Pn.Yk)(Ms)||(0,hn.j)(Ms))&&(Il=mt("__typename",Ms));var co=Se.getMergeFunction(tt,xn.name.value,Il);co?to.info={field:xn,typename:tt,merge:co}:If(de,Cs),Be=Dn.merge(Be,((Wi={})[Cs]=Ms,Wi))}else __DEV__&&!Dn.clientOnly&&!Dn.deferred&&!cu.Gw.added(xn)&&!Se.getReadFunction(tt,xn.name.value)&&__DEV__&&Ji.kG.error("Missing field '".concat((0,Pn.u2)(xn),"' while writing result ").concat(JSON.stringify(T,null,2)).substring(0,1e3))});try{var Ct=Se.identify(T,{typename:tt,selectionSet:L,fragmentMap:K.fragmentMap,storeObject:Be,readField:mt}),Ut=Ct[1];g=g||Ct[0],Ut&&(Be=K.merge(Be,Ut))}catch(Dn){if(!g)throw Dn}if("string"==typeof g){var sn=(0,Pn.kQ)(g),on=K.written[g]||(K.written[g]=[]);if(on.indexOf(L)>=0||(on.push(L),this.reader&&this.reader.isFresh(T,sn,L,K)))return sn;var bn=K.incomingById.get(g);return bn?(bn.storeObject=K.merge(bn.storeObject,Be),bn.mergeTree=gu(bn.mergeTree,de),Tt.forEach(function(Dn){return bn.fieldNodeSet.add(Dn)})):K.incomingById.set(g,{storeObject:Be,mergeTree:Od(de)?void 0:de,fieldNodeSet:Tt}),sn}return Be},v.prototype.processFieldValue=function(d,u,g,T){var L=this;return u.selectionSet&&null!==d?(0,hn.kJ)(d)?d.map(function(K,de){var Se=L.processFieldValue(K,u,g,Sd(T,de));return If(T,de),Se}):this.processSelectionSet({result:d,selectionSet:u.selectionSet,context:g,mergeTree:T}):__DEV__?(0,Zh.X)(d):d},v.prototype.flattenFields=function(d,u,g,T){void 0===T&&(T=(0,Pn.qw)(u,d,g.fragmentMap));var L=new Map,K=this.cache.policies,de=new md.B(!1);return function Se(Be,tt){var mt=de.lookup(Be,tt.clientOnly,tt.deferred);mt.visited||(mt.visited=!0,Be.selections.forEach(function(Tt){if((0,qu.LZ)(Tt,g.variables)){var Ct=tt.clientOnly,Mt=tt.deferred;if(!(Ct&&Mt)&&(0,Xh.O)(Tt.directives)&&Tt.directives.forEach(function(on){var bn=on.name.value;if("client"===bn&&(Ct=!0),"defer"===bn){var Dn=(0,Pn.NC)(on,g.variables);(!Dn||!1!==Dn.if)&&(Mt=!0)}}),(0,Pn.My)(Tt)){var Ut=L.get(Tt);Ut&&(Ct=Ct&&Ut.clientOnly,Mt=Mt&&Ut.deferred),L.set(Tt,Ml(g,Ct,Mt))}else{var sn=(0,lu.hi)(Tt,g.fragmentMap);sn&&K.fragmentMatches(sn,T,u,g.variables)&&Se(sn.selectionSet,Ml(g,Ct,Mt))}}}))}(d,g),L},v.prototype.applyMerges=function(d,u,g,T,L){var K,de=this;if(d.map.size&&!(0,Pn.Yk)(g)){var Se=(0,hn.kJ)(g)||!(0,Pn.Yk)(u)&&!(0,hn.j)(u)?void 0:u,Be=g;Se&&!L&&(L=[(0,Pn.Yk)(Se)?Se.__ref:Se]);var tt,mt=function(Tt,Ct){return(0,hn.kJ)(Tt)?"number"==typeof Ct?Tt[Ct]:void 0:T.store.getFieldValue(Tt,String(Ct))};d.map.forEach(function(Tt,Ct){var Mt=mt(Se,Ct),Ut=mt(Be,Ct);if(void 0!==Ut){L&&L.push(Ct);var sn=de.applyMerges(Tt,Mt,Ut,T,L);sn!==Ut&&(tt=tt||new Map).set(Ct,sn),L&&(0,Ji.kG)(L.pop()===Ct)}}),tt&&(g=(0,hn.kJ)(Be)?Be.slice(0):(0,gn.pi)({},Be),tt.forEach(function(Tt,Ct){g[Ct]=Tt}))}return d.info?this.cache.policies.runMergeFunction(u,g,d.info,T,L&&(K=T.store).getStorage.apply(K,L)):g},v}(),wd=[];function Sd(v,d){var u=v.map;return u.has(d)||u.set(d,wd.pop()||{map:new Map}),u.get(d)}function gu(v,d){if(v===d||!d||Od(d))return v;if(!v||Od(v))return d;var u=v.info&&d.info?(0,gn.pi)((0,gn.pi)({},v.info),d.info):v.info||d.info,g=v.map.size&&d.map.size,L={info:u,map:g?new Map:v.map.size?v.map:d.map};if(g){var K=new Set(d.map.keys());v.map.forEach(function(de,Se){L.map.set(Se,gu(de,d.map.get(Se))),K.delete(Se)}),K.forEach(function(de){L.map.set(de,gu(d.map.get(de),v.map.get(de)))})}return L}function Od(v){return!v||!(v.info||v.map.size)}function If(v,d){var u=v.map,g=u.get(d);g&&Od(g)&&(wd.push(g),u.delete(d))}var Ds=new Set,_g=function(v){function d(u){void 0===u&&(u={});var g=v.call(this)||this;return g.watches=new Set,g.typenameDocumentCache=new Map,g.makeVar=Yu.QS,g.txCount=0,g.config=(0,hn.jS)(u),g.addTypename=!!g.config.addTypename,g.policies=new fi({cache:g,dataIdFromObject:g.config.dataIdFromObject,possibleTypes:g.config.possibleTypes,typePolicies:g.config.typePolicies}),g.init(),g}return(0,gn.ZT)(d,v),d.prototype.init=function(){var u=this.data=new zi.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=u.stump,this.resetResultCache()},d.prototype.resetResultCache=function(u){var g=this,T=this.storeReader;this.storeWriter=new Mc(this,this.storeReader=new gg({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:(0,hn.lg)(this.config),canon:u?void 0:T&&T.canon})),this.maybeBroadcastWatch=(0,Aa.re)(function(L,K){return g.broadcastWatch(L,K)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(L){var K=L.optimistic?g.optimisticData:g.data;if(Ku(K))return K.makeCacheKey(L.query,L.callback,(0,eo.B)({optimistic:L.optimistic,rootId:L.rootId,variables:L.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(L){return L.resetCaching()})},d.prototype.restore=function(u){return this.init(),u&&this.data.replace(u),this},d.prototype.extract=function(u){return void 0===u&&(u=!1),(u?this.optimisticData:this.data).extract()},d.prototype.read=function(u){var g=u.returnPartialData,T=void 0!==g&&g;try{return this.storeReader.diffQueryAgainstStore((0,gn.pi)((0,gn.pi)({},u),{store:u.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:T})).result||null}catch(L){if(L instanceof uu)return null;throw L}},d.prototype.write=function(u){try{return++this.txCount,this.storeWriter.writeToStore(this.data,u)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},d.prototype.modify=function(u){if(hn.RI.call(u,"id")&&!u.id)return!1;var g=u.optimistic?this.optimisticData:this.data;try{return++this.txCount,g.modify(u.id||"ROOT_QUERY",u.fields)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},d.prototype.diff=function(u){return this.storeReader.diffQueryAgainstStore((0,gn.pi)((0,gn.pi)({},u),{store:u.optimistic?this.optimisticData:this.data,rootId:u.id||"ROOT_QUERY",config:this.config}))},d.prototype.watch=function(u){var g=this;return this.watches.size||(0,Yu._v)(this),this.watches.add(u),u.immediate&&this.maybeBroadcastWatch(u),function(){g.watches.delete(u)&&!g.watches.size&&(0,Yu.li)(g),g.maybeBroadcastWatch.forget(u)}},d.prototype.gc=function(u){eo.B.reset();var g=this.optimisticData.gc();return u&&!this.txCount&&(u.resetResultCache?this.resetResultCache(u.resetResultIdentities):u.resetResultIdentities&&this.storeReader.resetCanon()),g},d.prototype.retain=function(u,g){return(g?this.optimisticData:this.data).retain(u)},d.prototype.release=function(u,g){return(g?this.optimisticData:this.data).release(u)},d.prototype.identify=function(u){if((0,Pn.Yk)(u))return u.__ref;try{return this.policies.identify(u)[0]}catch(g){__DEV__&&Ji.kG.warn(g)}},d.prototype.evict=function(u){if(!u.id){if(hn.RI.call(u,"id"))return!1;u=(0,gn.pi)((0,gn.pi)({},u),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(u,this.data)}finally{!--this.txCount&&!1!==u.broadcast&&this.broadcastWatches()}},d.prototype.reset=function(u){var g=this;return this.init(),eo.B.reset(),u&&u.discardWatches?(this.watches.forEach(function(T){return g.maybeBroadcastWatch.forget(T)}),this.watches.clear(),(0,Yu.li)(this)):this.broadcastWatches(),Promise.resolve()},d.prototype.removeOptimistic=function(u){var g=this.optimisticData.removeLayer(u);g!==this.optimisticData&&(this.optimisticData=g,this.broadcastWatches())},d.prototype.batch=function(u){var Be,g=this,T=u.update,L=u.optimistic,K=void 0===L||L,de=u.removeOptimistic,Se=u.onWatchUpdated,tt=function(Tt){var Mt=g.data,Ut=g.optimisticData;++g.txCount,Tt&&(g.data=g.optimisticData=Tt);try{return Be=T(g)}finally{--g.txCount,g.data=Mt,g.optimisticData=Ut}},mt=new Set;return Se&&!this.txCount&&this.broadcastWatches((0,gn.pi)((0,gn.pi)({},u),{onWatchUpdated:function(Tt){return mt.add(Tt),!1}})),"string"==typeof K?this.optimisticData=this.optimisticData.addLayer(K,tt):!1===K?tt(this.data):tt(),"string"==typeof de&&(this.optimisticData=this.optimisticData.removeLayer(de)),Se&&mt.size?(this.broadcastWatches((0,gn.pi)((0,gn.pi)({},u),{onWatchUpdated:function(Tt,Ct){var Mt=Se.call(this,Tt,Ct);return!1!==Mt&&mt.delete(Tt),Mt}})),mt.size&&mt.forEach(function(Tt){return g.maybeBroadcastWatch.dirty(Tt)})):this.broadcastWatches(u),Be},d.prototype.performTransaction=function(u,g){return this.batch({update:u,optimistic:g||null!==g})},d.prototype.transformDocument=function(u){if(this.addTypename){var g=this.typenameDocumentCache.get(u);return g||(g=(0,cu.Gw)(u),this.typenameDocumentCache.set(u,g),this.typenameDocumentCache.set(g,g)),g}return u},d.prototype.broadcastWatches=function(u){var g=this;this.txCount||this.watches.forEach(function(T){return g.maybeBroadcastWatch(T,u)})},d.prototype.broadcastWatch=function(u,g){var T=u.lastDiff,L=this.diff(u);g&&(u.optimistic&&"string"==typeof g.optimistic&&(L.fromOptimisticTransaction=!0),g.onWatchUpdated&&!1===g.onWatchUpdated.call(this,u,L,T))||(!T||!(0,Ec.D)(T.result,L.result))&&u.callback(u.lastDiff=L,T)},d}(hd),Vs=F(881),ep=F(1215);const $i={installState:!1,installEvent:void 0};let mu=(()=>{class v extends ep.b{constructor(){super($i),this.installEvent$=this.select(u=>{let g=this.localStorage.getItem("installEvent");return console.log("I IS PARSED",JSON.parse(g)),u.installEvent}),this.localStorage=window.localStorage}getInstallState(){if(this.isLocalStorageSupported){let u=this.localStorage.getItem("installState");return null!==u&&JSON.parse(u)}return null}setInstallState(u){this.isLocalStorageSupported&&(this.localStorage.setItem("installState",JSON.stringify(u)),this.setState({installState:u}))}removeInstallState(){this.isLocalStorageSupported&&(this.localStorage.removeItem("installState"),this.setState({installState:!1}))}get isLocalStorageSupported(){return!!this.localStorage}setInstallEvent(u){this.setState({installEvent:u}),this.localStorage.setItem("installEvent",JSON.stringify(u))}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var us=F(3256);let Al=(()=>{class v{constructor(u,g){this.uiState=u,this.pwaService=g}onBeforeInstallPrompt(u){void 0!==u&&(this.pwaService.removeInstallState(),console.log("onBeforeInstallPrompt",u),u.preventDefault(),this.pwaService.setInstallEvent(u),console.log("~ this.pwaInstallerState APP HOST LISTENER",this.pwaService.getInstallState()))}onAppInstalled(u){console.log("installed APPS",u)}ngOnInit(){window.addEventListener("appinstalled",function(){console.log("Thank you for installing our app!")}),this.pwaInstallerState=this.pwaService.getInstallState(),console.log("~ this.pwaInstallerState APP INIT",this.pwaInstallerState)}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B),y.Y36(mu))},v.\u0275cmp=y.Xpm({type:v,selectors:[["app-root"]],hostBindings:function(u,g){1&u&&y.NdJ("beforeinstallprompt",function(L){return g.onBeforeInstallPrompt(L)},!1,y.Jf7)("appinstalled",function(L){return g.onAppInstalled(L)},!1,y.Jf7)},decls:1,vars:0,template:function(u,g){1&u&&y._UZ(0,"router-outlet")},directives:[us.lC],styles:[""]}),v})();var or=F(8239),_s=F(5319),Li=F(8629),es=F(9522),bs=F(3557),Zu=F(8078);const kf=["soundSequence"];let sv=(()=>{class v extends es.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(bs.W.soundSequence,!1),this.timesteps={loopStart:6.6},this.isPlaying=!1,this.subs=new _s.w}ngOnInit(){super.ngOnInit(),this.setAudioIsPlayingSubscription(),this.subs.add(this.subscriptionAudioIsPlaying)}setAudioIsPlayingSubscription(){this.subscriptionAudioIsPlaying=this.uiState.audioIsPlaying$.subscribe(u=>{this.isPlaying=u,this.isPlaying&&this.play()})}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){this.loopAnimation()}onClick(){this.currentTime=this.duration}loopAnimation(){var u=this;return(0,or.Z)(function*(){u.isPlaying&&u.currentTime>=u.duration&&(u.pause(),u.currentTime=u.timesteps.loopStart,u.play())})()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B))},v.\u0275cmp=y.Xpm({type:v,selectors:[["sound-sequence"]],viewQuery:function(u,g){if(1&u&&y.Gf(kf,7),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first)}},features:[y.qOj],decls:3,vars:1,consts:[[1,"sound-sequence"],["muted","",3,"timeupdate","loadedmetadata"],["soundSequence",""]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y.TgZ(1,"video",1,2),y.NdJ("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),y.qZA(),y.qZA()),2&u&&y.Q6J("@fade",g.isPlaying)},styles:[".sound-sequence[_ngcontent-%COMP%]{position:absolute;height:30px;width:30px;z-index:3}@media (max-width: 568px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1060%,612%) scale(.24,.4)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1200%,696%) scale(.26,.6)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1382%,802%) scale(.32,.6)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1390%,695%) scale(.32,.6)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1526%,725%) scale(.36,.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1596%,755%) scale(.36,.6)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1596%,800%) scale(.38,.6)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1608%,940%) scale(.38,.6)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1685%,805%) scale(.41,.7)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1745%,835%) scale(.42,.7)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1815%,1120%) scale(.42,.7)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(1910%,1360%) scale(.42,.7)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(2500%,1550%) scaleX(.645)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(2630%,1880%) scaleX(.645)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(2530%,1320%) scaleX(.645)}}@media (min-width: 1601px){.sound-sequence[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(3500%,1700%) scale(.85,1.2)}}"],data:{animation:[yi("fade",[as("false",Xt({opacity:0})),as("true",Xt({opacity:1})),me("* => *",Ii("1000ms ease-in-out"))])]}}),v})();const Io=[yi("sepia",[as("false",Xt({filter:"sepia(0)"})),as("true",Xt({filter:"sepia(1)"})),me("false => true",Ii("2000ms ease-in")),me("true => false",Ii("2000ms ease-out"))])],Rf=Q([Xt({opacity:.65,backgroundColor:"rgba(201, 232, 25, 0.11)",offset:0}),Xt({opacity:.75,offset:.25}),Xt({opacity:.86,boxShadow:"0 0 10px rgba(201, 232, 25, 0.089)",offset:.5}),Xt({opacity:.97,boxShadow:"0 0 3px rgba(201, 232, 25, 0.123)",offset:1})]),Nf=Q([Xt({opacity:.65,filter:"sepia(1)",offset:0}),Xt({opacity:.86,filter:"sepia(0.5)",offset:.5}),Xt({opacity:.97,filter:"sepia(0)",offset:1})]),Lf=[yi("roll",[as("false",Xt({})),as("true",Xt({})),me("false => true",Ii("1000ms ease-in-out",Nf))]),yi("sepia",[as("false",Xt({filter:"sepia(0)"})),as("true",Xt({filter:"sepia(1)"})),me("false => true",Ii("2000ms ease-in")),me("true => false",Ii("2000ms ease-out"))]),yi("pulse",[as("false",Xt({})),as("true",Xt({})),me("false => true",Ii("1400ms cubic-bezier(0.35, 0, 0.25, 1)",Rf))])],Ac=Q([Xt({opacity:"0",offset:0}),Xt({opacity:"0.25",offset:.5}),Xt({opacity:"0.8",offset:.95}),Xt({opacity:"1",offset:1})]),Ff=[yi("fade",[me("* <=> *",[Xt({opacity:0}),V(":leave",[Xt({opacity:0})],{optional:!0}),V(":enter",[Xt({opacity:0})],{optional:!0}),xo([V(":leave",Ii("3.25s cubic-bezier(0.35, 0, 0.25, 1)",Ac),{optional:!0}),V(":enter",Ii("3s ease-in-out",Ac),{optional:!0})])])])],Bf=["buttonMute"],tp=["buttonDiv"];let Uf=(()=>{class v extends es.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(bs.W.buttonMute,!1),this.timesteps={isPlayingStart:2,isPlayingEnd:2.4,isPaused:1.3},this.initDelay=2500,this.subs=new _s.w}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.setAudioIsPlayingSubscription(),this.subs.add(this.subscriptionAudioIsPlaying)}setAudioIsPlayingSubscription(){this.subscriptionAudioIsPlaying=this.uiState.audioIsPlaying$.subscribe(u=>{u?(this.isPlaying=!0,this.currentTime=this.timesteps.isPlayingStart,this.play()):(this.isPlaying=!1,this.currentTime=this.timesteps.isPaused)})}onClick(){this.uiState.setAudioPlaying(!this.isPlaying)}timeUpdate(){this.pause(),this.isPlaying?this.currentTime>this.timesteps.isPlayingEnd&&(this.currentTime=this.timesteps.isPlayingStart):this.currentTime>this.timesteps.isPaused&&(this.currentTime=this.timesteps.isPaused),this.play()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B))},v.\u0275cmp=y.Xpm({type:v,selectors:[["button-mute"]],viewQuery:function(u,g){if(1&u&&(y.Gf(Bf,7),y.Gf(tp,5)),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first),y.iGM(T=y.CRH())&&(g.buttonDiv=T.first)}},features:[y.qOj],decls:4,vars:1,consts:[[1,"button-mute",3,"click"],["buttonDiv",""],["muted","",3,"timeupdate"],["buttonMute",""]],template:function(u,g){1&u&&(y.TgZ(0,"div",0,1),y.NdJ("click",function(){return g.onClick()}),y.TgZ(2,"video",2,3),y.NdJ("timeupdate",function(){return g.timeUpdate()}),y.qZA(),y.qZA()),2&u&&y.Q6J("@fade",void 0)},styles:[".button-mute[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2;filter:hue-rotate(90deg) contrast(200%)}.button-mute[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(42%,-12%) scale(.44)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(54%,-7%) scale(.5)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(70%) scale(.58)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(71%,-7%) scale(.56)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(82%,-5%) scale(.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(88%,-3%) scale(.62)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(88%) scale(.68)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(89%,8%) scale(.68)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(97%) scale(.64)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(101%,2%) scale(.64)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(107%,55%) scale(.74)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(132%,121%) scale(.76)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(178%,101%) scale(.9)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(211%,188%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(144.5%,23%) scale(.9)}}@media (min-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(212%,48%) scale(1.2)}}"],data:{animation:Ff}}),v})();const np=["introFrame"];function bg(v,d){1&v&&(y.TgZ(0,"div",7),y._UZ(1,"button-mute"),y.qZA())}let rp=(()=>{class v extends es.p{constructor(u){super(),this.routing=u,this.options=this.createOptions(bs.W.introFrame,!1),this.timesteps={loopStart:6.6},this.introFinished=!1,this.introPending=!1,this.userClicked=new y.vpe}ngOnInit(){super.ngOnInit(),this.handleIntro()}handleIntro(){this.play(),setTimeout(()=>{this.introPending=!0},2e3)}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){this.loopAnimation()}onButtonIntroFrameClick(){this.currentTime=this.duration,this.userClicked.emit(!0),this.routing.updateRoute("description")}loopAnimation(){var u=this;return(0,or.Z)(function*(){u.introFinished||u.currentTime>=u.duration&&(u.pause(),u.currentTime=u.timesteps.loopStart,u.play())})()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Zu.Z))},v.\u0275cmp=y.Xpm({type:v,selectors:[["intro-frame"]],viewQuery:function(u,g){if(1&u&&y.Gf(np,7),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first)}},outputs:{userClicked:"userClicked"},features:[y.qOj],decls:8,vars:1,consts:[[1,"intro-frame-container"],[1,"intro-frame-video"],["muted","",3,"timeupdate","loadedmetadata"],["introFrame",""],[1,"sound-sequence"],["class","button-mute",4,"ngIf"],[1,"button-intro",3,"click"],[1,"button-mute"]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"video",2,3),y.NdJ("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),y.qZA(),y.qZA(),y.TgZ(4,"div",4),y._UZ(5,"sound-sequence"),y.qZA(),y.YNc(6,bg,2,0,"div",5),y.TgZ(7,"div",6),y.NdJ("click",function(){return g.onButtonIntroFrameClick()}),y.qZA(),y.qZA()),2&u&&(y.xp6(6),y.Q6J("ngIf",g.introPending))},directives:[sv,A.O5,Uf],styles:[".button-intro[_ngcontent-%COMP%]{width:324px;height:324px;border-radius:50%;z-index:2;position:absolute}@media (max-width: 568px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.28) translate(40%,-6%)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.32) translate(58%,15%)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.36) translate(80%,35%)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.34) translate(87%,14%)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.38) translate(98%,18%)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.4) translate(102%,24%)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.4) translate(102%,32%)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.42) translate(99%,54%)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.38) translate(122%,34%)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.38) translate(130%,40%)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.4) translate(133%,104%)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.4) translate(158%,168%)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.68) translate(118%,105%)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.68) translate(138%,154%)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.78) translate(106%,60%)}}@media (min-width: 1601px){.button-intro[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1) translate(138%,71%)}}.button-mute[_ngcontent-%COMP%]{position:absolute;height:30px;width:30px;z-index:3}@media (max-width: 568px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(88%,510%)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(100%,580%)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(110%,660%)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(110%,580%)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(120%,600%)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(125%,620%)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(125%,660%)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(145%,770%)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(145%,650%)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(145%,670%)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(145%,790%)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(.9) translate(155%,810%)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1.1) translate(-135%,780%)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1.2) translate(-225%,600%)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1.1) translate(-20%,856%)}}@media (min-width: 1601px){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:scale(1.1) translate(40%,1056%)}}.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;width:2000px;z-index:-1;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden}.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}@media (max-width: 927px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:fill;width:100vw;height:100vh}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:960px;max-height:1024px}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:960px;max-height:1024px}}@media (min-width: 1025px) and (max-width: 1367px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(-50%,-50%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1599px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(-50%,-50%) scale(.9)}}@media (min-width: 1600px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]   .intro-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(-50%,-50%) scale(1.2)}}.intro-frame-container[_ngcontent-%COMP%]{position:absolute;height:100vh;width:100vw;z-index:-1;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;height:640px;width:1296px}}@media (min-width: 1600px) and (orientation: landscape){.intro-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;height:800px;width:1800px}}"]}),v})();const Pd=Q([Xt({opacity:"1",filter:"sepia(0.1)",offset:0}),Xt({opacity:"1",filter:"sepia(0.2)",offset:.04}),Xt({opacity:"0.1",filter:"sepia(0.4)",offset:.45}),Xt({opacity:"1",filter:"sepia(0.7)",offset:.8}),Xt({opacity:"0.4",filter:"sepia(0.77)",offset:.83}),Xt({opacity:"1",filter:"sepia(0.9)",offset:.97}),Xt({opacity:"0",offset:1})]),Vf=Q([Xt({opacity:"0",offset:0}),Xt({opacity:"0.25",offset:.5}),Xt({opacity:"0.8",offset:.95}),Xt({opacity:"1",offset:1})]),vu=yi("routeAnimations",[me("* <=> *",[Xt({position:"absolute"}),V(":leave",[Xt({position:"absolute",filter:"sepia(1)",width:"100%",height:"100%"})],{optional:!0}),V(":enter",[Xt({position:"absolute",opacity:0,width:"100%",height:"100%"})],{optional:!0}),xo([V(":leave",Ii("1.25s cubic-bezier(0.35, 0, 0.25, 1)",Pd),{optional:!0}),V(":enter",Ii("1s ease-in-out",Vf),{optional:!0})])])]);class Cg{constructor(d,u){this.dueTime=d,this.scheduler=u}call(d,u){return u.subscribe(new sp(d,this.dueTime,this.scheduler))}}class sp extends iu.L{constructor(d,u,g){super(d),this.dueTime=u,this.scheduler=g,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(d){this.clearDebounce(),this.lastValue=d,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(jf,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:d}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(d)}}clearDebounce(){const d=this.debouncedSubscription;null!==d&&(this.remove(d),d.unsubscribe(),this.debouncedSubscription=null)}}function jf(v){v.debouncedNext()}var ko=F(9598);const Ic=["buttonCube"],op=["buttonDiv"];let Tg=(()=>{class v extends es.p{constructor(u,g,T){super(),this.uiState=u,this.dataState=g,this.routing=T,this.options=this.createOptions(bs.W.buttonCube,!1),this.timestepsBackup={intro:2.5,digitOne:3,digitTwo:3.55,digitThree:4.1,digitFour:4.65,digitFive:5.15,digitSix:5.85},this.timesteps={intro:2.5,digitOne:3,digitTwo:3.55,digitThree:4.1,digitFour:4.65,digitFive:5.15,digitSix:5.85},this.initDelay=0,this.buttonState="intro",this.subs=new _s.w,this.animationInProgress=!1,this.sepiaOn=!1,this.pulseOn=!1,this.pulseLoopOn=!1,this.rollOn=!1}ngOnInit(){super.ngOnInit(),this.handleIntro()}handleIntro(){var u=this;return(0,or.Z)(function*(){const g=1e3*u.timesteps.intro;yield u.playAnimation(g,u.initDelay),u.currentTime=u.timesteps.intro})()}ngAfterViewInit(){this.setSubscriptions(),this.subs.add(this.subscriptionButtonLocked),this.subs.add(this.subscriptionButtonTouched),this.subs.add(this.subscriptionActiveView),this.subs.add(this.subscriptionSelectedBalance),this.subs.add(this.subscriptionCurrentRoute)}setSubscriptions(){this.subscriptionButtonLocked=this.uiState.cubeButtonLocked$.subscribe(u=>{this.buttonLocked=u}),this.subscriptionButtonTouched=this.uiState.cubeButtonTouched$.subscribe(u=>{this.buttonTouched=u}),this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this.activeView=u,this.triggerCSSAnimationOnViewChanges()}),this.subscriptionCurrentRoute=this.routing.currentRoute$.subscribe(u=>{this.currentRoute=u}),this.subscriptionSelectedBalance=this.dataState.selectedBalance$.subscribe(u=>{this.restrictCubeStatesBasedOn(u)}),this.subscriptionClickOrDoubleClick()}subscriptionClickOrDoubleClick(){const g=this.buttonDiv.nativeElement,T=Wu(g,"click"),L=Wu(g,"dblclick");(0,uo.T)(T,L).pipe(function(v,d=mf.P){return u=>u.lift(new Cg(v,d))}(300)).subscribe(de=>{this.handleClickType(de)})}handleClickType(u){"click"===u.type?this.onSingleClick():"dblclick"===u.type&&this.onDoubleClick()}triggerCSSAnimationOnViewChanges(){switch(this.activeView){case"config-info":this.pulseOn=!0,this.pulseLoopOn=!0,this.sepiaOn=!1;break;case"config":this.pulseLoopOn=!1,this.sepiaOn=!1;break;default:this.pulseLoopOn=!1,this.sepiaOn=!0}}restrictCubeStatesBasedOn(u){let g=Object.assign({},this.timestepsBackup);switch(u){case"Energiebilanz":delete g.digitSix;break;case"Erneuerbare":delete g.digitFive,delete g.digitSix}this.timesteps=g}onSingleClick(){var u=this;return(0,or.Z)(function*(){if(!u.buttonLocked&&(u.buttonTouched||(u.uiState.setCubeButtonTouched(!0),u.uiState.setConfigButtonLocked(!1)),!u.animationInProgress)){u.animationInProgress=!0;const g=u.getTimestep("next");yield u.handleAnimationOnSingleClick(g),u.buttonState=g,u.uiState.setActiveView("config"),u.uiState.setActiveFeatureFromCubeButtonState(u.buttonState),yield u.handleRouting(),u.resetAnimationInProgess()}})()}handleRouting(){var u=this;return(0,or.Z)(function*(){let g="config-info"===u.activeView;"config"!==u.currentRoute&&(u.routing.updateRoute("config"),g&&(yield(0,Li.Vs)(1e3)))})()}resetAnimationInProgess(){var u=this;return(0,or.Z)(function*(){yield(0,Li.Vs)(750),u.animationInProgress=!1})()}handleVeryFirstClick(){var u=this;return(0,or.Z)(function*(){u.buttonTouched||(u.uiState.setCubeButtonTouched(!0),u.uiState.setConfigButtonLocked(!1))})()}handleAnimationOnSingleClick(u){var g=this;return(0,or.Z)(function*(){g.buttonState===Object.keys(g.timesteps).pop()?(yield g.jumpToTimestepAnimation(),g.currentTime=g.timesteps.digitOne):(yield g.playAnimation(550),g.currentTime=g.timesteps[u])})()}onDoubleClick(){var u=this;return(0,or.Z)(function*(){if(!u.buttonLocked&&"intro"!==u.buttonState&&"digitOne"!==u.buttonState&&!u.animationInProgress){u.animationInProgress=!0;const g=u.getTimestep("previous");yield u.jumpToTimestepAnimation(),u.currentTime=u.timesteps[g],u.buttonState=g,u.uiState.setActiveFeatureFromCubeButtonState(u.buttonState),u.routing.updateRoute("config"),u.resetAnimationInProgess()}})()}getTimestep(u){const g="next"===u?1:-1,T=Object.keys(this.timesteps),L=T.indexOf(this.buttonState)+g;let K=T[L];return void 0===K&&(K="digitOne"),K}playAnimation(u,g=0){var T=this;return(0,or.Z)(function*(){T.play(g),yield(0,Li.Vs)(u),T.pause()})()}loopPulseAnimation(u){this.pulseLoopOn&&(this.pulseOn=!0,!0===u.toState&&(this.pulseOn=!1))}jumpToTimestepAnimation(){var u=this;return(0,or.Z)(function*(){u.rollOn=!0,yield(0,Li.Vs)(550),u.rollOn=!1})()}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B),y.Y36(ko.W),y.Y36(Zu.Z))},v.\u0275cmp=y.Xpm({type:v,selectors:[["button-cube"]],viewQuery:function(u,g){if(1&u&&(y.Gf(Ic,7),y.Gf(op,5)),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first),y.iGM(T=y.CRH())&&(g.buttonDiv=T.first)}},features:[y.qOj],decls:4,vars:3,consts:[[1,"button-cube"],["buttonDiv",""],["muted",""],["buttonCube",""]],template:function(u,g){1&u&&(y.TgZ(0,"div",0,1),y.NdJ("@pulse.done",function(L){return g.loopPulseAnimation(L)}),y._UZ(2,"video",2,3),y.qZA()),2&u&&y.Q6J("@roll",g.rollOn)("@sepia",g.sepiaOn)("@pulse",g.pulseOn)},styles:[".button-cube[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}.button-cube[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-19%,-20%) scale(.35)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-14.5%,-15%) scale(.4)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-10%,-10%) scale(.45)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-9%,-16%) scale(.45)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-5%,-13%) scale(.5)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-3%,-12%) scale(.5)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-3%,-11%) scale(.53)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-2.5%,-4%) scale(.57)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translateY(-9%) scale(.57)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(2%,-8%) scale(.59)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(4%,34%) scale(.63)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(24%,87%) scale(.64)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(42%,71%) scale(.78)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(69%,141%) scale(.8)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(16%,9%) scale(.8)}}@media (min-width: 1601px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(40%,28%) scale(1.05)}}"],data:{animation:Lf}}),v})();var el=F(2259);let Eg=(()=>{class v extends es.p{constructor(u){super(),this.ngxSmartModalService=u,this.options=this.createOptions(bs.W.selectionInfo,!1)}onClick(){this.ngxSmartModalService.setModalData(!0,"selectionInfoModal"),this.ngxSmartModalService.getModal("selectionInfoModal").open()}ngOnInit(){super.ngOnInit()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(el.lu))},v.\u0275cmp=y.Xpm({type:v,selectors:[["button-selection-info"]],features:[y.qOj],decls:1,vars:0,consts:[[1,"button-selection-info",3,"click"]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y.NdJ("click",function(){return g.onClick()}),y.qZA())},styles:[".button-selection-info[_ngcontent-%COMP%]{border-radius:12px;position:absolute;height:56px;width:56px;z-index:2}@media (max-width: 568px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(303.5%,24.5%) scale(.75)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(348.5%,33.5%) scale(.8)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(406%,46%) scale(.9)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(412%,34%) scale(.86)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(458%,38%) scale(.86)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(478%,42%) scale(.86)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(480%,47%) scale(.9)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(482%,60%) scale(1.1)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(512%,48%) scale(1)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(532%,52%) scale(1)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(548%,167%) scale(1.1)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(602%,302%) scale(1.1)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(770%,258%) scale(1.4)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(842%,442%) scale(1.3)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(696%,92%) scale(1.4)}}@media (min-width: 1600px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(946%,138%) scale(1.8)}}"]}),v})();const Dd=["buttonConfig"],Md=["buttonDiv"];let Hf=(()=>{class v extends es.p{constructor(u,g){super(),this.uiState=u,this.routing=g,this.options=this.createOptions(bs.W.buttonConfig,!1),this.timesteps={offStart:1.64,offEnd:4.58,onStart:5.85,onEnd:8.54},this.initDelay=0,this.buttonState=!1,this.subs=new _s.w,this.transitionInProgress=!1,this.sepiaOn=!0}ngOnInit(){super.ngOnInit(),this.setSubscriptions(),this.play(this.initDelay)}setSubscriptions(){this.subscriptionButtonLocked=this.uiState.configButtonLocked$.subscribe(u=>{this.buttonLocked=u}),this.subscriptionButtonTouched=this.uiState.configButtonTouched$.subscribe(u=>{this.buttonTouched=u}),this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this.activeView=u,this.onViewChanges()}),this.subs.add(this.subscriptionButtonLocked),this.subs.add(this.subscriptionButtonTouched),this.subs.add(this.subscriptionActiveView)}onSingleClick(){this.buttonLocked||(this.buttonTouched?this.handleClicksOnConfigView():this.handleVeryFirstClick())}handleVeryFirstClick(){var u=this;return(0,or.Z)(function*(){u.uiState.setActiveView("config-info"),yield(0,Li.Vs)(1500),u.routing.updateRoute("config-info"),u.uiState.handleVeryFirstConfigButtonClicked(),u.playButtonOnAnimation().then(()=>{u.buttonState=!0})})()}handleClicksOnConfigView(){var u=this;return(0,or.Z)(function*(){console.log("~ handleClicksOnConfigView"),u.uiState.setActiveView("config"),u.routing.updateRoute("config"),u.buttonState||(yield u.playButtonOnAnimation(),u.buttonState=!0)})()}onViewChanges(){var u=this;return(0,or.Z)(function*(){const g="config"===u.activeView||"config-info"===u.activeView;"config"!==u.activeView&&"config-info"!==u.activeView&&(u.setSepiaOn(!0),u.buttonState&&(yield u.playButtonOffAnimation(),u.buttonState=!1)),g&&(u.setSepiaOn(!1),u.buttonState||(yield u.playButtonOnAnimation(),u.buttonState=!0))})()}setSepiaOn(u){this.sepiaOn=u}playButtonOnAnimation(){var u=this;return(0,or.Z)(function*(){u.transitionInProgress=!0;const g=1e3*(u.timesteps.onStart-u.currentTime);yield(0,Li.Vs)(g),u.transitionInProgress=!1,u.play(),Promise.resolve()})()}playButtonOffAnimation(){var u=this;return(0,or.Z)(function*(){u.transitionInProgress=!0,u.currentTime=u.timesteps.onEnd;const g=1e3*(u.duration-u.currentTime);yield(0,Li.Vs)(g),u.transitionInProgress=!1,u.play(),Promise.resolve()})()}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){this.transitionInProgress||this.loopButtonAnimation()}loopButtonAnimation(){switch(this.buttonState){case!1:this.currentTime>this.timesteps.offEnd&&(this.currentTime=this.timesteps.offStart);break;case!0:this.currentTime>this.timesteps.onEnd&&(this.currentTime=this.timesteps.onStart)}}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B),y.Y36(Zu.Z))},v.\u0275cmp=y.Xpm({type:v,selectors:[["button-config"]],viewQuery:function(u,g){if(1&u&&(y.Gf(Dd,7),y.Gf(Md,7)),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first),y.iGM(T=y.CRH())&&(g.buttonDiv=T.first)}},features:[y.qOj],decls:4,vars:1,consts:[[1,"button-config"],["buttonDiv",""],["muted","",3,"click","timeupdate","loadedmetadata"],["buttonConfig",""]],template:function(u,g){1&u&&(y.TgZ(0,"div",0,1),y.TgZ(2,"video",2,3),y.NdJ("click",function(){return g.onSingleClick()})("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),y.qZA(),y.qZA()),2&u&&y.Q6J("@sepia",g.sepiaOn)},styles:[".button-config[_ngcontent-%COMP%]{position:absolute;height:0%!important;width:0%!important;z-index:2}.button-config[_ngcontent-%COMP%]   div[class^=ng-tns][_ngcontent-%COMP%]{width:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(356%,-16.5%) scale(.54)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(406%,-12%) scale(.64)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(476%,-8%) scale(.7)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(476%,-12%) scale(.64)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(530%,-11%) scale(.68)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(550%,-8.5%) scale(.72)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(556%,-5%) scale(.76)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(558%,1%) scale(.85)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(588%,-6%) scale(.72)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(608%,-5%) scale(.78)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(636%,48%) scale(.84)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(658%,112%) scale(.85)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(837%,92%) scale(1)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(870%,180%) scale(1.05)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(802%,13%) scale(1.05)}}@media (min-width: 1601px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(1091%,38%) scale(1.35)}}"],data:{animation:Io}}),v})();const yu=["buttonChart"];let js=(()=>{class v extends es.p{constructor(u,g,T){super(),this.uiState=u,this.dataState=g,this.routing=T,this.options=this.createOptions(bs.W.buttonChart,!1),this.timesteps={intro:3.6,lockEnd:2.8,lockStart:2.2,chartStart:6.2,chartEnd:9.7},this.initDelay=0,this.subs=new _s.w}ngOnInit(){var u=()=>super.ngOnInit,g=this;return(0,or.Z)(function*(){u().call(g),yield g.handleIntro(),g.isLocked=!0,g.setSubscriptionSelectionInfo(),g.subs.add(g.subscriptionSelectionInfo)})()}setSubscriptionSelectionInfo(){this.subscriptionSelectionInfo=this.dataState.selectedFeaturesInfo$.subscribe(u=>{this.checkIfFeaturesAreSelected(u)})}checkIfFeaturesAreSelected(u){let g=u.balance;if(void 0!==g)switch(g){case"Energiebilanz":delete u.usage;break;case"Erneuerbare":delete u.carrier,delete u.usage}Object.values(u).every(L=>void 0!==L)&&(this.isLocked=!1,this.play())}handleIntro(){var u=this;return(0,or.Z)(function*(){u.animationInProgress=!0;const g=1e3*u.timesteps.intro+u.initDelay;yield u.playAnimation(g,u.initDelay),u.currentTime=u.timesteps.intro,u.animationInProgress=!1})()}onClick(){this.animationInProgress||this.isLocked||(this.uiState.setActiveView("chart"),this.routing.updateRoute("chart"))}timeUpdate(){this.isLocked?this.currentTime>=this.timesteps.lockEnd&&(this.currentTime=this.timesteps.lockStart,this.play()):this.currentTime>=this.timesteps.chartEnd&&(this.currentTime=this.timesteps.chartStart,this.play())}playAnimation(u,g=0){var T=this;return(0,or.Z)(function*(){yield(0,Li.Vs)(g),T.play(),yield(0,Li.Vs)(u),T.pause()})()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B),y.Y36(ko.W),y.Y36(Zu.Z))},v.\u0275cmp=y.Xpm({type:v,selectors:[["button-chart"]],viewQuery:function(u,g){if(1&u&&y.Gf(yu,7),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first)}},features:[y.qOj],decls:2,vars:0,consts:[["muted","",1,"button-chart",3,"timeupdate","click"],["buttonChart",""]],template:function(u,g){1&u&&(y.TgZ(0,"video",0,1),y.NdJ("timeupdate",function(){return g.timeUpdate()})("click",function(){return g.onClick()}),y.qZA())},styles:[".button-chart[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}.button-chart[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(270%,122%) scale(.4)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(311%,142%) scale(.46)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(365%,172%) scale(.56)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(367%,142%) scale(.56)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(408%,150%) scale(.56)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(426%,158%) scale(.56)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(428%,170%) scale(.6)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(432%,208%) scale(.6)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(455%,171%) scale(.6)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(472%,179%) scale(.62)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(485%,243%) scale(.68)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(512%,300%) scale(.66)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(652%,336%) scale(.8)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(680%,406%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(626%,270%) scale(.9)}}@media (min-width: 1601px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(854.5%,378%) scale(1.1)}}"]}),v})();const kc=["logo"],Xu=["logoDiv"];let ap=(()=>{class v extends es.p{constructor(u,g){super(),this.uiState=u,this.renderer=g,this.subs=new _s.w,this.options=this.createOptions(bs.W.logo,!1),this.timesteps={logoSetupEnd:2},this.initDelay=5e3,this.timeUpdateAllowed=!1}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this._activeView=u,this.onViewChanges()}),this.subs.add(this.subscriptionActiveView)}handleIntro(){this.play(this.initDelay),setTimeout(()=>{this.pause(),this.timeUpdateAllowed=!0},this.initDelay+1e3*this.timesteps.logoSetupEnd)}onViewChanges(){switch(this.activeView){case"description":this.handleIntro();break;case"config-info":this.timeUpdateAllowed=!1,this.play();break;case"config":this.timeUpdateAllowed=!1,this.fadeOutLogoAnimation()}}timeUpdate(){this.handleLogoLooping()}handleLogoLooping(){this.timeUpdateAllowed&&(this.currentTime=1.4,this.timeUpdateAllowed=!1,setTimeout(()=>{this.pause(),setTimeout(()=>{this.timeUpdateAllowed=!0,this.play()},4e3)},1440))}fadeOutLogoAnimation(){this.renderer.addClass(this.logoDiv.nativeElement,"fade-out")}get activeView(){return this._activeView}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B),y.Y36(y.Qsj))},v.\u0275cmp=y.Xpm({type:v,selectors:[["logo"]],viewQuery:function(u,g){if(1&u&&(y.Gf(kc,7),y.Gf(Xu,5)),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first),y.iGM(T=y.CRH())&&(g.logoDiv=T.first)}},features:[y.qOj],decls:4,vars:0,consts:[[1,"logo"],["logoDiv",""],["muted","",3,"timeupdate"],["logo",""]],template:function(u,g){1&u&&(y.TgZ(0,"div",0,1),y.TgZ(2,"video",2,3),y.NdJ("timeupdate",function(){return g.timeUpdate()}),y.qZA(),y.qZA())},styles:[".logo[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:-3}@media (max-width: 568px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(54%,-4%) scale(.32)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(68%,4%) scale(.38)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(86%,6%) scale(.42)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(87%,2%) scale(.42)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(100%,4%) scale(.49)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(106%,6%) scale(.49)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(106%,10%) scale(.49)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(106%,14%) scale(.49)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(123%,10%) scale(.49)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(123%,10%) scale(.49)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(126%,74%) scale(.56)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(136%,154%) scale(.56)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(180%,134%) scale(.64)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(194%,244%) scale(.68)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(168%,38%) scale(.72)}}@media (min-width: 1601px) and (orientation: landscape){.logo[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.logo[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(250%,74%) scale(.82)}}@keyframes fade-out-logo{0%{opacity:1}50%{opacity:.5}to{opacity:0}}.fade-out[_ngcontent-%COMP%]{animation-name:fade-out-logo;animation-duration:1s;animation-iteration-count:1;animation-direction:normal;animation-fill-mode:forwards;animation-timing-function:ease-in-out}"]}),v})();const _u=["display"];let zf=(()=>{class v extends es.p{constructor(u){super(),this.uiState=u,this.subs=new _s.w,this.options=this.createOptions(bs.W.display,!1),this.timesteps={init:0,balancesStart:.45,balancesEnd:1.3,regionsEnd:2.4,yearsEnd:3.5,aggregatesEnd:4.7,carriersEnd:5.8,usagesEnd:7.15},this.initDelay=0}ngOnInit(){super.ngOnInit(),this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this._activeView=u,this.onViewChange()}),this.subscriptionActiveConfigFeature=this.uiState.activeConfigFeature$.subscribe(u=>{this._activeConfigFeature=u,this.onFeatureChanges()}),this.subs.add(this.subscriptionActiveView),this.subs.add(this.subscriptionActiveConfigFeature)}playFromTo(u,g){var T=this;return(0,or.Z)(function*(){let L=0;L=0==T.currentTime?1e3*(T.timesteps.balancesEnd-T.timesteps.init):1e3*(T.timesteps[g]-T.timesteps[u]),T.currentTime>T.timesteps[u]&&(T.currentTime=T.timesteps[u]),T.play(),yield(0,Li.Vs)(L),T.currentTime=T.timesteps[g],T.pause()})()}onViewChange(){this.onFeatureChanges()}onFeatureChanges(){if("config"===this.activeView)switch(this.activeConfigFeature){case"balance":this.playFromTo("balancesStart","balancesEnd");break;case"regions":this.playFromTo("balancesEnd","regionsEnd");break;case"years":this.playFromTo("regionsEnd","yearsEnd");break;case"aggregate":this.playFromTo("yearsEnd","aggregatesEnd");break;case"carrier":this.playFromTo("aggregatesEnd","carriersEnd");break;case"usage":this.playFromTo("carriersEnd","usagesEnd")}}handleFeatureChanges(){}get activeView(){return this._activeView}get activeConfigFeature(){return this._activeConfigFeature}set activeView(u){this._activeView=u}set activeConfigFeature(u){this._activeConfigFeature=u}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B))},v.\u0275cmp=y.Xpm({type:v,selectors:[["display"]],viewQuery:function(u,g){if(1&u&&y.Gf(_u,7),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first)}},features:[y.qOj],decls:3,vars:0,consts:[[1,"display"],["muted",""],["display",""]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y._UZ(1,"video",1,2),y.qZA())},styles:[".display[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:-3}@media (max-width: 568px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translateY(-25%) scale(.26)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-22%) scale(.32)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(16%,-17%) scale(.36)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(16%,-21%) scale(.3)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(22%,-21%) scale(.42)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,-20%) scale(.36)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,-18%) scale(.36)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,-12%) scale(.42)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(30%,-18%) scale(.38)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(34%,-16%) scale(.4)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(33.2%,26%) scale(.5)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(39.5%,78%) scale(.5)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(63%,59%) scale(.6)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(69%,129%) scale(.6)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(56.5%,-2%) scale(.6)}}@media (min-width: 1600px) and (orientation: landscape){.display[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.display[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(90.25%,14%) scale(.84)}}"]}),v})();const $f=["selectionInfo"];function Rc(v,d){if(1&v&&(y.TgZ(0,"div"),y.TgZ(1,"div"),y._uU(2),y.qZA(),y.qZA()),2&v){const u=y.oxw().$implicit;y.xp6(1),y.Gre("",u.key," not-selected"),y.xp6(1),y.hij(" ",u.value," ")}}function xg(v,d){if(1&v&&(y.TgZ(0,"div"),y.TgZ(1,"div"),y._uU(2),y.qZA(),y.qZA()),2&v){const u=y.oxw().$implicit;y.xp6(1),y.Gre("",u.key," unselectable"),y.xp6(1),y.hij(" ",u.value," ")}}function Wf(v,d){if(1&v&&(y.TgZ(0,"div"),y.TgZ(1,"div"),y._uU(2),y.qZA(),y.qZA()),2&v){const u=y.oxw().$implicit;y.xp6(1),y.Gre("",u.key," selected"),y.xp6(1),y.hij(" ",u.value," ")}}function Ad(v,d){if(1&v&&(y.TgZ(0,"div"),y.ynx(1,7),y.YNc(2,Rc,3,4,"div",8),y.YNc(3,xg,3,4,"div",8),y.YNc(4,Wf,3,4,"div",9),y.BQk(),y.qZA()),2&v){const u=d.$implicit;y.xp6(1),y.Q6J("ngSwitch",u.value),y.xp6(1),y.Q6J("ngSwitchCase","PLEASE SELECT"),y.xp6(1),y.Q6J("ngSwitchCase","NOT SELECTABLE")}}function wg(v,d){if(1&v&&(y.ynx(0),y.YNc(1,Ad,5,3,"div",6),y.ALo(2,"keyvalue"),y.BQk()),2&v){const u=y.oxw();y.xp6(1),y.Q6J("ngForOf",y.lcZ(2,1,u.selectedFeatures))}}let lp=(()=>{class v extends es.p{constructor(u,g){super(),this.ngxSmartModalService=u,this.dataState=g,this.options=this.createOptions(bs.W.selectionInfo,!1),this.subs=new _s.w}ngOnInit(){super.ngOnInit(),this.setSubscriptionSelectedFeatures()}ngAfterViewInit(){this.setSubscriptionModalOpen(),this.subs.add(this.subscriptionSelectedFeatures),this.subs.add(this.subscriptionModalOpen)}setSubscriptionModalOpen(){this.subscriptionModalOpen=this.ngxSmartModalService.getModal("selectionInfoModal").onOpen.subscribe(()=>{this.play()})}setSubscriptionSelectedFeatures(){this.subscriptionSelectedFeatures=this.dataState.selectedFeaturesInfo$.subscribe(u=>{this.setSelectedFeaturesArray(u)})}setSelectedFeaturesArray(u){Object.entries(u).forEach(([g,T])=>{void 0===T&&(u[g]="PLEASE SELECT")}),("Energiebilanz"===u.balance||"Erneuerbare"===u.balance)&&(u.usage="NOT SELECTABLE"),"Erneuerbare"===u.balance&&(u.carrier="NOT SELECTABLE"),this.selectedFeatures=u}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(el.lu),y.Y36(ko.W))},v.\u0275cmp=y.Xpm({type:v,selectors:[["selection-info-dialog"]],viewQuery:function(u,g){if(1&u&&y.Gf($f,7),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first)}},features:[y.qOj],decls:6,vars:2,consts:[["identifier","selectionInfoModal",3,"customClass"],["selectionInfoModal",""],["muted",""],["selectionInfo",""],[1,"container"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(u,g){1&u&&(y.TgZ(0,"ngx-smart-modal",0,1),y._UZ(2,"video",2,3),y.TgZ(4,"div",4),y.YNc(5,wg,3,3,"ng-container",5),y.qZA(),y.qZA()),2&u&&(y.Q6J("customClass","selection-info-modal"),y.xp6(5),y.Q6J("ngIf",void 0!==g.selectedFeatures))},directives:[el.Q3,A.O5,A.sg,A.RF,A.n9,A.ED],pipes:[A.Nd],styles:['@media (max-width: 568px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.48) translate(-59%,-55%)}}@media (max-width: 568px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:18px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:3.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:14.5px;top:10.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:16.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:14.5px;top:22.5%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:28.75%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:35.25%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:3.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:14.5px;top:10.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:16.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:28.75%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:35.25%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:3.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:14.5px;top:10.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:16.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:28.75%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:35.25%}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.54) translate(-52%,-44%)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:16px;top:25%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:39.25%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:25%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:39.25%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:25%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:39.25%}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.6) translate(-46%,-30%)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:7.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:17px;top:16%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:23%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:31%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:47%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:7.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:17px;top:16%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:23%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:31%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:47%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:7.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:17px;top:16%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:23%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:31%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:47%}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.56) translate(-50%,-44%)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:2.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:16px;top:10.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:24.25%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:2.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:16px;top:10.5%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:24.25%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:39%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:2.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:16px;top:10.5%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:24.25%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:39%}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.6) translate(-46%,-38%)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:3%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:18.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:26.25%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:34.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:42%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:3%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.5%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:18.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:26.25%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:34.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:42%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:3%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:16px;top:11.5%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:18.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:26.25%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:34.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:42%}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.6) translate(-46%,-36%)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:3.75%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:17px;top:12.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:19.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:27.25%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:35.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:43.25%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:25%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:43.25%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:4.15%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:16px;top:11.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:25%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:32%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:43.25%}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.6) translate(-46%,-32%)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:20px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:6.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:17px;top:15%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:22%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:17px;top:30%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:38%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:45.5%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:6.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:17px;top:15%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:22%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:30%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:38%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:45.5%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:6.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:17px;top:15%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:22%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:30%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:38%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:45.5%}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.7) translate(-39%,-18%)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:24px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:8.75%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:20px;top:19%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:27%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:45%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:54.5%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:8.75%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:20px;top:19%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:27%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:45%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:54.5%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:18.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:8.75%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:20px;top:19%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:27%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:45%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:54.5%}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.67) translate(-40%,-28%)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:24px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:4%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:19px;top:13.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:21%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:19px;top:30%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:38.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:47.5%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:4%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:19px;top:13.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:21%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:30%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:38.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:47.5%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:4%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:19px;top:13.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:21%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:30%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:38.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:47.5%}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.67) translate(-40%,-26%)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:24px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:19px;top:14.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:19px;top:31.5%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:40%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:48.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{top:14.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{font-size:19px;top:31.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:40%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:48.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:19px;top:14.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:22.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:40%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:48.75%}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.72) translate(-38%,-4%)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:26px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:20px;top:27.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:20px;top:45.5%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:55%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:64.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:20px;top:27.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:45.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:55%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:64.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:18%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:20px;top:27.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:36.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:45.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:55%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:64.75%}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.74) translate(-37%,18%)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:28px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:32.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:21px;top:42.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:51.75%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:61.5%;font-size:21px}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:71%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:84.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:32.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:21px;top:42.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:51.75%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:61.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:71%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:84.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:32.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:21px;top:42.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:51.75%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:61.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:71%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:84.75%}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.8) translate(-33%,18%)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:28px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:23px;top:42.75%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:52.5%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:62.5%;font-size:23px}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:73.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:84%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:23px;top:42.75%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:52.5%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:73.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:84%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:31.5%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:23px;top:42.75%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:52.5%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:73.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:84%}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.88) translate(-30%,44%)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:32px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:52%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:25px;top:65%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:75.25%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:87%;font-size:25px}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:98.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:108.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:52%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:25px;top:65%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:75.25%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:87%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:98.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:108.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:19.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:52%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:25px;top:65%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:75.25%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:87%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:98.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:108.75%}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){  .selection-info-modal .nsm-content video{transform:scale(.8) translate(-32%)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.container[_ngcontent-%COMP%]{font-size:30px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:20.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:22px;top:28.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:37.75%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{top:48%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:58.75%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:69.75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:43.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:22px;top:28.5%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:37.75%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:48%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:58.75%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:69.75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:20.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:17%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:22px;top:28.5%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:37.75%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:48%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:58.75%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:69.75%}}@media (min-width: 1601px){  .selection-info-modal .nsm-content{transform:translate(-26%,16%)}}@media (min-width: 1601px){.container[_ngcontent-%COMP%]{font-size:32px}.container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;color:#fff;left:43.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .selected.balance[_ngcontent-%COMP%]{top:10%}.container[_ngcontent-%COMP%]   .selected.regions[_ngcontent-%COMP%]{font-size:28px;top:23.5%}.container[_ngcontent-%COMP%]   .selected.years[_ngcontent-%COMP%]{top:36.2%}.container[_ngcontent-%COMP%]   .selected.aggregate[_ngcontent-%COMP%]{font-size:28px;top:49%}.container[_ngcontent-%COMP%]   .selected.carrier[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .selected.usage[_ngcontent-%COMP%]{top:75%}.container[_ngcontent-%COMP%]   .not-selected[_ngcontent-%COMP%]{position:absolute;color:#79df75;left:43.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .not-selected.balance[_ngcontent-%COMP%]{top:10%}.container[_ngcontent-%COMP%]   .not-selected.regions[_ngcontent-%COMP%]{font-size:28px;top:23.5%}.container[_ngcontent-%COMP%]   .not-selected.years[_ngcontent-%COMP%]{top:36.2%}.container[_ngcontent-%COMP%]   .not-selected.aggregate[_ngcontent-%COMP%]{top:49%}.container[_ngcontent-%COMP%]   .not-selected.carrier[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .not-selected.usage[_ngcontent-%COMP%]{top:75%}.container[_ngcontent-%COMP%]   .unselectable[_ngcontent-%COMP%]{position:absolute;color:#e61b1b;left:43.5%;animation:fade-modal-in 4s 1 normal forwards ease-in-out}.container[_ngcontent-%COMP%]   .unselectable.balance[_ngcontent-%COMP%]{top:10%}.container[_ngcontent-%COMP%]   .unselectable.regions[_ngcontent-%COMP%]{font-size:28px;top:23.5%}.container[_ngcontent-%COMP%]   .unselectable.years[_ngcontent-%COMP%]{top:36.2%}.container[_ngcontent-%COMP%]   .unselectable.aggregate[_ngcontent-%COMP%]{top:49%}.container[_ngcontent-%COMP%]   .unselectable.carrier[_ngcontent-%COMP%]{top:62.5%}.container[_ngcontent-%COMP%]   .unselectable.usage[_ngcontent-%COMP%]{top:75%}}  .selection-info-modal .nsm-content{position:absolute;background-color:#16020200;border-radius:24px;border:0px solid rgba(0,0,235,0)}.container[_ngcontent-%COMP%]{z-index:3;font-family:"Oswald"}@keyframes fade-modal-in{0%{opacity:0;filter:sepia(1)}50%{opacity:0;filter:sepia(1)}to{opacity:.8;filter:sepia(0)}}']}),v})();var Gf=F(136);const up=["Kokskohle","Anthrazit","Steinkohlen-Briketts","Sonstige Steinkohle","Steinkohle","Subbitumin\xf6se Kohle","Sonstige Braunkohle","Braunkohle","Braunkohlen-Briketts","Brenntorf","Koks","Roh\xf6l","NGL","Erd\xf6l","Steinkohleteer","Benzol","Feedstocks","Sonstiger Raffinerieeinsatz","Motorbenzin","Industriebenzin","Flugbenzin","Benzin","Flugturbinenkraftstoff","Sonstiges Petroleum","Petroleum","Diesel","Gas\xf6l f\xfcr Heizzwecke","Heiz\xf6l<1%S","Heiz\xf6l>1%S","Heiz\xf6l","Fl\xfcssiggas","Naphta","Bitumen","Schmiermittel","Petrolkoks","Sonstige","Sonstige Prod. d. Erd\xf6lverarb.","Raffinerie-Restgas","Mischgas","Erdgas","Tiegelgas","Hochofengas","Gichtgas","Kokereigas","Industrieabfall","Hausm\xfcll nicht erneuerbar","Brennbare Abf\xe4lle","Scheitholz","Hausm\xfcll Bioanteil","Pellets+Holzbriketts","Holzabfall","Holzkohle","Ablaugen","Deponiegas","Kl\xe4rgas","Biogas","Bioethanol","Biodiesel","Sonst. Biogene fl\xfcssig","Sonst. Biogene fest","Biogene Brenn- u. Treibstoffe","Geothermie","Umgebungsw\xe4rme","Solarw\xe4rme","Reaktionsw\xe4rme","Umgebungsw\xe4rme etc.","WK<=1MW","WK<=10MW","WK>10MW","Wasserkraft","Wind","Photovoltaik","Wind und Photovoltaik","Fernw\xe4rme","Elektrische Energie","KOHLE","\xd6L","GAS","ERNEUERBARE","ABF\xc4LLE","Gesamtenergiebilanz"],Sg=["Steinkohle","Braunkohle","Braunkohlenbriketts","Koks","Petrolkoks","Heiz\xf6l","Gas\xf6l f\xfcr Heizzwecke ","Diesel","Benzin","Petroleum","Fl\xfcssiggas","Erdgas","Gichtgas","Kokereigas","Scheitholz","Biogene Brenn- und Treibstoffe","Brennbare Abf\xe4lle","Brenntorf","Umgebungsw\xe4rme etc.","Fernw\xe4rme","Elektrische Energie","Insgesamt"];var Id=F(9030),kd=F(776);let Ju=(()=>{class v{constructor(u,g){this.fetchService=u,this.dataState=g,this.subs=new _s.w}ngOnInit(){this.setSubscriptionSelectedBalance(),this.subs.add(this.subscriptionSelectedBalance)}ngAfterViewInit(){this.setSubscriptionSelectedBalance()}setSubscriptionSelectedBalance(){this.subscriptionSelectedBalance=this.dataState.selectedBalance$.subscribe(u=>{"Erneuerbare"!==u&&this.fetchAndSetOptionData(u)})}fetchAndSetOptionData(u){if(void 0!==u){let T=Gf.l_[u].concat("_carriers");this.fetchService.queryBalanceIndex(T).subscribe(L=>{this.data=JSON.parse(L.balanceIndex[0].data),this.chartOptions=function(v){return{textStyle:{fontFamily:"Oswald Light",fontSize:24},series:[{breadcrumb:{emptyItemWidth:120,itemStyle:{color:"rgba(0, 0, 0, 0)",textStyle:{width:130,overflow:"break"}}},name:"Energy Carriers",type:"treemap",roam:!0,width:"100%",visibleMin:300,leafDepth:1,label:{show:!0,formatter:"{b}"},upperLabel:{show:!0,height:30},itemStyle:{borderColor:"#fff"},levels:[{itemStyle:{borderColor:"#777",borderWidth:0,gapWidth:1},upperLabel:{show:!1}},{itemStyle:{borderColor:"#555",borderWidth:5,gapWidth:1},emphasis:{itemStyle:{borderColor:"#ddd"}}},{colorSaturation:[.35,.5],itemStyle:{borderWidth:5,gapWidth:1,borderColorSaturation:.6}}],data:v}]}}(this.data)})}}onNodeClick(u){const g=u.name;(function(v){return!(!Sg.includes(v)&&!up.includes(v))})(g)&&this.upateDataState(g)}upateDataState(u){this.dataState.setCarrier(u)}onDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Id.l),y.Y36(ko.W))},v.\u0275cmp=y.Xpm({type:v,selectors:[["carriers-dialog"]],decls:3,vars:2,consts:[["identifier","carriersModal",3,"customClass"],["carriersModal",""],["echarts","",1,"chart",3,"options","chartClick"]],template:function(u,g){1&u&&(y.TgZ(0,"ngx-smart-modal",0,1),y.TgZ(2,"div",2),y.NdJ("chartClick",function(L){return g.onNodeClick(L)}),y.qZA(),y.qZA()),2&u&&(y.Q6J("customClass","carriers-modal"),y.xp6(2),y.Q6J("options",g.chartOptions))},directives:[el.Q3,kd._w],styles:[".chart[_ngcontent-%COMP%]{position:relative;width:900px;height:700px;z-index:2}  .carriers-modal .nsm-content{position:absolute;background-color:#ecd6d600;width:0px;height:0px;z-index:2}@media (max-width: 568px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-25%,35%) scale(.5)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-75%,70%) scale(.55)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,80%) scale(.65)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,80%) scale(.65)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,80%) scale(.65)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,80%) scale(.65)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,130%) scale(.65)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-205%,180%) scale(.65)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-245%,100%) scale(.7)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-305%,100%) scale(.75)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-365%,280%) scale(.8)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-505%,480%) scale(.9)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-600%,500%) scale(1)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-600%,700%) scale(1)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-600%,200%) scale(1)}}@media (min-width: 1600px) and (orientation: landscape){  .carriers-modal .nsm-content{transform:translate(-1100%,300%) scale(1.35)}}"]}),v})();const ta=["mainFrame"];let Og=(()=>{class v extends es.p{constructor(){super(),this.options=this.createOptions(bs.W.mainFrame,!0),this.timesteps={loopStart:3.67},this.timeUpdatePause=4e3,this.timeUpdateAllowed=!0}ngOnInit(){super.ngOnInit()}prepareRoute(u){return u&&u.activatedRouteData&&u.activatedRouteData.animation}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){this.handleMainFrameLooping()}handleMainFrameLooping(){var u=this;return(0,or.Z)(function*(){u.timeUpdateAllowed&&u.currentTime>=u.duration&&(u.currentTime=u.timesteps.loopStart,u.timeUpdateAllowed=!1,yield(0,Li.Vs)(u.timeUpdatePause),u.timeUpdateAllowed=!0,u.play())})()}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275cmp=y.Xpm({type:v,selectors:[["main-frame"]],viewQuery:function(u,g){if(1&u&&y.Gf(ta,7),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first)}},features:[y.qOj],decls:17,vars:1,consts:[[1,"main-frame-container"],[1,"main-frame-video"],["muted","",3,"timeupdate","loadedmetadata"],["mainFrame",""],[1,"router-outlet-content"],["outlet","outlet"]],template:function(u,g){if(1&u&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"video",2,3),y.NdJ("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),y.qZA(),y.qZA(),y._UZ(4,"button-cube"),y._UZ(5,"button-mute"),y._UZ(6,"button-selection-info"),y._UZ(7,"button-config"),y._UZ(8,"button-chart"),y._UZ(9,"logo"),y._UZ(10,"display"),y._UZ(11,"selection-info-dialog"),y._UZ(12,"carriers-dialog"),y.ynx(13),y.TgZ(14,"div",4),y._UZ(15,"router-outlet",null,5),y.qZA(),y.BQk(),y.qZA()),2&u){const T=y.MAs(16);y.xp6(14),y.Q6J("@routeAnimations",g.prepareRoute(T))}},directives:[Tg,Uf,Eg,Hf,js,ap,zf,lp,Ju,us.lC],styles:[".button-mute[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2;filter:hue-rotate(90deg) contrast(200%)}.button-mute[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(42%,-12%) scale(.44)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(54%,-7%) scale(.5)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(70%) scale(.58)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(71%,-7%) scale(.56)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(82%,-5%) scale(.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(88%,-3%) scale(.62)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(88%) scale(.68)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(89%,8%) scale(.68)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(97%) scale(.64)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(101%,2%) scale(.64)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(107%,55%) scale(.74)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(132%,121%) scale(.76)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(178%,101%) scale(.9)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(211%,188%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(144.5%,23%) scale(.9)}}@media (min-width: 1600px) and (orientation: landscape){.button-mute[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-mute[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(212%,48%) scale(1.2)}}.button-chart[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}.button-chart[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(270%,122%) scale(.4)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(311%,142%) scale(.46)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(365%,172%) scale(.56)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(367%,142%) scale(.56)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(408%,150%) scale(.56)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(426%,158%) scale(.56)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(428%,170%) scale(.6)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(432%,208%) scale(.6)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(455%,171%) scale(.6)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(472%,179%) scale(.62)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(485%,243%) scale(.68)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(512%,300%) scale(.66)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(652%,336%) scale(.8)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(680%,406%) scale(.9)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(626%,270%) scale(.9)}}@media (min-width: 1601px) and (orientation: landscape){.button-chart[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-chart[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(854.5%,378%) scale(1.1)}}.button-cube[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}.button-cube[_ngcontent-%COMP%]   div[id^=vjs_video_][_ngcontent-%COMP%]{width:0%!important;height:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-19%,-20%) scale(.35)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-14.5%,-15%) scale(.4)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-10%,-10%) scale(.45)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-9%,-16%) scale(.45)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-5%,-13%) scale(.5)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-3%,-12%) scale(.5)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#ff0}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-3%,-11%) scale(.53)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-2.5%,-4%) scale(.57)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translateY(-9%) scale(.57)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(2%,-8%) scale(.59)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(4%,34%) scale(.63)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(24%,87%) scale(.64)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(42%,71%) scale(.78)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(69%,141%) scale(.8)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(16%,9%) scale(.8)}}@media (min-width: 1601px) and (orientation: landscape){.button-cube[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-cube[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(40%,28%) scale(1.05)}}.button-config[_ngcontent-%COMP%]{position:absolute;height:0%!important;width:0%!important;z-index:2}.button-config[_ngcontent-%COMP%]   div[class^=ng-tns][_ngcontent-%COMP%]{width:0%!important}@media (max-width: 568px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(356%,-16.5%) scale(.54)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(406%,-12%) scale(.64)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(476%,-8%) scale(.7)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(476%,-12%) scale(.64)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(530%,-11%) scale(.68)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(550%,-8.5%) scale(.72)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(556%,-5%) scale(.76)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(558%,1%) scale(.85)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(588%,-6%) scale(.72)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(608%,-5%) scale(.78)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(636%,48%) scale(.84)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(658%,112%) scale(.85)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(837%,92%) scale(1)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(870%,180%) scale(1.05)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(802%,13%) scale(1.05)}}@media (min-width: 1601px) and (orientation: landscape){.button-config[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(1091%,38%) scale(1.35)}}.button-selection-info[_ngcontent-%COMP%]{border-radius:12px;position:absolute;height:56px;width:56px;z-index:2}@media (max-width: 568px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(303.5%,24.5%) scale(.75)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(348.5%,33.5%) scale(.8)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(406%,46%) scale(.9)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(412%,34%) scale(.86)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(458%,38%) scale(.86)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(478%,42%) scale(.86)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(480%,47%) scale(.9)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(482%,60%) scale(1.1)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(512%,48%) scale(1)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(532%,52%) scale(1)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(548%,167%) scale(1.1)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(602%,302%) scale(1.1)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(770%,258%) scale(1.4)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(842%,442%) scale(1.3)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(696%,92%) scale(1.4)}}@media (min-width: 1600px) and (orientation: landscape){.button-selection-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;transform:translate(946%,138%) scale(1.8)}}.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%)}@media (max-width: 927px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:72.5vw;height:60.75vh;left:48.25%;top:62.5%}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:700px;height:292px;left:48.25%;top:60%}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:700px;height:292px;left:48.25%;top:57.75%}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:872px;height:366px;left:48.25%;top:59.35%}}@media (min-width: 1368px) and (max-width: 1599px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:874px;height:366px;left:48%;top:62.35%}}@media (min-width: 1600px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .router-outlet-content[_ngcontent-%COMP%]{width:1168px;height:488px;left:48.25%;top:62.35%}}.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]{z-index:-1;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden}.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}@media (max-width: 927px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:fill;width:100vw;height:100vh}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:960px;max-height:1024px}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:960px;max-height:1024px}}@media (min-width: 1025px) and (max-width: 1367px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:1200px;max-height:1024px}}@media (min-width: 1368px) and (max-width: 1599px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:1400px;max-height:600px}}@media (min-width: 1600px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]   .main-frame-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:1600px;max-height:800px}}.main-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;z-index:-1;position:absolute;height:100vh;width:100vw;left:50%;top:50%;transform:translate(-50%,-50%);overflow:hidden}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;height:600px;width:1196px}}@media (min-width: 1600px) and (orientation: landscape){.main-frame-container[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:transparent;height:800px;width:1600px}}"],data:{animation:[vu]}}),v})();const Rd=["background"],dp=["audio"];function Pg(v,d){if(1&v){const u=y.EpF();y.ynx(0),y.TgZ(1,"intro-frame",6),y.NdJ("userClicked",function(){return y.CHM(u),y.oxw().proceedToMainFrame()}),y.qZA(),y.BQk()}}function Qf(v,d){1&v&&(y.ynx(0),y._UZ(1,"main-frame"),y.BQk())}let Dg=(()=>{class v extends es.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(bs.W.background,!1),this.timesteps={galaxyLoopStart:3.7,galaxyLoopRuntime:43.69},this.introFrameActivated=!0,this.mainFrameActivated=!1,this.subs=new _s.w,this.audioSrc="assets/audio/Fuck_Dub.mp3"}ngOnInit(){super.ngOnInit(),this.handleIntro()}ngAfterViewInit(){this.setAudioIsPlayingSubscription(),this.subs.add(this.subscriptionAudioIsPlaying)}setAudioIsPlayingSubscription(){this.subscriptionAudioIsPlaying=this.uiState.audioIsPlaying$.subscribe(u=>{console.log("~ isPlaying",u),u?this.audio.nativeElement.play():this.audio.nativeElement.pause()})}handleIntro(){var u=this;return(0,or.Z)(function*(){u.currentTime=u.timesteps.galaxyLoopStart,u.play(),yield(0,Li.Vs)(1e3*u.timesteps.galaxyLoopRuntime),u.pause()})()}loadedMetaData(){this.duration=this.player.duration()}timeUpdate(){}proceedToMainFrame(){var u=this;return(0,or.Z)(function*(){u.introFrameActivated=!1,u.currentTime=0,u.play(),yield(0,Li.Vs)(2800),u.mainFrameActivated=!0})()}loopAnimation(){var u=this;return(0,or.Z)(function*(){u.currentTime>=u.duration&&(yield(0,Li.Vs)(300),u.pause(),u.currentTime=0,u.play())})()}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B))},v.\u0275cmp=y.Xpm({type:v,selectors:[["app-dashboard"]],viewQuery:function(u,g){if(1&u&&(y.Gf(Rd,7),y.Gf(dp,5)),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first),y.iGM(T=y.CRH())&&(g.audio=T.first)}},features:[y.qOj],decls:8,vars:3,consts:[[1,"dashboard"],["muted","",3,"timeupdate","loadedmetadata"],["background",""],["audio",""],["type","audio/mp3",3,"src"],[4,"ngIf"],[3,"userClicked"]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y.TgZ(1,"video",1,2),y.NdJ("timeupdate",function(){return g.timeUpdate()})("loadedmetadata",function(){return g.loadedMetaData()}),y.qZA(),y.qZA(),y.TgZ(3,"audio",null,3),y._UZ(5,"source",4),y.qZA(),y.YNc(6,Pg,2,0,"ng-container",5),y.YNc(7,Qf,2,0,"ng-container",5)),2&u&&(y.xp6(5),y.Q6J("src",g.audioSrc,y.LSH),y.xp6(1),y.Q6J("ngIf",g.introFrameActivated),y.xp6(1),y.Q6J("ngIf",g.mainFrameActivated))},directives:[A.O5,rp,Og],styles:[".dashboard[_ngcontent-%COMP%]{position:absolute;height:100vh;width:100vw;overflow:hidden;z-index:-2}.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{z-index:-2;position:absolute;overflow:hidden;left:50%;top:50%}@media (max-width: 927px) and (orientation: landscape){.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:fill;height:100%;width:100%}}@media (max-width: 1367px) and (orientation: landscape){.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1);height:100vh}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scaleX(108%);height:100vh}}@media (min-width: 1600px) and (orientation: landscape){.dashboard[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scaleX(1.38);height:100vh}}"]}),v})();function fp(v,d){if(1&v){const u=y.EpF();y.ynx(0),y.TgZ(1,"button",4),y.NdJ("click",function(){return y.CHM(u),y.oxw().addToHomeScreen()}),y.O4$(),y.TgZ(2,"svg",5),y._UZ(3,"polyline",6),y._UZ(4,"polyline",7),y.qZA(),y.kcU(),y.TgZ(5,"span"),y._uU(6,"Install"),y.qZA(),y.qZA(),y.BQk()}}function Mg(v,d){if(1&v){const u=y.EpF();y.TgZ(0,"div",8),y.NdJ("click",function(){return y.CHM(u),y.oxw().onClickProceed()}),y.TgZ(1,"span"),y._uU(2,"Proceed"),y.qZA(),y.qZA()}}let hp=(()=>{class v{constructor(u,g){this.router=u,this.pwaService=g}ngOnInit(){console.log("~ this.isPWAInstalled",this.isPWAInstalled),this.subscriptionInstallEvent=this.pwaService.installEvent$.subscribe(u=>{console.log("~ installEvent SUB BUTTON",u),this.installEvent=u}),this.isPWAInstalled=this.pwaService.getInstallState()}onClickProceed(){this.router.navigate(["intro"])}addToHomeScreen(){console.log("~ this.pwaInstallEvent BUTTON",this.installEvent),console.log("~ Show the prompt"),this.installEvent.prompt(),this.installEvent.userChoice.then(u=>{"accepted"===u.outcome?(console.log("User accepted the A2HS prompt"),this.pwaService.setInstallState(!0),this.isPWAInstalled=!0,setTimeout(()=>{this.ngOnInit(),console.log("~ this.isPWAInstalled REINIT BUTTON",this.isPWAInstalled)},400)):console.log("User dismissed the A2HS prompt"),this.installEvent=null})}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(us.F0),y.Y36(mu))},v.\u0275cmp=y.Xpm({type:v,selectors:[["button-landing"]],decls:5,vars:2,consts:[[1,"container"],[1,"center"],[4,"ngIf","ngIfElse"],["proceed",""],[1,"btn-install",3,"click"],["width","180px","height","60px","viewBox","0 0 180 60",1,"border"],["points","179,1 179,59 1,59 1,1 179,1",1,"bg-line"],["points","179,1 179,59 1,59 1,1 179,1",1,"hl-line"],[1,"btn-proceed",3,"click"]],template:function(u,g){if(1&u&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.YNc(2,fp,7,0,"ng-container",2),y.qZA(),y.qZA(),y.YNc(3,Mg,3,0,"ng-template",null,3,y.W1O)),2&u){const T=y.MAs(4);y.xp6(2),y.Q6J("ngIf",!1===g.isPWAInstalled)("ngIfElse",T)}},directives:[A.O5],styles:['.container[_ngcontent-%COMP%]{width:400px;height:400px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{width:180px;height:60px;position:absolute}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]{width:180px;height:60px;cursor:pointer;background:transparent;border:1px solid rgba(255,255,255,.1);outline:none;transition:1s ease-in-out}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:100;font-family:Oswald}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;left:0;top:0;fill:none;stroke:#fff;stroke-dasharray:150 480;stroke-dashoffset:150;transition:1s ease-in-out}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]:hover{transition:1s ease-in-out;background:rgba(255,255,255,.1)}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-install[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{stroke-dashoffset:-480}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]{line-height:55px;height:60px;text-align:center;width:180px;cursor:pointer;color:#fff;transition:all .5s;position:relative;background-color:transparent;padding:0}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:100;font-family:Oswald}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:hover{transition:1s ease-in-out;background:transparent}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background-color:#ffffff1a;transition:all .3s}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:hover:before{opacity:0;transform:scale(.5)}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;opacity:0;transition:all .3s;border:1px solid rgba(255,255,255,.5);transform:scale(1.2)}.container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   .btn-proceed[_ngcontent-%COMP%]:hover:after{opacity:1;transform:scale(1)}']}),v})(),Nd=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275cmp=y.Xpm({type:v,selectors:[["table-landing"]],decls:54,vars:0,consts:[[1,"container"],[1,"col-mobile"],[1,"title-mobile"],[1,"img-mobile"],["src","assets/images/mobile.png","alt",""],[1,"sizes-mobile"],[1,"row-1"],[1,"row-2"],[1,"col-tablet"],[1,"title-tablet"],[1,"img-tablet"],["src","assets/images/tablet.png","alt",""],[1,"sizes-tablet"],[1,"col-desktop"],[1,"title-desktop"],[1,"img-desktop"],["src","assets/images/desktop.png","alt",""],[1,"sizes-desktop"]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"h2"),y._uU(4,"mobile"),y.qZA(),y.qZA(),y.TgZ(5,"div",3),y._UZ(6,"img",4),y.qZA(),y.TgZ(7,"div",5),y.TgZ(8,"div",6),y.TgZ(9,"h2"),y._uU(10,"320 x 568"),y.qZA(),y.TgZ(11,"h2"),y._uU(12,"360 x 640"),y.qZA(),y.TgZ(13,"h2"),y._uU(14,"414 x 736"),y.qZA(),y.TgZ(15,"h2"),y._uU(16,"360 x 740"),y.qZA(),y.TgZ(17,"h2"),y._uU(18,"375 x 812"),y.qZA(),y.qZA(),y.TgZ(19,"div",7),y.TgZ(20,"h2"),y._uU(21,"390 x 844"),y.qZA(),y.TgZ(22,"h2"),y._uU(23,"412 x 847"),y.qZA(),y.TgZ(24,"h2"),y._uU(25,"480 x 853"),y.qZA(),y.TgZ(26,"h2"),y._uU(27,"414 x 896"),y.qZA(),y.TgZ(28,"h2"),y._uU(29,"428 x 926"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(30,"div",8),y.TgZ(31,"div",9),y.TgZ(32,"h2"),y._uU(33,"tablet"),y.qZA(),y.qZA(),y.TgZ(34,"div",10),y._UZ(35,"img",11),y.qZA(),y.TgZ(36,"div",12),y.TgZ(37,"h2"),y._uU(38,"600 x 960"),y.qZA(),y.TgZ(39,"h2"),y._uU(40,"768 x 1024"),y.qZA(),y.TgZ(41,"h2"),y._uU(42,"800 x 1280"),y.qZA(),y.TgZ(43,"h2"),y._uU(44,"1024 x 1366"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(45,"div",13),y.TgZ(46,"div",14),y.TgZ(47,"h2"),y._uU(48,"desktop"),y.qZA(),y.qZA(),y.TgZ(49,"div",15),y._UZ(50,"img",16),y.qZA(),y.TgZ(51,"div",17),y.TgZ(52,"h2"),y._uU(53,"1600 x 800"),y.qZA(),y.qZA(),y.qZA(),y.qZA())},styles:['.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:auto;grid-column-gap:5vw;column-gap:5vw;font-family:"Press Start 2P";font-size:1rem;color:#fff;padding:2vw}.container[_ngcontent-%COMP%]   .col-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]   .col-mobile[_ngcontent-%COMP%]   .title-mobile[_ngcontent-%COMP%]{grid-row:1/3}.container[_ngcontent-%COMP%]   .col-mobile[_ngcontent-%COMP%]   .img-mobile[_ngcontent-%COMP%]{grid-row:2/3;border:1px solid purple}.container[_ngcontent-%COMP%]   .col-mobile[_ngcontent-%COMP%]   .img-mobile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:10vh;height:auto}.container[_ngcontent-%COMP%]   .col-mobile[_ngcontent-%COMP%]   .sizes-mobile[_ngcontent-%COMP%]{grid-row:3/3;display:inline-flex;flex-wrap:wrap;grid-gap:12px;gap:12px;font-family:"Oswald Light";color:#cd676b;font-size:1vw}.container[_ngcontent-%COMP%]   .col-tablet[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]   .col-tablet[_ngcontent-%COMP%]   .title-tablet[_ngcontent-%COMP%]{grid-row:1/3}.container[_ngcontent-%COMP%]   .col-tablet[_ngcontent-%COMP%]   .img-tablet[_ngcontent-%COMP%]{grid-row:2/3}.container[_ngcontent-%COMP%]   .col-tablet[_ngcontent-%COMP%]   .img-tablet[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:10vh;height:auto}.container[_ngcontent-%COMP%]   .col-tablet[_ngcontent-%COMP%]   .sizes-tablet[_ngcontent-%COMP%]{grid-row:3/3;font-family:"Oswald Light";color:#f5cf8e;font-size:1vw;margin-left:12px}.container[_ngcontent-%COMP%]   .col-desktop[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]   .col-desktop[_ngcontent-%COMP%]   .title-desktop[_ngcontent-%COMP%]{grid-row:1/3}.container[_ngcontent-%COMP%]   .col-desktop[_ngcontent-%COMP%]   .img-desktop[_ngcontent-%COMP%]{grid-row:2/3}.container[_ngcontent-%COMP%]   .col-desktop[_ngcontent-%COMP%]   .img-desktop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:10vh;height:auto}.container[_ngcontent-%COMP%]   .col-desktop[_ngcontent-%COMP%]   .sizes-desktop[_ngcontent-%COMP%]{grid-row:3/3;transform:translateY(28%);font-family:"Oswald Light";color:#b2d6ff;font-size:1vw}']}),v})();var Ln=F(9028);const Kf=["wrapper"],pp=["*"];let Ld=(()=>{class v{constructor(){this.typeSpeed=30,this.completed=new y.vpe,this.preStringTyped=new y.vpe,this.stringTyped=new y.vpe,this.lastStringBackspaced=new y.vpe,this.typingPaused=new y.vpe,this.typingResumed=new y.vpe,this.reset=new y.vpe,this.stopped=new y.vpe,this.started=new y.vpe,this.destroyed=new y.vpe}ngAfterViewInit(){this.typed=new Ln(this.content.nativeElement.querySelector(".typing"),this.options),!1!==this.showCursor&&this.updateCursorStyle()}toggle(){this.typed.toggle()}stop(){this.typed.stop()}start(){this.typed.start()}destroy(){this.typed.destroy()}doReset(u){this.typed.reset(u)}get options(){var u;const g=K=>()=>K.emit(),T=K=>de=>K.emit(de),L={strings:null!==(u=this.strings)&&void 0!==u?u:[""],stringsElement:this.stringsElement,typeSpeed:this.typeSpeed,startDelay:this.startDelay,backSpeed:this.backSpeed,smartBackspace:this.smartBackspace,shuffle:this.shuffle,backDelay:this.backDelay,fadeOut:this.fadeOut,fadeOutClass:this.fadeOutClass,fadeOutDelay:this.fadeOutDelay,loop:this.loop,loopCount:this.loopCount,showCursor:this.showCursor,autoInsertCss:this.autoInsertCss,attr:this.attr,bindInputFocusEvents:this.bindInputFocusEvents,contentType:this.contentType,onComplete:g(this.completed),preStringTyped:T(this.preStringTyped),onStringTyped:T(this.stringTyped),onLastStringBackspaced:g(this.lastStringBackspaced),onTypingPaused:T(this.typingPaused),onTypingResumed:T(this.typingResumed),onReset:g(this.reset),onStop:T(this.stopped),onStart:T(this.started),onDestroy:g(this.destroyed)};return Object.keys(L).forEach(K=>{void 0===L[K]&&delete L[K]}),L}updateCursorStyle(){const u=getComputedStyle(this.content.nativeElement.querySelector(".typing")),g=this.content.nativeElement.querySelector(".typed-cursor").style;g.fontSize=u.fontSize,g.color=this.cursorColor||u.color}ngOnChanges(u){this.typed&&(this.typed.destroy(),this.ngAfterViewInit())}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275cmp=y.Xpm({type:v,selectors:[["ngx-typed-js"]],viewQuery:function(u,g){if(1&u&&y.Gf(Kf,7),2&u){let T;y.iGM(T=y.CRH())&&(g.content=T.first)}},inputs:{cursorColor:"cursorColor",strings:"strings",stringsElement:"stringsElement",typeSpeed:"typeSpeed",startDelay:"startDelay",backSpeed:"backSpeed",smartBackspace:"smartBackspace",shuffle:"shuffle",backDelay:"backDelay",fadeOut:"fadeOut",fadeOutClass:"fadeOutClass",fadeOutDelay:"fadeOutDelay",loop:"loop",loopCount:"loopCount",showCursor:"showCursor",cursorChar:"cursorChar",autoInsertCss:"autoInsertCss",attr:"attr",bindInputFocusEvents:"bindInputFocusEvents",contentType:"contentType"},outputs:{completed:"completed",preStringTyped:"preStringTyped",stringTyped:"stringTyped",lastStringBackspaced:"lastStringBackspaced",typingPaused:"typingPaused",typingResumed:"typingResumed",reset:"reset",stopped:"stopped",started:"started",destroyed:"destroyed"},features:[y.TTD],ngContentSelectors:pp,decls:3,vars:0,consts:[["wrapper",""]],template:function(u,g){1&u&&(y.F$t(),y.TgZ(0,"div",null,0),y.Hsn(2),y.qZA())},styles:["[_nghost-%COMP%] > .typing[_ngcontent-%COMP%]{display:inline}"]}),v})(),na=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({imports:[[]]}),v})();const Yf=["logo"];let Ag=(()=>{class v extends es.p{constructor(){super(),this.timeUpdateAllowed=!1,this.firstDescriptionCompleted=!1,this.secondDescriptionCompleted=!1,this.thirdDescriptionCompleted=!1,this.typeSpeed=5,this.options=this.createOptions(bs.W.logo,!1),this.noteDescription=["Further note that the application for now only works with Chromium-based browsers on Windows/Android/Linux/MacOS machines, so in case you're using iOS/Firefox/Safari please go fu","Further note that the application for now only works with Chromium-based browsers on Windows/Android/Linux/MacOS machines, so in case you're using iOS/Firefox/Safari please go fu.","Further note that the application for now only works with Chromium-based browsers on Windows/Android/Linux/MacOS machines, so in case you're using iOS/Firefox/Safari please go fu..","Further note that the application for now only works with Chromium-based browsers on Windows/Android/Linux/MacOS machines, so in case you're using iOS/Firefox/Safari please go","Further note that the application for now only works with Chromium-based browsers on Windows/Android/Linux/MacOS machines, so in case you're using iOS/Firefox/Safari please go find another device/browser."]}clickMethod(){confirm("Are you sure to delete "+name)&&console.log("Implement delete functionality here")}ngOnInit(){super.ngOnInit(),this.timeUpdateAllowed=!0,this.play()}timeUpdate(){this.handleLogoLooping()}handleLogoLooping(){this.timeUpdateAllowed&&(this.currentTime=1.4,this.timeUpdateAllowed=!1,setTimeout(()=>{this.pause(),this.currentTime=1.4,setTimeout(()=>{this.timeUpdateAllowed=!0,this.play()},4e3)},1440))}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275cmp=y.Xpm({type:v,selectors:[["landing"]],viewQuery:function(u,g){if(1&u&&y.Gf(Yf,7),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first)}},features:[y.qOj],decls:35,vars:9,consts:[[1,"landing"],[1,"line"],[1,"main"],[1,"logo"],["muted","",3,"timeupdate"],["logo",""],[1,"button"],[1,"text"],[2,"text-decoration","underline"],[3,"typeSpeed","strings","smartBackspace","showCursor","startDelay","backDelay","backSpeed"],[1,"typing"]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y._UZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"video",4,5),y.NdJ("timeupdate",function(){return g.timeUpdate()}),y.qZA(),y.qZA(),y.TgZ(6,"div",6),y._UZ(7,"button-landing"),y.qZA(),y.TgZ(8,"div",7),y._uU(9," Hi, my name is Wolfgang Goritschnig (a.k.a. w0L-g0R) and this is a demo app, which I am working on at the moment in order to use it as part of my dev portfolio. "),y._UZ(10,"br"),y._UZ(11,"br"),y._uU(12,"From a functional perspective, it's an app that collects austrian energy sector related data from publicly available sources and provides a web-based environment for displaying interactive charts. "),y._UZ(13,"br"),y._uU(14,"For me personally, it's an opportunity to try out and apply different ideas, technologies and workflows in the course of building a fullstack app - from design prototyping, through system architecture and API conceptializing to finding the right solution for deployment and CI/CD. "),y._UZ(15,"br"),y._UZ(16,"br"),y._uU(17,"Talking about the actual design process, I only knew I wanted to have quite some animations going on, 'cause in my opinion it's what makes quite a big chunk in terms of user experience nowadays (besides of a dozen of other things of course). However, I started with a classic dashboard setup and the standard Angular/CSS animations, but that didn't satisify me really this time... so I began diggin deeper into other possibilites, finally ending up tweaking the heck out of Adobe After Effects libs and converting them into click- and selectable browser elements in a brutally over-designed sci-fi surrounding. Yeah, the result is an app - where obviously, the trade-off between form and function has been settled in favor of the former one :) "),y._UZ(18,"br"),y._UZ(19,"br"),y._uU(20,"Anyway, the whole application ended up being quite resource intensive (in terms of package size as well as computational) due to its heavy usage of video elements. Regarding this, I'd say it's best served chilled and on desktop with a proper network connection! "),y._UZ(21,"br"),y._UZ(22,"br"),y._uU(23,"Especially for mobile users, I do provide the recommended option of using it as a progressive web app (still needs network connection to fetch the backend data!). "),y._UZ(24,"br"),y._UZ(25,"br"),y._uU(26,"By now, I customized it with several media queries - "),y.TgZ(27,"span",8),y._uU(28," check out the applicable screen sizes below"),y.qZA(),y._uU(29," - but I am still struggling with finding a generic approach to fit it to all possible mobile screen sizes. Also some tweaking with the browswer window zoom on desktop may be necessary in order to have all the elements placed correctly. "),y.qZA(),y._UZ(30,"table-landing"),y.TgZ(31,"div"),y.TgZ(32,"ngx-typed-js",9),y._UZ(33,"div",10),y.qZA(),y.qZA(),y.qZA(),y._UZ(34,"div",1),y.qZA()),2&u&&(y.xp6(6),y.Q6J("@fade",void 0),y.xp6(2),y.Q6J("@fade",void 0),y.xp6(24),y.Q6J("typeSpeed",g.typeSpeed)("strings",g.noteDescription)("smartBackspace",!0)("showCursor",!1)("startDelay",1e3)("backDelay",500)("backSpeed",10))},directives:[hp,Nd,Ld],styles:['.landing[_ngcontent-%COMP%]{top:0;width:100%;height:100vh;overflow:auto;background-color:#000;background-image:radial-gradient(rgba(22,48,22,.75),black 120%);display:grid;grid-template-rows:auto;grid-template-columns:.3fr 1fr .3fr;justify-content:center}@media (max-width: 927px) and (orientation: landscape){.landing[_ngcontent-%COMP%]{grid-template-columns:.1fr 1fr .1fr}}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{grid-column:2/3;display:flex;flex-direction:column;align-items:center}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{transform:translateY(32px)}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:2.8vw}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{transform:translateY(52px);font-family:Oswald;-webkit-hyphens:auto;hyphens:auto;text-align:justify;color:#fff;font-weight:400;padding:28px}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .typing[_ngcontent-%COMP%]{font-family:Oswald;-webkit-hyphens:auto;hyphens:auto;text-align:justify;color:#e05729ea;font-weight:400;padding:0 28px 28px}.landing[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:30vh;height:auto}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;width:1px;height:100%;top:0;left:50%;background:rgba(255,255,255,.1);overflow:hidden}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;height:15vh;width:100%;top:-50%;left:0;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,#ffffff 75%,#ffffff 100%);animation:drop 7s 0s infinite;animation-fill-mode:forwards;animation-timing-function:cubic-bezier(.4,.26,0,.97)}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){margin-left:-33%}@media (max-width: 927px) and (orientation: landscape){.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1){margin-left:-44%}}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(1):after{animation-delay:2s}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){margin-left:33%}@media (max-width: 927px) and (orientation: landscape){.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3){margin-left:44%}}.landing[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:nth-child(3):after{animation-delay:2.5s}@keyframes drop{0%{top:-50%}to{top:110%}}'],data:{animation:[yi("fade",[me("void => *",[Xt({opacity:0}),Ii(1e3,Xt({opacity:1}))]),me("* => *",[Ii(1e3,Xt({opacity:0}))])])]}}),v})(),Zf=(()=>{class v{constructor(){}ngOnInit(){}}return v.\u0275fac=function(u){return new(u||v)},v.\u0275cmp=y.Xpm({type:v,selectors:[["page-not-found"]],decls:18,vars:0,consts:[[1,"container"],["src","assets/images/back_to_the_homepage.webp","alt","Back to the Homepage",1,"back-to-homepage"],["src","assets/images/delorean.webp","alt","El Delorean, El Doc y Marti McFly",1,"delorean"],[1,"text"],[1,"links"],["href","#"],[1,"yes"],["href",""],[1,"no"]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y.TgZ(1,"section"),y._UZ(2,"img",1),y._UZ(3,"img",2),y.TgZ(4,"div",3),y.TgZ(5,"h1"),y._uU(6,"404"),y.qZA(),y.TgZ(7,"h2"),y._uU(8,"PAGE NOT FOUND"),y.qZA(),y.TgZ(9,"h3"),y._uU(10,"BACK TO HOME?"),y.qZA(),y.TgZ(11,"div",4),y.TgZ(12,"a",5),y.TgZ(13,"span",6),y._uU(14,"YES"),y.qZA(),y.qZA(),y.TgZ(15,"a",7),y.TgZ(16,"span",8),y._uU(17,"NO"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA())},styles:[".container[_ngcontent-%COMP%]{padding:3vw;margin:0;box-sizing:border-box;font-family:\"Press Start 2P\";color:#fff;text-align:center;background-color:#000;background-size:150px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='42' height='58' viewBox='0 0 42 58'%3E%3Cg fill='%23dddcdd' fill-opacity='0.23'%3E%3Cpath fill-rule='evenodd' d='M12 18h12v18h6v4H18V22h-6v-4zm-6-2v-4H0V0h36v6h6v36h-6v4h6v12H6v-6H0V16h6zM34 2H2v8h24v24h8V2zM6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm8 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm8 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm8 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM2 50h32v-8H10V18H2v32zm28-6a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-8a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm0-8a2 2 0 1 0 0 4 2 2 0 0 0 0-4z'/%3E%3C/g%3E%3C/svg%3E\")}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{height:100vh;display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr 1fr 1fr;justify-content:center;overflow:hidden}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .back-to-homepage[_ngcontent-%COMP%]{margin-top:2%;grid-column:3/5;grid-row:1/3;max-width:100%;max-height:30vh;height:auto}@media (max-width: 927px) and (orientation: landscape){.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .back-to-homepage[_ngcontent-%COMP%]{grid-column:1/span 2;grid-row:1/5;margin-left:20vh;margin-top:10vh}}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .delorean[_ngcontent-%COMP%]{grid-column:3/5;grid-row:2/3;max-width:100%;max-height:40vh;height:auto}@media (max-width: 927px) and (orientation: landscape){.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .delorean[_ngcontent-%COMP%]{grid-column:1/span 2;grid-row:3/span 3;margin-left:20vh}}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{grid-column:3/5;grid-row:3/5;height:auto;font-size:auto}@media (max-width: 927px) and (orientation: landscape){.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{grid-column:4/span 2;grid-row:2/span 5;font-size:3vw;margin-top:-8vh}}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:red;font-size:auto}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:auto}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin:2%}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;padding:10px}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .yes[_ngcontent-%COMP%]{color:#90ee90}.container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .no[_ngcontent-%COMP%]{color:orange}"]}),v})();const tl=["configInfo"];let Xf=(()=>{class v extends es.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(bs.W.configInfo,!1),this.timesteps={configLoaded:1.7},this.initDelay=0,this.subs=new _s.w}ngOnInit(){super.ngOnInit(),this.setSubscriptions(),this.handleIntro()}setSubscriptions(){this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this.activeView=u,this.onViewChanges()}),this.subs.add(this.subscriptionActiveView)}handleIntro(){var u=this;return(0,or.Z)(function*(){u.play(u.initDelay);const g=1e3*u.timesteps.configLoaded;yield(0,Li.Vs)(g),u.currentTime=1.6,u.pause()})()}onViewChanges(){"config-info"!==this.activeView&&this.play()}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B))},v.\u0275cmp=y.Xpm({type:v,selectors:[["config-info"]],viewQuery:function(u,g){if(1&u&&y.Gf(tl,7),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first)}},features:[y.qOj],decls:3,vars:0,consts:[[1,"config-info"],["muted",""],["configInfo",""]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y._UZ(1,"video",1,2),y.qZA())},styles:[".config-info[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}@media (max-width: 568px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-24%,-27%) scaleX(.52) scaleY(.48)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-20%,-25%) scaleX(.57) scaleY(.54)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-16%,-20%) scaleX(.7) scaleY(.64)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-16%,-24%) scaleX(.7) scaleY(.54)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-13%,-24%) scaleX(.76) scaleY(.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-22%) scaleX(.8) scaleY(.6)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-21%) scaleX(.8) scaleY(.66)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-16%) scaleX(.8) scaleY(.72)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-8%,-20%) scaleX(.84) scaleY(.64)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-6%,-20%) scaleX(.8) scaleY(.66)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-4%,-16%) scaleX(.84) scaleY(.78)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-4%,-16%) scaleX(.84) scaleY(.74)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-7%) scaleX(1.1) scaleY(.96)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(34%,86%) scaleX(1.08) scaleY(.88)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-8%) scaleX(1.08) scaleY(.88)}}@media (min-width: 1601px) and (orientation: landscape){.config-info[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.config-info[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,8%) scaleX(1.46) scaleY(1.25)}}"]}),v})();const gp=["initDescription"],ov=[{path:"",component:Ag},{path:"",component:Dg,children:[{path:"intro",component:(()=>{class v extends es.p{constructor(u){super(),this.uiState=u,this.options=this.createOptions(bs.W.initDescription,!1),this.timesteps={arrowStart:3,arrowEnd:3.68},this.initDelay=1e3,this.subs=new _s.w,this.timeUpdateAllowed=!0}ngOnInit(){super.ngOnInit(),this.setSubscriptions(),this.handleIntro()}setSubscriptions(){this.subscriptionActiveView=this.uiState.activeView$.subscribe(u=>{this.activeView=u,this.onViewChanges()}),this.subs.add(this.subscriptionActiveView)}handleIntro(){var u=this;return(0,or.Z)(function*(){u.uiState.setConfigButtonLocked(!1),yield u.play(u.initDelay)})()}onViewChanges(){"config-info"===this.activeView&&(this.timeUpdateAllowed=!1,this.currentTime=this.timesteps.arrowEnd,this.play())}timeUpdate(){this.timeUpdateAllowed&&this.currentTime>=this.timesteps.arrowEnd&&(this.pause(),this.currentTime=this.timesteps.arrowStart,this.play())}ngOnDestroy(){this.subs.unsubscribe()}}return v.\u0275fac=function(u){return new(u||v)(y.Y36(Vs.B))},v.\u0275cmp=y.Xpm({type:v,selectors:[["init-description"]],viewQuery:function(u,g){if(1&u&&y.Gf(gp,7),2&u){let T;y.iGM(T=y.CRH())&&(g.videoElement=T.first)}},features:[y.qOj],decls:3,vars:0,consts:[[1,"init-description"],["muted","",3,"timeupdate"],["initDescription",""]],template:function(u,g){1&u&&(y.TgZ(0,"div",0),y.TgZ(1,"video",1,2),y.NdJ("timeupdate",function(){return g.timeUpdate()}),y.qZA(),y.qZA())},styles:[".init-description[_ngcontent-%COMP%]{position:absolute;height:0px;width:0px;z-index:2}@media (max-width: 568px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-24%,-27%) scaleX(.52) scaleY(.48)}}@media (min-width: 569px) and (max-width: 667px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-20%,-25%) scaleX(.57) scaleY(.54)}}@media (min-width: 668px) and (max-width: 736px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-16%,-20%) scaleX(.7) scaleY(.64)}}@media (min-width: 737px) and (max-width: 740px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-16%,-24%) scaleX(.7) scaleY(.54)}}@media (min-width: 741px) and (max-width: 812px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-13%,-24%) scaleX(.76) scaleY(.6)}}@media (min-width: 813px) and (max-width: 844px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-22%) scaleX(.8) scaleY(.6)}}@media (min-width: 845px) and (max-width: 848px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-21%) scaleX(.8) scaleY(.66)}}@media (min-width: 849px) and (max-width: 854px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-11%,-16%) scaleX(.8) scaleY(.72)}}@media (min-width: 855px) and (max-width: 897px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-8%,-20%) scaleX(.84) scaleY(.64)}}@media (min-width: 898px) and (max-width: 927px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-6%,-20%) scaleX(.8) scaleY(.66)}}@media (min-width: 928px) and (max-width: 960px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:red}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-4%,-16%) scaleX(.84) scaleY(.78)}}@media (min-width: 961px) and (max-width: 1024px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:#00f}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(-4%,-16%) scaleX(.84) scaleY(.74)}}@media (min-width: 1025px) and (max-width: 1281px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-7%) scaleX(1.1) scaleY(.96)}}@media (min-width: 1282px) and (max-width: 1367px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(34%,86%) scaleX(1.08) scaleY(.88)}}@media (min-width: 1368px) and (max-width: 1600px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(6%,-8%) scaleX(1.08) scaleY(.88)}}@media (min-width: 1601px) and (orientation: landscape){.init-description[_ngcontent-%COMP%]{border-width:2px;border-style:solid;border-color:pink}.init-description[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{transform:translate(26%,8%) scaleX(1.46) scaleY(1.25)}}"]}),v})()},{path:"config-info",component:Xf},{path:"config/balance",loadChildren:()=>F.e(193).then(F.bind(F,4193)).then(v=>v.BalancesModule),data:{animation:"balances"}},{path:"config/regions",loadChildren:()=>F.e(187).then(F.bind(F,6187)).then(v=>v.RegionsModule),data:{animation:"regions"}},{path:"config/years",loadChildren:()=>F.e(735).then(F.bind(F,5735)).then(v=>v.YearsModule),data:{animation:"years"}},{path:"config/aggregate",loadChildren:()=>Promise.all([F.e(564),F.e(592),F.e(631)]).then(F.bind(F,7631)).then(v=>v.AggregatesModule)},{path:"config/carrier",loadChildren:()=>F.e(924).then(F.bind(F,3924)).then(v=>v.CarriersModule),data:{animation:"carriers"}},{path:"config/usage",loadChildren:()=>F.e(214).then(F.bind(F,7214)).then(v=>v.UsagesModule),data:{animation:"usages"}},{path:"chart",loadChildren:()=>Promise.all([F.e(564),F.e(592),F.e(56)]).then(F.bind(F,7056)).then(v=>v.ChartModule),data:{animation:"charts"}}]},{path:"**",component:Zf}];let vp=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({imports:[[us.Bz.forRoot(ov)],us.Bz]}),v})(),yp=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({imports:[[A.ez,el.Hd.forChild(),kd.Ns.forRoot({echarts:()=>F.e(564).then(F.bind(F,2564))})]]}),v})(),nl=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({imports:[[A.ez,yp,us.Bz,na]]}),v})(),Fd=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v}),v.\u0275inj=y.cJS({imports:[[A.ez]]}),v})(),Nc=(()=>{class v{}return v.\u0275fac=function(u){return new(u||v)},v.\u0275mod=y.oAB({type:v,bootstrap:[Al]}),v.\u0275inj=y.cJS({providers:[{provide:Zr.zu,useFactory:v=>({cache:new _g,link:v.create({uri:"https://enspect-backend-xdkgqyolua-oa.a.run.app/api"})}),deps:[Tc]}],imports:[[Hh,ir,Zr.VG,vp,Ma,Gs,fl,nl,Fd,wf.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerImmediately"})]]}),v})();(0,y.G48)(),Vn().bootstrapModule(Nc).catch(v=>console.error(v))},6549:ct=>{function Le(){return ct.exports=Le=Object.assign||function(F){for(var A=1;A<arguments.length;A++){var y=arguments[A];for(var $ in y)Object.prototype.hasOwnProperty.call(y,$)&&(F[$]=y[$])}return F},ct.exports.default=ct.exports,ct.exports.__esModule=!0,Le.apply(this,arguments)}ct.exports=Le,ct.exports.default=ct.exports,ct.exports.__esModule=!0},4762:(ct,Le,F)=>{"use strict";F.d(Le,{ZT:()=>y,pi:()=>$,_T:()=>fe,mG:()=>oe,Jh:()=>j,ev:()=>_e});var A=function(B,re){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pe,Ee){pe.__proto__=Ee}||function(pe,Ee){for(var Fe in Ee)Object.prototype.hasOwnProperty.call(Ee,Fe)&&(pe[Fe]=Ee[Fe])})(B,re)};function y(B,re){if("function"!=typeof re&&null!==re)throw new TypeError("Class extends value "+String(re)+" is not a constructor or null");function pe(){this.constructor=B}A(B,re),B.prototype=null===re?Object.create(re):(pe.prototype=re.prototype,new pe)}var $=function(){return($=Object.assign||function(re){for(var pe,Ee=1,Fe=arguments.length;Ee<Fe;Ee++)for(var Re in pe=arguments[Ee])Object.prototype.hasOwnProperty.call(pe,Re)&&(re[Re]=pe[Re]);return re}).apply(this,arguments)};function fe(B,re){var pe={};for(var Ee in B)Object.prototype.hasOwnProperty.call(B,Ee)&&re.indexOf(Ee)<0&&(pe[Ee]=B[Ee]);if(null!=B&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(Ee=Object.getOwnPropertySymbols(B);Fe<Ee.length;Fe++)re.indexOf(Ee[Fe])<0&&Object.prototype.propertyIsEnumerable.call(B,Ee[Fe])&&(pe[Ee[Fe]]=B[Ee[Fe]])}return pe}function oe(B,re,pe,Ee){return new(pe||(pe=Promise))(function(Re,Je){function ft(He){try{lt(Ee.next(He))}catch(nt){Je(nt)}}function vt(He){try{lt(Ee.throw(He))}catch(nt){Je(nt)}}function lt(He){He.done?Re(He.value):function(Re){return Re instanceof pe?Re:new pe(function(Je){Je(Re)})}(He.value).then(ft,vt)}lt((Ee=Ee.apply(B,re||[])).next())})}function j(B,re){var Ee,Fe,Re,Je,pe={label:0,sent:function(){if(1&Re[0])throw Re[1];return Re[1]},trys:[],ops:[]};return Je={next:ft(0),throw:ft(1),return:ft(2)},"function"==typeof Symbol&&(Je[Symbol.iterator]=function(){return this}),Je;function ft(lt){return function(He){return function(lt){if(Ee)throw new TypeError("Generator is already executing.");for(;pe;)try{if(Ee=1,Fe&&(Re=2&lt[0]?Fe.return:lt[0]?Fe.throw||((Re=Fe.return)&&Re.call(Fe),0):Fe.next)&&!(Re=Re.call(Fe,lt[1])).done)return Re;switch(Fe=0,Re&&(lt=[2&lt[0],Re.value]),lt[0]){case 0:case 1:Re=lt;break;case 4:return pe.label++,{value:lt[1],done:!1};case 5:pe.label++,Fe=lt[1],lt=[0];continue;case 7:lt=pe.ops.pop(),pe.trys.pop();continue;default:if(!(Re=(Re=pe.trys).length>0&&Re[Re.length-1])&&(6===lt[0]||2===lt[0])){pe=0;continue}if(3===lt[0]&&(!Re||lt[1]>Re[0]&&lt[1]<Re[3])){pe.label=lt[1];break}if(6===lt[0]&&pe.label<Re[1]){pe.label=Re[1],Re=lt;break}if(Re&&pe.label<Re[2]){pe.label=Re[2],pe.ops.push(lt);break}Re[2]&&pe.ops.pop(),pe.trys.pop();continue}lt=re.call(B,pe)}catch(He){lt=[6,He],Fe=0}finally{Ee=Re=0}if(5&lt[0])throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}([lt,He])}}}function _e(B,re,pe){if(pe||2===arguments.length)for(var Re,Ee=0,Fe=re.length;Ee<Fe;Ee++)(Re||!(Ee in re))&&(Re||(Re=Array.prototype.slice.call(re,0,Ee)),Re[Ee]=re[Ee]);return B.concat(Re||Array.prototype.slice.call(re))}},5893:()=>{},460:(ct,Le,F)=>{"use strict";F.d(Le,{RI:()=>ce,uG:()=>ue,jS:()=>j,lg:()=>W,jp:()=>ne,$O:()=>G,E_:()=>le,RC:()=>Ce,j:()=>ae,ig:()=>_e,kJ:()=>Pe});var A=F(4155),y=F(9737),$=F(9231),fe=F(443),ee=F(6216),ce=Object.prototype.hasOwnProperty;function ue(De,Ae){var ge=De.__typename,je=De.id,Ke=De._id;if("string"==typeof ge&&(Ae&&(Ae.keyObject=void 0!==je?{id:je}:void 0!==Ke?{_id:Ke}:void 0),void 0===je&&(je=Ke),void 0!==je))return"".concat(ge,":").concat("number"==typeof je||"string"==typeof je?je:JSON.stringify(je))}var oe={dataIdFromObject:ue,addTypename:!0,resultCaching:!0,canonizeResults:!1};function j(De){return(0,A.o)(oe,De)}function W(De){var Ae=De.canonizeResults;return void 0===Ae?oe.canonizeResults:Ae}function ne(De,Ae){return(0,y.Yk)(Ae)?De.get(Ae.__ref,"__typename"):Ae&&Ae.__typename}var G=/^[_a-z][_0-9a-z]*/i;function le(De){var Ae=De.match(G);return Ae?Ae[0]:De}function Ce(De,Ae,ge){return!!(0,$.s)(Ae)&&(Pe(Ae)?Ae.every(function(je){return Ce(De,je,ge)}):De.selections.every(function(je){if((0,y.My)(je)&&(0,fe.LZ)(je,ge)){var Ke=(0,y.u2)(je);return ce.call(Ae,Ke)&&(!je.selectionSet||Ce(je.selectionSet,Ae[Ke],ge))}return!0}))}function ae(De){return(0,$.s)(De)&&!(0,y.Yk)(De)&&!Pe(De)}function _e(){return new ee.w0}var Pe=function(De){return Array.isArray(De)}},7149:(ct,Le,F)=>{"use strict";F.d(Le,{h:()=>oe,B:()=>j});var W,ne,A=F(4762),$=(F(9591),F(2844)),fe=F(9231),ee=F(7289),ce=F(460),oe=function(){function le(){this.known=new(ee.sy?WeakSet:Set),this.pool=new $.B(ee.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return le.prototype.isKnown=function(Ce){return(0,fe.s)(Ce)&&this.known.has(Ce)},le.prototype.pass=function(Ce){if((0,fe.s)(Ce)){var ae=function(le){return(0,fe.s)(le)?(0,ce.kJ)(le)?le.slice(0):(0,A.pi)({__proto__:Object.getPrototypeOf(le)},le):le}(Ce);return this.passes.set(ae,Ce),ae}return Ce},le.prototype.admit=function(Ce){var ae=this;if((0,fe.s)(Ce)){var _e=this.passes.get(Ce);if(_e)return _e;switch(Object.getPrototypeOf(Ce)){case Array.prototype:if(this.known.has(Ce))return Ce;var De=Ce.map(this.admit,this);return(Ae=this.pool.lookupArray(De)).array||(this.known.add(Ae.array=De),__DEV__&&Object.freeze(De)),Ae.array;case null:case Object.prototype:if(this.known.has(Ce))return Ce;var ge=Object.getPrototypeOf(Ce),je=[ge],Ke=this.sortedKeys(Ce);je.push(Ke.json);var Ae,Dt=je.length;if(Ke.sorted.forEach(function(Y){je.push(ae.admit(Ce[Y]))}),!(Ae=this.pool.lookupArray(je)).object){var dt=Ae.object=Object.create(ge);this.known.add(dt),Ke.sorted.forEach(function(Y,B){dt[Y]=je[Dt+B]}),__DEV__&&Object.freeze(dt)}return Ae.object}}return Ce},le.prototype.sortedKeys=function(Ce){var ae=Object.keys(Ce),_e=this.pool.lookupArray(ae);if(!_e.keys){ae.sort();var Pe=JSON.stringify(ae);(_e.keys=this.keysByJSON.get(Pe))||this.keysByJSON.set(Pe,_e.keys={sorted:ae,json:Pe})}return _e.keys},le}(),j=Object.assign(function(le){if((0,fe.s)(le)){void 0===W&&G();var Ce=W.admit(le),ae=ne.get(Ce);return void 0===ae&&ne.set(Ce,ae=JSON.stringify(Ce)),ae}return JSON.stringify(le)},{reset:G});function G(){W=new oe,ne=new(ee.mr?WeakMap:Map)}},4350:(ct,Le,F)=>{"use strict";F.d(Le,{ab:()=>$,li:()=>ce,_v:()=>ue,QS:()=>oe});var A=F(1747),$=new(F(1558).g7),fe=new WeakMap;function ee(W){var ne=fe.get(W);return ne||fe.set(W,ne={vars:new Set,dep:(0,A.dP)()}),ne}function ce(W){ee(W).vars.forEach(function(ne){return ne.forgetCache(W)})}function ue(W){ee(W).vars.forEach(function(ne){return ne.attachCache(W)})}function oe(W){var ne=new Set,G=new Set,le=function(ae){if(arguments.length>0){if(W!==ae){W=ae,ne.forEach(function(De){ee(De).dep.dirty(le),j(De)});var _e=Array.from(G);G.clear(),_e.forEach(function(De){return De(W)})}}else{var Pe=$.getValue();Pe&&(Ce(Pe),ee(Pe).dep(le))}return W};le.onNextChange=function(ae){return G.add(ae),function(){G.delete(ae)}};var Ce=le.attachCache=function(ae){return ne.add(ae),ee(ae).vars.add(le),le};return le.forgetCache=function(ae){return ne.delete(ae)},le}function j(W){W.broadcastWatches&&W.broadcastWatches()}},884:(ct,Le,F)=>{"use strict";F.d(Le,{i:()=>G});var A=F(4762),y=F(9591),$=F(4854),ee=F(1144);function oe(le,Ce){return Ce?Ce(le):$.y.of()}function j(le){return"function"==typeof le?new G(le):le}function W(le){return le.request.length<=1}var ne=function(le){function Ce(ae,_e){var Pe=le.call(this,ae)||this;return Pe.link=_e,Pe}return(0,A.ZT)(Ce,le),Ce}(Error),G=function(){function le(Ce){Ce&&(this.request=Ce)}return le.empty=function(){return new le(function(){return $.y.of()})},le.from=function(Ce){return 0===Ce.length?le.empty():Ce.map(j).reduce(function(ae,_e){return ae.concat(_e)})},le.split=function(Ce,ae,_e){var Pe=j(ae),De=j(_e||new le(oe));return W(Pe)&&W(De)?new le(function(Ae){return Ce(Ae)?Pe.request(Ae)||$.y.of():De.request(Ae)||$.y.of()}):new le(function(Ae,ge){return Ce(Ae)?Pe.request(Ae,ge)||$.y.of():De.request(Ae,ge)||$.y.of()})},le.execute=function(Ce,ae){return Ce.request(function(le,Ce){var ae=(0,A.pi)({},le);return Object.defineProperty(Ce,"setContext",{enumerable:!1,value:function(De){ae=(0,A.pi)((0,A.pi)({},ae),"function"==typeof De?De(ae):De)}}),Object.defineProperty(Ce,"getContext",{enumerable:!1,value:function(){return(0,A.pi)({},ae)}}),Ce}(ae.context,function(le){var Ce={variables:le.variables||{},extensions:le.extensions||{},operationName:le.operationName,query:le.query};return Ce.operationName||(Ce.operationName="string"!=typeof Ce.query?(0,ee.rY)(Ce.query)||void 0:""),Ce}(function(le){for(var Ce=["query","operationName","variables","extensions","context"],ae=0,_e=Object.keys(le);ae<_e.length;ae++){var Pe=_e[ae];if(Ce.indexOf(Pe)<0)throw __DEV__?new y.ej("illegal argument: ".concat(Pe)):new y.ej(24)}return le}(ae))))||$.y.of()},le.concat=function(Ce,ae){var _e=j(Ce);if(W(_e))return __DEV__&&y.kG.warn(new ne("You are calling concat on a terminating link, which will have no effect",_e)),_e;var Pe=j(ae);return W(Pe)?new le(function(De){return _e.request(De,function(Ae){return Pe.request(Ae)||$.y.of()})||$.y.of()}):new le(function(De,Ae){return _e.request(De,function(ge){return Pe.request(ge,Ae)||$.y.of()})||$.y.of()})},le.prototype.split=function(Ce,ae,_e){return this.concat(le.split(Ce,ae,_e||new le(oe)))},le.prototype.concat=function(Ce){return le.concat(this,Ce)},le.prototype.request=function(Ce,ae){throw __DEV__?new y.ej("request is not implemented"):new y.ej(19)},le.prototype.onError=function(Ce,ae){if(ae&&ae.error)return ae.error(Ce),!1;throw Ce},le.prototype.setOnError=function(Ce){return this.onError=Ce,this},le}()},8779:(ct,Le,F)=>{"use strict";function A(y){return Array.isArray(y)&&y.length>0}F.d(Le,{O:()=>A})},7289:(ct,Le,F)=>{"use strict";F.d(Le,{mr:()=>A,sy:()=>y,aS:()=>$});var A="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),y="function"==typeof WeakSet,$="function"==typeof Symbol&&"function"==typeof Symbol.for},3107:(ct,Le,F)=>{"use strict";F.d(Le,{X:()=>y});var A=Object.prototype.toString;function y(fe){return $(fe)}function $(fe,ee){switch(A.call(fe)){case"[object Array]":if((ee=ee||new Map).has(fe))return ee.get(fe);var ce=fe.slice(0);return ee.set(fe,ce),ce.forEach(function(oe,j){ce[j]=$(oe,ee)}),ce;case"[object Object]":if((ee=ee||new Map).has(fe))return ee.get(fe);var ue=Object.create(Object.getPrototypeOf(fe));return ee.set(fe,ue),Object.keys(fe).forEach(function(oe){ue[oe]=$(fe[oe],ee)}),ue;default:return fe}}},4155:(ct,Le,F)=>{"use strict";function A(){for(var y=[],$=0;$<arguments.length;$++)y[$]=arguments[$];var fe=Object.create(null);return y.forEach(function(ee){!ee||Object.keys(ee).forEach(function(ce){var ue=ee[ce];void 0!==ue&&(fe[ce]=ue)})}),fe}F.d(Le,{o:()=>A})},5801:(ct,Le,F)=>{"use strict";F.d(Le,{X:()=>y});var A=new Map;function y($){var fe=A.get($)||1;return A.set($,fe+1),"".concat($,":").concat(fe,":").concat(Math.random().toString(36).slice(2))}},6216:(ct,Le,F)=>{"use strict";F.d(Le,{Ee:()=>fe,bw:()=>ee,w0:()=>ue});var A=F(4762),y=F(9231),$=Object.prototype.hasOwnProperty;function fe(){for(var oe=[],j=0;j<arguments.length;j++)oe[j]=arguments[j];return ee(oe)}function ee(oe){var j=oe[0]||{},W=oe.length;if(W>1)for(var ne=new ue,G=1;G<W;++G)j=ne.merge(j,oe[G]);return j}var ce=function(oe,j,W){return this.merge(oe[W],j[W])},ue=function(){function oe(j){void 0===j&&(j=ce),this.reconciler=j,this.isObject=y.s,this.pastCopies=new Set}return oe.prototype.merge=function(j,W){for(var ne=this,G=[],le=2;le<arguments.length;le++)G[le-2]=arguments[le];return(0,y.s)(W)&&(0,y.s)(j)?(Object.keys(W).forEach(function(Ce){if($.call(j,Ce)){var ae=j[Ce];if(W[Ce]!==ae){var _e=ne.reconciler.apply(ne,(0,A.ev)([j,W,Ce],G,!1));_e!==ae&&((j=ne.shallowCopyForMerge(j))[Ce]=_e)}}else(j=ne.shallowCopyForMerge(j))[Ce]=W[Ce]}),j):W},oe.prototype.shallowCopyForMerge=function(j){if((0,y.s)(j)){if(this.pastCopies.has(j)){if(!Object.isFrozen(j))return j;this.pastCopies.delete(j)}j=Array.isArray(j)?j.slice(0):(0,A.pi)({__proto__:Object.getPrototypeOf(j)},j),this.pastCopies.add(j)}return j},oe}()},9231:(ct,Le,F)=>{"use strict";function A(y){return null!==y&&"object"==typeof y}F.d(Le,{s:()=>A})},9591:(ct,Le,F)=>{"use strict";F.d(Le,{ej:()=>ee,kG:()=>ce,wY:()=>G});var A=F(4762),y="Invariant Violation",$=Object.setPrototypeOf,fe=void 0===$?function(Y,B){return Y.__proto__=B,Y}:$,ee=function(Y){function B(re){void 0===re&&(re=y);var pe=Y.call(this,"number"==typeof re?y+": "+re+" (see https://github.com/apollographql/invariant-packages)":re)||this;return pe.framesToPop=1,pe.name=y,fe(pe,B.prototype),pe}return(0,A.ZT)(B,Y),B}(Error);function ce(Y,B){if(!Y)throw new ee(B)}var Y,ue=["debug","log","warn","error","silent"],oe=ue.indexOf("log");function j(Y){return function(){if(ue.indexOf(Y)>=oe){var B=console[Y]||console.log;return B.apply(console,arguments)}}}function G(Y){try{return Y()}catch(B){}}(Y=ce||(ce={})).debug=j("debug"),Y.log=j("log"),Y.warn=j("warn"),Y.error=j("error");const le=G(function(){return globalThis})||G(function(){return window})||G(function(){return self})||G(function(){return global})||G(function(){return G.constructor("return this")()});var Ce="__",ae=[Ce,Ce].join("DEV");const Pe=function(){try{return Boolean(__DEV__)}catch(Y){return Object.defineProperty(le,ae,{value:"production"!==G(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),le[ae]}}();function De(Y){try{return Y()}catch(B){}}var Ae=De(function(){return globalThis})||De(function(){return window})||De(function(){return self})||De(function(){return global})||De(function(){return De.constructor("return this")()}),ge=!1;Ae&&!De(function(){return"production"})&&!De(function(){return process})&&(Object.defineProperty(Ae,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),ge=!0),F(1462),ge&&(delete Ae.process,ge=!1),__DEV__?ce("boolean"==typeof Pe,Pe):ce("boolean"==typeof Pe,36)},443:(ct,Le,F)=>{"use strict";F.d(Le,{LZ:()=>$,FS:()=>ee,mj:()=>ce});var A=F(9591),y=F(1335);function $(j,W){var ne=j.directives;return!ne||!ne.length||function(j){var W=[];return j&&j.length&&j.forEach(function(ne){if(function(j){var W=j.name.value;return"skip"===W||"include"===W}(ne)){var G=ne.arguments,le=ne.name.value;__DEV__?(0,A.kG)(G&&1===G.length,"Incorrect number of arguments for the @".concat(le," directive.")):(0,A.kG)(G&&1===G.length,38);var Ce=G[0];__DEV__?(0,A.kG)(Ce.name&&"if"===Ce.name.value,"Invalid argument for the @".concat(le," directive.")):(0,A.kG)(Ce.name&&"if"===Ce.name.value,39);var ae=Ce.value;__DEV__?(0,A.kG)(ae&&("Variable"===ae.kind||"BooleanValue"===ae.kind),"Argument for the @".concat(le," directive must be a variable or a boolean value.")):(0,A.kG)(ae&&("Variable"===ae.kind||"BooleanValue"===ae.kind),40),W.push({directive:ne,ifArgument:Ce})}}),W}(ne).every(function(G){var le=G.directive,Ce=G.ifArgument,ae=!1;return"Variable"===Ce.value.kind?(ae=W&&W[Ce.value.name.value],__DEV__?(0,A.kG)(void 0!==ae,"Invalid variable referenced in @".concat(le.name.value," directive.")):(0,A.kG)(void 0!==ae,37)):ae=Ce.value.value,"skip"===le.name.value?!ae:ae})}function ee(j,W){return function(j){var W=[];return(0,y.Vn)(j,{Directive:function(ne){W.push(ne.name.value)}}),W}(W).some(function(ne){return j.indexOf(ne)>-1})}function ce(j){return j&&ee(["client"],j)&&ee(["export"],j)}},1598:(ct,Le,F)=>{"use strict";F.d(Le,{Yk:()=>$,F:()=>fe,hi:()=>ee});var A=F(4762),y=F(9591);function $(ce,ue){var oe=ue,j=[];return ce.definitions.forEach(function(ne){if("OperationDefinition"===ne.kind)throw __DEV__?new y.ej("Found a ".concat(ne.operation," operation").concat(ne.name?" named '".concat(ne.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new y.ej(41);"FragmentDefinition"===ne.kind&&j.push(ne)}),void 0===oe&&(__DEV__?(0,y.kG)(1===j.length,"Found ".concat(j.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):(0,y.kG)(1===j.length,42),oe=j[0].name.value),(0,A.pi)((0,A.pi)({},ce),{definitions:(0,A.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:oe}}]}}],ce.definitions,!0)})}function fe(ce){void 0===ce&&(ce=[]);var ue={};return ce.forEach(function(oe){ue[oe.name.value]=oe}),ue}function ee(ce,ue){switch(ce.kind){case"InlineFragment":return ce;case"FragmentSpread":var oe=ue&&ue[ce.name.value];return __DEV__?(0,y.kG)(oe,"No fragment named ".concat(ce.name.value,".")):(0,y.kG)(oe,43),oe;default:return null}}},1144:(ct,Le,F)=>{"use strict";F.d(Le,{A$:()=>$,$H:()=>fe,rY:()=>ee,kU:()=>ce,iW:()=>ue,pD:()=>oe,p$:()=>j,O4:()=>W});var A=F(9591),y=F(9737);function $(ne){__DEV__?(0,A.kG)(ne&&"Document"===ne.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,A.kG)(ne&&"Document"===ne.kind,44);var G=ne.definitions.filter(function(le){return"FragmentDefinition"!==le.kind}).map(function(le){if("OperationDefinition"!==le.kind)throw __DEV__?new A.ej('Schema type definitions not allowed in queries. Found: "'.concat(le.kind,'"')):new A.ej(45);return le});return __DEV__?(0,A.kG)(G.length<=1,"Ambiguous GraphQL document: contains ".concat(G.length," operations")):(0,A.kG)(G.length<=1,46),ne}function fe(ne){return $(ne),ne.definitions.filter(function(G){return"OperationDefinition"===G.kind})[0]}function ee(ne){return ne.definitions.filter(function(G){return"OperationDefinition"===G.kind&&G.name}).map(function(G){return G.name.value})[0]||null}function ce(ne){return ne.definitions.filter(function(G){return"FragmentDefinition"===G.kind})}function ue(ne){var G=fe(ne);return __DEV__?(0,A.kG)(G&&"query"===G.operation,"Must contain a query definition."):(0,A.kG)(G&&"query"===G.operation,47),G}function oe(ne){__DEV__?(0,A.kG)("Document"===ne.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,A.kG)("Document"===ne.kind,48),__DEV__?(0,A.kG)(ne.definitions.length<=1,"Fragment must have exactly one definition."):(0,A.kG)(ne.definitions.length<=1,49);var G=ne.definitions[0];return __DEV__?(0,A.kG)("FragmentDefinition"===G.kind,"Must be a fragment definition."):(0,A.kG)("FragmentDefinition"===G.kind,50),G}function j(ne){$(ne);for(var G,le=0,Ce=ne.definitions;le<Ce.length;le++){var ae=Ce[le];if("OperationDefinition"===ae.kind){var _e=ae.operation;if("query"===_e||"mutation"===_e||"subscription"===_e)return ae}"FragmentDefinition"===ae.kind&&!G&&(G=ae)}if(G)return G;throw __DEV__?new A.ej("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new A.ej(51)}function W(ne){var G=Object.create(null),le=ne&&ne.variableDefinitions;return le&&le.length&&le.forEach(function(Ce){Ce.defaultValue&&(0,y.vb)(G,Ce.variable.name,Ce.defaultValue)}),G}},9737:(ct,Le,F)=>{"use strict";F.d(Le,{kQ:()=>fe,Yk:()=>ee,JW:()=>ce,vb:()=>_e,vf:()=>Pe,PT:()=>Ae,NC:()=>Ke,u2:()=>Dt,qw:()=>dt,My:()=>Ye,Ao:()=>Y});var A=F(9591),y=F(9231),$=F(1598);function fe(B){return{__ref:String(B)}}function ee(B){return Boolean(B&&"object"==typeof B&&"string"==typeof B.__ref)}function ce(B){return(0,y.s)(B)&&"Document"===B.kind&&Array.isArray(B.definitions)}function _e(B,re,pe,Ee){if(function(B){return"IntValue"===B.kind}(pe)||function(B){return"FloatValue"===B.kind}(pe))B[re.value]=Number(pe.value);else if(function(B){return"BooleanValue"===B.kind}(pe)||function(B){return"StringValue"===B.kind}(pe))B[re.value]=pe.value;else if(function(B){return"ObjectValue"===B.kind}(pe)){var Fe={};pe.fields.map(function(Je){return _e(Fe,Je.name,Je.value,Ee)}),B[re.value]=Fe}else if(function(B){return"Variable"===B.kind}(pe))B[re.value]=(Ee||{})[pe.name.value];else if(function(B){return"ListValue"===B.kind}(pe))B[re.value]=pe.values.map(function(Je){var ft={};return _e(ft,re,Je,Ee),ft[re.value]});else if(function(B){return"EnumValue"===B.kind}(pe))B[re.value]=pe.value;else{if(!function(B){return"NullValue"===B.kind}(pe))throw __DEV__?new A.ej('The inline argument "'.concat(re.value,'" of kind "').concat(pe.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new A.ej(52);B[re.value]=null}}function Pe(B,re){var pe=null;B.directives&&(pe={},B.directives.forEach(function(Fe){pe[Fe.name.value]={},Fe.arguments&&Fe.arguments.forEach(function(Re){return _e(pe[Fe.name.value],Re.name,Re.value,re)})}));var Ee=null;return B.arguments&&B.arguments.length&&(Ee={},B.arguments.forEach(function(Fe){return _e(Ee,Fe.name,Fe.value,re)})),Ae(B.name.value,Ee,pe)}var De=["connection","include","skip","client","rest","export"],Ae=Object.assign(function(B,re,pe){if(re&&pe&&pe.connection&&pe.connection.key){if(pe.connection.filter&&pe.connection.filter.length>0){var Ee=pe.connection.filter?pe.connection.filter:[];Ee.sort();var Fe={};return Ee.forEach(function(ft){Fe[ft]=re[ft]}),"".concat(pe.connection.key,"(").concat(ge(Fe),")")}return pe.connection.key}var Re=B;if(re){var Je=ge(re);Re+="(".concat(Je,")")}return pe&&Object.keys(pe).forEach(function(ft){-1===De.indexOf(ft)&&(pe[ft]&&Object.keys(pe[ft]).length?Re+="@".concat(ft,"(").concat(ge(pe[ft]),")"):Re+="@".concat(ft))}),Re},{setStringify:function(B){var re=ge;return ge=B,re}}),ge=function(re){return JSON.stringify(re,je)};function je(B,re){return(0,y.s)(re)&&!Array.isArray(re)&&(re=Object.keys(re).sort().reduce(function(pe,Ee){return pe[Ee]=re[Ee],pe},{})),re}function Ke(B,re){if(B.arguments&&B.arguments.length){var pe={};return B.arguments.forEach(function(Ee){return _e(pe,Ee.name,Ee.value,re)}),pe}return null}function Dt(B){return B.alias?B.alias.value:B.name.value}function dt(B,re,pe){if("string"==typeof B.__typename)return B.__typename;for(var Ee=0,Fe=re.selections;Ee<Fe.length;Ee++){var Re=Fe[Ee];if(Ye(Re)){if("__typename"===Re.name.value)return B[Dt(Re)]}else{var Je=dt(B,(0,$.hi)(Re,pe).selectionSet,pe);if("string"==typeof Je)return Je}}}function Ye(B){return"Field"===B.kind}function Y(B){return"InlineFragment"===B.kind}},7125:(ct,Le,F)=>{"use strict";F.d(Le,{Gw:()=>le,aL:()=>Ke,ob:()=>Dt,Fo:()=>ae});var A=F(4762),y=F(9591),$=F(1335),fe=F(1144);function ee(dt,Ye,Y){var B=0;return dt.forEach(function(re,pe){Ye.call(this,re,pe,dt)&&(dt[B++]=re)},Y),dt.length=B,dt}var ce=F(9737),ue=F(1598),oe={kind:"Field",name:{kind:"Name",value:"__typename"}};function j(dt,Ye){return dt.selectionSet.selections.every(function(Y){return"FragmentSpread"===Y.kind&&j(Ye[Y.name.value],Ye)})}function W(dt){return j((0,fe.$H)(dt)||(0,fe.pD)(dt),(0,ue.F)((0,fe.kU)(dt)))?null:dt}function ne(dt){return function(Y){return dt.some(function(B){return B.name&&B.name===Y.name.value||B.test&&B.test(Y)})}}function G(dt,Ye){var Y=Object.create(null),B=[],re=Object.create(null),pe=[],Ee=W((0,$.Vn)(Ye,{Variable:{enter:function(Fe,Re,Je){"VariableDefinition"!==Je.kind&&(Y[Fe.name.value]=!0)}},Field:{enter:function(Fe){if(dt&&Fe.directives&&dt.some(function(Je){return Je.remove})&&Fe.directives&&Fe.directives.some(ne(dt)))return Fe.arguments&&Fe.arguments.forEach(function(Je){"Variable"===Je.value.kind&&B.push({name:Je.value.name.value})}),Fe.selectionSet&&je(Fe.selectionSet).forEach(function(Je){pe.push({name:Je.name.value})}),null}},FragmentSpread:{enter:function(Fe){re[Fe.name.value]=!0}},Directive:{enter:function(Fe){if(ne(dt)(Fe))return null}}}));return Ee&&ee(B,function(Fe){return!!Fe.name&&!Y[Fe.name]}).length&&(Ee=function(dt,Ye){var Y=function(dt){return function(Y){return dt.some(function(B){return Y.value&&"Variable"===Y.value.kind&&Y.value.name&&(B.name===Y.value.name.value||B.test&&B.test(Y))})}}(dt);return W((0,$.Vn)(Ye,{OperationDefinition:{enter:function(B){return(0,A.pi)((0,A.pi)({},B),{variableDefinitions:B.variableDefinitions?B.variableDefinitions.filter(function(re){return!dt.some(function(pe){return pe.name===re.variable.name.value})}):[]})}},Field:{enter:function(B){if(dt.some(function(Ee){return Ee.remove})){var pe=0;if(B.arguments&&B.arguments.forEach(function(Ee){Y(Ee)&&(pe+=1)}),1===pe)return null}}},Argument:{enter:function(B){if(Y(B))return null}}}))}(B,Ee)),Ee&&ee(pe,function(Fe){return!!Fe.name&&!re[Fe.name]}).length&&(Ee=function(dt,Ye){function Y(B){if(dt.some(function(re){return re.name===B.name.value}))return null}return W((0,$.Vn)(Ye,{FragmentSpread:{enter:Y},FragmentDefinition:{enter:Y}}))}(pe,Ee)),Ee}var le=Object.assign(function(dt){return(0,$.Vn)((0,fe.A$)(dt),{SelectionSet:{enter:function(Ye,Y,B){if(!B||"OperationDefinition"!==B.kind){var re=Ye.selections;if(re&&!re.some(function(Fe){return(0,ce.My)(Fe)&&("__typename"===Fe.name.value||0===Fe.name.value.lastIndexOf("__",0))})){var Ee=B;if(!((0,ce.My)(Ee)&&Ee.directives&&Ee.directives.some(function(Fe){return"export"===Fe.name.value})))return(0,A.pi)((0,A.pi)({},Ye),{selections:(0,A.ev)((0,A.ev)([],re,!0),[oe],!1)})}}}}})},{added:function(dt){return dt===oe}}),Ce={test:function(dt){var Ye="connection"===dt.name.value;return Ye&&(!dt.arguments||!dt.arguments.some(function(Y){return"key"===Y.name.value}))&&__DEV__&&y.kG.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),Ye}};function ae(dt){return G([Ce],(0,fe.A$)(dt))}function je(dt){var Ye=[];return dt.selections.forEach(function(Y){((0,ce.My)(Y)||(0,ce.Ao)(Y))&&Y.selectionSet?je(Y.selectionSet).forEach(function(B){return Ye.push(B)}):"FragmentSpread"===Y.kind&&Ye.push(Y)}),Ye}function Ke(dt){return"query"===(0,fe.p$)(dt).operation?dt:(0,$.Vn)(dt,{OperationDefinition:{enter:function(re){return(0,A.pi)((0,A.pi)({},re),{operation:"query"})}}})}function Dt(dt){(0,fe.A$)(dt);var Ye=G([{test:function(Y){return"client"===Y.name.value},remove:!0}],dt);return Ye&&(Ye=(0,$.Vn)(Ye,{FragmentDefinition:{enter:function(Y){if(Y.selectionSet&&Y.selectionSet.selections.every(function(re){return(0,ce.My)(re)&&"__typename"===re.name.value}))return null}}})),Ye}},4854:(ct,Le,F)=>{"use strict";function $(Ye,Y){(null==Y||Y>Ye.length)&&(Y=Ye.length);for(var B=0,re=new Array(Y);B<Y;B++)re[B]=Ye[B];return re}function fe(Ye,Y){for(var B=0;B<Y.length;B++){var re=Y[B];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(Ye,re.key,re)}}function ee(Ye,Y,B){return Y&&fe(Ye.prototype,Y),B&&fe(Ye,B),Ye}F.d(Le,{y:()=>dt});var ce=function(){return"function"==typeof Symbol},ue=function(Ye){return ce()&&Boolean(Symbol[Ye])},oe=function(Ye){return ue(Ye)?Symbol[Ye]:"@@"+Ye};ce()&&!ue("observable")&&(Symbol.observable=Symbol("observable"));var j=oe("iterator"),W=oe("observable"),ne=oe("species");function G(Ye,Y){var B=Ye[Y];if(null!=B){if("function"!=typeof B)throw new TypeError(B+" is not a function");return B}}function le(Ye){var Y=Ye.constructor;return void 0!==Y&&null===(Y=Y[ne])&&(Y=void 0),void 0!==Y?Y:dt}function ae(Ye){ae.log?ae.log(Ye):setTimeout(function(){throw Ye})}function _e(Ye){Promise.resolve().then(function(){try{Ye()}catch(Y){ae(Y)}})}function Pe(Ye){var Y=Ye._cleanup;if(void 0!==Y&&(Ye._cleanup=void 0,Y))try{if("function"==typeof Y)Y();else{var B=G(Y,"unsubscribe");B&&B.call(Y)}}catch(re){ae(re)}}function De(Ye){Ye._observer=void 0,Ye._queue=void 0,Ye._state="closed"}function ge(Ye,Y,B){Ye._state="running";var re=Ye._observer;try{var pe=G(re,Y);switch(Y){case"next":pe&&pe.call(re,B);break;case"error":if(De(Ye),!pe)throw B;pe.call(re,B);break;case"complete":De(Ye),pe&&pe.call(re)}}catch(Ee){ae(Ee)}"closed"===Ye._state?Pe(Ye):"running"===Ye._state&&(Ye._state="ready")}function je(Ye,Y,B){if("closed"!==Ye._state){if("buffering"===Ye._state)return void Ye._queue.push({type:Y,value:B});if("ready"!==Ye._state)return Ye._state="buffering",Ye._queue=[{type:Y,value:B}],void _e(function(){return function(Ye){var Y=Ye._queue;if(Y){Ye._queue=void 0,Ye._state="ready";for(var B=0;B<Y.length&&(ge(Ye,Y[B].type,Y[B].value),"closed"!==Ye._state);++B);}}(Ye)});ge(Ye,Y,B)}}var Ke=function(){function Ye(B,re){this._cleanup=void 0,this._observer=B,this._queue=void 0,this._state="initializing";var pe=new Dt(this);try{this._cleanup=re.call(void 0,pe)}catch(Ee){pe.error(Ee)}"initializing"===this._state&&(this._state="ready")}return Ye.prototype.unsubscribe=function(){"closed"!==this._state&&(De(this),Pe(this))},ee(Ye,[{key:"closed",get:function(){return"closed"===this._state}}]),Ye}(),Dt=function(){function Ye(B){this._subscription=B}var Y=Ye.prototype;return Y.next=function(re){je(this._subscription,"next",re)},Y.error=function(re){je(this._subscription,"error",re)},Y.complete=function(){je(this._subscription,"complete")},ee(Ye,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),Ye}(),dt=function(){function Ye(B){if(!(this instanceof Ye))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof B)throw new TypeError("Observable initializer must be a function");this._subscriber=B}var Y=Ye.prototype;return Y.subscribe=function(re){return("object"!=typeof re||null===re)&&(re={next:re,error:arguments[1],complete:arguments[2]}),new Ke(re,this._subscriber)},Y.forEach=function(re){var pe=this;return new Promise(function(Ee,Fe){if("function"==typeof re)var Je=pe.subscribe({next:function(ft){try{re(ft,Re)}catch(vt){Fe(vt),Je.unsubscribe()}},error:Fe,complete:Ee});else Fe(new TypeError(re+" is not a function"));function Re(){Je.unsubscribe(),Ee()}})},Y.map=function(re){var pe=this;if("function"!=typeof re)throw new TypeError(re+" is not a function");return new(le(this))(function(Fe){return pe.subscribe({next:function(Re){try{Re=re(Re)}catch(Je){return Fe.error(Je)}Fe.next(Re)},error:function(Re){Fe.error(Re)},complete:function(){Fe.complete()}})})},Y.filter=function(re){var pe=this;if("function"!=typeof re)throw new TypeError(re+" is not a function");return new(le(this))(function(Fe){return pe.subscribe({next:function(Re){try{if(!re(Re))return}catch(Je){return Fe.error(Je)}Fe.next(Re)},error:function(Re){Fe.error(Re)},complete:function(){Fe.complete()}})})},Y.reduce=function(re){var pe=this;if("function"!=typeof re)throw new TypeError(re+" is not a function");var Ee=le(this),Fe=arguments.length>1,Re=!1,Je=arguments[1],ft=Je;return new Ee(function(vt){return pe.subscribe({next:function(lt){var He=!Re;if(Re=!0,!He||Fe)try{ft=re(ft,lt)}catch(nt){return vt.error(nt)}else ft=lt},error:function(lt){vt.error(lt)},complete:function(){if(!Re&&!Fe)return vt.error(new TypeError("Cannot reduce an empty sequence"));vt.next(ft),vt.complete()}})})},Y.concat=function(){for(var re=this,pe=arguments.length,Ee=new Array(pe),Fe=0;Fe<pe;Fe++)Ee[Fe]=arguments[Fe];var Re=le(this);return new Re(function(Je){var ft,vt=0;return function lt(He){ft=He.subscribe({next:function(nt){Je.next(nt)},error:function(nt){Je.error(nt)},complete:function(){vt===Ee.length?(ft=void 0,Je.complete()):lt(Re.from(Ee[vt++]))}})}(re),function(){ft&&(ft.unsubscribe(),ft=void 0)}})},Y.flatMap=function(re){var pe=this;if("function"!=typeof re)throw new TypeError(re+" is not a function");var Ee=le(this);return new Ee(function(Fe){var Re=[],Je=pe.subscribe({next:function(vt){if(re)try{vt=re(vt)}catch(He){return Fe.error(He)}var lt=Ee.from(vt).subscribe({next:function(He){Fe.next(He)},error:function(He){Fe.error(He)},complete:function(){var He=Re.indexOf(lt);He>=0&&Re.splice(He,1),ft()}});Re.push(lt)},error:function(vt){Fe.error(vt)},complete:function(){ft()}});function ft(){Je.closed&&0===Re.length&&Fe.complete()}return function(){Re.forEach(function(vt){return vt.unsubscribe()}),Je.unsubscribe()}})},Y[W]=function(){return this},Ye.from=function(re){var pe="function"==typeof this?this:Ye;if(null==re)throw new TypeError(re+" is not an object");var Ee=G(re,W);if(Ee){var Fe=Ee.call(re);if(Object(Fe)!==Fe)throw new TypeError(Fe+" is not an object");return function(Ye){return Ye instanceof dt}(Fe)&&Fe.constructor===pe?Fe:new pe(function(Re){return Fe.subscribe(Re)})}if(ue("iterator")&&(Ee=G(re,j)))return new pe(function(Re){_e(function(){if(!Re.closed){for(var ft,Je=function(Ye,Y){var B="undefined"!=typeof Symbol&&Ye[Symbol.iterator]||Ye["@@iterator"];if(B)return(B=B.call(Ye)).next.bind(B);if(Array.isArray(Ye)||(B=function(Ye,Y){if(Ye){if("string"==typeof Ye)return $(Ye,Y);var B=Object.prototype.toString.call(Ye).slice(8,-1);if("Object"===B&&Ye.constructor&&(B=Ye.constructor.name),"Map"===B||"Set"===B)return Array.from(Ye);if("Arguments"===B||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return $(Ye,Y)}}(Ye))||Y&&Ye&&"number"==typeof Ye.length){B&&(Ye=B);var re=0;return function(){return re>=Ye.length?{done:!0}:{done:!1,value:Ye[re++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(Ee.call(re));!(ft=Je()).done;)if(Re.next(ft.value),Re.closed)return;Re.complete()}})});if(Array.isArray(re))return new pe(function(Re){_e(function(){if(!Re.closed){for(var Je=0;Je<re.length;++Je)if(Re.next(re[Je]),Re.closed)return;Re.complete()}})});throw new TypeError(re+" is not observable")},Ye.of=function(){for(var re=arguments.length,pe=new Array(re),Ee=0;Ee<re;Ee++)pe[Ee]=arguments[Ee];var Fe="function"==typeof this?this:Ye;return new Fe(function(Re){_e(function(){if(!Re.closed){for(var Je=0;Je<pe.length;++Je)if(Re.next(pe[Je]),Re.closed)return;Re.complete()}})})},ee(Ye,null,[{key:ne,get:function(){return this}}]),Ye}();ce()&&Object.defineProperty(dt,Symbol("extensions"),{value:{symbol:W,hostReportError:ae},configurable:!0})},6465:(ct,Le,F)=>{"use strict";F.d(Le,{zu:()=>hl,_M:()=>Ho,VG:()=>Ii,Ps:()=>Q});var A=F(8720),y=(()=>{return(C=y||(y={}))[C.loading=1]="loading",C[C.setVariables=2]="setVariables",C[C.fetchMore=3]="fetchMore",C[C.refetch=4]="refetch",C[C.poll=6]="poll",C[C.ready=7]="ready",C[C.error=8]="error",y;var C})();function $(C){return!!C&&C<7}var fe=F(4762),ee=F(9591),ce=F(884),ue=ce.i.execute,oe=F(4155),W=F(1335),ne=F(4854),G=function(C,_){var w;try{w=JSON.stringify(C)}catch(X){var V=__DEV__?new ee.ej("Network request failed. ".concat(_," is not serializable: ").concat(X.message)):new ee.ej(21);throw V.parseError=X,V}return w},Ce=function(C,_,w){var V=new Error(w);throw V.name="ServerError",V.response=C,V.statusCode=C.status,V.result=_,V},ae=Object.prototype.hasOwnProperty,De=F(6339),Ke={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Dt=function(C,_){return _(C)};function Y(C){if(C){var _=Object.create(null);return Object.keys(Object(C)).forEach(function(w){_[w.toLowerCase()]=C[w]}),_}return C}function pe(C){return new ne.y(function(_){_.error(C)})}var Ee=(0,ee.wY)(function(){return fetch}),Fe=function(C){void 0===C&&(C={});var _=C.uri,w=void 0===_?"/graphql":_,V=C.fetch,X=C.print,be=void 0===X?Dt:X,We=C.includeExtensions,ot=C.useGETForQueries,rt=C.includeUnusedVariables,ut=void 0!==rt&&rt,Ot=(0,fe._T)(C,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(C){if(!C&&"undefined"==typeof fetch)throw __DEV__?new ee.ej("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new ee.ej(20)}(V||Ee);var St={http:{includeExtensions:We},options:Ot.fetchOptions,credentials:Ot.credentials,headers:Ot.headers};return new ce.i(function(It){var $t=function(C,_){return C.getContext().uri||("function"==typeof _?_(C):_||"/graphql")}(It,w),Gt=It.getContext(),Wt={};if(Gt.clientAwareness){var en=Gt.clientAwareness,un=en.name,Wn=en.version;un&&(Wt["apollographql-client-name"]=un),Wn&&(Wt["apollographql-client-version"]=Wn)}var _i,ar=(0,fe.pi)((0,fe.pi)({},Wt),Gt.headers),ci=function(C,_){for(var w=[],V=2;V<arguments.length;V++)w[V-2]=arguments[V];var X={},be={};w.forEach(function(St){X=(0,fe.pi)((0,fe.pi)((0,fe.pi)({},X),St.options),{headers:(0,fe.pi)((0,fe.pi)({},X.headers),Y(St.headers))}),St.credentials&&(X.credentials=St.credentials),be=(0,fe.pi)((0,fe.pi)({},be),St.http)});var ot=C.extensions,ut=C.query,Ot={operationName:C.operationName,variables:C.variables};return be.includeExtensions&&(Ot.extensions=ot),be.includeQuery&&(Ot.query=_(ut,De.S)),{options:X,body:Ot}}(It,be,Ke,St,{http:Gt.http,options:Gt.fetchOptions,credentials:Gt.credentials,headers:ar}),Vr=ci.options,ki=ci.body;if(ki.variables&&!ut){var mr=new Set(Object.keys(ki.variables));(0,W.Vn)(It.query,{Variable:function(Xr,Jr,di){di&&"VariableDefinition"!==di.kind&&mr.delete(Xr.name.value)}}),mr.size&&(ki.variables=(0,fe.pi)({},ki.variables),mr.forEach(function(Xr){delete ki.variables[Xr]}))}if(!Vr.signal){var Ui=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var C=new AbortController;return{controller:C,signal:C.signal}}();(_i=Ui.controller)&&(Vr.signal=Ui.signal)}if(ot&&!It.query.definitions.some(function(Xr){return"OperationDefinition"===Xr.kind&&"mutation"===Xr.operation})&&(Vr.method="GET"),"GET"===Vr.method){var Rn=function(C,_){var w=[],V=function(St,It){w.push("".concat(St,"=").concat(encodeURIComponent(It)))};if("query"in _&&V("query",_.query),_.operationName&&V("operationName",_.operationName),_.variables){var X=void 0;try{X=G(_.variables,"Variables map")}catch(St){return{parseError:St}}V("variables",X)}if(_.extensions){var be=void 0;try{be=G(_.extensions,"Extensions map")}catch(St){return{parseError:St}}V("extensions",be)}var We="",ot=C,rt=C.indexOf("#");-1!==rt&&(We=C.substr(rt),ot=C.substr(0,rt));var ut=-1===ot.indexOf("?")?"?":"&";return{newURI:ot+ut+w.join("&")+We}}($t,ki),Ar=Rn.newURI,$a=Rn.parseError;if($a)return pe($a);$t=Ar}else try{Vr.body=G(ki,"Payload")}catch(Xr){return pe(Xr)}return new ne.y(function(Xr){return(V||(0,ee.wY)(function(){return fetch})||Ee)($t,Vr).then(function(di){return It.setContext({response:di}),di}).then(function(C){return function(_){return _.text().then(function(w){try{return JSON.parse(w)}catch(X){var V=X;throw V.name="ServerParseError",V.response=_,V.statusCode=_.status,V.bodyText=w,V}}).then(function(w){return _.status>=300&&Ce(_,w,"Response not successful: Received status code ".concat(_.status)),!Array.isArray(w)&&!ae.call(w,"data")&&!ae.call(w,"errors")&&Ce(_,w,"Server response was missing for query '".concat(Array.isArray(C)?C.map(function(V){return V.operationName}):C.operationName,"'.")),w})}}(It)).then(function(di){return Xr.next(di),Xr.complete(),di}).catch(function(di){"AbortError"!==di.name&&(di.result&&di.result.errors&&di.result.data&&Xr.next(di.result),Xr.error(di))}),function(){_i&&_i.abort()}})})},Re=function(C){function _(w){void 0===w&&(w={});var V=C.call(this,Fe(w).request)||this;return V.options=w,V}return(0,fe.ZT)(_,C),_}(ce.i),Je=F(1913),ft=F(7149),vt=F(7289);function lt(C,_,w){return new ne.y(function(V){var X=V.next,be=V.error,We=V.complete,ot=0,rt=!1,ut={then:function($t){return new Promise(function(Gt){return Gt($t())})}};function Ot($t,Gt){return $t?function(Wt){++ot;var en=function(){return $t(Wt)};ut=ut.then(en,en).then(function(un){--ot,X&&X.call(V,un),rt&&St.complete()},function(un){throw--ot,un}).catch(function(un){be&&be.call(V,un)})}:function(Wt){return Gt&&Gt.call(V,Wt)}}var St={next:Ot(_,X),error:Ot(w,be),complete:function(){rt=!0,ot||We&&We.call(V)}},It=C.subscribe(St);return function(){return It.unsubscribe()}})}function He(C){return C.errors&&C.errors.length>0||!1}var nt=F(1144),ht=F(7125),jt=F(443),Rt=F(9737),qt=F(9231),Un=F(5801);function Sn(C,_,w){var V=[];C.forEach(function(X){return X[_]&&V.push(X)}),V.forEach(function(X){return X[_](w)})}function fn(C){function _(w){Object.defineProperty(C,w,{value:ne.y})}return vt.aS&&Symbol.species&&_(Symbol.species),_("@@species"),C}function An(C){return C&&"function"==typeof C.then}var Nn=function(C){function _(w){var V=C.call(this,function(X){return V.addObserver(X),function(){return V.removeObserver(X)}})||this;return V.observers=new Set,V.addCount=0,V.promise=new Promise(function(X,be){V.resolve=X,V.reject=be}),V.handlers={next:function(X){null!==V.sub&&(V.latest=["next",X],Sn(V.observers,"next",X))},error:function(X){var be=V.sub;null!==be&&(be&&setTimeout(function(){return be.unsubscribe()}),V.sub=null,V.latest=["error",X],V.reject(X),Sn(V.observers,"error",X))},complete:function(){if(null!==V.sub){var X=V.sources.shift();X?An(X)?X.then(function(be){return V.sub=be.subscribe(V.handlers)}):V.sub=X.subscribe(V.handlers):(V.sub=null,V.latest&&"next"===V.latest[0]?V.resolve(V.latest[1]):V.resolve(),Sn(V.observers,"complete"))}}},V.cancel=function(X){V.reject(X),V.sources=[],V.handlers.complete()},V.promise.catch(function(X){}),"function"==typeof w&&(w=[new ne.y(w)]),An(w)?w.then(function(X){return V.start(X)},V.handlers.error):V.start(w),V}return(0,fe.ZT)(_,C),_.prototype.start=function(w){void 0===this.sub&&(this.sources=Array.from(w),this.handlers.complete())},_.prototype.deliverLastMessage=function(w){if(this.latest){var V=this.latest[0],X=w[V];X&&X.call(w,this.latest[1]),null===this.sub&&"next"===V&&w.complete&&w.complete()}},_.prototype.addObserver=function(w){this.observers.has(w)||(this.deliverLastMessage(w),this.observers.add(w),++this.addCount)},_.prototype.removeObserver=function(w,V){this.observers.delete(w)&&--this.addCount<1&&!V&&this.handlers.error(new Error("Observable cancelled prematurely"))},_.prototype.cleanup=function(w){var V=this,X=!1,be=function(){X||(X=!0,V.observers.delete(We),w())},We={next:be,error:be,complete:be},ot=this.addCount;this.addObserver(We),this.addCount=ot},_}(ne.y);fn(Nn);var Sr=F(8779),Kr=function(C){function _(w){var V=w.graphQLErrors,X=w.clientErrors,be=w.networkError,We=w.errorMessage,ot=w.extraInfo,rt=C.call(this,We)||this;return rt.graphQLErrors=V||[],rt.clientErrors=X||[],rt.networkError=be||null,rt.message=We||function(C){var _="";return((0,Sr.O)(C.graphQLErrors)||(0,Sr.O)(C.clientErrors))&&(C.graphQLErrors||[]).concat(C.clientErrors||[]).forEach(function(V){_+="".concat(V?V.message:"Error message not found.","\n")}),C.networkError&&(_+="".concat(C.networkError.message,"\n")),_=_.replace(/\n$/,"")}(rt),rt.extraInfo=ot,rt.__proto__=_.prototype,rt}return(0,fe.ZT)(_,C),_}(Error),nr=F(3107),Oi=Object.assign,Lr=Object.hasOwnProperty,Qn=!1,qi=function(C){function _(w){var V=w.queryManager,X=w.queryInfo,be=w.options,We=C.call(this,function(rt){try{var ut=rt._subscription._observer;ut&&!ut.error&&(ut.error=an)}catch(It){}var Ot=!We.observers.size;We.observers.add(rt);var St=We.last;return St&&St.error?rt.error&&rt.error(St.error):St&&St.result&&rt.next&&rt.next(St.result),Ot&&We.reobserve().catch(function(){}),function(){We.observers.delete(rt)&&!We.observers.size&&We.tearDownQuery()}})||this;We.observers=new Set,We.subscriptions=new Set,We.isTornDown=!1,We.options=be,We.queryId=X.queryId||V.generateQueryId();var ot=(0,nt.$H)(be.query);return We.queryName=ot&&ot.name&&ot.name.value,We.initialFetchPolicy=be.fetchPolicy||"cache-first",We.queryManager=V,We.queryInfo=X,We}return(0,fe.ZT)(_,C),Object.defineProperty(_.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),_.prototype.result=function(){var w=this;return new Promise(function(V,X){var be={next:function(ot){V(ot),w.observers.delete(be),w.observers.size||w.queryManager.removeQuery(w.queryId),setTimeout(function(){We.unsubscribe()},0)},error:X},We=w.subscribe(be)})},_.prototype.getCurrentResult=function(w){void 0===w&&(w=!0);var V=this.getLastResult(!0),X=this.queryInfo.networkStatus||V&&V.networkStatus||y.ready,be=(0,fe.pi)((0,fe.pi)({},V),{loading:$(X),networkStatus:X}),We=this.options.fetchPolicy,ot=void 0===We?"cache-first":We;if("network-only"!==ot&&"no-cache"!==ot&&"standby"!==ot&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var rt=this.queryInfo.getDiff();(rt.complete||this.options.returnPartialData)&&(be.data=rt.result),(0,Je.D)(be.data,{})&&(be.data=void 0),rt.complete?(delete be.partial,rt.complete&&be.networkStatus===y.loading&&("cache-first"===ot||"cache-only"===ot)&&(be.networkStatus=y.ready,be.loading=!1)):be.partial=!0,__DEV__&&!rt.complete&&!this.options.partialRefetch&&!be.loading&&!be.data&&!be.error&&Hn(rt.missing)}return w&&this.updateLastResult(be),be},_.prototype.isDifferentFromLastResult=function(w){return!this.last||!(0,Je.D)(this.last.result,w)},_.prototype.getLast=function(w,V){var X=this.last;if(X&&X[w]&&(!V||(0,Je.D)(X.variables,this.variables)))return X[w]},_.prototype.getLastResult=function(w){return this.getLast("result",w)},_.prototype.getLastError=function(w){return this.getLast("error",w)},_.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},_.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},_.prototype.refetch=function(w){var V,X={pollInterval:0},be=this.options.fetchPolicy;if(X.fetchPolicy="cache-and-network"===be?be:"no-cache"===be?"no-cache":"network-only",__DEV__&&w&&Lr.call(w,"variables")){var We=(0,nt.iW)(this.options.query),ot=We.variableDefinitions;(!ot||!ot.some(function(rt){return"variables"===rt.variable.name.value}))&&__DEV__&&ee.kG.warn("Called refetch(".concat(JSON.stringify(w),") for query ").concat((null===(V=We.name)||void 0===V?void 0:V.value)||JSON.stringify(We),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return w&&!(0,Je.D)(this.options.variables,w)&&(X.variables=this.options.variables=(0,fe.pi)((0,fe.pi)({},this.options.variables),w)),this.queryInfo.resetLastWrite(),this.reobserve(X,y.refetch)},_.prototype.fetchMore=function(w){var V=this,X=(0,fe.pi)((0,fe.pi)({},w.query?w:(0,fe.pi)((0,fe.pi)((0,fe.pi)({},this.options),w),{variables:(0,fe.pi)((0,fe.pi)({},this.options.variables),w.variables)})),{fetchPolicy:"no-cache"}),be=this.queryManager.generateQueryId();return X.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=y.fetchMore,this.observe()),this.queryManager.fetchQuery(be,X,y.fetchMore).then(function(We){var ot=We.data,rt=w.updateQuery;return rt?(__DEV__&&!Qn&&(__DEV__&&ee.kG.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),Qn=!0),V.updateQuery(function(ut){return rt(ut,{fetchMoreResult:ot,variables:X.variables})})):V.queryManager.cache.writeQuery({query:X.query,variables:X.variables,data:ot}),We}).finally(function(){V.queryManager.stopQuery(be),V.reobserve()})},_.prototype.subscribeToMore=function(w){var V=this,X=this.queryManager.startGraphQLSubscription({query:w.document,variables:w.variables,context:w.context}).subscribe({next:function(be){var We=w.updateQuery;We&&V.updateQuery(function(ot,rt){return We(ot,{subscriptionData:be,variables:rt.variables})})},error:function(be){w.onError?w.onError(be):__DEV__&&ee.kG.error("Unhandled GraphQL subscription error",be)}});return this.subscriptions.add(X),function(){V.subscriptions.delete(X)&&X.unsubscribe()}},_.prototype.setOptions=function(w){return this.reobserve(w)},_.prototype.setVariables=function(w){return(0,Je.D)(this.variables,w)?this.observers.size?this.result():Promise.resolve():(this.options.variables=w,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:w},y.setVariables):Promise.resolve())},_.prototype.updateQuery=function(w){var V=this.queryManager,be=w(V.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});be&&(V.cache.writeQuery({query:this.options.query,data:be,variables:this.variables}),V.broadcastQueries())},_.prototype.startPolling=function(w){this.options.pollInterval=w,this.updatePolling()},_.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},_.prototype.fetch=function(w,V){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,w,V)},_.prototype.updatePolling=function(){var w=this;if(!this.queryManager.ssrMode){var X=this.pollingInfo,be=this.options.pollInterval;if(!be)return void(X&&(clearTimeout(X.timeout),delete this.pollingInfo));if(!X||X.interval!==be){__DEV__?(0,ee.kG)(be,"Attempted to start a polling query without a polling interval."):(0,ee.kG)(be,10),(X||(this.pollingInfo={})).interval=be;var ot=function(){w.pollingInfo&&($(w.queryInfo.networkStatus)?rt():w.reobserve({fetchPolicy:"network-only"},y.poll).then(rt,rt))},rt=function(){var ut=w.pollingInfo;ut&&(clearTimeout(ut.timeout),ut.timeout=setTimeout(ot,ut.interval))};rt()}}},_.prototype.updateLastResult=function(w,V){return void 0===V&&(V=this.variables),this.last=(0,fe.pi)((0,fe.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?w:(0,nr.X)(w),variables:V}),(0,Sr.O)(w.errors)||delete this.last.error,this.last},_.prototype.reobserve=function(w,V){var X=this;this.isTornDown=!1;var be=V===y.refetch||V===y.fetchMore||V===y.poll,We=this.options.variables,ot=be?(0,oe.o)(this.options,w):Oi(this.options,(0,oe.o)(w));be||(this.updatePolling(),w&&w.variables&&!w.fetchPolicy&&!(0,Je.D)(w.variables,We)&&(ot.fetchPolicy=this.initialFetchPolicy,void 0===V&&(V=y.setVariables)));var rt=ot.variables&&(0,fe.pi)({},ot.variables),ut=this.fetch(ot,V),Ot={next:function(St){X.reportResult(St,rt)},error:function(St){X.reportError(St,rt)}};return be||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=ut,this.observer=Ot),ut.addObserver(Ot),ut.promise},_.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},_.prototype.reportResult=function(w,V){var X=this.getLastError();(X||this.isDifferentFromLastResult(w))&&((X||!w.partial||this.options.returnPartialData)&&this.updateLastResult(w,V),Sn(this.observers,"next",w))},_.prototype.reportError=function(w,V){var X=(0,fe.pi)((0,fe.pi)({},this.getLastResult()),{error:w,errors:w.graphQLErrors,networkStatus:y.error,loading:!1});this.updateLastResult(X,V),Sn(this.observers,"error",this.last.error=w)},_.prototype.hasObservers=function(){return this.observers.size>0},_.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(w){return w.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},_}(ne.y);function an(C){__DEV__&&ee.kG.error("Unhandled error",C.message,C.stack)}function Hn(C){__DEV__&&C&&__DEV__&&ee.kG.debug("Missing cache result fields: ".concat(JSON.stringify(C)),C)}fn(qi);var Mr=F(6216),pr=F(1598),Ba=F(4350),Jn=function(){function C(_){var V=_.client,X=_.resolvers,be=_.fragmentMatcher;this.cache=_.cache,V&&(this.client=V),X&&this.addResolvers(X),be&&this.setFragmentMatcher(be)}return C.prototype.addResolvers=function(_){var w=this;this.resolvers=this.resolvers||{},Array.isArray(_)?_.forEach(function(V){w.resolvers=(0,Mr.Ee)(w.resolvers,V)}):this.resolvers=(0,Mr.Ee)(this.resolvers,_)},C.prototype.setResolvers=function(_){this.resolvers={},this.addResolvers(_)},C.prototype.getResolvers=function(){return this.resolvers||{}},C.prototype.runResolvers=function(_){var w=_.document,V=_.remoteResult,X=_.context,be=_.variables,We=_.onlyRunForcedResolvers,ot=void 0!==We&&We;return(0,fe.mG)(this,void 0,void 0,function(){return(0,fe.Jh)(this,function(rt){return w?[2,this.resolveDocument(w,V.data,X,be,this.fragmentMatcher,ot).then(function(ut){return(0,fe.pi)((0,fe.pi)({},V),{data:ut.result})})]:[2,V]})})},C.prototype.setFragmentMatcher=function(_){this.fragmentMatcher=_},C.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},C.prototype.clientQuery=function(_){return(0,jt.FS)(["client"],_)&&this.resolvers?_:null},C.prototype.serverQuery=function(_){return(0,ht.ob)(_)},C.prototype.prepareContext=function(_){var w=this.cache;return(0,fe.pi)((0,fe.pi)({},_),{cache:w,getCacheKey:function(V){return w.identify(V)}})},C.prototype.addExportedVariables=function(_,w,V){return void 0===w&&(w={}),void 0===V&&(V={}),(0,fe.mG)(this,void 0,void 0,function(){return(0,fe.Jh)(this,function(X){return _?[2,this.resolveDocument(_,this.buildRootValueFromCache(_,w)||{},this.prepareContext(V),w).then(function(be){return(0,fe.pi)((0,fe.pi)({},w),be.exportedVariables)})]:[2,(0,fe.pi)({},w)]})})},C.prototype.shouldForceResolvers=function(_){var w=!1;return(0,W.Vn)(_,{Directive:{enter:function(V){if("client"===V.name.value&&V.arguments&&(w=V.arguments.some(function(X){return"always"===X.name.value&&"BooleanValue"===X.value.kind&&!0===X.value.value})))return W.$_}}}),w},C.prototype.buildRootValueFromCache=function(_,w){return this.cache.diff({query:(0,ht.aL)(_),variables:w,returnPartialData:!0,optimistic:!1}).result},C.prototype.resolveDocument=function(_,w,V,X,be,We){return void 0===V&&(V={}),void 0===X&&(X={}),void 0===be&&(be=function(){return!0}),void 0===We&&(We=!1),(0,fe.mG)(this,void 0,void 0,function(){var ot,rt,ut,Ot,St,It,$t,Gt,Wt;return(0,fe.Jh)(this,function(en){return ot=(0,nt.p$)(_),rt=(0,nt.kU)(_),ut=(0,pr.F)(rt),St=(Ot=ot.operation)?Ot.charAt(0).toUpperCase()+Ot.slice(1):"Query",$t=(It=this).cache,Gt=It.client,Wt={fragmentMap:ut,context:(0,fe.pi)((0,fe.pi)({},V),{cache:$t,client:Gt}),variables:X,fragmentMatcher:be,defaultOperationType:St,exportedVariables:{},onlyRunForcedResolvers:We},[2,this.resolveSelectionSet(ot.selectionSet,w,Wt).then(function(un){return{result:un,exportedVariables:Wt.exportedVariables}})]})})},C.prototype.resolveSelectionSet=function(_,w,V){return(0,fe.mG)(this,void 0,void 0,function(){var X,be,We,ot,ut=this;return(0,fe.Jh)(this,function(Ot){return X=V.fragmentMap,be=V.context,We=V.variables,ot=[w],[2,Promise.all(_.selections.map(function(St){return(0,fe.mG)(ut,void 0,void 0,function(){var It;return(0,fe.Jh)(this,function(Gt){return(0,jt.LZ)(St,We)?(0,Rt.My)(St)?[2,this.resolveField(St,w,V).then(function(Wt){var en;void 0!==Wt&&ot.push(((en={})[(0,Rt.u2)(St)]=Wt,en))})]:((0,Rt.Ao)(St)?It=St:(It=X[St.name.value],__DEV__?(0,ee.kG)(It,"No fragment named ".concat(St.name.value)):(0,ee.kG)(It,9)),It&&It.typeCondition&&V.fragmentMatcher(w,It.typeCondition.name.value,be)?[2,this.resolveSelectionSet(It.selectionSet,w,V).then(function(Wt){ot.push(Wt)})]:[2]):[2]})})})).then(function(){return(0,Mr.bw)(ot)})]})})},C.prototype.resolveField=function(_,w,V){return(0,fe.mG)(this,void 0,void 0,function(){var X,be,We,ot,rt,ut,Ot,St,It,$t=this;return(0,fe.Jh)(this,function(Gt){return X=V.variables,be=_.name.value,We=(0,Rt.u2)(_),ot=be!==We,rt=w[We]||w[be],ut=Promise.resolve(rt),(!V.onlyRunForcedResolvers||this.shouldForceResolvers(_))&&(Ot=w.__typename||V.defaultOperationType,(St=this.resolvers&&this.resolvers[Ot])&&(It=St[ot?be:We])&&(ut=Promise.resolve(Ba.ab.withValue(this.cache,It,[w,(0,Rt.NC)(_,X),V.context,{field:_,fragmentMap:V.fragmentMap}])))),[2,ut.then(function(Wt){return void 0===Wt&&(Wt=rt),_.directives&&_.directives.forEach(function(en){"export"===en.name.value&&en.arguments&&en.arguments.forEach(function(un){"as"===un.name.value&&"StringValue"===un.value.kind&&(V.exportedVariables[un.value.value]=Wt)})}),_.selectionSet&&null!=Wt?Array.isArray(Wt)?$t.resolveSubSelectedArray(_,Wt,V):_.selectionSet?$t.resolveSelectionSet(_.selectionSet,Wt,V):void 0:Wt})]})})},C.prototype.resolveSubSelectedArray=function(_,w,V){var X=this;return Promise.all(w.map(function(be){return null===be?null:Array.isArray(be)?X.resolveSubSelectedArray(_,be,V):_.selectionSet?X.resolveSelectionSet(_.selectionSet,be,V):void 0}))},C}(),Kt=new(vt.mr?WeakMap:Map);function yn(C,_){var w=C[_];"function"==typeof w&&(C[_]=function(){return Kt.set(C,(Kt.get(C)+1)%1e15),w.apply(this,arguments)})}function Fo(C){C.notifyTimeout&&(clearTimeout(C.notifyTimeout),C.notifyTimeout=void 0)}var rr=function(){function C(_,w){void 0===w&&(w=_.generateQueryId()),this.queryId=w,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var V=this.cache=_.cache;Kt.has(V)||(Kt.set(V,0),yn(V,"evict"),yn(V,"modify"),yn(V,"reset"))}return C.prototype.init=function(_){var w=_.networkStatus||y.loading;return this.variables&&this.networkStatus!==y.loading&&!(0,Je.D)(this.variables,_.variables)&&(w=y.setVariables),(0,Je.D)(_.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:_.document,variables:_.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:w}),_.observableQuery&&this.setObservableQuery(_.observableQuery),_.lastRequestId&&(this.lastRequestId=_.lastRequestId),this},C.prototype.reset=function(){Fo(this),this.lastDiff=void 0,this.dirty=!1},C.prototype.getDiff=function(_){void 0===_&&(_=this.variables);var w=this.getDiffOptions(_);if(this.lastDiff&&(0,Je.D)(w,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=_);var V=this.observableQuery;if(V&&"no-cache"===V.options.fetchPolicy)return{complete:!1};var X=this.cache.diff(w);return this.updateLastDiff(X,w),X},C.prototype.updateLastDiff=function(_,w){this.lastDiff=_?{diff:_,options:w||this.getDiffOptions()}:void 0},C.prototype.getDiffOptions=function(_){var w;return void 0===_&&(_=this.variables),{query:this.document,variables:_,returnPartialData:!0,optimistic:!0,canonizeResults:null===(w=this.observableQuery)||void 0===w?void 0:w.options.canonizeResults}},C.prototype.setDiff=function(_){var w=this,V=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(_),!this.dirty&&!(0,Je.D)(V&&V.result,_&&_.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return w.notify()},0)))},C.prototype.setObservableQuery=function(_){var w=this;_!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=_,_?(_.queryInfo=this,this.listeners.add(this.oqListener=function(){w.getDiff().fromOptimisticTransaction?_.observe():_.reobserve()})):delete this.oqListener)},C.prototype.notify=function(){var _=this;Fo(this),this.shouldNotify()&&this.listeners.forEach(function(w){return w(_)}),this.dirty=!1},C.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if($(this.networkStatus)&&this.observableQuery){var _=this.observableQuery.options.fetchPolicy;if("cache-only"!==_&&"cache-and-network"!==_)return!1}return!0},C.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=C.prototype.cancel,this.subscriptions.forEach(function(w){return w.unsubscribe()});var _=this.observableQuery;_&&_.stopPolling()}},C.prototype.cancel=function(){},C.prototype.updateWatch=function(_){var w=this;void 0===_&&(_=this.variables);var V=this.observableQuery;if(!V||"no-cache"!==V.options.fetchPolicy){var X=(0,fe.pi)((0,fe.pi)({},this.getDiffOptions(_)),{watcher:this,callback:function(be){return w.setDiff(be)}});(!this.lastWatch||!(0,Je.D)(X,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=X))}},C.prototype.resetLastWrite=function(){this.lastWrite=void 0},C.prototype.shouldWrite=function(_,w){var V=this.lastWrite;return!(V&&V.dmCount===Kt.get(this.cache)&&(0,Je.D)(w,V.variables)&&(0,Je.D)(_.data,V.result.data))},C.prototype.markResult=function(_,w,V){var X=this;this.graphQLErrors=(0,Sr.O)(_.errors)?_.errors:[],this.reset(),"no-cache"===w.fetchPolicy?this.updateLastDiff({result:_.data,complete:!0},this.getDiffOptions(w.variables)):0!==V&&(Gr(_,w.errorPolicy)?this.cache.performTransaction(function(be){if(X.shouldWrite(_,w.variables))be.writeQuery({query:X.document,data:_.data,variables:w.variables,overwrite:1===V}),X.lastWrite={result:_,variables:w.variables,dmCount:Kt.get(X.cache)};else if(X.lastDiff&&X.lastDiff.diff.complete)return void(_.data=X.lastDiff.diff.result);var We=X.getDiffOptions(w.variables),ot=be.diff(We);X.stopped||X.updateWatch(w.variables),X.updateLastDiff(ot,We),ot.complete&&(_.data=ot.result)}):this.lastWrite=void 0)},C.prototype.markReady=function(){return this.networkError=null,this.networkStatus=y.ready},C.prototype.markError=function(_){return this.networkStatus=y.error,this.lastWrite=void 0,this.reset(),_.graphQLErrors&&(this.graphQLErrors=_.graphQLErrors),_.networkError&&(this.networkError=_.networkError),_},C}();function Gr(C,_){void 0===_&&(_="none");var w="ignore"===_||"all"===_,V=!He(C);return!V&&w&&C.data&&(V=!0),V}var ks=Object.prototype.hasOwnProperty,Pi=function(){function C(_){var w=_.cache,V=_.link,X=_.queryDeduplication,be=void 0!==X&&X,We=_.onBroadcast,ot=_.ssrMode,rt=void 0!==ot&&ot,ut=_.clientAwareness,Ot=void 0===ut?{}:ut,St=_.localState,It=_.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(vt.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=w,this.link=V,this.queryDeduplication=be,this.clientAwareness=Ot,this.localState=St||new Jn({cache:w}),this.ssrMode=rt,this.assumeImmutableResults=!!It,(this.onBroadcast=We)&&(this.mutationStore=Object.create(null))}return C.prototype.stop=function(){var _=this;this.queries.forEach(function(w,V){_.stopQueryNoBroadcast(V)}),this.cancelPendingFetches(__DEV__?new ee.ej("QueryManager stopped while query was in flight"):new ee.ej(11))},C.prototype.cancelPendingFetches=function(_){this.fetchCancelFns.forEach(function(w){return w(_)}),this.fetchCancelFns.clear()},C.prototype.mutate=function(_){var w=_.mutation,V=_.variables,X=_.optimisticResponse,be=_.updateQueries,We=_.refetchQueries,ot=void 0===We?[]:We,rt=_.awaitRefetchQueries,ut=void 0!==rt&&rt,Ot=_.update,St=_.onQueryUpdated,It=_.errorPolicy,$t=void 0===It?"none":It,Gt=_.fetchPolicy,Wt=void 0===Gt?"network-only":Gt,en=_.keepRootFields,un=_.context;return(0,fe.mG)(this,void 0,void 0,function(){var Wn,ar,tn;return(0,fe.Jh)(this,function(ci){switch(ci.label){case 0:return __DEV__?(0,ee.kG)(w,"mutation option is required. You must specify your GraphQL document in the mutation option."):(0,ee.kG)(w,12),__DEV__?(0,ee.kG)("network-only"===Wt||"no-cache"===Wt,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):(0,ee.kG)("network-only"===Wt||"no-cache"===Wt,13),Wn=this.generateMutationId(),w=this.transform(w).document,V=this.getVariables(w,V),this.transform(w).hasClientExports?[4,this.localState.addExportedVariables(w,V,un)]:[3,2];case 1:V=ci.sent(),ci.label=2;case 2:return ar=this.mutationStore&&(this.mutationStore[Wn]={mutation:w,variables:V,loading:!0,error:null}),X&&this.markMutationOptimistic(X,{mutationId:Wn,document:w,variables:V,fetchPolicy:Wt,errorPolicy:$t,context:un,updateQueries:be,update:Ot,keepRootFields:en}),this.broadcastQueries(),tn=this,[2,new Promise(function(Vr,ki){return lt(tn.getObservableFromLink(w,(0,fe.pi)((0,fe.pi)({},un),{optimisticResponse:X}),V,!1),function(mr){if(He(mr)&&"none"===$t)throw new Kr({graphQLErrors:mr.errors});ar&&(ar.loading=!1,ar.error=null);var _i=(0,fe.pi)({},mr);return"function"==typeof ot&&(ot=ot(_i)),"ignore"===$t&&He(_i)&&delete _i.errors,tn.markMutationResult({mutationId:Wn,result:_i,document:w,variables:V,fetchPolicy:Wt,errorPolicy:$t,context:un,update:Ot,updateQueries:be,awaitRefetchQueries:ut,refetchQueries:ot,removeOptimistic:X?Wn:void 0,onQueryUpdated:St,keepRootFields:en})}).subscribe({next:function(mr){tn.broadcastQueries(),Vr(mr)},error:function(mr){ar&&(ar.loading=!1,ar.error=mr),X&&tn.cache.removeOptimistic(Wn),tn.broadcastQueries(),ki(mr instanceof Kr?mr:new Kr({networkError:mr}))}})})]}})})},C.prototype.markMutationResult=function(_,w){var V=this;void 0===w&&(w=this.cache);var X=_.result,be=[],We="no-cache"===_.fetchPolicy;if(!We&&Gr(X,_.errorPolicy)){be.push({result:X.data,dataId:"ROOT_MUTATION",query:_.document,variables:_.variables});var ot=_.updateQueries;ot&&this.queries.forEach(function(ut,Ot){var St=ut.observableQuery,It=St&&St.queryName;if(It&&ks.call(ot,It)){var $t=ot[It],Gt=V.queries.get(Ot),Wt=Gt.document,en=Gt.variables,un=w.diff({query:Wt,variables:en,returnPartialData:!0,optimistic:!1}),Wn=un.result;if(un.complete&&Wn){var tn=$t(Wn,{mutationResult:X,queryName:Wt&&(0,nt.rY)(Wt)||void 0,queryVariables:en});tn&&be.push({result:tn,dataId:"ROOT_QUERY",query:Wt,variables:en})}}})}if(be.length>0||_.refetchQueries||_.update||_.onQueryUpdated||_.removeOptimistic){var rt=[];if(this.refetchQueries({updateCache:function(ut){We||be.forEach(function(It){return ut.write(It)});var Ot=_.update;if(Ot){if(!We){var St=ut.diff({id:"ROOT_MUTATION",query:V.transform(_.document).asQuery,variables:_.variables,optimistic:!1,returnPartialData:!0});St.complete&&(X=(0,fe.pi)((0,fe.pi)({},X),{data:St.result}))}Ot(ut,X,{context:_.context,variables:_.variables})}!We&&!_.keepRootFields&&ut.modify({id:"ROOT_MUTATION",fields:function(It,$t){return"__typename"===$t.fieldName?It:$t.DELETE}})},include:_.refetchQueries,optimistic:!1,removeOptimistic:_.removeOptimistic,onQueryUpdated:_.onQueryUpdated||null}).forEach(function(ut){return rt.push(ut)}),_.awaitRefetchQueries||_.onQueryUpdated)return Promise.all(rt).then(function(){return X})}return Promise.resolve(X)},C.prototype.markMutationOptimistic=function(_,w){var V=this,X="function"==typeof _?_(w.variables):_;return this.cache.recordOptimisticTransaction(function(be){try{V.markMutationResult((0,fe.pi)((0,fe.pi)({},w),{result:{data:X}}),be)}catch(We){__DEV__&&ee.kG.error(We)}},w.mutationId)},C.prototype.fetchQuery=function(_,w,V){return this.fetchQueryObservable(_,w,V).promise},C.prototype.getQueryStore=function(){var _=Object.create(null);return this.queries.forEach(function(w,V){_[V]={variables:w.variables,networkStatus:w.networkStatus,networkError:w.networkError,graphQLErrors:w.graphQLErrors}}),_},C.prototype.resetErrors=function(_){var w=this.queries.get(_);w&&(w.networkError=void 0,w.graphQLErrors=[])},C.prototype.transform=function(_){var w=this.transformCache;if(!w.has(_)){var V=this.cache.transformDocument(_),X=(0,ht.Fo)(this.cache.transformForLink(V)),be=this.localState.clientQuery(V),We=X&&this.localState.serverQuery(X),ot={document:V,hasClientExports:(0,jt.mj)(V),hasForcedResolvers:this.localState.shouldForceResolvers(V),clientQuery:be,serverQuery:We,defaultVars:(0,nt.O4)((0,nt.$H)(V)),asQuery:(0,fe.pi)((0,fe.pi)({},V),{definitions:V.definitions.map(function(ut){return"OperationDefinition"===ut.kind&&"query"!==ut.operation?(0,fe.pi)((0,fe.pi)({},ut),{operation:"query"}):ut})})},rt=function(ut){ut&&!w.has(ut)&&w.set(ut,ot)};rt(_),rt(V),rt(be),rt(We)}return w.get(_)},C.prototype.getVariables=function(_,w){return(0,fe.pi)((0,fe.pi)({},this.transform(_).defaultVars),w)},C.prototype.watchQuery=function(_){void 0===(_=(0,fe.pi)((0,fe.pi)({},_),{variables:this.getVariables(_.query,_.variables)})).notifyOnNetworkStatusChange&&(_.notifyOnNetworkStatusChange=!1);var w=new rr(this),V=new qi({queryManager:this,queryInfo:w,options:_});return this.queries.set(V.queryId,w),w.init({document:_.query,observableQuery:V,variables:_.variables}),V},C.prototype.query=function(_,w){var V=this;return void 0===w&&(w=this.generateQueryId()),__DEV__?(0,ee.kG)(_.query,"query option is required. You must specify your GraphQL document in the query option."):(0,ee.kG)(_.query,14),__DEV__?(0,ee.kG)("Document"===_.query.kind,'You must wrap the query string in a "gql" tag.'):(0,ee.kG)("Document"===_.query.kind,15),__DEV__?(0,ee.kG)(!_.returnPartialData,"returnPartialData option only supported on watchQuery."):(0,ee.kG)(!_.returnPartialData,16),__DEV__?(0,ee.kG)(!_.pollInterval,"pollInterval option only supported on watchQuery."):(0,ee.kG)(!_.pollInterval,17),this.fetchQuery(w,_).finally(function(){return V.stopQuery(w)})},C.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},C.prototype.generateRequestId=function(){return this.requestIdCounter++},C.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},C.prototype.stopQueryInStore=function(_){this.stopQueryInStoreNoBroadcast(_),this.broadcastQueries()},C.prototype.stopQueryInStoreNoBroadcast=function(_){var w=this.queries.get(_);w&&w.stop()},C.prototype.clearStore=function(_){return void 0===_&&(_={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new ee.ej("Store reset while query was in flight (not completed in link chain)"):new ee.ej(18)),this.queries.forEach(function(w){w.observableQuery?w.networkStatus=y.loading:w.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(_)},C.prototype.getObservableQueries=function(_){var w=this;void 0===_&&(_="active");var V=new Map,X=new Map,be=new Set;return Array.isArray(_)&&_.forEach(function(We){"string"==typeof We?X.set(We,!1):(0,Rt.JW)(We)?X.set(w.transform(We).document,!1):(0,qt.s)(We)&&We.query&&be.add(We)}),this.queries.forEach(function(We,ot){var rt=We.observableQuery,ut=We.document;if(rt){if("all"===_)return void V.set(ot,rt);var Ot=rt.queryName;if("standby"===rt.options.fetchPolicy||"active"===_&&!rt.hasObservers())return;("active"===_||Ot&&X.has(Ot)||ut&&X.has(ut))&&(V.set(ot,rt),Ot&&X.set(Ot,!0),ut&&X.set(ut,!0))}}),be.size&&be.forEach(function(We){var ot=(0,Un.X)("legacyOneTimeQuery"),rt=w.getQuery(ot).init({document:We.query,variables:We.variables}),ut=new qi({queryManager:w,queryInfo:rt,options:(0,fe.pi)((0,fe.pi)({},We),{fetchPolicy:"network-only"})});(0,ee.kG)(ut.queryId===ot),rt.setObservableQuery(ut),V.set(ot,ut)}),__DEV__&&X.size&&X.forEach(function(We,ot){We||__DEV__&&ee.kG.warn("Unknown query ".concat("string"==typeof ot?"named ":"").concat(JSON.stringify(ot,null,2)," requested in refetchQueries options.include array"))}),V},C.prototype.reFetchObservableQueries=function(_){var w=this;void 0===_&&(_=!1);var V=[];return this.getObservableQueries(_?"all":"active").forEach(function(X,be){var We=X.options.fetchPolicy;X.resetLastResults(),(_||"standby"!==We&&"cache-only"!==We)&&V.push(X.refetch()),w.getQuery(be).setDiff(null)}),this.broadcastQueries(),Promise.all(V)},C.prototype.setObservableQuery=function(_){this.getQuery(_.queryId).setObservableQuery(_)},C.prototype.startGraphQLSubscription=function(_){var w=this,V=_.query,X=_.fetchPolicy,be=_.errorPolicy,We=_.variables,ot=_.context,rt=void 0===ot?{}:ot;V=this.transform(V).document,We=this.getVariables(V,We);var ut=function(St){return w.getObservableFromLink(V,rt,St).map(function(It){if("no-cache"!==X&&(Gr(It,be)&&w.cache.write({query:V,result:It.data,dataId:"ROOT_SUBSCRIPTION",variables:St}),w.broadcastQueries()),He(It))throw new Kr({graphQLErrors:It.errors});return It})};if(this.transform(V).hasClientExports){var Ot=this.localState.addExportedVariables(V,We,rt).then(ut);return new ne.y(function(St){var It=null;return Ot.then(function($t){return It=$t.subscribe(St)},St.error),function(){return It&&It.unsubscribe()}})}return ut(We)},C.prototype.stopQuery=function(_){this.stopQueryNoBroadcast(_),this.broadcastQueries()},C.prototype.stopQueryNoBroadcast=function(_){this.stopQueryInStoreNoBroadcast(_),this.removeQuery(_)},C.prototype.removeQuery=function(_){this.fetchCancelFns.delete(_),this.getQuery(_).stop(),this.queries.delete(_)},C.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(_){return _.notify()})},C.prototype.getLocalState=function(){return this.localState},C.prototype.getObservableFromLink=function(_,w,V,X){var We,be=this;void 0===X&&(X=null!==(We=null==w?void 0:w.queryDeduplication)&&void 0!==We?We:this.queryDeduplication);var ot,rt=this.transform(_).serverQuery;if(rt){var Ot=this.inFlightLinkObservables,St=this.link,It={query:rt,variables:V,operationName:(0,nt.rY)(rt)||void 0,context:this.prepareContext((0,fe.pi)((0,fe.pi)({},w),{forceFetch:!X}))};if(w=It.context,X){var $t=Ot.get(rt)||new Map;Ot.set(rt,$t);var Gt=(0,ft.B)(V);if(!(ot=$t.get(Gt))){var Wt=new Nn([ue(St,It)]);$t.set(Gt,ot=Wt),Wt.cleanup(function(){$t.delete(Gt)&&$t.size<1&&Ot.delete(rt)})}}else ot=new Nn([ue(St,It)])}else ot=new Nn([ne.y.of({data:{}})]),w=this.prepareContext(w);var en=this.transform(_).clientQuery;return en&&(ot=lt(ot,function(un){return be.localState.runResolvers({document:en,remoteResult:un,context:w,variables:V})})),ot},C.prototype.getResultsFromLink=function(_,w,V){var X=_.lastRequestId=this.generateRequestId();return lt(this.getObservableFromLink(_.document,V.context,V.variables),function(be){var We=(0,Sr.O)(be.errors);if(X>=_.lastRequestId){if(We&&"none"===V.errorPolicy)throw _.markError(new Kr({graphQLErrors:be.errors}));_.markResult(be,V,w),_.markReady()}var ot={data:be.data,loading:!1,networkStatus:_.networkStatus||y.ready};return We&&"ignore"!==V.errorPolicy&&(ot.errors=be.errors),ot},function(be){var We=function(C){return C.hasOwnProperty("graphQLErrors")}(be)?be:new Kr({networkError:be});throw X>=_.lastRequestId&&_.markError(We),We})},C.prototype.fetchQueryObservable=function(_,w,V){var X=this;void 0===V&&(V=y.loading);var be=this.transform(w.query).document,We=this.getVariables(be,w.variables),ot=this.getQuery(_),rt=w.fetchPolicy,Ot=w.errorPolicy,It=w.returnPartialData,Gt=w.notifyOnNetworkStatusChange,en=w.context,Wn=Object.assign({},w,{query:be,variables:We,fetchPolicy:void 0===rt?"cache-first":rt,errorPolicy:void 0===Ot?"none":Ot,returnPartialData:void 0!==It&&It,notifyOnNetworkStatusChange:void 0!==Gt&&Gt,context:void 0===en?{}:en}),ar=function(ci){return Wn.variables=ci,X.fetchQueryByPolicy(ot,Wn,V)};this.fetchCancelFns.set(_,function(ci){setTimeout(function(){return tn.cancel(ci)})});var tn=new Nn(this.transform(Wn.query).hasClientExports?this.localState.addExportedVariables(Wn.query,Wn.variables,Wn.context).then(ar):ar(Wn.variables));return tn.cleanup(function(){X.fetchCancelFns.delete(_),function(C){var _=C.fetchPolicy,V=C.nextFetchPolicy;V&&(C.fetchPolicy="function"==typeof V?V.call(C,void 0===_?"cache-first":_):V)}(w)}),tn},C.prototype.refetchQueries=function(_){var w=this,V=_.updateCache,X=_.include,be=_.optimistic,We=void 0!==be&&be,ot=_.removeOptimistic,rt=void 0===ot?We?(0,Un.X)("refetchQueries"):void 0:ot,ut=_.onQueryUpdated,Ot=new Map;X&&this.getObservableQueries(X).forEach(function(It,$t){Ot.set($t,{oq:It,lastDiff:w.getQuery($t).getDiff()})});var St=new Map;return V&&this.cache.batch({update:V,optimistic:We&&rt||!1,removeOptimistic:rt,onWatchUpdated:function(It,$t,Gt){var Wt=It.watcher instanceof rr&&It.watcher.observableQuery;if(Wt){if(ut){Ot.delete(Wt.queryId);var en=ut(Wt,$t,Gt);return!0===en&&(en=Wt.refetch()),!1!==en&&St.set(Wt,en),en}null!==ut&&Ot.set(Wt.queryId,{oq:Wt,lastDiff:Gt,diff:$t})}}}),Ot.size&&Ot.forEach(function(It,$t){var un,Gt=It.oq,Wt=It.lastDiff,en=It.diff;if(ut){if(!en){var Wn=Gt.queryInfo;Wn.reset(),en=Wn.getDiff()}un=ut(Gt,en,Wt)}(!ut||!0===un)&&(un=Gt.refetch()),!1!==un&&St.set(Gt,un),$t.indexOf("legacyOneTimeQuery")>=0&&w.stopQueryNoBroadcast($t)}),rt&&this.cache.removeOptimistic(rt),St},C.prototype.fetchQueryByPolicy=function(_,w,V){var X=this,be=w.query,We=w.variables,ot=w.fetchPolicy,rt=w.refetchWritePolicy,ut=w.errorPolicy,Ot=w.returnPartialData,St=w.context,It=w.notifyOnNetworkStatusChange,$t=_.networkStatus;_.init({document:be,variables:We,networkStatus:V});var Gt=function(){return _.getDiff(We)},Wt=function(tn,ci){void 0===ci&&(ci=_.networkStatus||y.loading);var Vr=tn.result;__DEV__&&!Ot&&!(0,Je.D)(Vr,{})&&Hn(tn.missing);var ki=function(mr){return ne.y.of((0,fe.pi)({data:mr,loading:$(ci),networkStatus:ci},tn.complete?null:{partial:!0}))};return Vr&&X.transform(be).hasForcedResolvers?X.localState.runResolvers({document:be,remoteResult:{data:Vr},context:St,variables:We,onlyRunForcedResolvers:!0}).then(function(mr){return ki(mr.data||void 0)}):ki(Vr)},en="no-cache"===ot?0:V===y.refetch&&"merge"!==rt?1:2,un=function(){return X.getResultsFromLink(_,en,{variables:We,context:St,fetchPolicy:ot,errorPolicy:ut})},Wn=It&&"number"==typeof $t&&$t!==V&&$(V);switch(ot){default:case"cache-first":return(ar=Gt()).complete?[Wt(ar,_.markReady())]:Ot||Wn?[Wt(ar),un()]:[un()];case"cache-and-network":var ar;return(ar=Gt()).complete||Ot||Wn?[Wt(ar),un()]:[un()];case"cache-only":return[Wt(Gt(),_.markReady())];case"network-only":return Wn?[Wt(Gt()),un()]:[un()];case"no-cache":return Wn?[Wt(_.getDiff()),un()]:[un()];case"standby":return[]}},C.prototype.getQuery=function(_){return _&&!this.queries.has(_)&&this.queries.set(_,new rr(this,_)),this.queries.get(_)},C.prototype.prepareContext=function(_){void 0===_&&(_={});var w=this.localState.prepareContext(_);return(0,fe.pi)((0,fe.pi)({},w),{clientAwareness:this.clientAwareness})},C}(),ha=!1;function En(C,_){return(0,oe.o)(C,_,_.variables&&{variables:(0,fe.pi)((0,fe.pi)({},C.variables),_.variables)})}var mo=function(){function C(_){var w=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var V=_.uri,We=_.cache,ot=_.ssrMode,rt=void 0!==ot&&ot,ut=_.ssrForceFetchDelay,Ot=void 0===ut?0:ut,St=_.connectToDevTools,It=void 0===St?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:St,$t=_.queryDeduplication,Gt=void 0===$t||$t,Wt=_.defaultOptions,en=_.assumeImmutableResults,un=void 0!==en&&en,Wn=_.resolvers,ar=_.typeDefs,tn=_.fragmentMatcher,ci=_.name,Vr=_.version,ki=_.link;if(ki||(ki=V?new Re({uri:V,credentials:_.credentials,headers:_.headers}):ce.i.empty()),!We)throw __DEV__?new ee.ej("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new ee.ej(7);if(this.link=ki,this.cache=We,this.disableNetworkFetches=rt||Ot>0,this.queryDeduplication=Gt,this.defaultOptions=Wt||{},this.typeDefs=ar,Ot&&setTimeout(function(){return w.disableNetworkFetches=!1},Ot),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),It&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!ha&&__DEV__&&(ha=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var mr=window.navigator,_i=mr&&mr.userAgent,Ui=void 0;"string"==typeof _i&&(_i.indexOf("Chrome/")>-1?Ui="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":_i.indexOf("Firefox/")>-1&&(Ui="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),Ui&&__DEV__&&ee.kG.log("Download the Apollo DevTools for a better development experience: "+Ui)}this.version="3.5.10",this.localState=new Jn({cache:We,client:this,resolvers:Wn,fragmentMatcher:tn}),this.queryManager=new Pi({cache:this.cache,link:this.link,queryDeduplication:Gt,ssrMode:rt,clientAwareness:{name:ci,version:Vr},localState:this.localState,assumeImmutableResults:un,onBroadcast:It?function(){w.devToolsHookCb&&w.devToolsHookCb({action:{},state:{queries:w.queryManager.getQueryStore(),mutations:w.queryManager.mutationStore||{}},dataWithOptimisticResults:w.cache.extract(!0)})}:void 0})}return C.prototype.stop=function(){this.queryManager.stop()},C.prototype.watchQuery=function(_){return this.defaultOptions.watchQuery&&(_=En(this.defaultOptions.watchQuery,_)),this.disableNetworkFetches&&("network-only"===_.fetchPolicy||"cache-and-network"===_.fetchPolicy)&&(_=(0,fe.pi)((0,fe.pi)({},_),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(_)},C.prototype.query=function(_){return this.defaultOptions.query&&(_=En(this.defaultOptions.query,_)),__DEV__?(0,ee.kG)("cache-and-network"!==_.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):(0,ee.kG)("cache-and-network"!==_.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===_.fetchPolicy&&(_=(0,fe.pi)((0,fe.pi)({},_),{fetchPolicy:"cache-first"})),this.queryManager.query(_)},C.prototype.mutate=function(_){return this.defaultOptions.mutate&&(_=En(this.defaultOptions.mutate,_)),this.queryManager.mutate(_)},C.prototype.subscribe=function(_){return this.queryManager.startGraphQLSubscription(_)},C.prototype.readQuery=function(_,w){return void 0===w&&(w=!1),this.cache.readQuery(_,w)},C.prototype.readFragment=function(_,w){return void 0===w&&(w=!1),this.cache.readFragment(_,w)},C.prototype.writeQuery=function(_){this.cache.writeQuery(_),this.queryManager.broadcastQueries()},C.prototype.writeFragment=function(_){this.cache.writeFragment(_),this.queryManager.broadcastQueries()},C.prototype.__actionHookForDevTools=function(_){this.devToolsHookCb=_},C.prototype.__requestRaw=function(_){return ue(this.link,_)},C.prototype.resetStore=function(){var _=this;return Promise.resolve().then(function(){return _.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(_.resetStoreCallbacks.map(function(w){return w()}))}).then(function(){return _.reFetchObservableQueries()})},C.prototype.clearStore=function(){var _=this;return Promise.resolve().then(function(){return _.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(_.clearStoreCallbacks.map(function(w){return w()}))})},C.prototype.onResetStore=function(_){var w=this;return this.resetStoreCallbacks.push(_),function(){w.resetStoreCallbacks=w.resetStoreCallbacks.filter(function(V){return V!==_})}},C.prototype.onClearStore=function(_){var w=this;return this.clearStoreCallbacks.push(_),function(){w.clearStoreCallbacks=w.clearStoreCallbacks.filter(function(V){return V!==_})}},C.prototype.reFetchObservableQueries=function(_){return this.queryManager.reFetchObservableQueries(_)},C.prototype.refetchQueries=function(_){var w=this.queryManager.refetchQueries(_),V=[],X=[];w.forEach(function(We,ot){V.push(ot),X.push(We)});var be=Promise.all(X);return be.queries=V,be.results=X,be.catch(function(We){__DEV__&&ee.kG.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(We))}),be},C.prototype.getObservableQueries=function(_){return void 0===_&&(_="active"),this.queryManager.getObservableQueries(_)},C.prototype.extract=function(_){return this.cache.extract(_)},C.prototype.restore=function(_){return this.cache.restore(_)},C.prototype.addResolvers=function(_){this.localState.addResolvers(_)},C.prototype.setResolvers=function(_){this.localState.setResolvers(_)},C.prototype.getResolvers=function(){return this.localState.getResolvers()},C.prototype.setLocalStateFragmentMatcher=function(_){this.localState.setFragmentMatcher(_)},C.prototype.setLink=function(_){this.link=this.queryManager.link=_},C}();function pn(C,_){if(!Boolean(C))throw new Error(null!=_?_:"Unexpected invariant triggered.")}const Fn=/\r\n|[\n\r]/g;function pi(C,_){let w=0,V=1;for(const X of C.body.matchAll(Fn)){if("number"==typeof X.index||pn(!1),X.index>=_)break;w=X.index+X[0].length,V+=1}return{line:V,column:_+1-w}}function vo(C,_){const w=C.locationOffset.column-1,V="".padStart(w)+C.body,X=_.line-1,We=_.line+(C.locationOffset.line-1),rt=_.column+(1===_.line?w:0),ut=`${C.name}:${We}:${rt}\n`,Ot=V.split(/\r\n|[\n\r]/g),St=Ot[X];if(St.length>120){const It=Math.floor(rt/80),$t=rt%80,Gt=[];for(let Wt=0;Wt<St.length;Wt+=80)Gt.push(St.slice(Wt,Wt+80));return ut+Oe([[`${We} |`,Gt[0]],...Gt.slice(1,It+1).map(Wt=>["|",Wt]),["|","^".padStart($t)],["|",Gt[It+1]]])}return ut+Oe([[We-1+" |",Ot[X-1]],[`${We} |`,St],["|","^".padStart(rt)],[`${We+1} |`,Ot[X+1]]])}function Oe(C){const _=C.filter(([V,X])=>void 0!==X),w=Math.max(..._.map(([V])=>V.length));return _.map(([V,X])=>V.padStart(w)+(X?" "+X:"")).join("\n")}class Qe extends Error{constructor(_,...w){var V,X,be;const{nodes:We,source:ot,positions:rt,path:ut,originalError:Ot,extensions:St}=function(C){const _=C[0];return null==_||"kind"in _||"length"in _?{nodes:_,source:C[1],positions:C[2],path:C[3],originalError:C[4],extensions:C[5]}:_}(w);super(_),this.name="GraphQLError",this.path=null!=ut?ut:void 0,this.originalError=null!=Ot?Ot:void 0,this.nodes=pt(Array.isArray(We)?We:We?[We]:void 0);const It=pt(null===(V=this.nodes)||void 0===V?void 0:V.map(Gt=>Gt.loc).filter(Gt=>null!=Gt));this.source=null!=ot?ot:null==It||null===(X=It[0])||void 0===X?void 0:X.source,this.positions=null!=rt?rt:null==It?void 0:It.map(Gt=>Gt.start),this.locations=rt&&ot?rt.map(Gt=>pi(ot,Gt)):null==It?void 0:It.map(Gt=>pi(Gt.source,Gt.start));const $t="object"==typeof(C=null==Ot?void 0:Ot.extensions)&&null!==C?null==Ot?void 0:Ot.extensions:void 0;var C;this.extensions=null!==(be=null!=St?St:$t)&&void 0!==be?be:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=Ot&&Ot.stack?Object.defineProperty(this,"stack",{value:Ot.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Qe):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let _=this.message;if(this.nodes)for(const w of this.nodes)w.loc&&(_+="\n\n"+vo((C=w.loc).source,pi(C.source,C.start)));else if(this.source&&this.locations)for(const w of this.locations)_+="\n\n"+vo(this.source,w);var C;return _}toJSON(){const _={message:this.message};return null!=this.locations&&(_.locations=this.locations),null!=this.path&&(_.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(_.extensions=this.extensions),_}}function pt(C){return void 0===C||0===C.length?void 0:C}function jn(C,_,w){return new Qe(`Syntax Error: ${w}`,void 0,C,[_])}var ir=F(6298);let gr;var C;(C=gr||(gr={})).QUERY="QUERY",C.MUTATION="MUTATION",C.SUBSCRIPTION="SUBSCRIPTION",C.FIELD="FIELD",C.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",C.FRAGMENT_SPREAD="FRAGMENT_SPREAD",C.INLINE_FRAGMENT="INLINE_FRAGMENT",C.VARIABLE_DEFINITION="VARIABLE_DEFINITION",C.SCHEMA="SCHEMA",C.SCALAR="SCALAR",C.OBJECT="OBJECT",C.FIELD_DEFINITION="FIELD_DEFINITION",C.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",C.INTERFACE="INTERFACE",C.UNION="UNION",C.ENUM="ENUM",C.ENUM_VALUE="ENUM_VALUE",C.INPUT_OBJECT="INPUT_OBJECT",C.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION";var nn=F(2289),Qi=F(2032),Ki=F(6009);let Et;!function(C){C.SOF="<SOF>",C.EOF="<EOF>",C.BANG="!",C.DOLLAR="$",C.AMP="&",C.PAREN_L="(",C.PAREN_R=")",C.SPREAD="...",C.COLON=":",C.EQUALS="=",C.AT="@",C.BRACKET_L="[",C.BRACKET_R="]",C.BRACE_L="{",C.PIPE="|",C.BRACE_R="}",C.NAME="Name",C.INT="Int",C.FLOAT="Float",C.STRING="String",C.BLOCK_STRING="BlockString",C.COMMENT="Comment"}(Et||(Et={}));class Fr{constructor(_){const w=new ir.WU(Et.SOF,0,0,0,0);this.source=_,this.lastToken=w,this.token=w,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let _=this.token;if(_.kind!==Et.EOF)do{if(_.next)_=_.next;else{const w=yt(this,_.end);_.next=w,w.prev=_,_=w}}while(_.kind===Et.COMMENT);return _}}function er(C){return C>=0&&C<=55295||C>=57344&&C<=1114111}function Br(C,_){return Yr(C.charCodeAt(_))&&li(C.charCodeAt(_+1))}function Yr(C){return C>=55296&&C<=56319}function li(C){return C>=56320&&C<=57343}function gi(C,_){const w=C.source.body.codePointAt(_);if(void 0===w)return Et.EOF;if(w>=32&&w<=126){const V=String.fromCodePoint(w);return'"'===V?"'\"'":`"${V}"`}return"U+"+w.toString(16).toUpperCase().padStart(4,"0")}function kn(C,_,w,V,X){return new ir.WU(_,w,V,C.line,1+w-C.lineStart,X)}function yt(C,_){const w=C.source.body,V=w.length;let X=_;for(;X<V;){const be=w.charCodeAt(X);switch(be){case 65279:case 9:case 32:case 44:++X;continue;case 10:++X,++C.line,C.lineStart=X;continue;case 13:10===w.charCodeAt(X+1)?X+=2:++X,++C.line,C.lineStart=X;continue;case 35:return On(C,X);case 33:return kn(C,Et.BANG,X,X+1);case 36:return kn(C,Et.DOLLAR,X,X+1);case 38:return kn(C,Et.AMP,X,X+1);case 40:return kn(C,Et.PAREN_L,X,X+1);case 41:return kn(C,Et.PAREN_R,X,X+1);case 46:if(46===w.charCodeAt(X+1)&&46===w.charCodeAt(X+2))return kn(C,Et.SPREAD,X,X+3);break;case 58:return kn(C,Et.COLON,X,X+1);case 61:return kn(C,Et.EQUALS,X,X+1);case 64:return kn(C,Et.AT,X,X+1);case 91:return kn(C,Et.BRACKET_L,X,X+1);case 93:return kn(C,Et.BRACKET_R,X,X+1);case 123:return kn(C,Et.BRACE_L,X,X+1);case 124:return kn(C,Et.PIPE,X,X+1);case 125:return kn(C,Et.BRACE_R,X,X+1);case 34:return 34===w.charCodeAt(X+1)&&34===w.charCodeAt(X+2)?_n(C,X):Gs(C,X)}if((0,Ki.X1)(be)||45===be)return sr(C,X,be);if((0,Ki.LQ)(be))return yo(C,X);throw jn(C.source,X,39===be?"Unexpected single quote character ('), did you mean to use a double quote (\")?":er(be)||Br(w,X)?`Unexpected character: ${gi(C,X)}.`:`Invalid character: ${gi(C,X)}.`)}return kn(C,Et.EOF,V,V)}function On(C,_){const w=C.source.body,V=w.length;let X=_+1;for(;X<V;){const be=w.charCodeAt(X);if(10===be||13===be)break;if(er(be))++X;else{if(!Br(w,X))break;X+=2}}return kn(C,Et.COMMENT,_,X,w.slice(_+1,X))}function sr(C,_,w){const V=C.source.body;let X=_,be=w,We=!1;if(45===be&&(be=V.charCodeAt(++X)),48===be){if(be=V.charCodeAt(++X),(0,Ki.X1)(be))throw jn(C.source,X,`Invalid number, unexpected digit after 0: ${gi(C,X)}.`)}else X=Pr(C,X,be),be=V.charCodeAt(X);if(46===be&&(We=!0,be=V.charCodeAt(++X),X=Pr(C,X,be),be=V.charCodeAt(X)),(69===be||101===be)&&(We=!0,be=V.charCodeAt(++X),(43===be||45===be)&&(be=V.charCodeAt(++X)),X=Pr(C,X,be),be=V.charCodeAt(X)),46===be||(0,Ki.LQ)(be))throw jn(C.source,X,`Invalid number, expected digit but got: ${gi(C,X)}.`);return kn(C,We?Et.FLOAT:Et.INT,_,X,V.slice(_,X))}function Pr(C,_,w){if(!(0,Ki.X1)(w))throw jn(C.source,_,`Invalid number, expected digit but got: ${gi(C,_)}.`);const V=C.source.body;let X=_+1;for(;(0,Ki.X1)(V.charCodeAt(X));)++X;return X}function Gs(C,_){const w=C.source.body,V=w.length;let X=_+1,be=X,We="";for(;X<V;){const ot=w.charCodeAt(X);if(34===ot)return We+=w.slice(be,X),kn(C,Et.STRING,_,X+1,We);if(92!==ot){if(10===ot||13===ot)break;if(er(ot))++X;else{if(!Br(w,X))throw jn(C.source,X,`Invalid character within String: ${gi(C,X)}.`);X+=2}}else{We+=w.slice(be,X);const rt=117===w.charCodeAt(X+1)?123===w.charCodeAt(X+2)?Kn(C,X):qs(C,X):Fi(C,X);We+=rt.value,X+=rt.size,be=X}}throw jn(C.source,X,"Unterminated string.")}function Kn(C,_){const w=C.source.body;let V=0,X=3;for(;X<12;){const be=w.charCodeAt(_+X++);if(125===be){if(X<5||!er(V))break;return{value:String.fromCodePoint(V),size:X}}if(V=V<<4|Zr(be),V<0)break}throw jn(C.source,_,`Invalid Unicode escape sequence: "${w.slice(_,_+X)}".`)}function qs(C,_){const w=C.source.body,V=_r(w,_+2);if(er(V))return{value:String.fromCodePoint(V),size:6};if(Yr(V)&&92===w.charCodeAt(_+6)&&117===w.charCodeAt(_+7)){const X=_r(w,_+8);if(li(X))return{value:String.fromCodePoint(V,X),size:12}}throw jn(C.source,_,`Invalid Unicode escape sequence: "${w.slice(_,_+6)}".`)}function _r(C,_){return Zr(C.charCodeAt(_))<<12|Zr(C.charCodeAt(_+1))<<8|Zr(C.charCodeAt(_+2))<<4|Zr(C.charCodeAt(_+3))}function Zr(C){return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:-1}function Fi(C,_){const w=C.source.body;switch(w.charCodeAt(_+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw jn(C.source,_,`Invalid character escape sequence: "${w.slice(_,_+2)}".`)}function _n(C,_){const w=C.source.body,V=w.length;let X=C.lineStart,be=_+3,We=be,ot="";const rt=[];for(;be<V;){const ut=w.charCodeAt(be);if(34===ut&&34===w.charCodeAt(be+1)&&34===w.charCodeAt(be+2)){ot+=w.slice(We,be),rt.push(ot);const Ot=kn(C,Et.BLOCK_STRING,_,be+3,(0,Qi.wv)(rt).join("\n"));return C.line+=rt.length-1,C.lineStart=X,Ot}if(92!==ut||34!==w.charCodeAt(be+1)||34!==w.charCodeAt(be+2)||34!==w.charCodeAt(be+3))if(10!==ut&&13!==ut)if(er(ut))++be;else{if(!Br(w,be))throw jn(C.source,be,`Invalid character within String: ${gi(C,be)}.`);be+=2}else ot+=w.slice(We,be),rt.push(ot),13===ut&&10===w.charCodeAt(be+1)?be+=2:++be,ot="",We=be,X=be;else ot+=w.slice(We,be),We=be+1,be+=4}throw jn(C.source,be,"Unterminated string.")}function yo(C,_){const w=C.source.body,V=w.length;let X=_+1;for(;X<V;){const be=w.charCodeAt(X);if(!(0,Ki.HQ)(be))break;++X}return kn(C,Et.NAME,_,X,w.slice(_,X))}var os=F(1462);class Es{constructor(_,w){const V=(0,os.T)(_)?_:new os.H(_);this._lexer=new Fr(V),this._options=w}parseName(){const _=this.expectToken(Et.NAME);return this.node(_,{kind:nn.h.NAME,value:_.value})}parseDocument(){return this.node(this._lexer.token,{kind:nn.h.DOCUMENT,definitions:this.many(Et.SOF,this.parseDefinition,Et.EOF)})}parseDefinition(){if(this.peek(Et.BRACE_L))return this.parseOperationDefinition();const _=this.peekDescription(),w=_?this._lexer.lookahead():this._lexer.token;if(w.kind===Et.NAME){switch(w.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(_)throw jn(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(w.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(w)}parseOperationDefinition(){const _=this._lexer.token;if(this.peek(Et.BRACE_L))return this.node(_,{kind:nn.h.OPERATION_DEFINITION,operation:ir.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const w=this.parseOperationType();let V;return this.peek(Et.NAME)&&(V=this.parseName()),this.node(_,{kind:nn.h.OPERATION_DEFINITION,operation:w,name:V,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const _=this.expectToken(Et.NAME);switch(_.value){case"query":return ir.ku.QUERY;case"mutation":return ir.ku.MUTATION;case"subscription":return ir.ku.SUBSCRIPTION}throw this.unexpected(_)}parseVariableDefinitions(){return this.optionalMany(Et.PAREN_L,this.parseVariableDefinition,Et.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:nn.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Et.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Et.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const _=this._lexer.token;return this.expectToken(Et.DOLLAR),this.node(_,{kind:nn.h.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:nn.h.SELECTION_SET,selections:this.many(Et.BRACE_L,this.parseSelection,Et.BRACE_R)})}parseSelection(){return this.peek(Et.SPREAD)?this.parseFragment():this.parseField()}parseField(){const _=this._lexer.token,w=this.parseName();let V,X;return this.expectOptionalToken(Et.COLON)?(V=w,X=this.parseName()):X=w,this.node(_,{kind:nn.h.FIELD,alias:V,name:X,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Et.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(_){return this.optionalMany(Et.PAREN_L,_?this.parseConstArgument:this.parseArgument,Et.PAREN_R)}parseArgument(_=!1){const w=this._lexer.token,V=this.parseName();return this.expectToken(Et.COLON),this.node(w,{kind:nn.h.ARGUMENT,name:V,value:this.parseValueLiteral(_)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const _=this._lexer.token;this.expectToken(Et.SPREAD);const w=this.expectOptionalKeyword("on");return!w&&this.peek(Et.NAME)?this.node(_,{kind:nn.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(_,{kind:nn.h.INLINE_FRAGMENT,typeCondition:w?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var _;const w=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(_=this._options)||void 0===_?void 0:_.allowLegacyFragmentVariables)?this.node(w,{kind:nn.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(w,{kind:nn.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(_){const w=this._lexer.token;switch(w.kind){case Et.BRACKET_L:return this.parseList(_);case Et.BRACE_L:return this.parseObject(_);case Et.INT:return this._lexer.advance(),this.node(w,{kind:nn.h.INT,value:w.value});case Et.FLOAT:return this._lexer.advance(),this.node(w,{kind:nn.h.FLOAT,value:w.value});case Et.STRING:case Et.BLOCK_STRING:return this.parseStringLiteral();case Et.NAME:switch(this._lexer.advance(),w.value){case"true":return this.node(w,{kind:nn.h.BOOLEAN,value:!0});case"false":return this.node(w,{kind:nn.h.BOOLEAN,value:!1});case"null":return this.node(w,{kind:nn.h.NULL});default:return this.node(w,{kind:nn.h.ENUM,value:w.value})}case Et.DOLLAR:if(_){if(this.expectToken(Et.DOLLAR),this._lexer.token.kind===Et.NAME)throw jn(this._lexer.source,w.start,`Unexpected variable "$${this._lexer.token.value}" in constant value.`);throw this.unexpected(w)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const _=this._lexer.token;return this._lexer.advance(),this.node(_,{kind:nn.h.STRING,value:_.value,block:_.kind===Et.BLOCK_STRING})}parseList(_){return this.node(this._lexer.token,{kind:nn.h.LIST,values:this.any(Et.BRACKET_L,()=>this.parseValueLiteral(_),Et.BRACKET_R)})}parseObject(_){return this.node(this._lexer.token,{kind:nn.h.OBJECT,fields:this.any(Et.BRACE_L,()=>this.parseObjectField(_),Et.BRACE_R)})}parseObjectField(_){const w=this._lexer.token,V=this.parseName();return this.expectToken(Et.COLON),this.node(w,{kind:nn.h.OBJECT_FIELD,name:V,value:this.parseValueLiteral(_)})}parseDirectives(_){const w=[];for(;this.peek(Et.AT);)w.push(this.parseDirective(_));return w}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(_){const w=this._lexer.token;return this.expectToken(Et.AT),this.node(w,{kind:nn.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(_)})}parseTypeReference(){const _=this._lexer.token;let w;if(this.expectOptionalToken(Et.BRACKET_L)){const V=this.parseTypeReference();this.expectToken(Et.BRACKET_R),w=this.node(_,{kind:nn.h.LIST_TYPE,type:V})}else w=this.parseNamedType();return this.expectOptionalToken(Et.BANG)?this.node(_,{kind:nn.h.NON_NULL_TYPE,type:w}):w}parseNamedType(){return this.node(this._lexer.token,{kind:nn.h.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Et.STRING)||this.peek(Et.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const _=this._lexer.token,w=this.parseDescription();this.expectKeyword("schema");const V=this.parseConstDirectives(),X=this.many(Et.BRACE_L,this.parseOperationTypeDefinition,Et.BRACE_R);return this.node(_,{kind:nn.h.SCHEMA_DEFINITION,description:w,directives:V,operationTypes:X})}parseOperationTypeDefinition(){const _=this._lexer.token,w=this.parseOperationType();this.expectToken(Et.COLON);const V=this.parseNamedType();return this.node(_,{kind:nn.h.OPERATION_TYPE_DEFINITION,operation:w,type:V})}parseScalarTypeDefinition(){const _=this._lexer.token,w=this.parseDescription();this.expectKeyword("scalar");const V=this.parseName(),X=this.parseConstDirectives();return this.node(_,{kind:nn.h.SCALAR_TYPE_DEFINITION,description:w,name:V,directives:X})}parseObjectTypeDefinition(){const _=this._lexer.token,w=this.parseDescription();this.expectKeyword("type");const V=this.parseName(),X=this.parseImplementsInterfaces(),be=this.parseConstDirectives(),We=this.parseFieldsDefinition();return this.node(_,{kind:nn.h.OBJECT_TYPE_DEFINITION,description:w,name:V,interfaces:X,directives:be,fields:We})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Et.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Et.BRACE_L,this.parseFieldDefinition,Et.BRACE_R)}parseFieldDefinition(){const _=this._lexer.token,w=this.parseDescription(),V=this.parseName(),X=this.parseArgumentDefs();this.expectToken(Et.COLON);const be=this.parseTypeReference(),We=this.parseConstDirectives();return this.node(_,{kind:nn.h.FIELD_DEFINITION,description:w,name:V,arguments:X,type:be,directives:We})}parseArgumentDefs(){return this.optionalMany(Et.PAREN_L,this.parseInputValueDef,Et.PAREN_R)}parseInputValueDef(){const _=this._lexer.token,w=this.parseDescription(),V=this.parseName();this.expectToken(Et.COLON);const X=this.parseTypeReference();let be;this.expectOptionalToken(Et.EQUALS)&&(be=this.parseConstValueLiteral());const We=this.parseConstDirectives();return this.node(_,{kind:nn.h.INPUT_VALUE_DEFINITION,description:w,name:V,type:X,defaultValue:be,directives:We})}parseInterfaceTypeDefinition(){const _=this._lexer.token,w=this.parseDescription();this.expectKeyword("interface");const V=this.parseName(),X=this.parseImplementsInterfaces(),be=this.parseConstDirectives(),We=this.parseFieldsDefinition();return this.node(_,{kind:nn.h.INTERFACE_TYPE_DEFINITION,description:w,name:V,interfaces:X,directives:be,fields:We})}parseUnionTypeDefinition(){const _=this._lexer.token,w=this.parseDescription();this.expectKeyword("union");const V=this.parseName(),X=this.parseConstDirectives(),be=this.parseUnionMemberTypes();return this.node(_,{kind:nn.h.UNION_TYPE_DEFINITION,description:w,name:V,directives:X,types:be})}parseUnionMemberTypes(){return this.expectOptionalToken(Et.EQUALS)?this.delimitedMany(Et.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const _=this._lexer.token,w=this.parseDescription();this.expectKeyword("enum");const V=this.parseName(),X=this.parseConstDirectives(),be=this.parseEnumValuesDefinition();return this.node(_,{kind:nn.h.ENUM_TYPE_DEFINITION,description:w,name:V,directives:X,values:be})}parseEnumValuesDefinition(){return this.optionalMany(Et.BRACE_L,this.parseEnumValueDefinition,Et.BRACE_R)}parseEnumValueDefinition(){const _=this._lexer.token,w=this.parseDescription(),V=this.parseEnumValueName(),X=this.parseConstDirectives();return this.node(_,{kind:nn.h.ENUM_VALUE_DEFINITION,description:w,name:V,directives:X})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw jn(this._lexer.source,this._lexer.token.start,`${Yi(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const _=this._lexer.token,w=this.parseDescription();this.expectKeyword("input");const V=this.parseName(),X=this.parseConstDirectives(),be=this.parseInputFieldsDefinition();return this.node(_,{kind:nn.h.INPUT_OBJECT_TYPE_DEFINITION,description:w,name:V,directives:X,fields:be})}parseInputFieldsDefinition(){return this.optionalMany(Et.BRACE_L,this.parseInputValueDef,Et.BRACE_R)}parseTypeSystemExtension(){const _=this._lexer.lookahead();if(_.kind===Et.NAME)switch(_.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(_)}parseSchemaExtension(){const _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const w=this.parseConstDirectives(),V=this.optionalMany(Et.BRACE_L,this.parseOperationTypeDefinition,Et.BRACE_R);if(0===w.length&&0===V.length)throw this.unexpected();return this.node(_,{kind:nn.h.SCHEMA_EXTENSION,directives:w,operationTypes:V})}parseScalarTypeExtension(){const _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const w=this.parseName(),V=this.parseConstDirectives();if(0===V.length)throw this.unexpected();return this.node(_,{kind:nn.h.SCALAR_TYPE_EXTENSION,name:w,directives:V})}parseObjectTypeExtension(){const _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const w=this.parseName(),V=this.parseImplementsInterfaces(),X=this.parseConstDirectives(),be=this.parseFieldsDefinition();if(0===V.length&&0===X.length&&0===be.length)throw this.unexpected();return this.node(_,{kind:nn.h.OBJECT_TYPE_EXTENSION,name:w,interfaces:V,directives:X,fields:be})}parseInterfaceTypeExtension(){const _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const w=this.parseName(),V=this.parseImplementsInterfaces(),X=this.parseConstDirectives(),be=this.parseFieldsDefinition();if(0===V.length&&0===X.length&&0===be.length)throw this.unexpected();return this.node(_,{kind:nn.h.INTERFACE_TYPE_EXTENSION,name:w,interfaces:V,directives:X,fields:be})}parseUnionTypeExtension(){const _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const w=this.parseName(),V=this.parseConstDirectives(),X=this.parseUnionMemberTypes();if(0===V.length&&0===X.length)throw this.unexpected();return this.node(_,{kind:nn.h.UNION_TYPE_EXTENSION,name:w,directives:V,types:X})}parseEnumTypeExtension(){const _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const w=this.parseName(),V=this.parseConstDirectives(),X=this.parseEnumValuesDefinition();if(0===V.length&&0===X.length)throw this.unexpected();return this.node(_,{kind:nn.h.ENUM_TYPE_EXTENSION,name:w,directives:V,values:X})}parseInputObjectTypeExtension(){const _=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const w=this.parseName(),V=this.parseConstDirectives(),X=this.parseInputFieldsDefinition();if(0===V.length&&0===X.length)throw this.unexpected();return this.node(_,{kind:nn.h.INPUT_OBJECT_TYPE_EXTENSION,name:w,directives:V,fields:X})}parseDirectiveDefinition(){const _=this._lexer.token,w=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Et.AT);const V=this.parseName(),X=this.parseArgumentDefs(),be=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const We=this.parseDirectiveLocations();return this.node(_,{kind:nn.h.DIRECTIVE_DEFINITION,description:w,name:V,arguments:X,repeatable:be,locations:We})}parseDirectiveLocations(){return this.delimitedMany(Et.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const _=this._lexer.token,w=this.parseName();if(Object.prototype.hasOwnProperty.call(gr,w.value))return w;throw this.unexpected(_)}node(_,w){var V;return!0!==(null===(V=this._options)||void 0===V?void 0:V.noLocation)&&(w.loc=new ir.Ye(_,this._lexer.lastToken,this._lexer.source)),w}peek(_){return this._lexer.token.kind===_}expectToken(_){const w=this._lexer.token;if(w.kind===_)return this._lexer.advance(),w;throw jn(this._lexer.source,w.start,`Expected ${ur(_)}, found ${Yi(w)}.`)}expectOptionalToken(_){return this._lexer.token.kind===_&&(this._lexer.advance(),!0)}expectKeyword(_){const w=this._lexer.token;if(w.kind!==Et.NAME||w.value!==_)throw jn(this._lexer.source,w.start,`Expected "${_}", found ${Yi(w)}.`);this._lexer.advance()}expectOptionalKeyword(_){const w=this._lexer.token;return w.kind===Et.NAME&&w.value===_&&(this._lexer.advance(),!0)}unexpected(_){const w=null!=_?_:this._lexer.token;return jn(this._lexer.source,w.start,`Unexpected ${Yi(w)}.`)}any(_,w,V){this.expectToken(_);const X=[];for(;!this.expectOptionalToken(V);)X.push(w.call(this));return X}optionalMany(_,w,V){if(this.expectOptionalToken(_)){const X=[];do{X.push(w.call(this))}while(!this.expectOptionalToken(V));return X}return[]}many(_,w,V){this.expectToken(_);const X=[];do{X.push(w.call(this))}while(!this.expectOptionalToken(V));return X}delimitedMany(_,w){this.expectOptionalToken(_);const V=[];do{V.push(w.call(this))}while(this.expectOptionalToken(_));return V}}function Yi(C){const _=C.value;return ur(C.kind)+(null!=_?` "${_}"`:"")}function ur(C){return function(C){return C===Et.BANG||C===Et.DOLLAR||C===Et.AMP||C===Et.PAREN_L||C===Et.PAREN_R||C===Et.SPREAD||C===Et.COLON||C===Et.EQUALS||C===Et.AT||C===Et.BRACKET_L||C===Et.BRACKET_R||C===Et.BRACE_L||C===Et.PIPE||C===Et.BRACE_R}(C)?`"${C}"`:C}var io=new Map,Bo=new Map,Qs=!0,vi=!1;function _o(C){return C.replace(/[\s,]+/g," ").trim()}function ln(C){var _=_o(C);if(!io.has(_)){var w=function(C,_){return new Es(C,_).parseDocument()}(C,{experimentalFragmentVariables:vi,allowLegacyFragmentVariables:vi});if(!w||"Document"!==w.kind)throw new Error("Not a valid GraphQL document.");io.set(_,function(C){var _=new Set(C.definitions);_.forEach(function(V){V.loc&&delete V.loc,Object.keys(V).forEach(function(X){var be=V[X];be&&"object"==typeof be&&_.add(be)})});var w=C.loc;return w&&(delete w.startToken,delete w.endToken),C}(function(C){var _=new Set,w=[];return C.definitions.forEach(function(V){if("FragmentDefinition"===V.kind){var X=V.name.value,be=function(C){return _o(C.source.body.substring(C.start,C.end))}(V.loc),We=Bo.get(X);We&&!We.has(be)?Qs&&console.warn("Warning: fragment with name "+X+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):We||Bo.set(X,We=new Set),We.add(be),_.has(be)||(_.add(be),w.push(V))}else w.push(V)}),(0,fe.pi)((0,fe.pi)({},C),{definitions:w})}(w)))}return io.get(_)}function Tr(C){for(var _=[],w=1;w<arguments.length;w++)_[w-1]=arguments[w];"string"==typeof C&&(C=[C]);var V=C[0];return _.forEach(function(X,be){V+=X&&"Document"===X.kind?X.loc.source.body:X,V+=C[be+1]}),ln(V)}var Ur_gql=Tr,Ur_resetCaches=function(){io.clear(),Bo.clear()},Ur_disableFragmentWarnings=function(){Qs=!1},Ur_enableExperimentalFragmentVariables=function(){vi=!0},Ur_disableExperimentalFragmentVariables=function(){vi=!1};(function(C){C.gql=Ur_gql,C.resetCaches=Ur_resetCaches,C.disableFragmentWarnings=Ur_disableFragmentWarnings,C.enableExperimentalFragmentVariables=Ur_enableExperimentalFragmentVariables,C.disableExperimentalFragmentVariables=Ur_disableExperimentalFragmentVariables})(Tr||(Tr={})),Tr.default=Tr;var zl=F(9474),Va=F(6102);const cl=new class extends Va.v{}(class extends zl.o{constructor(_,w){super(_,w),this.scheduler=_,this.work=w}schedule(_,w=0){return w>0?super.schedule(_,w):(this.delay=w,this.state=_,this.scheduler.flush(this),this)}execute(_,w){return w>0||this.closed?super.execute(_,w):this._execute(_,w)}requestAsyncId(_,w,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(_,w,V):_.flush(this)}});var $l=F(7574),Gc=F(6554),ja=F(4402),Au=F(7393),Vo=F(3098);class sc{constructor(_,w=0){this.scheduler=_,this.delay=w}call(_,w){return w.subscribe(new jo(_,this.scheduler,this.delay))}}class jo extends Au.L{constructor(_,w,V=0){super(_),this.scheduler=w,this.delay=V}static dispatch(_){const{notification:w,destination:V}=_;w.observe(V),this.unsubscribe()}scheduleMessage(_){this.destination.add(this.scheduler.schedule(jo.dispatch,this.delay,new Ha(_,this.destination)))}_next(_){this.scheduleMessage(Vo.P.createNext(_))}_error(_){this.scheduleMessage(Vo.P.createError(_)),this.unsubscribe()}_complete(){this.scheduleMessage(Vo.P.createComplete()),this.unsubscribe()}}class Ha{constructor(_,w){this.notification=_,this.destination=w}}var za=F(8002),dl=F(9761);function xs(C){return new $l.y(_=>(C().then(w=>{_.closed||(_.next(w),_.complete())},w=>{_.closed||_.error(w)}),()=>_.unsubscribe()))}class ga{constructor(_){this.zone=_,this.now=Date.now?Date.now:()=>+new Date}schedule(_,w=0,V){return this.zone.run(()=>cl.schedule(_,w,V))}}function ma(C){return C[Gc.L]=()=>C,C}function Bi(C,_){return C.pipe(function(C,_=0){return function(V){return V.lift(new sc(C,_))}}(new ga(_)))}function Zi(C,_,w){return C&&void 0!==C[_]?C[_]:w}class Eo{constructor(_,w,V){this.obsQuery=_;const X=Bi((0,ja.D)(ma(this.obsQuery)),w);this.valueChanges=V.useInitialLoading?X.pipe(function(C){return function(w){return new $l.y(function(X){const be=C.getCurrentResult(),{loading:We,errors:ot,error:rt,partial:ut,data:Ot}=be,{partialRefetch:St,fetchPolicy:It}=C.options,$t=ot||rt;return St&&ut&&(!Ot||0===Object.keys(Ot).length)&&"cache-only"!==It&&!We&&!$t&&X.next(Jy(Mu({},be),{loading:!0,networkStatus:y.loading})),w.subscribe(X)})}}(this.obsQuery)):X,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(_){return this.obsQuery.refetch(_)}fetchMore(_){return this.obsQuery.fetchMore(_)}subscribeToMore(_){return this.obsQuery.subscribeToMore(_)}updateQuery(_){return this.obsQuery.updateQuery(_)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(_){return this.obsQuery.startPolling(_)}setOptions(_){return this.obsQuery.setOptions(_)}setVariables(_){return this.obsQuery.setVariables(_)}}const fl=new A.OlP("APOLLO_FLAGS"),hl=new A.OlP("APOLLO_OPTIONS"),Qc=new A.OlP("APOLLO_NAMED_OPTIONS");class cr{constructor(_,w,V){this.ngZone=_,this.flags=w,this._client=V,this.useInitialLoading=Zi(w,"useInitialLoading",!1),this.useMutationLoading=Zi(w,"useMutationLoading",!1)}watchQuery(_){return new Eo(this.ensureClient().watchQuery(Mu({},_)),this.ngZone,Mu({useInitialLoading:this.useInitialLoading},_))}query(_){return xs(()=>this.ensureClient().query(Mu({},_)))}mutate(_){var w;return function(C,_){return _?C.pipe((0,dl.O)({loading:!0}),(0,za.U)(w=>Jy(Mu({},w),{loading:!!w.loading}))):C.pipe((0,za.U)(w=>Jy(Mu({},w),{loading:!1})))}(xs(()=>this.ensureClient().mutate(Mu({},_))),null!=(w=_.useMutationLoading)?w:this.useMutationLoading)}subscribe(_,w){const V=(0,ja.D)(ma(this.ensureClient().subscribe(Mu({},_))));return w&&!0!==w.useZone?V:Bi(V,this.ngZone)}getClient(){return this.client}setClient(_){this.client=_}get client(){return this._client}set client(_){if(this._client)throw new Error("Client has been already defined");this._client=_}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let Ho=(()=>{class C extends cr{constructor(w,V,X,be){if(super(w,be),this._ngZone=w,this.map=new Map,V&&this.createDefault(V),X&&"object"==typeof X)for(let We in X)X.hasOwnProperty(We)&&this.createNamed(We,X[We])}create(w,V){ws(V)?this.createDefault(w):this.createNamed(V,w)}default(){return this}use(w){return ws(w)?this.default():this.map.get(w)}createDefault(w){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new mo(w))}createNamed(w,V){if(this.map.has(w))throw new Error(`Client ${w} has been already created`);this.map.set(w,new cr(this._ngZone,this.flags,new mo(V)))}removeClient(w){ws(w)?this._client=void 0:this.map.delete(w)}}return C.\u0275fac=function(w){return new(w||C)(A.LFG(A.R0b),A.LFG(hl,8),A.LFG(Qc,8),A.LFG(fl,8))},C.\u0275prov=A.Yz7({token:C,factory:C.\u0275fac}),C})();function ws(C){return!C||"default"===C}const yi=[Ho];let Ii=(()=>{class C{}return C.\u0275fac=function(w){return new(w||C)},C.\u0275mod=A.oAB({type:C}),C.\u0275inj=A.cJS({providers:yi}),C})();const Q=function(C,..._){return Tr(C,..._)}},4047:(ct,Le,F)=>{"use strict";function A(y,$){if(!Boolean(y))throw new Error($)}F.d(Le,{a:()=>A})},744:(ct,Le,F)=>{"use strict";function $(W){return fe(W,[])}function fe(W,ne){switch(typeof W){case"string":return JSON.stringify(W);case"function":return W.name?`[function ${W.name}]`:"[function]";case"object":return function(W,ne){if(null===W)return"null";if(ne.includes(W))return"[Circular]";const G=[...ne,W];if(function(W){return"function"==typeof W.toJSON}(W)){const le=W.toJSON();if(le!==W)return"string"==typeof le?le:fe(le,G)}else if(Array.isArray(W))return function(W,ne){if(0===W.length)return"[]";if(ne.length>2)return"[Array]";const G=Math.min(10,W.length),le=W.length-G,Ce=[];for(let ae=0;ae<G;++ae)Ce.push(fe(W[ae],ne));return 1===le?Ce.push("... 1 more item"):le>1&&Ce.push(`... ${le} more items`),"["+Ce.join(", ")+"]"}(W,G);return function(W,ne){const G=Object.entries(W);return 0===G.length?"{}":ne.length>2?"["+function(W){const ne=Object.prototype.toString.call(W).replace(/^\[object /,"").replace(/]$/,"");if("Object"===ne&&"function"==typeof W.constructor){const G=W.constructor.name;if("string"==typeof G&&""!==G)return G}return ne}(W)+"]":"{ "+G.map(([Ce,ae])=>Ce+": "+fe(ae,ne)).join(", ")+" }"}(W,G)}(W,ne);default:return String(W)}}F.d(Le,{X:()=>$})},6298:(ct,Le,F)=>{"use strict";F.d(Le,{Ye:()=>A,WU:()=>y,h8:()=>$,UG:()=>ee,ku:()=>ce});class A{constructor(oe,j,W){this.start=oe.start,this.end=j.end,this.startToken=oe,this.endToken=j,this.source=W}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class y{constructor(oe,j,W,ne,G,le){this.kind=oe,this.start=j,this.end=W,this.line=ne,this.column=G,this.value=le,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const $={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},fe=new Set(Object.keys($));function ee(ue){const oe=null==ue?void 0:ue.kind;return"string"==typeof oe&&fe.has(oe)}let ce;var ue;(ue=ce||(ce={})).QUERY="query",ue.MUTATION="mutation",ue.SUBSCRIPTION="subscription"},2032:(ct,Le,F)=>{"use strict";F.d(Le,{wv:()=>y,LZ:()=>ee});var A=F(6009);function y(ce){var ue;let oe=Number.MAX_SAFE_INTEGER,j=null,W=-1;for(let G=0;G<ce.length;++G){var ne;const le=ce[G],Ce=$(le);Ce!==le.length&&(j=null!==(ne=j)&&void 0!==ne?ne:G,W=G,0!==G&&Ce<oe&&(oe=Ce))}return ce.map((G,le)=>0===le?G:G.slice(oe)).slice(null!==(ue=j)&&void 0!==ue?ue:0,W+1)}function $(ce){let ue=0;for(;ue<ce.length&&(0,A.FD)(ce.charCodeAt(ue));)++ue;return ue}function ee(ce,ue){const oe=ce.replace(/"""/g,'\\"""'),j=oe.split(/\r\n|[\n\r]/g),W=1===j.length,ne=j.length>1&&j.slice(1).every(Ae=>0===Ae.length||(0,A.FD)(Ae.charCodeAt(0))),G=oe.endsWith('\\"""'),le=ce.endsWith('"')&&!G,Ce=ce.endsWith("\\"),ae=le||Ce,_e=!(null!=ue&&ue.minimize)&&(!W||ce.length>70||ae||ne||G);let Pe="";const De=W&&(0,A.FD)(ce.charCodeAt(0));return(_e&&!De||ne)&&(Pe+="\n"),Pe+=oe,(_e||ae)&&(Pe+="\n"),'"""'+Pe+'"""'}},6009:(ct,Le,F)=>{"use strict";function A(ce){return 9===ce||32===ce}function y(ce){return ce>=48&&ce<=57}function $(ce){return ce>=97&&ce<=122||ce>=65&&ce<=90}function fe(ce){return $(ce)||95===ce}function ee(ce){return $(ce)||y(ce)||95===ce}F.d(Le,{FD:()=>A,X1:()=>y,LQ:()=>fe,HQ:()=>ee})},2289:(ct,Le,F)=>{"use strict";let A;var y;F.d(Le,{h:()=>A}),(y=A||(A={})).NAME="Name",y.DOCUMENT="Document",y.OPERATION_DEFINITION="OperationDefinition",y.VARIABLE_DEFINITION="VariableDefinition",y.SELECTION_SET="SelectionSet",y.FIELD="Field",y.ARGUMENT="Argument",y.FRAGMENT_SPREAD="FragmentSpread",y.INLINE_FRAGMENT="InlineFragment",y.FRAGMENT_DEFINITION="FragmentDefinition",y.VARIABLE="Variable",y.INT="IntValue",y.FLOAT="FloatValue",y.STRING="StringValue",y.BOOLEAN="BooleanValue",y.NULL="NullValue",y.ENUM="EnumValue",y.LIST="ListValue",y.OBJECT="ObjectValue",y.OBJECT_FIELD="ObjectField",y.DIRECTIVE="Directive",y.NAMED_TYPE="NamedType",y.LIST_TYPE="ListType",y.NON_NULL_TYPE="NonNullType",y.SCHEMA_DEFINITION="SchemaDefinition",y.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",y.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",y.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",y.FIELD_DEFINITION="FieldDefinition",y.INPUT_VALUE_DEFINITION="InputValueDefinition",y.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",y.UNION_TYPE_DEFINITION="UnionTypeDefinition",y.ENUM_TYPE_DEFINITION="EnumTypeDefinition",y.ENUM_VALUE_DEFINITION="EnumValueDefinition",y.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",y.DIRECTIVE_DEFINITION="DirectiveDefinition",y.SCHEMA_EXTENSION="SchemaExtension",y.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",y.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",y.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",y.UNION_TYPE_EXTENSION="UnionTypeExtension",y.ENUM_TYPE_EXTENSION="EnumTypeExtension",y.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"},6339:(ct,Le,F)=>{"use strict";F.d(Le,{S:()=>ue});var A=F(2032);const $=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function fe(ae){return ee[ae.charCodeAt(0)]}const ee=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var ce=F(1335);function ue(ae){return(0,ce.Vn)(ae,j)}const j={Name:{leave:ae=>ae.value},Variable:{leave:ae=>"$"+ae.name},Document:{leave:ae=>W(ae.definitions,"\n\n")},OperationDefinition:{leave(ae){const _e=G("(",W(ae.variableDefinitions,", "),")"),Pe=W([ae.operation,W([ae.name,_e]),W(ae.directives," ")]," ");return("query"===Pe?"":Pe+" ")+ae.selectionSet}},VariableDefinition:{leave:({variable:ae,type:_e,defaultValue:Pe,directives:De})=>ae+": "+_e+G(" = ",Pe)+G(" ",W(De," "))},SelectionSet:{leave:({selections:ae})=>ne(ae)},Field:{leave({alias:ae,name:_e,arguments:Pe,directives:De,selectionSet:Ae}){const ge=G("",ae,": ")+_e;let je=ge+G("(",W(Pe,", "),")");return je.length>80&&(je=ge+G("(\n",le(W(Pe,"\n")),"\n)")),W([je,W(De," "),Ae]," ")}},Argument:{leave:({name:ae,value:_e})=>ae+": "+_e},FragmentSpread:{leave:({name:ae,directives:_e})=>"..."+ae+G(" ",W(_e," "))},InlineFragment:{leave:({typeCondition:ae,directives:_e,selectionSet:Pe})=>W(["...",G("on ",ae),W(_e," "),Pe]," ")},FragmentDefinition:{leave:({name:ae,typeCondition:_e,variableDefinitions:Pe,directives:De,selectionSet:Ae})=>`fragment ${ae}${G("(",W(Pe,", "),")")} on ${_e} ${G("",W(De," ")," ")}`+Ae},IntValue:{leave:({value:ae})=>ae},FloatValue:{leave:({value:ae})=>ae},StringValue:{leave:({value:ae,block:_e})=>_e?(0,A.LZ)(ae):function(ae){return`"${ae.replace($,fe)}"`}(ae)},BooleanValue:{leave:({value:ae})=>ae?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:ae})=>ae},ListValue:{leave:({values:ae})=>"["+W(ae,", ")+"]"},ObjectValue:{leave:({fields:ae})=>"{"+W(ae,", ")+"}"},ObjectField:{leave:({name:ae,value:_e})=>ae+": "+_e},Directive:{leave:({name:ae,arguments:_e})=>"@"+ae+G("(",W(_e,", "),")")},NamedType:{leave:({name:ae})=>ae},ListType:{leave:({type:ae})=>"["+ae+"]"},NonNullType:{leave:({type:ae})=>ae+"!"},SchemaDefinition:{leave:({description:ae,directives:_e,operationTypes:Pe})=>G("",ae,"\n")+W(["schema",W(_e," "),ne(Pe)]," ")},OperationTypeDefinition:{leave:({operation:ae,type:_e})=>ae+": "+_e},ScalarTypeDefinition:{leave:({description:ae,name:_e,directives:Pe})=>G("",ae,"\n")+W(["scalar",_e,W(Pe," ")]," ")},ObjectTypeDefinition:{leave:({description:ae,name:_e,interfaces:Pe,directives:De,fields:Ae})=>G("",ae,"\n")+W(["type",_e,G("implements ",W(Pe," & ")),W(De," "),ne(Ae)]," ")},FieldDefinition:{leave:({description:ae,name:_e,arguments:Pe,type:De,directives:Ae})=>G("",ae,"\n")+_e+(Ce(Pe)?G("(\n",le(W(Pe,"\n")),"\n)"):G("(",W(Pe,", "),")"))+": "+De+G(" ",W(Ae," "))},InputValueDefinition:{leave:({description:ae,name:_e,type:Pe,defaultValue:De,directives:Ae})=>G("",ae,"\n")+W([_e+": "+Pe,G("= ",De),W(Ae," ")]," ")},InterfaceTypeDefinition:{leave:({description:ae,name:_e,interfaces:Pe,directives:De,fields:Ae})=>G("",ae,"\n")+W(["interface",_e,G("implements ",W(Pe," & ")),W(De," "),ne(Ae)]," ")},UnionTypeDefinition:{leave:({description:ae,name:_e,directives:Pe,types:De})=>G("",ae,"\n")+W(["union",_e,W(Pe," "),G("= ",W(De," | "))]," ")},EnumTypeDefinition:{leave:({description:ae,name:_e,directives:Pe,values:De})=>G("",ae,"\n")+W(["enum",_e,W(Pe," "),ne(De)]," ")},EnumValueDefinition:{leave:({description:ae,name:_e,directives:Pe})=>G("",ae,"\n")+W([_e,W(Pe," ")]," ")},InputObjectTypeDefinition:{leave:({description:ae,name:_e,directives:Pe,fields:De})=>G("",ae,"\n")+W(["input",_e,W(Pe," "),ne(De)]," ")},DirectiveDefinition:{leave:({description:ae,name:_e,arguments:Pe,repeatable:De,locations:Ae})=>G("",ae,"\n")+"directive @"+_e+(Ce(Pe)?G("(\n",le(W(Pe,"\n")),"\n)"):G("(",W(Pe,", "),")"))+(De?" repeatable":"")+" on "+W(Ae," | ")},SchemaExtension:{leave:({directives:ae,operationTypes:_e})=>W(["extend schema",W(ae," "),ne(_e)]," ")},ScalarTypeExtension:{leave:({name:ae,directives:_e})=>W(["extend scalar",ae,W(_e," ")]," ")},ObjectTypeExtension:{leave:({name:ae,interfaces:_e,directives:Pe,fields:De})=>W(["extend type",ae,G("implements ",W(_e," & ")),W(Pe," "),ne(De)]," ")},InterfaceTypeExtension:{leave:({name:ae,interfaces:_e,directives:Pe,fields:De})=>W(["extend interface",ae,G("implements ",W(_e," & ")),W(Pe," "),ne(De)]," ")},UnionTypeExtension:{leave:({name:ae,directives:_e,types:Pe})=>W(["extend union",ae,W(_e," "),G("= ",W(Pe," | "))]," ")},EnumTypeExtension:{leave:({name:ae,directives:_e,values:Pe})=>W(["extend enum",ae,W(_e," "),ne(Pe)]," ")},InputObjectTypeExtension:{leave:({name:ae,directives:_e,fields:Pe})=>W(["extend input",ae,W(_e," "),ne(Pe)]," ")}};function W(ae,_e=""){var Pe;return null!==(Pe=null==ae?void 0:ae.filter(De=>De).join(_e))&&void 0!==Pe?Pe:""}function ne(ae){return G("{\n",le(W(ae,"\n")),"\n}")}function G(ae,_e,Pe=""){return null!=_e&&""!==_e?ae+_e+Pe:""}function le(ae){return G("  ",ae.replace(/\n/g,"\n  "))}function Ce(ae){var _e;return null!==(_e=null==ae?void 0:ae.some(Pe=>Pe.includes("\n")))&&void 0!==_e&&_e}},1462:(ct,Le,F)=>{"use strict";F.d(Le,{H:()=>fe,T:()=>ee});var A=F(4047),y=F(744);class fe{constructor(ue,oe="GraphQL request",j={line:1,column:1}){"string"==typeof ue||(0,A.a)(!1,`Body must be a string. Received: ${(0,y.X)(ue)}.`),this.body=ue,this.name=oe,this.locationOffset=j,this.locationOffset.line>0||(0,A.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,A.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function ee(ce){return ce instanceof fe}},1335:(ct,Le,F)=>{"use strict";F.d(Le,{$_:()=>ee,Vn:()=>ce});var A=F(4047),y=F(744),$=F(6298),fe=F(2289);const ee=Object.freeze({});function ce(W,ne,G=$.h8){const le=new Map;for(const B of Object.values(fe.h))le.set(B,oe(ne,B));let Ce,ge,je,ae=Array.isArray(W),_e=[W],Pe=-1,De=[],Ae=W;const Ke=[],Dt=[];do{Pe++;const B=Pe===_e.length,re=B&&0!==De.length;if(B){if(ge=0===Dt.length?void 0:Ke[Ke.length-1],Ae=je,je=Dt.pop(),re)if(ae){Ae=Ae.slice();let Ee=0;for(const[Fe,Re]of De){const Je=Fe-Ee;null===Re?(Ae.splice(Je,1),Ee++):Ae[Je]=Re}}else{Ae=Object.defineProperties({},Object.getOwnPropertyDescriptors(Ae));for(const[Ee,Fe]of De)Ae[Ee]=Fe}Pe=Ce.index,_e=Ce.keys,De=Ce.edits,ae=Ce.inArray,Ce=Ce.prev}else if(je){if(ge=ae?Pe:_e[Pe],Ae=je[ge],null==Ae)continue;Ke.push(ge)}let pe;if(!Array.isArray(Ae)){var dt,Ye;(0,$.UG)(Ae)||(0,A.a)(!1,`Invalid AST Node: ${(0,y.X)(Ae)}.`);const Ee=B?null===(dt=le.get(Ae.kind))||void 0===dt?void 0:dt.leave:null===(Ye=le.get(Ae.kind))||void 0===Ye?void 0:Ye.enter;if(pe=null==Ee?void 0:Ee.call(ne,Ae,ge,je,Ke,Dt),pe===ee)break;if(!1===pe){if(!B){Ke.pop();continue}}else if(void 0!==pe&&(De.push([ge,pe]),!B)){if(!(0,$.UG)(pe)){Ke.pop();continue}Ae=pe}}var Y;void 0===pe&&re&&De.push([ge,Ae]),B?Ke.pop():(Ce={inArray:ae,index:Pe,keys:_e,edits:De,prev:Ce},ae=Array.isArray(Ae),_e=ae?Ae:null!==(Y=G[Ae.kind])&&void 0!==Y?Y:[],Pe=-1,De=[],je&&Dt.push(je),je=Ae)}while(void 0!==Ce);return 0!==De.length?De[De.length-1][1]:W}function oe(W,ne){const G=W[ne];return"object"==typeof G?G:"function"==typeof G?{enter:G,leave:void 0}:{enter:W.enter,leave:W.leave}}},776:(ct,Le,F)=>{"use strict";F.d(Le,{_w:()=>G,Ns:()=>le});var A=F(8720),y=F(4762),$=F(5917),fe=F(9193),ee=F(7709),ce=F(3637),ue=F(7574),oe=F(9426),j=F(3190);class W{constructor(ae){this.changes=ae}static of(ae){return new W(ae)}notEmpty(ae){if(this.changes[ae]){const _e=this.changes[ae].currentValue;if(null!=_e)return(0,$.of)(_e)}return fe.E}has(ae){return this.changes[ae]?(0,$.of)(this.changes[ae].currentValue):fe.E}notFirst(ae){return this.changes[ae]&&!this.changes[ae].isFirstChange()?(0,$.of)(this.changes[ae].currentValue):fe.E}notFirstAndEmpty(ae){if(this.changes[ae]&&!this.changes[ae].isFirstChange()){const _e=this.changes[ae].currentValue;if(null!=_e)return(0,$.of)(_e)}return fe.E}}const ne=new A.OlP("NGX_ECHARTS_CONFIG");let G=(()=>{class Ce{constructor(_e,Pe,De){this.el=Pe,this.ngZone=De,this.autoResize=!0,this.loadingType="default",this.chartInit=new A.vpe,this.optionsError=new A.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.resize$=new ee.xQ,this.echarts=_e.echarts}ngOnChanges(_e){const Pe=W.of(_e);Pe.notFirstAndEmpty("options").subscribe(De=>this.onOptionsChange(De)),Pe.notFirstAndEmpty("merge").subscribe(De=>this.setOption(De)),Pe.has("loading").subscribe(De=>this.toggleLoading(!!De)),Pe.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe((0,oe.p)(100,ce.z,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement))}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(_e){this.chart&&(_e?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(_e,Pe){if(this.chart)try{this.chart.setOption(_e,Pe)}catch(De){console.error(De),this.optionsError.emit(De)}}refreshChart(){return(0,y.mG)(this,void 0,void 0,function*(){this.dispose(),yield this.initChart()})}createChart(){const _e=this.el.nativeElement;if(window&&window.getComputedStyle){const Pe=window.getComputedStyle(_e,null).getPropertyValue("height");(!Pe||"0px"===Pe)&&(!_e.style.height||"0px"===_e.style.height)&&(_e.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:De})=>De(_e,this.theme,this.initOpts)))}initChart(){return(0,y.mG)(this,void 0,void 0,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(_e){return(0,y.mG)(this,void 0,void 0,function*(){!_e||(this.chart||(this.chart=yield this.createChart(),this.chartInit.emit(this.chart)),this.setOption(this.options,!0))})}createLazyEvent(_e){return this.chartInit.pipe((0,j.w)(Pe=>new ue.y(De=>(Pe.on(_e,Ae=>this.ngZone.run(()=>De.next(Ae))),()=>{this.chart&&(this.chart.isDisposed()||Pe.off(_e))}))))}}return Ce.\u0275fac=function(_e){return new(_e||Ce)(A.Y36(ne),A.Y36(A.SBq),A.Y36(A.R0b))},Ce.\u0275dir=A.lG2({type:Ce,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[A.TTD]}),Ce})(),le=(()=>{class Ce{static forRoot(_e){return{ngModule:Ce,providers:[{provide:ne,useValue:_e}]}}static forChild(){return{ngModule:Ce}}}return Ce.\u0275fac=function(_e){return new(_e||Ce)},Ce.\u0275mod=A.oAB({type:Ce}),Ce.\u0275inj=A.cJS({imports:[[]]}),Ce})()},8239:(ct,Le,F)=>{"use strict";function A($,fe,ee,ce,ue,oe,j){try{var W=$[oe](j),ne=W.value}catch(G){return void ee(G)}W.done?fe(ne):Promise.resolve(ne).then(ce,ue)}function y($){return function(){var fe=this,ee=arguments;return new Promise(function(ce,ue){var oe=$.apply(fe,ee);function j(ne){A(oe,ce,ue,j,W,"next",ne)}function W(ne){A(oe,ce,ue,j,W,"throw",ne)}j(void 0)})}}F.d(Le,{Z:()=>y})}},ct=>{ct(ct.s=3357)}]);